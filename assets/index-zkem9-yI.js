const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Du8R_OjM.js","assets/is-plan-event-enabled-DS1Agtkw.js","assets/index-DXY95D4h.js"])))=>i.map(i=>d[i]);
var aJ=Object.defineProperty;var oJ=(t,e,r)=>e in t?aJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var it=(t,e,r)=>oJ(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uJ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var cq={exports:{}},cr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=Symbol.for("react.transitional.element"),sJ=Symbol.for("react.portal"),lJ=Symbol.for("react.fragment"),cJ=Symbol.for("react.strict_mode"),fJ=Symbol.for("react.profiler"),hJ=Symbol.for("react.consumer"),dJ=Symbol.for("react.context"),vJ=Symbol.for("react.forward_ref"),pJ=Symbol.for("react.suspense"),gJ=Symbol.for("react.memo"),fq=Symbol.for("react.lazy"),yJ=Symbol.for("react.activity"),j3=Symbol.iterator;function mJ(t){return t===null||typeof t!="object"?null:(t=j3&&t[j3]||t["@@iterator"],typeof t=="function"?t:null)}var hq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dq=Object.assign,vq={};function cy(t,e,r){this.props=t,this.context=e,this.refs=vq,this.updater=r||hq}cy.prototype.isReactComponent={};cy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pq(){}pq.prototype=cy.prototype;function ON(t,e,r){this.props=t,this.context=e,this.refs=vq,this.updater=r||hq}var TN=ON.prototype=new pq;TN.constructor=ON;dq(TN,cy.prototype);TN.isPureReactComponent=!0;var B3=Array.isArray;function lM(){}var Ln={H:null,A:null,T:null,S:null},gq=Object.prototype.hasOwnProperty;function xN(t,e,r){var n=r.ref;return{$$typeof:SN,type:t,key:e,ref:n!==void 0?n:null,props:r}}function bJ(t,e){return xN(t.type,e,t.props)}function CN(t){return typeof t=="object"&&t!==null&&t.$$typeof===SN}function _J(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var U3=/\/+/g;function wx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_J(""+t.key):e.toString(36)}function wJ(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(lM,lM):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Qp(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case SN:case sJ:o=!0;break;case fq:return o=t._init,Qp(o(t._payload),e,r,n,i)}}if(o)return i=i(t),o=n===""?"."+wx(t,0):n,B3(i)?(r="",o!=null&&(r=o.replace(U3,"$&/")+"/"),Qp(i,e,r,"",function(l){return l})):i!=null&&(CN(i)&&(i=bJ(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(U3,"$&/")+"/")+o)),e.push(i)),1;o=0;var u=n===""?".":n+":";if(B3(t))for(var s=0;s<t.length;s++)n=t[s],a=u+wx(n,s),o+=Qp(n,e,r,a,i);else if(s=mJ(t),typeof s=="function")for(t=s.call(t),s=0;!(n=t.next()).done;)n=n.value,a=u+wx(n,s++),o+=Qp(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return Qp(wJ(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function aw(t,e,r){if(t==null)return t;var n=[],i=0;return Qp(t,n,"","",function(a){return e.call(r,a,i++)}),n}function EJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var F3=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},SJ={map:aw,forEach:function(t,e,r){aw(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return aw(t,function(){e++}),e},toArray:function(t){return aw(t,function(e){return e})||[]},only:function(t){if(!CN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};cr.Activity=yJ;cr.Children=SJ;cr.Component=cy;cr.Fragment=lJ;cr.Profiler=fJ;cr.PureComponent=ON;cr.StrictMode=cJ;cr.Suspense=pJ;cr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ln;cr.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ln.H.useMemoCache(t)}};cr.cache=function(t){return function(){return t.apply(null,arguments)}};cr.cacheSignal=function(){return null};cr.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=dq({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!gq.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];n.children=o}return xN(t.type,i,n)};cr.createContext=function(t){return t={$$typeof:dJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:hJ,_context:t},t};cr.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)gq.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var u=Array(o),s=0;s<o;s++)u[s]=arguments[s+2];i.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return xN(t,a,i)};cr.createRef=function(){return{current:null}};cr.forwardRef=function(t){return{$$typeof:vJ,render:t}};cr.isValidElement=CN;cr.lazy=function(t){return{$$typeof:fq,_payload:{_status:-1,_result:t},_init:EJ}};cr.memo=function(t,e){return{$$typeof:gJ,type:t,compare:e===void 0?null:e}};cr.startTransition=function(t){var e=Ln.T,r={};Ln.T=r;try{var n=t(),i=Ln.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(lM,F3)}catch(a){F3(a)}finally{e!==null&&r.types!==null&&(e.types=r.types),Ln.T=e}};cr.unstable_useCacheRefresh=function(){return Ln.H.useCacheRefresh()};cr.use=function(t){return Ln.H.use(t)};cr.useActionState=function(t,e,r){return Ln.H.useActionState(t,e,r)};cr.useCallback=function(t,e){return Ln.H.useCallback(t,e)};cr.useContext=function(t){return Ln.H.useContext(t)};cr.useDebugValue=function(){};cr.useDeferredValue=function(t,e){return Ln.H.useDeferredValue(t,e)};cr.useEffect=function(t,e){return Ln.H.useEffect(t,e)};cr.useEffectEvent=function(t){return Ln.H.useEffectEvent(t)};cr.useId=function(){return Ln.H.useId()};cr.useImperativeHandle=function(t,e,r){return Ln.H.useImperativeHandle(t,e,r)};cr.useInsertionEffect=function(t,e){return Ln.H.useInsertionEffect(t,e)};cr.useLayoutEffect=function(t,e){return Ln.H.useLayoutEffect(t,e)};cr.useMemo=function(t,e){return Ln.H.useMemo(t,e)};cr.useOptimistic=function(t,e){return Ln.H.useOptimistic(t,e)};cr.useReducer=function(t,e,r){return Ln.H.useReducer(t,e,r)};cr.useRef=function(t){return Ln.H.useRef(t)};cr.useState=function(t){return Ln.H.useState(t)};cr.useSyncExternalStore=function(t,e,r){return Ln.H.useSyncExternalStore(t,e,r)};cr.useTransition=function(){return Ln.H.useTransition()};cr.version="19.2.0";cq.exports=cr;var vr=cq.exports;const tl=ly(vr);var yq={exports:{}},rO={},mq={exports:{}},bq={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var z=F.length;F.push(B);e:for(;0<z;){var H=z-1>>>1,Y=F[H];if(0<i(Y,B))F[H]=B,F[z]=Y,z=H;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var B=F[0],z=F.pop();if(z!==B){F[0]=z;e:for(var H=0,Y=F.length,W=Y>>>1;H<W;){var Z=2*(H+1)-1,le=F[Z],ce=Z+1,ue=F[ce];if(0>i(le,z))ce<Y&&0>i(ue,le)?(F[H]=ue,F[ce]=z,H=ce):(F[H]=le,F[Z]=z,H=Z);else if(ce<Y&&0>i(ue,z))F[H]=ue,F[ce]=z,H=ce;else break e}}return B}function i(F,B){var z=F.sortIndex-B.sortIndex;return z!==0?z:F.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var s=[],l=[],c=1,f=null,h=3,d=!1,v=!1,y=!1,b=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function _(F){for(var B=r(l);B!==null;){if(B.callback===null)n(l);else if(B.startTime<=F)n(l),B.sortIndex=B.expirationTime,e(s,B);else break;B=r(l)}}function E(F){if(y=!1,_(F),!v)if(r(s)!==null)v=!0,T||(T=!0,M());else{var B=r(l);B!==null&&U(E,B.startTime-F)}}var T=!1,w=-1,S=5,C=-1;function R(){return b?!0:!(t.unstable_now()-C<S)}function D(){if(b=!1,T){var F=t.unstable_now();C=F;var B=!0;try{e:{v=!1,y&&(y=!1,m(w),w=-1),d=!0;var z=h;try{t:{for(_(F),f=r(s);f!==null&&!(f.expirationTime>F&&R());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var Y=H(f.expirationTime<=F);if(F=t.unstable_now(),typeof Y=="function"){f.callback=Y,_(F),B=!0;break t}f===r(s)&&n(s),_(F)}else n(s);f=r(s)}if(f!==null)B=!0;else{var W=r(l);W!==null&&U(E,W.startTime-F),B=!1}}break e}finally{f=null,h=z,d=!1}B=void 0}}finally{B?M():T=!1}}}var M;if(typeof g=="function")M=function(){g(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,k=I.port2;I.port1.onmessage=D,M=function(){k.postMessage(null)}}else M=function(){p(D,0)};function U(F,B){w=p(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return F()}finally{h=z}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=h;h=F;try{return B()}finally{h=z}},t.unstable_scheduleCallback=function(F,B,z){var H=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,F={id:c++,callback:B,priorityLevel:F,startTime:z,expirationTime:Y,sortIndex:-1},z>H?(F.sortIndex=z,e(l,F),r(s)===null&&F===r(l)&&(y?(m(w),w=-1):y=!0,U(E,z-H))):(F.sortIndex=Y,e(s,F),v||d||(v=!0,T||(T=!0,M()))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var B=h;return function(){var z=h;h=B;try{return F.apply(this,arguments)}finally{h=z}}}})(bq);mq.exports=bq;var OJ=mq.exports,_q={exports:{}},to={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TJ=vr;function wq(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function of(){}var Za={d:{f:of,r:function(){throw Error(wq(522))},D:of,C:of,L:of,m:of,X:of,S:of,M:of},p:0,findDOMNode:null},xJ=Symbol.for("react.portal");function CJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xJ,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var C0=TJ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function nO(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}to.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Za;to.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(wq(299));return CJ(t,e,null,r)};to.flushSync=function(t){var e=C0.T,r=Za.p;try{if(C0.T=null,Za.p=2,t)return t()}finally{C0.T=e,Za.p=r,Za.d.f()}};to.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Za.d.C(t,e))};to.prefetchDNS=function(t){typeof t=="string"&&Za.d.D(t)};to.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=nO(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?Za.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&Za.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};to.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=nO(e.as,e.crossOrigin);Za.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Za.d.M(t)};to.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=nO(r,e.crossOrigin);Za.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};to.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=nO(e.as,e.crossOrigin);Za.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Za.d.m(t)};to.requestFormReset=function(t){Za.d.r(t)};to.unstable_batchedUpdates=function(t,e){return t(e)};to.useFormState=function(t,e,r){return C0.H.useFormState(t,e,r)};to.useFormStatus=function(){return C0.H.useHostTransitionStatus()};to.version="19.2.0";function Eq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eq)}catch(t){console.error(t)}}Eq(),_q.exports=to;var AJ=_q.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bi=OJ,Sq=vr,RJ=AJ;function ze(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Oq(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a_(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Tq(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xq(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z3(t){if(a_(t)!==t)throw Error(ze(188))}function PJ(t){var e=t.alternate;if(!e){if(e=a_(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return z3(i),t;if(a===n)return z3(i),e;a=a.sibling}throw Error(ze(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=a;break}if(u===n){o=!0,n=i,r=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===r){o=!0,r=a,n=i;break}if(u===n){o=!0,n=a,r=i;break}u=u.sibling}if(!o)throw Error(ze(189))}}if(r.alternate!==n)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?t:e}function Cq(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Cq(t),e!==null)return e;t=t.sibling}return null}var Bn=Object.assign,DJ=Symbol.for("react.element"),ow=Symbol.for("react.transitional.element"),i0=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),Aq=Symbol.for("react.strict_mode"),cM=Symbol.for("react.profiler"),Rq=Symbol.for("react.consumer"),Zl=Symbol.for("react.context"),AN=Symbol.for("react.forward_ref"),fM=Symbol.for("react.suspense"),hM=Symbol.for("react.suspense_list"),RN=Symbol.for("react.memo"),Ef=Symbol.for("react.lazy"),dM=Symbol.for("react.activity"),MJ=Symbol.for("react.memo_cache_sentinel"),q3=Symbol.iterator;function Im(t){return t===null||typeof t!="object"?null:(t=q3&&t[q3]||t["@@iterator"],typeof t=="function"?t:null)}var IJ=Symbol.for("react.client.reference");function vM(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===IJ?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ig:return"Fragment";case cM:return"Profiler";case Aq:return"StrictMode";case fM:return"Suspense";case hM:return"SuspenseList";case dM:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case i0:return"Portal";case Zl:return t.displayName||"Context";case Rq:return(t._context.displayName||"Context")+".Consumer";case AN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case RN:return e=t.displayName||null,e!==null?e:vM(t.type)||"Memo";case Ef:e=t._payload,t=t._init;try{return vM(t(e))}catch{}}return null}var a0=Array.isArray,Zt=Sq.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nn=RJ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fd={pending:!1,data:null,method:null,action:null},pM=[],ag=-1;function dl(t){return{current:t}}function Ji(t){0>ag||(t.current=pM[ag],pM[ag]=null,ag--)}function An(t,e){ag++,pM[ag]=t.current,t.current=e}var ul=dl(null),Sb=dl(null),Gf=dl(null),WE=dl(null);function XE(t,e){switch(An(Gf,e),An(Sb,t),An(ul,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?X5(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=X5(e),t=$G(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ji(ul),An(ul,t)}function zg(){Ji(ul),Ji(Sb),Ji(Gf)}function gM(t){t.memoizedState!==null&&An(WE,t);var e=ul.current,r=$G(e,t.type);e!==r&&(An(Sb,t),An(ul,r))}function $E(t){Sb.current===t&&(Ji(ul),Ji(Sb)),WE.current===t&&(Ji(WE),Nb._currentValue=Fd)}var Ex,G3;function Td(t){if(Ex===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ex=e&&e[1]||"",G3=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ex+t+G3}var Sx=!1;function Ox(t,e){if(!t||Sx)return"";Sx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var h=d}Reflect.construct(t,[],f)}else{try{f.call()}catch(d){h=d}t.call(f.prototype)}}else{try{throw Error()}catch(d){h=d}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&h&&typeof d.stack=="string")return[d.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),o=a[0],u=a[1];if(o&&u){var s=o.split(`
`),l=u.split(`
`);for(i=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(n===s.length||i===l.length)for(n=s.length-1,i=l.length-1;1<=n&&0<=i&&s[n]!==l[i];)i--;for(;1<=n&&0<=i;n--,i--)if(s[n]!==l[i]){if(n!==1||i!==1)do if(n--,i--,0>i||s[n]!==l[i]){var c=`
`+s[n].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=n&&0<=i);break}}}finally{Sx=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Td(r):""}function NJ(t,e){switch(t.tag){case 26:case 27:case 5:return Td(t.type);case 16:return Td("Lazy");case 13:return t.child!==e&&e!==null?Td("Suspense Fallback"):Td("Suspense");case 19:return Td("SuspenseList");case 0:case 15:return Ox(t.type,!1);case 11:return Ox(t.type.render,!1);case 1:return Ox(t.type,!0);case 31:return Td("Activity");default:return""}}function V3(t){try{var e="",r=null;do e+=NJ(t,r),r=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var yM=Object.prototype.hasOwnProperty,PN=Bi.unstable_scheduleCallback,Tx=Bi.unstable_cancelCallback,kJ=Bi.unstable_shouldYield,LJ=Bi.unstable_requestPaint,ru=Bi.unstable_now,jJ=Bi.unstable_getCurrentPriorityLevel,Pq=Bi.unstable_ImmediatePriority,Dq=Bi.unstable_UserBlockingPriority,KE=Bi.unstable_NormalPriority,BJ=Bi.unstable_LowPriority,Mq=Bi.unstable_IdlePriority,UJ=Bi.log,FJ=Bi.unstable_setDisableYieldValue,o_=null,nu=null;function Pf(t){if(typeof UJ=="function"&&FJ(t),nu&&typeof nu.setStrictMode=="function")try{nu.setStrictMode(o_,t)}catch{}}var iu=Math.clz32?Math.clz32:GJ,zJ=Math.log,qJ=Math.LN2;function GJ(t){return t>>>=0,t===0?32:31-(zJ(t)/qJ|0)|0}var uw=256,sw=262144,lw=4194304;function xd(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function iO(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var i=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var u=n&134217727;return u!==0?(n=u&~a,n!==0?i=xd(n):(o&=u,o!==0?i=xd(o):r||(r=u&~t,r!==0&&(i=xd(r))))):(u=n&~a,u!==0?i=xd(u):o!==0?i=xd(o):r||(r=n&~t,r!==0&&(i=xd(r)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,r=e&-e,a>=r||a===32&&(r&4194048)!==0)?e:i}function u_(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function VJ(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iq(){var t=lw;return lw<<=1,!(lw&62914560)&&(lw=4194304),t}function xx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function s_(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function HJ(t,e,r,n,i,a){var o=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var u=t.entanglements,s=t.expirationTimes,l=t.hiddenUpdates;for(r=o&~r;0<r;){var c=31-iu(r),f=1<<c;u[c]=0,s[c]=-1;var h=l[c];if(h!==null)for(l[c]=null,c=0;c<h.length;c++){var d=h[c];d!==null&&(d.lane&=-536870913)}r&=~f}n!==0&&Nq(t,n,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(o&~e))}function Nq(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-iu(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&261930}function kq(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-iu(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function Lq(t,e){var r=e&-e;return r=r&42?1:DN(r),r&(t.suspendedLanes|e)?0:r}function DN(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function MN(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function jq(){var t=nn.p;return t!==0?t:(t=window.event,t===void 0?32:oV(t.type))}function H3(t,e){var r=nn.p;try{return nn.p=t,e()}finally{nn.p=r}}var wh=Math.random().toString(36).slice(2),va="__reactFiber$"+wh,xo="__reactProps$"+wh,fy="__reactContainer$"+wh,mM="__reactEvents$"+wh,YJ="__reactListeners$"+wh,WJ="__reactHandles$"+wh,Y3="__reactResources$"+wh,l_="__reactMarker$"+wh;function IN(t){delete t[va],delete t[xo],delete t[mM],delete t[YJ],delete t[WJ]}function og(t){var e=t[va];if(e)return e;for(var r=t.parentNode;r;){if(e=r[fy]||r[va]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=J5(t);t!==null;){if(r=t[va])return r;t=J5(t)}return e}t=r,r=t.parentNode}return null}function hy(t){if(t=t[va]||t[fy]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function o0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ze(33))}function Sg(t){var e=t[Y3];return e||(e=t[Y3]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Qi(t){t[l_]=!0}var Bq=new Set,Uq={};function hv(t,e){qg(t,e),qg(t+"Capture",e)}function qg(t,e){for(Uq[t]=e,t=0;t<e.length;t++)Bq.add(e[t])}var XJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),W3={},X3={};function $J(t){return yM.call(X3,t)?!0:yM.call(W3,t)?!1:XJ.test(t)?X3[t]=!0:(W3[t]=!0,!1)}function cE(t,e,r){if($J(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function cw(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function jl(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function Mu(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KJ(t,e,r){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bM(t){if(!t._valueTracker){var e=Fq(t)?"checked":"value";t._valueTracker=KJ(t,e,""+t[e])}}function zq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Fq(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ZE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ZJ=/[\n"\\]/g;function ju(t){return t.replace(ZJ,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _M(t,e,r,n,i,a,o,u){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Mu(e)):t.value!==""+Mu(e)&&(t.value=""+Mu(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?wM(t,o,Mu(e)):r!=null?wM(t,o,Mu(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+Mu(u):t.removeAttribute("name")}function qq(t,e,r,n,i,a,o,u){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){bM(t);return}r=r!=null?""+Mu(r):"",e=e!=null?""+Mu(e):r,u||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=u?t.checked:!!n,t.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),bM(t)}function wM(t,e,r){e==="number"&&ZE(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Og(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gq(t,e,r){if(e!=null&&(e=""+Mu(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+Mu(r):""}function Vq(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(ze(92));if(a0(n)){if(1<n.length)throw Error(ze(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=Mu(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n),bM(t)}function Gg(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var QJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $3(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||QJ.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function Hq(t,e,r){if(e!=null&&typeof e!="object")throw Error(ze(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&$3(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&$3(t,a,e[a])}function NN(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fE(t){return eee.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ql(){}var EM=null;function kN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ug=null,Tg=null;function K3(t){var e=hy(t);if(e&&(t=e.stateNode)){var r=t[xo]||null;e:switch(t=e.stateNode,e.type){case"input":if(_M(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ju(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[xo]||null;if(!i)throw Error(ze(90));_M(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&zq(n)}break e;case"textarea":Gq(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&Og(t,!!r.multiple,e,!1)}}}var Cx=!1;function Yq(t,e,r){if(Cx)return t(e,r);Cx=!0;try{var n=t(e);return n}finally{if(Cx=!1,(ug!==null||Tg!==null)&&(gO(),ug&&(e=ug,t=Tg,Tg=ug=null,K3(e),t)))for(e=0;e<t.length;e++)K3(t[e])}}function Ob(t,e){var r=t.stateNode;if(r===null)return null;var n=r[xo]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ze(231,e,typeof r));return r}var fc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SM=!1;if(fc)try{var Nm={};Object.defineProperty(Nm,"passive",{get:function(){SM=!0}}),window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,Nm)}catch{SM=!1}var Df=null,LN=null,hE=null;function Wq(){if(hE)return hE;var t,e=LN,r=e.length,n,i="value"in Df?Df.value:Df.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return hE=i.slice(t,1<n?1-n:void 0)}function dE(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fw(){return!0}function Z3(){return!1}function Ro(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fw:Z3,this.isPropagationStopped=Z3,this}return Bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fw)},persist:function(){},isPersistent:fw}),e}var dv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aO=Ro(dv),c_=Bn({},dv,{view:0,detail:0}),tee=Ro(c_),Ax,Rx,km,oO=Bn({},c_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==km&&(km&&t.type==="mousemove"?(Ax=t.screenX-km.screenX,Rx=t.screenY-km.screenY):Rx=Ax=0,km=t),Ax)},movementY:function(t){return"movementY"in t?t.movementY:Rx}}),Q3=Ro(oO),ree=Bn({},oO,{dataTransfer:0}),nee=Ro(ree),iee=Bn({},c_,{relatedTarget:0}),Px=Ro(iee),aee=Bn({},dv,{animationName:0,elapsedTime:0,pseudoElement:0}),oee=Ro(aee),uee=Bn({},dv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),see=Ro(uee),lee=Bn({},dv,{data:0}),J3=Ro(lee),cee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dee(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hee[t])?!!e[t]:!1}function jN(){return dee}var vee=Bn({},c_,{key:function(t){if(t.key){var e=cee[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dE(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fee[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jN,charCode:function(t){return t.type==="keypress"?dE(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dE(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pee=Ro(vee),gee=Bn({},oO,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e5=Ro(gee),yee=Bn({},c_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jN}),mee=Ro(yee),bee=Bn({},dv,{propertyName:0,elapsedTime:0,pseudoElement:0}),_ee=Ro(bee),wee=Bn({},oO,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Eee=Ro(wee),See=Bn({},dv,{newState:0,oldState:0}),Oee=Ro(See),Tee=[9,13,27,32],BN=fc&&"CompositionEvent"in window,A0=null;fc&&"documentMode"in document&&(A0=document.documentMode);var xee=fc&&"TextEvent"in window&&!A0,Xq=fc&&(!BN||A0&&8<A0&&11>=A0),t5=" ",r5=!1;function $q(t,e){switch(t){case"keyup":return Tee.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kq(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sg=!1;function Cee(t,e){switch(t){case"compositionend":return Kq(e);case"keypress":return e.which!==32?null:(r5=!0,t5);case"textInput":return t=e.data,t===t5&&r5?null:t;default:return null}}function Aee(t,e){if(sg)return t==="compositionend"||!BN&&$q(t,e)?(t=Wq(),hE=LN=Df=null,sg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xq&&e.locale!=="ko"?null:e.data;default:return null}}var Ree={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ree[t.type]:e==="textarea"}function Zq(t,e,r,n){ug?Tg?Tg.push(n):Tg=[n]:ug=n,e=pS(e,"onChange"),0<e.length&&(r=new aO("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var R0=null,Tb=null;function Pee(t){YG(t,0)}function uO(t){var e=o0(t);if(zq(e))return t}function i5(t,e){if(t==="change")return e}var Qq=!1;if(fc){var Dx;if(fc){var Mx="oninput"in document;if(!Mx){var a5=document.createElement("div");a5.setAttribute("oninput","return;"),Mx=typeof a5.oninput=="function"}Dx=Mx}else Dx=!1;Qq=Dx&&(!document.documentMode||9<document.documentMode)}function o5(){R0&&(R0.detachEvent("onpropertychange",Jq),Tb=R0=null)}function Jq(t){if(t.propertyName==="value"&&uO(Tb)){var e=[];Zq(e,Tb,t,kN(t)),Yq(Pee,e)}}function Dee(t,e,r){t==="focusin"?(o5(),R0=e,Tb=r,R0.attachEvent("onpropertychange",Jq)):t==="focusout"&&o5()}function Mee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uO(Tb)}function Iee(t,e){if(t==="click")return uO(e)}function Nee(t,e){if(t==="input"||t==="change")return uO(e)}function kee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uu=typeof Object.is=="function"?Object.is:kee;function xb(t,e){if(uu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!yM.call(e,i)||!uu(t[i],e[i]))return!1}return!0}function u5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s5(t,e){var r=u5(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u5(r)}}function e7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t7(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ZE(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ZE(t.document)}return e}function UN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Lee=fc&&"documentMode"in document&&11>=document.documentMode,lg=null,OM=null,P0=null,TM=!1;function l5(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;TM||lg==null||lg!==ZE(n)||(n=lg,"selectionStart"in n&&UN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),P0&&xb(P0,n)||(P0=n,n=pS(OM,"onSelect"),0<n.length&&(e=new aO("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=lg)))}function _d(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var cg={animationend:_d("Animation","AnimationEnd"),animationiteration:_d("Animation","AnimationIteration"),animationstart:_d("Animation","AnimationStart"),transitionrun:_d("Transition","TransitionRun"),transitionstart:_d("Transition","TransitionStart"),transitioncancel:_d("Transition","TransitionCancel"),transitionend:_d("Transition","TransitionEnd")},Ix={},r7={};fc&&(r7=document.createElement("div").style,"AnimationEvent"in window||(delete cg.animationend.animation,delete cg.animationiteration.animation,delete cg.animationstart.animation),"TransitionEvent"in window||delete cg.transitionend.transition);function vv(t){if(Ix[t])return Ix[t];if(!cg[t])return t;var e=cg[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in r7)return Ix[t]=e[r];return t}var n7=vv("animationend"),i7=vv("animationiteration"),a7=vv("animationstart"),jee=vv("transitionrun"),Bee=vv("transitionstart"),Uee=vv("transitioncancel"),o7=vv("transitionend"),u7=new Map,xM="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xM.push("scrollEnd");function Ss(t,e){u7.set(t,e),hv(e,[t])}var QE=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Du=[],fg=0,FN=0;function sO(){for(var t=fg,e=FN=fg=0;e<t;){var r=Du[e];Du[e++]=null;var n=Du[e];Du[e++]=null;var i=Du[e];Du[e++]=null;var a=Du[e];if(Du[e++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}a!==0&&s7(r,i,a)}}function lO(t,e,r,n){Du[fg++]=t,Du[fg++]=e,Du[fg++]=r,Du[fg++]=n,FN|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function zN(t,e,r,n){return lO(t,e,r,n),JE(t)}function pv(t,e){return lO(t,null,null,e),JE(t)}function s7(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-iu(r),t=a.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=r|536870912),a):null}function JE(t){if(50<U0)throw U0=0,WM=null,Error(ze(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var hg={};function Fee(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function eu(t,e,r,n){return new Fee(t,e,r,n)}function qN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ac(t,e){var r=t.alternate;return r===null?(r=eu(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function l7(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function vE(t,e,r,n,i,a){var o=0;if(n=t,typeof t=="function")qN(t)&&(o=1);else if(typeof t=="string")o=Hte(t,r,ul.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case dM:return t=eu(31,r,e,i),t.elementType=dM,t.lanes=a,t;case ig:return zd(r.children,i,a,e);case Aq:o=8,i|=24;break;case cM:return t=eu(12,r,e,i|2),t.elementType=cM,t.lanes=a,t;case fM:return t=eu(13,r,e,i),t.elementType=fM,t.lanes=a,t;case hM:return t=eu(19,r,e,i),t.elementType=hM,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zl:o=10;break e;case Rq:o=9;break e;case AN:o=11;break e;case RN:o=14;break e;case Ef:o=16,n=null;break e}o=29,r=Error(ze(130,t===null?"null":typeof t,"")),n=null}return e=eu(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function zd(t,e,r,n){return t=eu(7,t,n,e),t.lanes=r,t}function Nx(t,e,r){return t=eu(6,t,null,e),t.lanes=r,t}function c7(t){var e=eu(18,null,null,0);return e.stateNode=t,e}function kx(t,e,r){return e=eu(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var c5=new WeakMap;function Bu(t,e){if(typeof t=="object"&&t!==null){var r=c5.get(t);return r!==void 0?r:(e={value:t,source:e,stack:V3(e)},c5.set(t,e),e)}return{value:t,source:e,stack:V3(e)}}var dg=[],vg=0,eS=null,Cb=0,Iu=[],Nu=0,oh=null,rl=1,nl="";function Wl(t,e){dg[vg++]=Cb,dg[vg++]=eS,eS=t,Cb=e}function f7(t,e,r){Iu[Nu++]=rl,Iu[Nu++]=nl,Iu[Nu++]=oh,oh=t;var n=rl;t=nl;var i=32-iu(n)-1;n&=~(1<<i),r+=1;var a=32-iu(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,rl=1<<32-iu(e)+i|r<<i|n,nl=a+t}else rl=1<<a|r<<i|n,nl=t}function GN(t){t.return!==null&&(Wl(t,1),f7(t,1,0))}function VN(t){for(;t===eS;)eS=dg[--vg],dg[vg]=null,Cb=dg[--vg],dg[vg]=null;for(;t===oh;)oh=Iu[--Nu],Iu[Nu]=null,nl=Iu[--Nu],Iu[Nu]=null,rl=Iu[--Nu],Iu[Nu]=null}function h7(t,e){Iu[Nu++]=rl,Iu[Nu++]=nl,Iu[Nu++]=oh,rl=e.id,nl=e.overflow,oh=t}var pa=null,kn=null,Fr=!1,Vf=null,Uu=!1,CM=Error(ze(519));function uh(t){var e=Error(ze(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ab(Bu(e,t)),CM}function f5(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[va]=t,e[xo]=n,r){case"dialog":Pr("cancel",e),Pr("close",e);break;case"iframe":case"object":case"embed":Pr("load",e);break;case"video":case"audio":for(r=0;r<Mb.length;r++)Pr(Mb[r],e);break;case"source":Pr("error",e);break;case"img":case"image":case"link":Pr("error",e),Pr("load",e);break;case"details":Pr("toggle",e);break;case"input":Pr("invalid",e),qq(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Pr("invalid",e);break;case"textarea":Pr("invalid",e),Vq(e,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||XG(e.textContent,r)?(n.popover!=null&&(Pr("beforetoggle",e),Pr("toggle",e)),n.onScroll!=null&&Pr("scroll",e),n.onScrollEnd!=null&&Pr("scrollend",e),n.onClick!=null&&(e.onclick=Ql),e=!0):e=!1,e||uh(t,!0)}function h5(t){for(pa=t.return;pa;)switch(pa.tag){case 5:case 31:case 13:Uu=!1;return;case 27:case 3:Uu=!0;return;default:pa=pa.return}}function Dp(t){if(t!==pa)return!1;if(!Fr)return h5(t),Fr=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||QM(t.type,t.memoizedProps)),r=!r),r&&kn&&uh(t),h5(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));kn=Q5(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));kn=Q5(t)}else e===27?(e=kn,Eh(t.type)?(t=rI,rI=null,kn=t):kn=e):kn=pa?qu(t.stateNode.nextSibling):null;return!0}function $d(){kn=pa=null,Fr=!1}function Lx(){var t=Vf;return t!==null&&(_o===null?_o=t:_o.push.apply(_o,t),Vf=null),t}function Ab(t){Vf===null?Vf=[t]:Vf.push(t)}var AM=dl(null),gv=null,Jl=null;function Tf(t,e,r){An(AM,e._currentValue),e._currentValue=r}function oc(t){t._currentValue=AM.current,Ji(AM)}function RM(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function PM(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var u=a;a=i;for(var s=0;s<e.length;s++)if(u.context===e[s]){a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),RM(a.return,r,t),n||(o=null);break e}a=u.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),RM(o,r,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function dy(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(ze(387));if(o=o.memoizedProps,o!==null){var u=i.type;uu(i.pendingProps.value,o.value)||(t!==null?t.push(u):t=[u])}}else if(i===WE.current){if(o=i.alternate,o===null)throw Error(ze(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Nb):t=[Nb])}i=i.return}t!==null&&PM(e,t,r,n),e.flags|=262144}function tS(t){for(t=t.firstContext;t!==null;){if(!uu(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kd(t){gv=t,Jl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ga(t){return d7(gv,t)}function hw(t,e){return gv===null&&Kd(t),d7(t,e)}function d7(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},Jl===null){if(t===null)throw Error(ze(308));Jl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Jl=Jl.next=e;return r}var zee=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},qee=Bi.unstable_scheduleCallback,Gee=Bi.unstable_NormalPriority,Ai={$$typeof:Zl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function HN(){return{controller:new zee,data:new Map,refCount:0}}function f_(t){t.refCount--,t.refCount===0&&qee(Gee,function(){t.controller.abort()})}var D0=null,DM=0,Vg=0,xg=null;function Vee(t,e){if(D0===null){var r=D0=[];DM=0,Vg=gk(),xg={status:"pending",value:void 0,then:function(n){r.push(n)}}}return DM++,e.then(d5,d5),e}function d5(){if(--DM===0&&D0!==null){xg!==null&&(xg.status="fulfilled");var t=D0;D0=null,Vg=0,xg=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Hee(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var v5=Zt.S;Zt.S=function(t,e){CG=ru(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Vee(t,e),v5!==null&&v5(t,e)};var qd=dl(null);function YN(){var t=qd.current;return t!==null?t:Sn.pooledCache}function pE(t,e){e===null?An(qd,qd.current):An(qd,e.pool)}function v7(){var t=YN();return t===null?null:{parent:Ai._currentValue,pool:t}}var vy=Error(ze(460)),WN=Error(ze(474)),cO=Error(ze(542)),rS={then:function(){}};function p5(t){return t=t.status,t==="fulfilled"||t==="rejected"}function p7(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(Ql,Ql),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,y5(t),t;default:if(typeof e.status=="string")e.then(Ql,Ql);else{if(t=Sn,t!==null&&100<t.shellSuspendCounter)throw Error(ze(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,y5(t),t}throw Gd=e,vy}}function Cd(t){try{var e=t._init;return e(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gd=r,vy):r}}var Gd=null;function g5(){if(Gd===null)throw Error(ze(459));var t=Gd;return Gd=null,t}function y5(t){if(t===vy||t===cO)throw Error(ze(483))}var Cg=null,Rb=0;function dw(t){var e=Rb;return Rb+=1,Cg===null&&(Cg=[]),p7(Cg,t,e)}function Lm(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function vw(t,e){throw e.$$typeof===DJ?Error(ze(525)):(t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function g7(t){function e(p,m){if(t){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function n(p){for(var m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(p,m){return p=ac(p,m),p.index=0,p.sibling=null,p}function a(p,m,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=67108866,m):g):(p.flags|=67108866,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=67108866),p}function u(p,m,g,_){return m===null||m.tag!==6?(m=Nx(g,p.mode,_),m.return=p,m):(m=i(m,g),m.return=p,m)}function s(p,m,g,_){var E=g.type;return E===ig?c(p,m,g.props.children,_,g.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ef&&Cd(E)===m.type)?(m=i(m,g.props),Lm(m,g),m.return=p,m):(m=vE(g.type,g.key,g.props,null,p.mode,_),Lm(m,g),m.return=p,m)}function l(p,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=kx(g,p.mode,_),m.return=p,m):(m=i(m,g.children||[]),m.return=p,m)}function c(p,m,g,_,E){return m===null||m.tag!==7?(m=zd(g,p.mode,_,E),m.return=p,m):(m=i(m,g),m.return=p,m)}function f(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Nx(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ow:return g=vE(m.type,m.key,m.props,null,p.mode,g),Lm(g,m),g.return=p,g;case i0:return m=kx(m,p.mode,g),m.return=p,m;case Ef:return m=Cd(m),f(p,m,g)}if(a0(m)||Im(m))return m=zd(m,p.mode,g,null),m.return=p,m;if(typeof m.then=="function")return f(p,dw(m),g);if(m.$$typeof===Zl)return f(p,hw(p,m),g);vw(p,m)}return null}function h(p,m,g,_){var E=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return E!==null?null:u(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ow:return g.key===E?s(p,m,g,_):null;case i0:return g.key===E?l(p,m,g,_):null;case Ef:return g=Cd(g),h(p,m,g,_)}if(a0(g)||Im(g))return E!==null?null:c(p,m,g,_,null);if(typeof g.then=="function")return h(p,m,dw(g),_);if(g.$$typeof===Zl)return h(p,m,hw(p,g),_);vw(p,g)}return null}function d(p,m,g,_,E){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return p=p.get(g)||null,u(m,p,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ow:return p=p.get(_.key===null?g:_.key)||null,s(m,p,_,E);case i0:return p=p.get(_.key===null?g:_.key)||null,l(m,p,_,E);case Ef:return _=Cd(_),d(p,m,g,_,E)}if(a0(_)||Im(_))return p=p.get(g)||null,c(m,p,_,E,null);if(typeof _.then=="function")return d(p,m,g,dw(_),E);if(_.$$typeof===Zl)return d(p,m,g,hw(m,_),E);vw(m,_)}return null}function v(p,m,g,_){for(var E=null,T=null,w=m,S=m=0,C=null;w!==null&&S<g.length;S++){w.index>S?(C=w,w=null):C=w.sibling;var R=h(p,w,g[S],_);if(R===null){w===null&&(w=C);break}t&&w&&R.alternate===null&&e(p,w),m=a(R,m,S),T===null?E=R:T.sibling=R,T=R,w=C}if(S===g.length)return r(p,w),Fr&&Wl(p,S),E;if(w===null){for(;S<g.length;S++)w=f(p,g[S],_),w!==null&&(m=a(w,m,S),T===null?E=w:T.sibling=w,T=w);return Fr&&Wl(p,S),E}for(w=n(w);S<g.length;S++)C=d(w,p,S,g[S],_),C!==null&&(t&&C.alternate!==null&&w.delete(C.key===null?S:C.key),m=a(C,m,S),T===null?E=C:T.sibling=C,T=C);return t&&w.forEach(function(D){return e(p,D)}),Fr&&Wl(p,S),E}function y(p,m,g,_){if(g==null)throw Error(ze(151));for(var E=null,T=null,w=m,S=m=0,C=null,R=g.next();w!==null&&!R.done;S++,R=g.next()){w.index>S?(C=w,w=null):C=w.sibling;var D=h(p,w,R.value,_);if(D===null){w===null&&(w=C);break}t&&w&&D.alternate===null&&e(p,w),m=a(D,m,S),T===null?E=D:T.sibling=D,T=D,w=C}if(R.done)return r(p,w),Fr&&Wl(p,S),E;if(w===null){for(;!R.done;S++,R=g.next())R=f(p,R.value,_),R!==null&&(m=a(R,m,S),T===null?E=R:T.sibling=R,T=R);return Fr&&Wl(p,S),E}for(w=n(w);!R.done;S++,R=g.next())R=d(w,p,S,R.value,_),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?S:R.key),m=a(R,m,S),T===null?E=R:T.sibling=R,T=R);return t&&w.forEach(function(M){return e(p,M)}),Fr&&Wl(p,S),E}function b(p,m,g,_){if(typeof g=="object"&&g!==null&&g.type===ig&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ow:e:{for(var E=g.key;m!==null;){if(m.key===E){if(E=g.type,E===ig){if(m.tag===7){r(p,m.sibling),_=i(m,g.props.children),_.return=p,p=_;break e}}else if(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ef&&Cd(E)===m.type){r(p,m.sibling),_=i(m,g.props),Lm(_,g),_.return=p,p=_;break e}r(p,m);break}else e(p,m);m=m.sibling}g.type===ig?(_=zd(g.props.children,p.mode,_,g.key),_.return=p,p=_):(_=vE(g.type,g.key,g.props,null,p.mode,_),Lm(_,g),_.return=p,p=_)}return o(p);case i0:e:{for(E=g.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),_=i(m,g.children||[]),_.return=p,p=_;break e}else{r(p,m);break}else e(p,m);m=m.sibling}_=kx(g,p.mode,_),_.return=p,p=_}return o(p);case Ef:return g=Cd(g),b(p,m,g,_)}if(a0(g))return v(p,m,g,_);if(Im(g)){if(E=Im(g),typeof E!="function")throw Error(ze(150));return g=E.call(g),y(p,m,g,_)}if(typeof g.then=="function")return b(p,m,dw(g),_);if(g.$$typeof===Zl)return b(p,m,hw(p,g),_);vw(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),_=i(m,g),_.return=p,p=_):(r(p,m),_=Nx(g,p.mode,_),_.return=p,p=_),o(p)):r(p,m)}return function(p,m,g,_){try{Rb=0;var E=b(p,m,g,_);return Cg=null,E}catch(w){if(w===vy||w===cO)throw w;var T=eu(29,w,null,p.mode);return T.lanes=_,T.return=p,T}finally{}}}var Zd=g7(!0),y7=g7(!1),Sf=!1;function XN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function MM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hf(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yf(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,rn&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=JE(t),s7(t,null,r),e}return lO(t,n,e,r),JE(t)}function M0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,kq(t,r)}}function jx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var IM=!1;function I0(){if(IM){var t=xg;if(t!==null)throw t}}function N0(t,e,r,n){IM=!1;var i=t.updateQueue;Sf=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var s=u,l=s.next;s.next=null,o===null?a=l:o.next=l,o=s;var c=t.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==o&&(u===null?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(a!==null){var f=i.baseState;o=0,c=l=s=null,u=a;do{var h=u.lane&-536870913,d=h!==u.lane;if(d?(Br&h)===h:(n&h)===h){h!==0&&h===Vg&&(IM=!0),c!==null&&(c=c.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var v=t,y=u;h=e;var b=r;switch(y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(b,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(b,f,h):v,h==null)break e;f=Bn({},f,h);break e;case 2:Sf=!0}}h=u.callback,h!==null&&(t.flags|=64,d&&(t.flags|=8192),d=i.callbacks,d===null?i.callbacks=[h]:d.push(h))}else d={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(l=c=d,s=f):c=c.next=d,o|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;d=u,u=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);c===null&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),lh|=o,t.lanes=o,t.memoizedState=f}}function m7(t,e){if(typeof t!="function")throw Error(ze(191,t));t.call(e)}function b7(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)m7(r[t],e)}var Hg=dl(null),nS=dl(0);function m5(t,e){t=pc,An(nS,t),An(Hg,e),pc=t|e.baseLanes}function NM(){An(nS,pc),An(Hg,Hg.current)}function $N(){pc=nS.current,Ji(Hg),Ji(nS)}var su=dl(null),zu=null;function xf(t){var e=t.alternate;An(yi,yi.current&1),An(su,t),zu===null&&(e===null||Hg.current!==null||e.memoizedState!==null)&&(zu=t)}function kM(t){An(yi,yi.current),An(su,t),zu===null&&(zu=t)}function _7(t){t.tag===22?(An(yi,yi.current),An(su,t),zu===null&&(zu=t)):Cf()}function Cf(){An(yi,yi.current),An(su,su.current)}function Jo(t){Ji(su),zu===t&&(zu=null),Ji(yi)}var yi=dl(0);function iS(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||eI(r)||tI(r)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hc=0,pr=null,mn=null,Ti=null,aS=!1,Ag=!1,Qd=!1,oS=0,Pb=0,Rg=null,Yee=0;function ai(){throw Error(ze(321))}function KN(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!uu(t[r],e[r]))return!1;return!0}function ZN(t,e,r,n,i,a){return hc=a,pr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zt.H=t===null||t.memoizedState===null?Z7:sk,Qd=!1,a=r(n,i),Qd=!1,Ag&&(a=E7(e,r,n,i)),w7(t),a}function w7(t){Zt.H=Db;var e=mn!==null&&mn.next!==null;if(hc=0,Ti=mn=pr=null,aS=!1,Pb=0,Rg=null,e)throw Error(ze(300));t===null||Ri||(t=t.dependencies,t!==null&&tS(t)&&(Ri=!0))}function E7(t,e,r,n){pr=t;var i=0;do{if(Ag&&(Rg=null),Pb=0,Ag=!1,25<=i)throw Error(ze(301));if(i+=1,Ti=mn=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Zt.H=Q7,a=e(r,n)}while(Ag);return a}function Wee(){var t=Zt.H,e=t.useState()[0];return e=typeof e.then=="function"?h_(e):e,t=t.useState()[0],(mn!==null?mn.memoizedState:null)!==t&&(pr.flags|=1024),e}function QN(){var t=oS!==0;return oS=0,t}function JN(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function ek(t){if(aS){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}aS=!1}hc=0,Ti=mn=pr=null,Ag=!1,Pb=oS=0,Rg=null}function $a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?pr.memoizedState=Ti=t:Ti=Ti.next=t,Ti}function mi(){if(mn===null){var t=pr.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=Ti===null?pr.memoizedState:Ti.next;if(e!==null)Ti=e,mn=t;else{if(t===null)throw pr.alternate===null?Error(ze(467)):Error(ze(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},Ti===null?pr.memoizedState=Ti=t:Ti=Ti.next=t}return Ti}function fO(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function h_(t){var e=Pb;return Pb+=1,Rg===null&&(Rg=[]),t=p7(Rg,t,e),e=pr,(Ti===null?e.memoizedState:Ti.next)===null&&(e=e.alternate,Zt.H=e===null||e.memoizedState===null?Z7:sk),t}function hO(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return h_(t);if(t.$$typeof===Zl)return ga(t)}throw Error(ze(438,String(t)))}function tk(t){var e=null,r=pr.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=pr.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=fO(),pr.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=MJ;return e.index++,r}function dc(t,e){return typeof e=="function"?e(t):e}function gE(t){var e=mi();return rk(e,mn,t)}function rk(t,e,r){var n=t.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var u=o=null,s=null,l=e,c=!1;do{var f=l.lane&-536870913;if(f!==l.lane?(Br&f)===f:(hc&f)===f){var h=l.revertLane;if(h===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),f===Vg&&(c=!0);else if((hc&h)===h){l=l.next,h===Vg&&(c=!0);continue}else f={lane:0,revertLane:l.revertLane,gesture:null,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},s===null?(u=s=f,o=a):s=s.next=f,pr.lanes|=h,lh|=h;f=l.action,Qd&&r(a,f),a=l.hasEagerState?l.eagerState:r(a,f)}else h={lane:f,revertLane:l.revertLane,gesture:l.gesture,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null},s===null?(u=s=h,o=a):s=s.next=h,pr.lanes|=f,lh|=f;l=l.next}while(l!==null&&l!==e);if(s===null?o=a:s.next=u,!uu(a,t.memoizedState)&&(Ri=!0,c&&(r=xg,r!==null)))throw r;t.memoizedState=a,t.baseState=o,t.baseQueue=s,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Bx(t){var e=mi(),r=e.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);uu(a,e.memoizedState)||(Ri=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function S7(t,e,r){var n=pr,i=mi(),a=Fr;if(a){if(r===void 0)throw Error(ze(407));r=r()}else r=e();var o=!uu((mn||i).memoizedState,r);if(o&&(i.memoizedState=r,Ri=!0),i=i.queue,nk(x7.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Ti!==null&&Ti.memoizedState.tag&1){if(n.flags|=2048,Yg(9,{destroy:void 0},T7.bind(null,n,i,r,e),null),Sn===null)throw Error(ze(349));a||hc&127||O7(n,e,r)}return r}function O7(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pr.updateQueue,e===null?(e=fO(),pr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function T7(t,e,r,n){e.value=r,e.getSnapshot=n,C7(e)&&A7(t)}function x7(t,e,r){return r(function(){C7(e)&&A7(t)})}function C7(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!uu(t,r)}catch{return!0}}function A7(t){var e=pv(t,2);e!==null&&To(e,t,2)}function LM(t){var e=$a();if(typeof t=="function"){var r=t;if(t=r(),Qd){Pf(!0);try{r()}finally{Pf(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:t},e}function R7(t,e,r,n){return t.baseState=r,rk(t,mn,typeof n=="function"?n:dc)}function Xee(t,e,r,n,i){if(vO(t))throw Error(ze(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};Zt.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,P7(e,a)):(a.next=r.next,e.pending=r.next=a)}}function P7(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=Zt.T,o={};Zt.T=o;try{var u=r(i,n),s=Zt.S;s!==null&&s(o,u),b5(t,e,u)}catch(l){jM(t,e,l)}finally{a!==null&&o.types!==null&&(a.types=o.types),Zt.T=a}}else try{a=r(i,n),b5(t,e,a)}catch(l){jM(t,e,l)}}function b5(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){_5(t,e,n)},function(n){return jM(t,e,n)}):_5(t,e,r)}function _5(t,e,r){e.status="fulfilled",e.value=r,D7(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,P7(t,r)))}function jM(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,D7(e),e=e.next;while(e!==n)}t.action=null}function D7(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function M7(t,e){return e}function w5(t,e){if(Fr){var r=Sn.formState;if(r!==null){e:{var n=pr;if(Fr){if(kn){t:{for(var i=kn,a=Uu;i.nodeType!==8;){if(!a){i=null;break t}if(i=qu(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){kn=qu(i.nextSibling),n=i.data==="F!";break e}}uh(n)}n=!1}n&&(e=r[0])}}return r=$a(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M7,lastRenderedState:e},r.queue=n,r=X7.bind(null,pr,n),n.dispatch=r,n=LM(!1),a=uk.bind(null,pr,!1,n.queue),n=$a(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=Xee.bind(null,pr,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function E5(t){var e=mi();return I7(e,mn,t)}function I7(t,e,r){if(e=rk(t,e,M7)[0],t=gE(dc)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=h_(e)}catch(o){throw o===vy?cO:o}else n=e;e=mi();var i=e.queue,a=i.dispatch;return r!==e.memoizedState&&(pr.flags|=2048,Yg(9,{destroy:void 0},$ee.bind(null,i,r),null)),[n,a,t]}function $ee(t,e){t.action=e}function S5(t){var e=mi(),r=mn;if(r!==null)return I7(e,r,t);mi(),e=e.memoizedState,r=mi();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function Yg(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=pr.updateQueue,e===null&&(e=fO(),pr.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function N7(){return mi().memoizedState}function yE(t,e,r,n){var i=$a();pr.flags|=t,i.memoizedState=Yg(1|e,{destroy:void 0},r,n===void 0?null:n)}function dO(t,e,r,n){var i=mi();n=n===void 0?null:n;var a=i.memoizedState.inst;mn!==null&&n!==null&&KN(n,mn.memoizedState.deps)?i.memoizedState=Yg(e,a,r,n):(pr.flags|=t,i.memoizedState=Yg(1|e,a,r,n))}function O5(t,e){yE(8390656,8,t,e)}function nk(t,e){dO(2048,8,t,e)}function Kee(t){pr.flags|=4;var e=pr.updateQueue;if(e===null)e=fO(),pr.updateQueue=e,e.events=[t];else{var r=e.events;r===null?e.events=[t]:r.push(t)}}function k7(t){var e=mi().memoizedState;return Kee({ref:e,nextImpl:t}),function(){if(rn&2)throw Error(ze(440));return e.impl.apply(void 0,arguments)}}function L7(t,e){return dO(4,2,t,e)}function j7(t,e){return dO(4,4,t,e)}function B7(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U7(t,e,r){r=r!=null?r.concat([t]):null,dO(4,4,B7.bind(null,e,t),r)}function ik(){}function F7(t,e){var r=mi();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&KN(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function z7(t,e){var r=mi();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&KN(e,n[1]))return n[0];if(n=t(),Qd){Pf(!0);try{t()}finally{Pf(!1)}}return r.memoizedState=[n,e],n}function ak(t,e,r){return r===void 0||hc&1073741824&&!(Br&261930)?t.memoizedState=e:(t.memoizedState=r,t=RG(),pr.lanes|=t,lh|=t,r)}function q7(t,e,r,n){return uu(r,e)?r:Hg.current!==null?(t=ak(t,r,n),uu(t,e)||(Ri=!0),t):!(hc&42)||hc&1073741824&&!(Br&261930)?(Ri=!0,t.memoizedState=r):(t=RG(),pr.lanes|=t,lh|=t,e)}function G7(t,e,r,n,i){var a=nn.p;nn.p=a!==0&&8>a?a:8;var o=Zt.T,u={};Zt.T=u,uk(t,!1,e,r);try{var s=i(),l=Zt.S;if(l!==null&&l(u,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=Hee(s,n);k0(t,e,c,au(t))}else k0(t,e,n,au(t))}catch(f){k0(t,e,{then:function(){},status:"rejected",reason:f},au())}finally{nn.p=a,o!==null&&u.types!==null&&(o.types=u.types),Zt.T=o}}function Zee(){}function BM(t,e,r,n){if(t.tag!==5)throw Error(ze(476));var i=V7(t).queue;G7(t,i,e,Fd,r===null?Zee:function(){return H7(t),r(n)})}function V7(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Fd,baseState:Fd,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:Fd},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function H7(t){var e=V7(t);e.next===null&&(e=t.alternate.memoizedState),k0(t,e.next.queue,{},au())}function ok(){return ga(Nb)}function Y7(){return mi().memoizedState}function W7(){return mi().memoizedState}function Qee(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=au();t=Hf(r);var n=Yf(e,t,r);n!==null&&(To(n,e,r),M0(n,e,r)),e={cache:HN()},t.payload=e;return}e=e.return}}function Jee(t,e,r){var n=au();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},vO(t)?$7(e,r):(r=zN(t,e,r,n),r!==null&&(To(r,t,n),K7(r,e,n)))}function X7(t,e,r){var n=au();k0(t,e,r,n)}function k0(t,e,r,n){var i={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(vO(t))$7(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,u=a(o,r);if(i.hasEagerState=!0,i.eagerState=u,uu(u,o))return lO(t,e,i,0),Sn===null&&sO(),!1}catch{}finally{}if(r=zN(t,e,i,n),r!==null)return To(r,t,n),K7(r,e,n),!0}return!1}function uk(t,e,r,n){if(n={lane:2,revertLane:gk(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},vO(t)){if(e)throw Error(ze(479))}else e=zN(t,r,n,2),e!==null&&To(e,t,2)}function vO(t){var e=t.alternate;return t===pr||e!==null&&e===pr}function $7(t,e){Ag=aS=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function K7(t,e,r){if(r&4194048){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,kq(t,r)}}var Db={readContext:ga,use:hO,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useInsertionEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useSyncExternalStore:ai,useId:ai,useHostTransitionStatus:ai,useFormState:ai,useActionState:ai,useOptimistic:ai,useMemoCache:ai,useCacheRefresh:ai};Db.useEffectEvent=ai;var Z7={readContext:ga,use:hO,useCallback:function(t,e){return $a().memoizedState=[t,e===void 0?null:e],t},useContext:ga,useEffect:O5,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,yE(4194308,4,B7.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yE(4194308,4,t,e)},useInsertionEffect:function(t,e){yE(4,2,t,e)},useMemo:function(t,e){var r=$a();e=e===void 0?null:e;var n=t();if(Qd){Pf(!0);try{t()}finally{Pf(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=$a();if(r!==void 0){var i=r(e);if(Qd){Pf(!0);try{r(e)}finally{Pf(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=Jee.bind(null,pr,t),[n.memoizedState,t]},useRef:function(t){var e=$a();return t={current:t},e.memoizedState=t},useState:function(t){t=LM(t);var e=t.queue,r=X7.bind(null,pr,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:ik,useDeferredValue:function(t,e){var r=$a();return ak(r,t,e)},useTransition:function(){var t=LM(!1);return t=G7.bind(null,pr,t.queue,!0,!1),$a().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=pr,i=$a();if(Fr){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=e(),Sn===null)throw Error(ze(349));Br&127||O7(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,O5(x7.bind(null,n,a,t),[t]),n.flags|=2048,Yg(9,{destroy:void 0},T7.bind(null,n,a,r,e),null),r},useId:function(){var t=$a(),e=Sn.identifierPrefix;if(Fr){var r=nl,n=rl;r=(n&~(1<<32-iu(n)-1)).toString(32)+r,e="_"+e+"R_"+r,r=oS++,0<r&&(e+="H"+r.toString(32)),e+="_"}else r=Yee++,e="_"+e+"r_"+r.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:ok,useFormState:w5,useActionState:w5,useOptimistic:function(t){var e=$a();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=uk.bind(null,pr,!0,r),r.dispatch=e,[t,e]},useMemoCache:tk,useCacheRefresh:function(){return $a().memoizedState=Qee.bind(null,pr)},useEffectEvent:function(t){var e=$a(),r={impl:t};return e.memoizedState=r,function(){if(rn&2)throw Error(ze(440));return r.impl.apply(void 0,arguments)}}},sk={readContext:ga,use:hO,useCallback:F7,useContext:ga,useEffect:nk,useImperativeHandle:U7,useInsertionEffect:L7,useLayoutEffect:j7,useMemo:z7,useReducer:gE,useRef:N7,useState:function(){return gE(dc)},useDebugValue:ik,useDeferredValue:function(t,e){var r=mi();return q7(r,mn.memoizedState,t,e)},useTransition:function(){var t=gE(dc)[0],e=mi().memoizedState;return[typeof t=="boolean"?t:h_(t),e]},useSyncExternalStore:S7,useId:Y7,useHostTransitionStatus:ok,useFormState:E5,useActionState:E5,useOptimistic:function(t,e){var r=mi();return R7(r,mn,t,e)},useMemoCache:tk,useCacheRefresh:W7};sk.useEffectEvent=k7;var Q7={readContext:ga,use:hO,useCallback:F7,useContext:ga,useEffect:nk,useImperativeHandle:U7,useInsertionEffect:L7,useLayoutEffect:j7,useMemo:z7,useReducer:Bx,useRef:N7,useState:function(){return Bx(dc)},useDebugValue:ik,useDeferredValue:function(t,e){var r=mi();return mn===null?ak(r,t,e):q7(r,mn.memoizedState,t,e)},useTransition:function(){var t=Bx(dc)[0],e=mi().memoizedState;return[typeof t=="boolean"?t:h_(t),e]},useSyncExternalStore:S7,useId:Y7,useHostTransitionStatus:ok,useFormState:S5,useActionState:S5,useOptimistic:function(t,e){var r=mi();return mn!==null?R7(r,mn,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:tk,useCacheRefresh:W7};Q7.useEffectEvent=k7;function Ux(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Bn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var UM={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=au(),i=Hf(n);i.payload=e,r!=null&&(i.callback=r),e=Yf(t,i,n),e!==null&&(To(e,t,n),M0(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=au(),i=Hf(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Yf(t,i,n),e!==null&&(To(e,t,n),M0(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=au(),n=Hf(r);n.tag=2,e!=null&&(n.callback=e),e=Yf(t,n,r),e!==null&&(To(e,t,r),M0(e,t,r))}};function T5(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!xb(r,n)||!xb(i,a):!0}function x5(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&UM.enqueueReplaceState(e,e.state,null)}function Jd(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Bn({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}function J7(t){QE(t)}function eG(t){console.error(t)}function tG(t){QE(t)}function uS(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function C5(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function FM(t,e,r){return r=Hf(r),r.tag=3,r.payload={element:null},r.callback=function(){uS(t,e)},r}function rG(t){return t=Hf(t),t.tag=3,t}function nG(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){C5(e,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){C5(e,r,n),typeof i!="function"&&(Wf===null?Wf=new Set([this]):Wf.add(this));var u=n.stack;this.componentDidCatch(n.value,{componentStack:u!==null?u:""})})}function ete(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&dy(e,r,i,!0),r=su.current,r!==null){switch(r.tag){case 31:case 13:return zu===null?hS():r.alternate===null&&oi===0&&(oi=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===rS?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),Kx(t,n,i)),!1;case 22:return r.flags|=65536,n===rS?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),Kx(t,n,i)),!1}throw Error(ze(435,r.tag))}return Kx(t,n,i),hS(),!1}if(Fr)return e=su.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==CM&&(t=Error(ze(422),{cause:n}),Ab(Bu(t,r)))):(n!==CM&&(e=Error(ze(423),{cause:n}),Ab(Bu(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=Bu(n,r),i=FM(t.stateNode,n,i),jx(t,i),oi!==4&&(oi=2)),!1;var a=Error(ze(520),{cause:n});if(a=Bu(a,r),B0===null?B0=[a]:B0.push(a),oi!==4&&(oi=2),e===null)return!0;n=Bu(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=FM(r.stateNode,n,t),jx(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Wf===null||!Wf.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=rG(i),nG(i,t,r,n),jx(r,i),!1}r=r.return}while(r!==null);return!1}var lk=Error(ze(461)),Ri=!1;function da(t,e,r,n){e.child=t===null?y7(e,null,r,n):Zd(e,t.child,r,n)}function A5(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}else o=n;return Kd(e),n=ZN(t,e,r,o,a,i),u=QN(),t!==null&&!Ri?(JN(t,e,i),vc(t,e,i)):(Fr&&u&&GN(e),e.flags|=1,da(t,e,n,i),e.child)}function R5(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!qN(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,iG(t,e,a,n,i)):(t=vE(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!ck(t,i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:xb,r(o,n)&&t.ref===e.ref)return vc(t,e,i)}return e.flags|=1,t=ac(a,n),t.ref=e.ref,t.return=e,e.child=t}function iG(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(xb(a,n)&&t.ref===e.ref)if(Ri=!1,e.pendingProps=n=a,ck(t,i))t.flags&131072&&(Ri=!0);else return e.lanes=t.lanes,vc(t,e,i)}return zM(t,e,r,n,i)}function aG(t,e,r,n){var i=n.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|r:r,t!==null){for(n=e.child=t.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~a}else n=0,e.child=null;return P5(t,e,a,r,n)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&pE(e,a!==null?a.cachePool:null),a!==null?m5(e,a):NM(),_7(e);else return n=e.lanes=536870912,P5(t,e,a!==null?a.baseLanes|r:r,r,n)}else a!==null?(pE(e,a.cachePool),m5(e,a),Cf(),e.memoizedState=null):(t!==null&&pE(e,null),NM(),Cf());return da(t,e,i,r),e.child}function u0(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function P5(t,e,r,n,i){var a=YN();return a=a===null?null:{parent:Ai._currentValue,pool:a},e.memoizedState={baseLanes:r,cachePool:a},t!==null&&pE(e,null),NM(),_7(e),t!==null&&dy(t,e,n,!0),e.childLanes=i,null}function mE(t,e){return e=sS({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function D5(t,e,r){return Zd(e,t.child,null,r),t=mE(e,e.pendingProps),t.flags|=2,Jo(e),e.memoizedState=null,t}function tte(t,e,r){var n=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Fr){if(n.mode==="hidden")return t=mE(e,n),e.lanes=536870912,u0(null,t);if(kM(e),(t=kn)?(t=ZG(t,Uu),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:oh!==null?{id:rl,overflow:nl}:null,retryLane:536870912,hydrationErrors:null},r=c7(t),r.return=e,e.child=r,pa=e,kn=null)):t=null,t===null)throw uh(e);return e.lanes=536870912,null}return mE(e,n)}var a=t.memoizedState;if(a!==null){var o=a.dehydrated;if(kM(e),i)if(e.flags&256)e.flags&=-257,e=D5(t,e,r);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(ze(558));else if(Ri||dy(t,e,r,!1),i=(r&t.childLanes)!==0,Ri||i){if(n=Sn,n!==null&&(o=Lq(n,r),o!==0&&o!==a.retryLane))throw a.retryLane=o,pv(t,o),To(n,t,o),lk;hS(),e=D5(t,e,r)}else t=a.treeContext,kn=qu(o.nextSibling),pa=e,Fr=!0,Vf=null,Uu=!1,t!==null&&h7(e,t),e=mE(e,n),e.flags|=4096;return e}return t=ac(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function bE(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(ze(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function zM(t,e,r,n,i){return Kd(e),r=ZN(t,e,r,n,void 0,i),n=QN(),t!==null&&!Ri?(JN(t,e,i),vc(t,e,i)):(Fr&&n&&GN(e),e.flags|=1,da(t,e,r,i),e.child)}function M5(t,e,r,n,i,a){return Kd(e),e.updateQueue=null,r=E7(e,n,r,i),w7(t),n=QN(),t!==null&&!Ri?(JN(t,e,a),vc(t,e,a)):(Fr&&n&&GN(e),e.flags|=1,da(t,e,r,a),e.child)}function I5(t,e,r,n,i){if(Kd(e),e.stateNode===null){var a=hg,o=r.contextType;typeof o=="object"&&o!==null&&(a=ga(o)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=UM,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},XN(e),o=r.contextType,a.context=typeof o=="object"&&o!==null?ga(o):hg,a.state=e.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Ux(e,r,o,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&UM.enqueueReplaceState(a,a.state,null),N0(e,n,a,i),I0(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var u=e.memoizedProps,s=Jd(r,u);a.props=s;var l=a.context,c=r.contextType;o=hg,typeof c=="object"&&c!==null&&(o=ga(c));var f=r.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u||l!==o)&&x5(e,a,n,o),Sf=!1;var h=e.memoizedState;a.state=h,N0(e,n,a,i),I0(),l=e.memoizedState,u||h!==l||Sf?(typeof f=="function"&&(Ux(e,r,f,n),l=e.memoizedState),(s=Sf||T5(e,r,s,n,h,l,o))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=o,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,MM(t,e),o=e.memoizedProps,c=Jd(r,o),a.props=c,f=e.pendingProps,h=a.context,l=r.contextType,s=hg,typeof l=="object"&&l!==null&&(s=ga(l)),u=r.getDerivedStateFromProps,(l=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==s)&&x5(e,a,n,s),Sf=!1,h=e.memoizedState,a.state=h,N0(e,n,a,i),I0();var d=e.memoizedState;o!==f||h!==d||Sf||t!==null&&t.dependencies!==null&&tS(t.dependencies)?(typeof u=="function"&&(Ux(e,r,u,n),d=e.memoizedState),(c=Sf||T5(e,r,c,n,h,d,s)||t!==null&&t.dependencies!==null&&tS(t.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,d,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,d,s)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=s,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,bE(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=Zd(e,t.child,null,i),e.child=Zd(e,null,r,i)):da(t,e,r,i),e.memoizedState=a.state,t=e.child):t=vc(t,e,i),t}function N5(t,e,r,n){return $d(),e.flags|=256,da(t,e,r,n),e.child}var Fx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zx(t){return{baseLanes:t,cachePool:v7()}}function qx(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=tu),t}function oG(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(yi.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Fr){if(i?xf(e):Cf(),(t=kn)?(t=ZG(t,Uu),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:oh!==null?{id:rl,overflow:nl}:null,retryLane:536870912,hydrationErrors:null},r=c7(t),r.return=e,e.child=r,pa=e,kn=null)):t=null,t===null)throw uh(e);return tI(t)?e.lanes=32:e.lanes=536870912,null}var u=n.children;return n=n.fallback,i?(Cf(),i=e.mode,u=sS({mode:"hidden",children:u},i),n=zd(n,i,r,null),u.return=e,n.return=e,u.sibling=n,e.child=u,n=e.child,n.memoizedState=zx(r),n.childLanes=qx(t,o,r),e.memoizedState=Fx,u0(null,n)):(xf(e),qM(e,u))}var s=t.memoizedState;if(s!==null&&(u=s.dehydrated,u!==null)){if(a)e.flags&256?(xf(e),e.flags&=-257,e=Gx(t,e,r)):e.memoizedState!==null?(Cf(),e.child=t.child,e.flags|=128,e=null):(Cf(),u=n.fallback,i=e.mode,n=sS({mode:"visible",children:n.children},i),u=zd(u,i,r,null),u.flags|=2,n.return=e,u.return=e,n.sibling=u,e.child=n,Zd(e,t.child,null,r),n=e.child,n.memoizedState=zx(r),n.childLanes=qx(t,o,r),e.memoizedState=Fx,e=u0(null,n));else if(xf(e),tI(u)){if(o=u.nextSibling&&u.nextSibling.dataset,o)var l=o.dgst;o=l,n=Error(ze(419)),n.stack="",n.digest=o,Ab({value:n,source:null,stack:null}),e=Gx(t,e,r)}else if(Ri||dy(t,e,r,!1),o=(r&t.childLanes)!==0,Ri||o){if(o=Sn,o!==null&&(n=Lq(o,r),n!==0&&n!==s.retryLane))throw s.retryLane=n,pv(t,n),To(o,t,n),lk;eI(u)||hS(),e=Gx(t,e,r)}else eI(u)?(e.flags|=192,e.child=t.child,e=null):(t=s.treeContext,kn=qu(u.nextSibling),pa=e,Fr=!0,Vf=null,Uu=!1,t!==null&&h7(e,t),e=qM(e,n.children),e.flags|=4096);return e}return i?(Cf(),u=n.fallback,i=e.mode,s=t.child,l=s.sibling,n=ac(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,l!==null?u=ac(l,u):(u=zd(u,i,r,null),u.flags|=2),u.return=e,n.return=e,n.sibling=u,e.child=n,u0(null,n),n=e.child,u=t.child.memoizedState,u===null?u=zx(r):(i=u.cachePool,i!==null?(s=Ai._currentValue,i=i.parent!==s?{parent:s,pool:s}:i):i=v7(),u={baseLanes:u.baseLanes|r,cachePool:i}),n.memoizedState=u,n.childLanes=qx(t,o,r),e.memoizedState=Fx,u0(t.child,n)):(xf(e),r=t.child,t=r.sibling,r=ac(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=r,e.memoizedState=null,r)}function qM(t,e){return e=sS({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function sS(t,e){return t=eu(22,t,null,e),t.lanes=0,t}function Gx(t,e,r){return Zd(e,t.child,null,r),t=qM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function k5(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),RM(t.return,e,r)}function Vx(t,e,r,n,i,a){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,treeForkCount:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.treeForkCount=a)}function uG(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;n=n.children;var o=yi.current,u=(o&2)!==0;if(u?(o=o&1|2,e.flags|=128):o&=1,An(yi,o),da(t,e,n,r),n=Fr?Cb:0,!u&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k5(t,r,e);else if(t.tag===19)k5(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&iS(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Vx(e,!1,i,r,a,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&iS(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Vx(e,!0,r,null,a,n);break;case"together":Vx(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function vc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),lh|=e.lanes,!(r&e.childLanes))if(t!==null){if(dy(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,r=ac(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ac(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ck(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&tS(t)))}function rte(t,e,r){switch(e.tag){case 3:XE(e,e.stateNode.containerInfo),Tf(e,Ai,t.memoizedState.cache),$d();break;case 27:case 5:gM(e);break;case 4:XE(e,e.stateNode.containerInfo);break;case 10:Tf(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,kM(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(xf(e),e.flags|=128,null):r&e.child.childLanes?oG(t,e,r):(xf(e),t=vc(t,e,r),t!==null?t.sibling:null);xf(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(dy(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return uG(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),An(yi,yi.current),n)break;return null;case 22:return e.lanes=0,aG(t,e,r,e.pendingProps);case 24:Tf(e,Ai,t.memoizedState.cache)}return vc(t,e,r)}function sG(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ri=!0;else{if(!ck(t,r)&&!(e.flags&128))return Ri=!1,rte(t,e,r);Ri=!!(t.flags&131072)}else Ri=!1,Fr&&e.flags&1048576&&f7(e,Cb,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(t=Cd(e.elementType),e.type=t,typeof t=="function")qN(t)?(n=Jd(t,n),e.tag=1,e=I5(null,e,t,n,r)):(e.tag=0,e=zM(null,e,t,n,r));else{if(t!=null){var i=t.$$typeof;if(i===AN){e.tag=11,e=A5(null,e,t,n,r);break e}else if(i===RN){e.tag=14,e=R5(null,e,t,n,r);break e}}throw e=vM(t)||t,Error(ze(306,e,""))}}return e;case 0:return zM(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=Jd(n,e.pendingProps),I5(t,e,n,i,r);case 3:e:{if(XE(e,e.stateNode.containerInfo),t===null)throw Error(ze(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,MM(t,e),N0(e,n,null,r);var o=e.memoizedState;if(n=o.cache,Tf(e,Ai,n),n!==a.cache&&PM(e,[Ai],r,!0),I0(),n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=N5(t,e,n,r);break e}else if(n!==i){i=Bu(Error(ze(424)),e),Ab(i),e=N5(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(kn=qu(t.firstChild),pa=e,Fr=!0,Vf=null,Uu=!0,r=y7(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if($d(),n===i){e=vc(t,e,r);break e}da(t,e,n,r)}e=e.child}return e;case 26:return bE(t,e),t===null?(r=t4(e.type,null,e.pendingProps,null))?e.memoizedState=r:Fr||(r=e.type,t=e.pendingProps,n=gS(Gf.current).createElement(r),n[va]=e,n[xo]=t,ya(n,r,t),Qi(n),e.stateNode=n):e.memoizedState=t4(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return gM(e),t===null&&Fr&&(n=e.stateNode=QG(e.type,e.pendingProps,Gf.current),pa=e,Uu=!0,i=kn,Eh(e.type)?(rI=i,kn=qu(n.firstChild)):kn=i),da(t,e,e.pendingProps.children,r),bE(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Fr&&((i=n=kn)&&(n=Mte(n,e.type,e.pendingProps,Uu),n!==null?(e.stateNode=n,pa=e,kn=qu(n.firstChild),Uu=!1,i=!0):i=!1),i||uh(e)),gM(e),i=e.type,a=e.pendingProps,o=t!==null?t.memoizedProps:null,n=a.children,QM(i,a)?n=null:o!==null&&QM(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=ZN(t,e,Wee,null,null,r),Nb._currentValue=i),bE(t,e),da(t,e,n,r),e.child;case 6:return t===null&&Fr&&((t=r=kn)&&(r=Ite(r,e.pendingProps,Uu),r!==null?(e.stateNode=r,pa=e,kn=null,t=!0):t=!1),t||uh(e)),null;case 13:return oG(t,e,r);case 4:return XE(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zd(e,null,n,r):da(t,e,n,r),e.child;case 11:return A5(t,e,e.type,e.pendingProps,r);case 7:return da(t,e,e.pendingProps,r),e.child;case 8:return da(t,e,e.pendingProps.children,r),e.child;case 12:return da(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,Tf(e,e.type,n.value),da(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,Kd(e),i=ga(i),n=n(i),e.flags|=1,da(t,e,n,r),e.child;case 14:return R5(t,e,e.type,e.pendingProps,r);case 15:return iG(t,e,e.type,e.pendingProps,r);case 19:return uG(t,e,r);case 31:return tte(t,e,r);case 22:return aG(t,e,r,e.pendingProps);case 24:return Kd(e),n=ga(Ai),t===null?(i=YN(),i===null&&(i=Sn,a=HN(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},XN(e),Tf(e,Ai,i)):(t.lanes&r&&(MM(t,e),N0(e,null,null,r),I0()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Tf(e,Ai,n)):(n=a.cache,Tf(e,Ai,n),n!==i.cache&&PM(e,[Ai],r,!0))),da(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(ze(156,e.tag))}function Bl(t){t.flags|=4}function Hx(t,e,r,n,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(MG())t.flags|=8192;else throw Gd=rS,WN}else t.flags&=-16777217}function L5(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!tV(e))if(MG())t.flags|=8192;else throw Gd=rS,WN}function pw(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Iq():536870912,t.lanes|=e,Wg|=e)}function jm(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nte(t,e,r){var n=e.pendingProps;switch(VN(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return Nn(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),oc(Ai),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dp(e)?Bl(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lx())),Nn(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Bl(e),a!==null?(Nn(e),L5(e,a)):(Nn(e),Hx(e,i,null,n,r))):a?a!==t.memoizedState?(Bl(e),Nn(e),L5(e,a)):(Nn(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&Bl(e),Nn(e),Hx(e,i,t,n,r)),null;case 27:if($E(e),r=Gf.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Bl(e);else{if(!n){if(e.stateNode===null)throw Error(ze(166));return Nn(e),null}t=ul.current,Dp(e)?f5(e):(t=QG(i,n,r),e.stateNode=t,Bl(e))}return Nn(e),null;case 5:if($E(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Bl(e);else{if(!n){if(e.stateNode===null)throw Error(ze(166));return Nn(e),null}if(a=ul.current,Dp(e))f5(e);else{var o=gS(Gf.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a=typeof n.is=="string"?o.createElement(i,{is:n.is}):o.createElement(i)}}a[va]=e,a[xo]=n;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=a;e:switch(ya(a,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Bl(e)}}return Nn(e),Hx(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,r),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Bl(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ze(166));if(t=Gf.current,Dp(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=pa,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[va]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||XG(t.nodeValue,r)),t||uh(e,!0)}else t=gS(t).createTextNode(n),t[va]=e,e.stateNode=t}return Nn(e),null;case 31:if(r=e.memoizedState,t===null||t.memoizedState!==null){if(n=Dp(e),r!==null){if(t===null){if(!n)throw Error(ze(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(557));t[va]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),t=!1}else r=Lx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return e.flags&256?(Jo(e),e):(Jo(e),null);if(e.flags&128)throw Error(ze(558))}return Nn(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Dp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ze(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[va]=e}else $d(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),i=!1}else i=Lx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Jo(e),e):(Jo(e),null)}return Jo(e),e.flags&128?(e.lanes=r,e):(r=n!==null,t=t!==null&&t.memoizedState!==null,r&&(n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)),r!==t&&r&&(e.child.flags|=8192),pw(e,e.updateQueue),Nn(e),null);case 4:return zg(),t===null&&yk(e.stateNode.containerInfo),Nn(e),null;case 10:return oc(e.type),Nn(e),null;case 19:if(Ji(yi),n=e.memoizedState,n===null)return Nn(e),null;if(i=(e.flags&128)!==0,a=n.rendering,a===null)if(i)jm(n,!1);else{if(oi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=iS(t),a!==null){for(e.flags|=128,jm(n,!1),t=a.updateQueue,e.updateQueue=t,pw(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)l7(r,t),r=r.sibling;return An(yi,yi.current&1|2),Fr&&Wl(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&ru()>cS&&(e.flags|=128,i=!0,jm(n,!1),e.lanes=4194304)}else{if(!i)if(t=iS(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,pw(e,t),jm(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!Fr)return Nn(e),null}else 2*ru()-n.renderingStartTime>cS&&r!==536870912&&(e.flags|=128,i=!0,jm(n,!1),e.lanes=4194304);n.isBackwards?(a.sibling=e.child,e.child=a):(t=n.last,t!==null?t.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=ru(),t.sibling=null,r=yi.current,An(yi,i?r&1|2:r&1),Fr&&Wl(e,n.treeForkCount),t):(Nn(e),null);case 22:case 23:return Jo(e),$N(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),r=e.updateQueue,r!==null&&pw(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&Ji(qd),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),oc(Ai),Nn(e),null;case 25:return null;case 30:return null}throw Error(ze(156,e.tag))}function ite(t,e){switch(VN(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oc(Ai),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return $E(e),null;case 31:if(e.memoizedState!==null){if(Jo(e),e.alternate===null)throw Error(ze(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Jo(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));$d()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ji(yi),null;case 4:return zg(),null;case 10:return oc(e.type),null;case 22:case 23:return Jo(e),$N(),t!==null&&Ji(qd),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return oc(Ai),null;case 25:return null;default:return null}}function lG(t,e){switch(VN(e),e.tag){case 3:oc(Ai),zg();break;case 26:case 27:case 5:$E(e);break;case 4:zg();break;case 31:e.memoizedState!==null&&Jo(e);break;case 13:Jo(e);break;case 19:Ji(yi);break;case 10:oc(e.type);break;case 22:case 23:Jo(e),$N(),t!==null&&Ji(qd);break;case 24:oc(Ai)}}function d_(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,o=r.inst;n=a(),o.destroy=n}r=r.next}while(r!==i)}}catch(u){dn(e,e.return,u)}}function sh(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var o=n.inst,u=o.destroy;if(u!==void 0){o.destroy=void 0,i=e;var s=r,l=u;try{l()}catch(c){dn(i,s,c)}}}n=n.next}while(n!==a)}}catch(c){dn(e,e.return,c)}}function cG(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{b7(e,r)}catch(n){dn(t,t.return,n)}}}function fG(t,e,r){r.props=Jd(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){dn(t,e,n)}}function L0(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(i){dn(t,e,i)}}function il(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){dn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){dn(t,e,i)}else r.current=null}function hG(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){dn(t,t.return,i)}}function Yx(t,e,r){try{var n=t.stateNode;xte(n,t.type,r,e),n[xo]=e}catch(i){dn(t,t.return,i)}}function dG(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Eh(t.type)||t.tag===4}function Wx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dG(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Eh(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function GM(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ql));else if(n!==4&&(n===27&&Eh(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(GM(t,e,r),t=t.sibling;t!==null;)GM(t,e,r),t=t.sibling}function lS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&Eh(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lS(t,e,r),t=t.sibling;t!==null;)lS(t,e,r),t=t.sibling}function vG(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ya(e,n,r),e[va]=t,e[xo]=r}catch(a){dn(t,t.return,a)}}var $l=!1,xi=!1,Xx=!1,j5=typeof WeakSet=="function"?WeakSet:Set,Zi=null;function ate(t,e){if(t=t.containerInfo,KM=_S,t=t7(t),UN(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,u=-1,s=-1,l=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(u=o+i),f!==a||n!==0&&f.nodeType!==3||(s=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===r&&++l===i&&(u=o),h===a&&++c===n&&(s=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=u===-1||s===-1?null:{start:u,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(ZM={focusedElem:t,selectionRange:r},_S=!1,Zi=e;Zi!==null;)if(e=Zi,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Zi=t;else for(;Zi!==null;){switch(e=Zi,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)i=t[r],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var v=Jd(r.type,i);t=n.getSnapshotBeforeUpdate(v,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(y){dn(r,r.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)JM(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":JM(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ze(163))}if(t=e.sibling,t!==null){t.return=e.return,Zi=t;break}Zi=e.return}}function pG(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Fl(t,r),n&4&&d_(5,r);break;case 1:if(Fl(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(o){dn(r,r.return,o)}else{var i=Jd(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){dn(r,r.return,o)}}n&64&&cG(r),n&512&&L0(r,r.return);break;case 3:if(Fl(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{b7(t,e)}catch(o){dn(r,r.return,o)}}break;case 27:e===null&&n&4&&vG(r);case 26:case 5:Fl(t,r),e===null&&n&4&&hG(r),n&512&&L0(r,r.return);break;case 12:Fl(t,r);break;case 31:Fl(t,r),n&4&&mG(t,r);break;case 13:Fl(t,r),n&4&&bG(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=vte.bind(null,r),Nte(t,r))));break;case 22:if(n=r.memoizedState!==null||$l,!n){e=e!==null&&e.memoizedState!==null||xi,i=$l;var a=xi;$l=n,(xi=e)&&!a?Hl(t,r,(r.subtreeFlags&8772)!==0):Fl(t,r),$l=i,xi=a}break;case 30:break;default:Fl(t,r)}}function gG(t){var e=t.alternate;e!==null&&(t.alternate=null,gG(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&IN(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zn=null,bo=!1;function Ul(t,e,r){for(r=r.child;r!==null;)yG(t,e,r),r=r.sibling}function yG(t,e,r){if(nu&&typeof nu.onCommitFiberUnmount=="function")try{nu.onCommitFiberUnmount(o_,r)}catch{}switch(r.tag){case 26:xi||il(r,e),Ul(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:xi||il(r,e);var n=zn,i=bo;Eh(r.type)&&(zn=r.stateNode,bo=!1),Ul(t,e,r),F0(r.stateNode),zn=n,bo=i;break;case 5:xi||il(r,e);case 6:if(n=zn,i=bo,zn=null,Ul(t,e,r),zn=n,bo=i,zn!==null)if(bo)try{(zn.nodeType===9?zn.body:zn.nodeName==="HTML"?zn.ownerDocument.body:zn).removeChild(r.stateNode)}catch(a){dn(r,e,a)}else try{zn.removeChild(r.stateNode)}catch(a){dn(r,e,a)}break;case 18:zn!==null&&(bo?(t=zn,K5(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Zg(t)):K5(zn,r.stateNode));break;case 4:n=zn,i=bo,zn=r.stateNode.containerInfo,bo=!0,Ul(t,e,r),zn=n,bo=i;break;case 0:case 11:case 14:case 15:sh(2,r,e),xi||sh(4,r,e),Ul(t,e,r);break;case 1:xi||(il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&fG(r,e,n)),Ul(t,e,r);break;case 21:Ul(t,e,r);break;case 22:xi=(n=xi)||r.memoizedState!==null,Ul(t,e,r),xi=n;break;default:Ul(t,e,r)}}function mG(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zg(t)}catch(r){dn(e,e.return,r)}}}function bG(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zg(t)}catch(r){dn(e,e.return,r)}}function ote(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new j5),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new j5),e;default:throw Error(ze(435,t.tag))}}function gw(t,e){var r=ote(t);e.forEach(function(n){if(!r.has(n)){r.add(n);var i=pte.bind(null,t,n);n.then(i,i)}})}function go(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 27:if(Eh(u.type)){zn=u.stateNode,bo=!1;break e}break;case 5:zn=u.stateNode,bo=!1;break e;case 3:case 4:zn=u.stateNode.containerInfo,bo=!0;break e}u=u.return}if(zn===null)throw Error(ze(160));yG(a,o,i),zn=null,bo=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)_G(e,t),e=e.sibling}var fs=null;function _G(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:go(e,t),yo(t),n&4&&(sh(3,t,t.return),d_(3,t),sh(5,t,t.return));break;case 1:go(e,t),yo(t),n&512&&(xi||r===null||il(r,r.return)),n&64&&$l&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=fs;if(go(e,t),yo(t),n&512&&(xi||r===null||il(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[l_]||a[va]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),ya(a,n,r),a[va]=t,Qi(a),n=a;break e;case"link":var o=n4("link","href",i).get(n+(r.href||""));if(o){for(var u=0;u<o.length;u++)if(a=o[u],a.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(u,1);break t}}a=i.createElement(n),ya(a,n,r),i.head.appendChild(a);break;case"meta":if(o=n4("meta","content",i).get(n+(r.content||""))){for(u=0;u<o.length;u++)if(a=o[u],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(u,1);break t}}a=i.createElement(n),ya(a,n,r),i.head.appendChild(a);break;default:throw Error(ze(468,n))}a[va]=t,Qi(a),n=a}t.stateNode=n}else i4(i,t.type,t.stateNode);else t.stateNode=r4(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?i4(i,t.type,t.stateNode):r4(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Yx(t,t.memoizedProps,r.memoizedProps)}break;case 27:go(e,t),yo(t),n&512&&(xi||r===null||il(r,r.return)),r!==null&&n&4&&Yx(t,t.memoizedProps,r.memoizedProps);break;case 5:if(go(e,t),yo(t),n&512&&(xi||r===null||il(r,r.return)),t.flags&32){i=t.stateNode;try{Gg(i,"")}catch(v){dn(t,t.return,v)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,Yx(t,i,r!==null?r.memoizedProps:i)),n&1024&&(Xx=!0);break;case 6:if(go(e,t),yo(t),n&4){if(t.stateNode===null)throw Error(ze(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(v){dn(t,t.return,v)}}break;case 3:if(EE=null,i=fs,fs=yS(e.containerInfo),go(e,t),fs=i,yo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zg(e.containerInfo)}catch(v){dn(t,t.return,v)}Xx&&(Xx=!1,wG(t));break;case 4:n=fs,fs=yS(t.stateNode.containerInfo),go(e,t),yo(t),fs=n;break;case 12:go(e,t),yo(t);break;case 31:go(e,t),yo(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,gw(t,n)));break;case 13:go(e,t),yo(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(pO=ru()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,gw(t,n)));break;case 22:i=t.memoizedState!==null;var s=r!==null&&r.memoizedState!==null,l=$l,c=xi;if($l=l||i,xi=c||s,go(e,t),xi=c,$l=l,yo(t),n&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(r===null||s||$l||xi||Ad(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){s=r=e;try{if(a=s.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{u=s.stateNode;var f=s.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){dn(s,s.return,v)}}}else if(e.tag===6){if(r===null){s=e;try{s.stateNode.nodeValue=i?"":s.memoizedProps}catch(v){dn(s,s.return,v)}}}else if(e.tag===18){if(r===null){s=e;try{var d=s.stateNode;i?Z5(d,!0):Z5(s.stateNode,!1)}catch(v){dn(s,s.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,gw(t,r))));break;case 19:go(e,t),yo(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,gw(t,n)));break;case 30:break;case 21:break;default:go(e,t),yo(t)}}function yo(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(dG(n)){r=n;break}n=n.return}if(r==null)throw Error(ze(160));switch(r.tag){case 27:var i=r.stateNode,a=Wx(t);lS(t,a,i);break;case 5:var o=r.stateNode;r.flags&32&&(Gg(o,""),r.flags&=-33);var u=Wx(t);lS(t,u,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Wx(t);GM(t,l,s);break;default:throw Error(ze(161))}}catch(c){dn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wG(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;wG(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Fl(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)pG(t,e.alternate,e),e=e.sibling}function Ad(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:sh(4,e,e.return),Ad(e);break;case 1:il(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&fG(e,e.return,r),Ad(e);break;case 27:F0(e.stateNode);case 26:case 5:il(e,e.return),Ad(e);break;case 22:e.memoizedState===null&&Ad(e);break;case 30:Ad(e);break;default:Ad(e)}t=t.sibling}}function Hl(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,o=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(i,a,r),d_(4,a);break;case 1:if(Hl(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(l){dn(n,n.return,l)}if(n=a,i=n.updateQueue,i!==null){var u=n.stateNode;try{var s=i.shared.hiddenCallbacks;if(s!==null)for(i.shared.hiddenCallbacks=null,i=0;i<s.length;i++)m7(s[i],u)}catch(l){dn(n,n.return,l)}}r&&o&64&&cG(a),L0(a,a.return);break;case 27:vG(a);case 26:case 5:Hl(i,a,r),r&&n===null&&o&4&&hG(a),L0(a,a.return);break;case 12:Hl(i,a,r);break;case 31:Hl(i,a,r),r&&o&4&&mG(i,a);break;case 13:Hl(i,a,r),r&&o&4&&bG(i,a);break;case 22:a.memoizedState===null&&Hl(i,a,r),L0(a,a.return);break;case 30:break;default:Hl(i,a,r)}e=e.sibling}}function fk(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&f_(r))}function hk(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&f_(t))}function us(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)EG(t,e,r,n),e=e.sibling}function EG(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:us(t,e,r,n),i&2048&&d_(9,e);break;case 1:us(t,e,r,n);break;case 3:us(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&f_(t)));break;case 12:if(i&2048){us(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,o=a.id,u=a.onPostCommit;typeof u=="function"&&u(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(s){dn(e,e.return,s)}}else us(t,e,r,n);break;case 31:us(t,e,r,n);break;case 13:us(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,o=e.alternate,e.memoizedState!==null?a._visibility&2?us(t,e,r,n):j0(t,e):a._visibility&2?us(t,e,r,n):(a._visibility|=2,Jp(t,e,r,n,(e.subtreeFlags&10256)!==0||!1)),i&2048&&fk(o,e);break;case 24:us(t,e,r,n),i&2048&&hk(e.alternate,e);break;default:us(t,e,r,n)}}function Jp(t,e,r,n,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,o=e,u=r,s=n,l=o.flags;switch(o.tag){case 0:case 11:case 15:Jp(a,o,u,s,i),d_(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Jp(a,o,u,s,i):j0(a,o):(c._visibility|=2,Jp(a,o,u,s,i)),i&&l&2048&&fk(o.alternate,o);break;case 24:Jp(a,o,u,s,i),i&&l&2048&&hk(o.alternate,o);break;default:Jp(a,o,u,s,i)}e=e.sibling}}function j0(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:j0(r,n),i&2048&&fk(n.alternate,n);break;case 24:j0(r,n),i&2048&&hk(n.alternate,n);break;default:j0(r,n)}e=e.sibling}}var s0=8192;function Mp(t,e,r){if(t.subtreeFlags&s0)for(t=t.child;t!==null;)SG(t,e,r),t=t.sibling}function SG(t,e,r){switch(t.tag){case 26:Mp(t,e,r),t.flags&s0&&t.memoizedState!==null&&Yte(r,fs,t.memoizedState,t.memoizedProps);break;case 5:Mp(t,e,r);break;case 3:case 4:var n=fs;fs=yS(t.stateNode.containerInfo),Mp(t,e,r),fs=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=s0,s0=16777216,Mp(t,e,r),s0=n):Mp(t,e,r));break;default:Mp(t,e,r)}}function OG(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Bm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Zi=n,xG(n,t)}OG(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)TG(t),t=t.sibling}function TG(t){switch(t.tag){case 0:case 11:case 15:Bm(t),t.flags&2048&&sh(9,t,t.return);break;case 3:Bm(t);break;case 12:Bm(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,_E(t)):Bm(t);break;default:Bm(t)}}function _E(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Zi=n,xG(n,t)}OG(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:sh(8,e,e.return),_E(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,_E(e));break;default:_E(e)}t=t.sibling}}function xG(t,e){for(;Zi!==null;){var r=Zi;switch(r.tag){case 0:case 11:case 15:sh(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:f_(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Zi=n;else e:for(r=t;Zi!==null;){n=Zi;var i=n.sibling,a=n.return;if(gG(n),n===r){Zi=null;break e}if(i!==null){i.return=a,Zi=i;break e}Zi=a}}}var ute={getCacheForType:function(t){var e=ga(Ai),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r},cacheSignal:function(){return ga(Ai).controller.signal}},ste=typeof WeakMap=="function"?WeakMap:Map,rn=0,Sn=null,Dr=null,Br=0,hn=0,Zo=null,Mf=!1,py=!1,dk=!1,pc=0,oi=0,lh=0,Vd=0,vk=0,tu=0,Wg=0,B0=null,_o=null,VM=!1,pO=0,CG=0,cS=1/0,fS=null,Wf=null,ki=0,Xf=null,Xg=null,uc=0,HM=0,YM=null,AG=null,U0=0,WM=null;function au(){return rn&2&&Br!==0?Br&-Br:Zt.T!==null?gk():jq()}function RG(){if(tu===0)if(!(Br&536870912)||Fr){var t=sw;sw<<=1,!(sw&3932160)&&(sw=262144),tu=t}else tu=536870912;return t=su.current,t!==null&&(t.flags|=32),tu}function To(t,e,r){(t===Sn&&(hn===2||hn===9)||t.cancelPendingCommit!==null)&&($g(t,0),If(t,Br,tu,!1)),s_(t,r),(!(rn&2)||t!==Sn)&&(t===Sn&&(!(rn&2)&&(Vd|=r),oi===4&&If(t,Br,tu,!1)),vl(t))}function PG(t,e,r){if(rn&6)throw Error(ze(327));var n=!r&&(e&127)===0&&(e&t.expiredLanes)===0||u_(t,e),i=n?fte(t,e):$x(t,e,!0),a=n;do{if(i===0){py&&!n&&If(t,e,0,!1);break}else{if(r=t.current.alternate,a&&!lte(r)){i=$x(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var u=t;i=B0;var s=u.current.memoizedState.isDehydrated;if(s&&($g(u,o).flags|=256),o=$x(u,o,!1),o!==2){if(dk&&!s){u.errorRecoveryDisabledLanes|=a,Vd|=a,i=4;break e}a=_o,_o=i,a!==null&&(_o===null?_o=a:_o.push.apply(_o,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){$g(t,0),If(t,e,0,!0);break}e:{switch(n=t,a=i,a){case 0:case 1:throw Error(ze(345));case 4:if((e&4194048)!==e)break;case 6:If(n,e,tu,!Mf);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(ze(329))}if((e&62914560)===e&&(i=pO+300-ru(),10<i)){if(If(n,e,tu,!Mf),iO(n,0,!0)!==0)break e;uc=e,n.timeoutHandle=KG(B5.bind(null,n,r,_o,fS,VM,e,tu,Vd,Wg,Mf,a,"Throttled",-0,0),i);break e}B5(n,r,_o,fS,VM,e,tu,Vd,Wg,Mf,a,null,-0,0)}}break}while(!0);vl(t)}function B5(t,e,r,n,i,a,o,u,s,l,c,f,h,d){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ql},SG(e,a,f);var v=(a&62914560)===a?pO-ru():(a&4194048)===a?CG-ru():0;if(v=Wte(f,v),v!==null){uc=a,t.cancelPendingCommit=v(F5.bind(null,t,e,a,r,n,i,o,u,s,c,f,null,h,d)),If(t,a,o,!l);return}}F5(t,e,a,r,n,i,o,u,s)}function lte(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!uu(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function If(t,e,r,n){e&=~vk,e&=~Vd,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var a=31-iu(i),o=1<<a;n[a]=-1,i&=~o}r!==0&&Nq(t,r,e)}function gO(){return rn&6?!0:(v_(0),!1)}function pk(){if(Dr!==null){if(hn===0)var t=Dr.return;else t=Dr,Jl=gv=null,ek(t),Cg=null,Rb=0,t=Dr;for(;t!==null;)lG(t.alternate,t),t=t.return;Dr=null}}function $g(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Rte(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),uc=0,pk(),Sn=t,Dr=r=ac(t.current,null),Br=e,hn=0,Zo=null,Mf=!1,py=u_(t,e),dk=!1,Wg=tu=vk=Vd=lh=oi=0,_o=B0=null,VM=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-iu(n),a=1<<i;e|=t[i],n&=~a}return pc=e,sO(),r}function DG(t,e){pr=null,Zt.H=Db,e===vy||e===cO?(e=g5(),hn=3):e===WN?(e=g5(),hn=4):hn=e===lk?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Zo=e,Dr===null&&(oi=1,uS(t,Bu(e,t.current)))}function MG(){var t=su.current;return t===null?!0:(Br&4194048)===Br?zu===null:(Br&62914560)===Br||Br&536870912?t===zu:!1}function IG(){var t=Zt.H;return Zt.H=Db,t===null?Db:t}function NG(){var t=Zt.A;return Zt.A=ute,t}function hS(){oi=4,Mf||(Br&4194048)!==Br&&su.current!==null||(py=!0),!(lh&134217727)&&!(Vd&134217727)||Sn===null||If(Sn,Br,tu,!1)}function $x(t,e,r){var n=rn;rn|=2;var i=IG(),a=NG();(Sn!==t||Br!==e)&&(fS=null,$g(t,e)),e=!1;var o=oi;e:do try{if(hn!==0&&Dr!==null){var u=Dr,s=Zo;switch(hn){case 8:pk(),o=6;break e;case 3:case 2:case 9:case 6:su.current===null&&(e=!0);var l=hn;if(hn=0,Zo=null,pg(t,u,s,l),r&&py){o=0;break e}break;default:l=hn,hn=0,Zo=null,pg(t,u,s,l)}}cte(),o=oi;break}catch(c){DG(t,c)}while(!0);return e&&t.shellSuspendCounter++,Jl=gv=null,rn=n,Zt.H=i,Zt.A=a,Dr===null&&(Sn=null,Br=0,sO()),o}function cte(){for(;Dr!==null;)kG(Dr)}function fte(t,e){var r=rn;rn|=2;var n=IG(),i=NG();Sn!==t||Br!==e?(fS=null,cS=ru()+500,$g(t,e)):py=u_(t,e);e:do try{if(hn!==0&&Dr!==null){e=Dr;var a=Zo;t:switch(hn){case 1:hn=0,Zo=null,pg(t,e,a,1);break;case 2:case 9:if(p5(a)){hn=0,Zo=null,U5(e);break}e=function(){hn!==2&&hn!==9||Sn!==t||(hn=7),vl(t)},a.then(e,e);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:p5(a)?(hn=0,Zo=null,U5(e)):(hn=0,Zo=null,pg(t,e,a,7));break;case 5:var o=null;switch(Dr.tag){case 26:o=Dr.memoizedState;case 5:case 27:var u=Dr;if(o?tV(o):u.stateNode.complete){hn=0,Zo=null;var s=u.sibling;if(s!==null)Dr=s;else{var l=u.return;l!==null?(Dr=l,yO(l)):Dr=null}break t}}hn=0,Zo=null,pg(t,e,a,5);break;case 6:hn=0,Zo=null,pg(t,e,a,6);break;case 8:pk(),oi=6;break e;default:throw Error(ze(462))}}hte();break}catch(c){DG(t,c)}while(!0);return Jl=gv=null,Zt.H=n,Zt.A=i,rn=r,Dr!==null?0:(Sn=null,Br=0,sO(),oi)}function hte(){for(;Dr!==null&&!kJ();)kG(Dr)}function kG(t){var e=sG(t.alternate,t,pc);t.memoizedProps=t.pendingProps,e===null?yO(t):Dr=e}function U5(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=M5(r,e,e.pendingProps,e.type,void 0,Br);break;case 11:e=M5(r,e,e.pendingProps,e.type.render,e.ref,Br);break;case 5:ek(e);default:lG(r,e),e=Dr=l7(e,pc),e=sG(r,e,pc)}t.memoizedProps=t.pendingProps,e===null?yO(t):Dr=e}function pg(t,e,r,n){Jl=gv=null,ek(e),Cg=null,Rb=0;var i=e.return;try{if(ete(t,i,e,r,Br)){oi=1,uS(t,Bu(r,t.current)),Dr=null;return}}catch(a){if(i!==null)throw Dr=i,a;oi=1,uS(t,Bu(r,t.current)),Dr=null;return}e.flags&32768?(Fr||n===1?t=!0:py||Br&536870912?t=!1:(Mf=t=!0,(n===2||n===9||n===3||n===6)&&(n=su.current,n!==null&&n.tag===13&&(n.flags|=16384))),LG(e,t)):yO(e)}function yO(t){var e=t;do{if(e.flags&32768){LG(e,Mf);return}t=e.return;var r=nte(e.alternate,e,pc);if(r!==null){Dr=r;return}if(e=e.sibling,e!==null){Dr=e;return}Dr=e=t}while(e!==null);oi===0&&(oi=5)}function LG(t,e){do{var r=ite(t.alternate,t);if(r!==null){r.flags&=32767,Dr=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){Dr=t;return}Dr=t=r}while(t!==null);oi=6,Dr=null}function F5(t,e,r,n,i,a,o,u,s){t.cancelPendingCommit=null;do mO();while(ki!==0);if(rn&6)throw Error(ze(327));if(e!==null){if(e===t.current)throw Error(ze(177));if(a=e.lanes|e.childLanes,a|=FN,HJ(t,r,a,o,u,s),t===Sn&&(Dr=Sn=null,Br=0),Xg=e,Xf=t,uc=r,HM=a,YM=i,AG=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,gte(KE,function(){return zG(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=Zt.T,Zt.T=null,i=nn.p,nn.p=2,o=rn,rn|=4;try{ate(t,e,r)}finally{rn=o,nn.p=i,Zt.T=n}}ki=1,jG(),BG(),UG()}}function jG(){if(ki===1){ki=0;var t=Xf,e=Xg,r=(e.flags&13878)!==0;if(e.subtreeFlags&13878||r){r=Zt.T,Zt.T=null;var n=nn.p;nn.p=2;var i=rn;rn|=4;try{_G(e,t);var a=ZM,o=t7(t.containerInfo),u=a.focusedElem,s=a.selectionRange;if(o!==u&&u&&u.ownerDocument&&e7(u.ownerDocument.documentElement,u)){if(s!==null&&UN(u)){var l=s.start,c=s.end;if(c===void 0&&(c=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(c,u.value.length);else{var f=u.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var d=h.getSelection(),v=u.textContent.length,y=Math.min(s.start,v),b=s.end===void 0?y:Math.min(s.end,v);!d.extend&&y>b&&(o=b,b=y,y=o);var p=s5(u,y),m=s5(u,b);if(p&&m&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==m.node||d.focusOffset!==m.offset)){var g=f.createRange();g.setStart(p.node,p.offset),d.removeAllRanges(),y>b?(d.addRange(g),d.extend(m.node,m.offset)):(g.setEnd(m.node,m.offset),d.addRange(g))}}}}for(f=[],d=u;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<f.length;u++){var _=f[u];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_S=!!KM,ZM=KM=null}finally{rn=i,nn.p=n,Zt.T=r}}t.current=e,ki=2}}function BG(){if(ki===2){ki=0;var t=Xf,e=Xg,r=(e.flags&8772)!==0;if(e.subtreeFlags&8772||r){r=Zt.T,Zt.T=null;var n=nn.p;nn.p=2;var i=rn;rn|=4;try{pG(t,e.alternate,e)}finally{rn=i,nn.p=n,Zt.T=r}}ki=3}}function UG(){if(ki===4||ki===3){ki=0,LJ();var t=Xf,e=Xg,r=uc,n=AG;e.subtreeFlags&10256||e.flags&10256?ki=5:(ki=0,Xg=Xf=null,FG(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Wf=null),MN(r),e=e.stateNode,nu&&typeof nu.onCommitFiberRoot=="function")try{nu.onCommitFiberRoot(o_,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Zt.T,i=nn.p,nn.p=2,Zt.T=null;try{for(var a=t.onRecoverableError,o=0;o<n.length;o++){var u=n[o];a(u.value,{componentStack:u.stack})}}finally{Zt.T=e,nn.p=i}}uc&3&&mO(),vl(t),i=t.pendingLanes,r&261930&&i&42?t===WM?U0++:(U0=0,WM=t):U0=0,v_(0)}}function FG(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,f_(e)))}function mO(){return jG(),BG(),UG(),zG()}function zG(){if(ki!==5)return!1;var t=Xf,e=HM;HM=0;var r=MN(uc),n=Zt.T,i=nn.p;try{nn.p=32>r?32:r,Zt.T=null,r=YM,YM=null;var a=Xf,o=uc;if(ki=0,Xg=Xf=null,uc=0,rn&6)throw Error(ze(331));var u=rn;if(rn|=4,TG(a.current),EG(a,a.current,o,r),rn=u,v_(0,!1),nu&&typeof nu.onPostCommitFiberRoot=="function")try{nu.onPostCommitFiberRoot(o_,a)}catch{}return!0}finally{nn.p=i,Zt.T=n,FG(t,e)}}function z5(t,e,r){e=Bu(r,e),e=FM(t.stateNode,e,2),t=Yf(t,e,2),t!==null&&(s_(t,2),vl(t))}function dn(t,e,r){if(t.tag===3)z5(t,t,r);else for(;e!==null;){if(e.tag===3){z5(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wf===null||!Wf.has(n))){t=Bu(r,t),r=rG(2),n=Yf(e,r,2),n!==null&&(nG(r,n,e,t),s_(n,2),vl(n));break}}e=e.return}}function Kx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ste;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(dk=!0,i.add(r),t=dte.bind(null,t,e,r),e.then(t,t))}function dte(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Sn===t&&(Br&r)===r&&(oi===4||oi===3&&(Br&62914560)===Br&&300>ru()-pO?!(rn&2)&&$g(t,0):vk|=r,Wg===Br&&(Wg=0)),vl(t)}function qG(t,e){e===0&&(e=Iq()),t=pv(t,e),t!==null&&(s_(t,e),vl(t))}function vte(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),qG(t,r)}function pte(t,e){var r=0;switch(t.tag){case 31:case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(ze(314))}n!==null&&n.delete(e),qG(t,r)}function gte(t,e){return PN(t,e)}var dS=null,eg=null,XM=!1,vS=!1,Zx=!1,Nf=0;function vl(t){t!==eg&&t.next===null&&(eg===null?dS=eg=t:eg=eg.next=t),vS=!0,XM||(XM=!0,mte())}function v_(t,e){if(!Zx&&vS){Zx=!0;do for(var r=!1,n=dS;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var o=n.suspendedLanes,u=n.pingedLanes;a=(1<<31-iu(42|t)+1)-1,a&=i&~(o&~u),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(r=!0,q5(n,a))}else a=Br,a=iO(n,n===Sn?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||u_(n,a)||(r=!0,q5(n,a));n=n.next}while(r);Zx=!1}}function yte(){GG()}function GG(){vS=XM=!1;var t=0;Nf!==0&&Ate()&&(t=Nf);for(var e=ru(),r=null,n=dS;n!==null;){var i=n.next,a=VG(n,e);a===0?(n.next=null,r===null?dS=i:r.next=i,i===null&&(eg=r)):(r=n,(t!==0||a&3)&&(vS=!0)),n=i}ki!==0&&ki!==5||v_(t),Nf!==0&&(Nf=0)}function VG(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var o=31-iu(a),u=1<<o,s=i[o];s===-1?(!(u&r)||u&n)&&(i[o]=VJ(u,e)):s<=e&&(t.expiredLanes|=u),a&=~u}if(e=Sn,r=Br,r=iO(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(hn===2||hn===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Tx(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||u_(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&Tx(n),MN(r)){case 2:case 8:r=Dq;break;case 32:r=KE;break;case 268435456:r=Mq;break;default:r=KE}return n=HG.bind(null,t),r=PN(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&Tx(n),t.callbackPriority=2,t.callbackNode=null,2}function HG(t,e){if(ki!==0&&ki!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(mO()&&t.callbackNode!==r)return null;var n=Br;return n=iO(t,t===Sn?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(PG(t,n,e),VG(t,ru()),t.callbackNode!=null&&t.callbackNode===r?HG.bind(null,t):null)}function q5(t,e){if(mO())return null;PG(t,e,!0)}function mte(){Pte(function(){rn&6?PN(Pq,yte):GG()})}function gk(){if(Nf===0){var t=Vg;t===0&&(t=uw,uw<<=1,!(uw&261888)&&(uw=256)),Nf=t}return Nf}function G5(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fE(""+t)}function V5(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function bte(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=G5((i[xo]||null).action),o=n.submitter;o&&(e=(e=o[xo]||null)?G5(e.formAction):o.getAttribute("formAction"),e!==null&&(a=e,o=null));var u=new aO("action","action",null,n,i);t.push({event:u,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Nf!==0){var s=o?V5(i,o):new FormData(i);BM(r,{pending:!0,data:s,method:i.method,action:a},null,s)}}else typeof a=="function"&&(u.preventDefault(),s=o?V5(i,o):new FormData(i),BM(r,{pending:!0,data:s,method:i.method,action:a},a,s))},currentTarget:i}]})}}for(var Qx=0;Qx<xM.length;Qx++){var Jx=xM[Qx],_te=Jx.toLowerCase(),wte=Jx[0].toUpperCase()+Jx.slice(1);Ss(_te,"on"+wte)}Ss(n7,"onAnimationEnd");Ss(i7,"onAnimationIteration");Ss(a7,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(jee,"onTransitionRun");Ss(Bee,"onTransitionStart");Ss(Uee,"onTransitionCancel");Ss(o7,"onTransitionEnd");qg("onMouseEnter",["mouseout","mouseover"]);qg("onMouseLeave",["mouseout","mouseover"]);qg("onPointerEnter",["pointerout","pointerover"]);qg("onPointerLeave",["pointerout","pointerover"]);hv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hv("onBeforeInput",["compositionend","keypress","textInput","paste"]);hv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ete=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mb));function YG(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var u=n[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;a=u,i.currentTarget=l;try{a(i)}catch(c){QE(c)}i.currentTarget=null,a=s}else for(o=0;o<n.length;o++){if(u=n[o],s=u.instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;a=u,i.currentTarget=l;try{a(i)}catch(c){QE(c)}i.currentTarget=null,a=s}}}}function Pr(t,e){var r=e[mM];r===void 0&&(r=e[mM]=new Set);var n=t+"__bubble";r.has(n)||(WG(e,t,2,!1),r.add(n))}function e2(t,e,r){var n=0;e&&(n|=4),WG(r,t,n,e)}var yw="_reactListening"+Math.random().toString(36).slice(2);function yk(t){if(!t[yw]){t[yw]=!0,Bq.forEach(function(r){r!=="selectionchange"&&(Ete.has(r)||e2(r,!1,t),e2(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yw]||(e[yw]=!0,e2("selectionchange",!1,e))}}function WG(t,e,r,n){switch(oV(e)){case 2:var i=Kte;break;case 8:i=Zte;break;default:i=wk}r=i.bind(null,e,r,t),i=void 0,!SM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function t2(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;u!==null;){if(o=og(u),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=a=o;continue e}u=u.parentNode}}n=n.return}Yq(function(){var l=a,c=kN(r),f=[];e:{var h=u7.get(t);if(h!==void 0){var d=aO,v=t;switch(t){case"keypress":if(dE(r)===0)break e;case"keydown":case"keyup":d=pee;break;case"focusin":v="focus",d=Px;break;case"focusout":v="blur",d=Px;break;case"beforeblur":case"afterblur":d=Px;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Q3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=nee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=mee;break;case n7:case i7:case a7:d=oee;break;case o7:d=_ee;break;case"scroll":case"scrollend":d=tee;break;case"wheel":d=Eee;break;case"copy":case"cut":case"paste":d=see;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=e5;break;case"toggle":case"beforetoggle":d=Oee}var y=(e&4)!==0,b=!y&&(t==="scroll"||t==="scrollend"),p=y?h!==null?h+"Capture":null:h;y=[];for(var m=l,g;m!==null;){var _=m;if(g=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||g===null||p===null||(_=Ob(m,p),_!=null&&y.push(Ib(m,_,g))),b)break;m=m.return}0<y.length&&(h=new d(h,v,null,r,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&r!==EM&&(v=r.relatedTarget||r.fromElement)&&(og(v)||v[fy]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(v=r.relatedTarget||r.toElement,d=l,v=v?og(v):null,v!==null&&(b=a_(v),y=v.tag,v!==b||y!==5&&y!==27&&y!==6)&&(v=null)):(d=null,v=l),d!==v)){if(y=Q3,_="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=e5,_="onPointerLeave",p="onPointerEnter",m="pointer"),b=d==null?h:o0(d),g=v==null?h:o0(v),h=new y(_,m+"leave",d,r,c),h.target=b,h.relatedTarget=g,_=null,og(c)===l&&(y=new y(p,m+"enter",v,r,c),y.target=g,y.relatedTarget=b,_=y),b=_,d&&v)t:{for(y=Ste,p=d,m=v,g=0,_=p;_;_=y(_))g++;_=0;for(var E=m;E;E=y(E))_++;for(;0<g-_;)p=y(p),g--;for(;0<_-g;)m=y(m),_--;for(;g--;){if(p===m||m!==null&&p===m.alternate){y=p;break t}p=y(p),m=y(m)}y=null}else y=null;d!==null&&H5(f,h,d,y,!1),v!==null&&b!==null&&H5(f,b,v,y,!0)}}e:{if(h=l?o0(l):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var T=i5;else if(n5(h))if(Qq)T=Nee;else{T=Mee;var w=Dee}else d=h.nodeName,!d||d.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?l&&NN(l.elementType)&&(T=i5):T=Iee;if(T&&(T=T(t,l))){Zq(f,T,r,c);break e}w&&w(t,h,l),t==="focusout"&&l&&h.type==="number"&&l.memoizedProps.value!=null&&wM(h,"number",h.value)}switch(w=l?o0(l):window,t){case"focusin":(n5(w)||w.contentEditable==="true")&&(lg=w,OM=l,P0=null);break;case"focusout":P0=OM=lg=null;break;case"mousedown":TM=!0;break;case"contextmenu":case"mouseup":case"dragend":TM=!1,l5(f,r,c);break;case"selectionchange":if(Lee)break;case"keydown":case"keyup":l5(f,r,c)}var S;if(BN)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else sg?$q(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Xq&&r.locale!=="ko"&&(sg||C!=="onCompositionStart"?C==="onCompositionEnd"&&sg&&(S=Wq()):(Df=c,LN="value"in Df?Df.value:Df.textContent,sg=!0)),w=pS(l,C),0<w.length&&(C=new J3(C,t,null,r,c),f.push({event:C,listeners:w}),S?C.data=S:(S=Kq(r),S!==null&&(C.data=S)))),(S=xee?Cee(t,r):Aee(t,r))&&(C=pS(l,"onBeforeInput"),0<C.length&&(w=new J3("onBeforeInput","beforeinput",null,r,c),f.push({event:w,listeners:C}),w.data=S)),bte(f,t,l,r,c)}YG(f,e)})}function Ib(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pS(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Ob(t,r),i!=null&&n.unshift(Ib(t,i,a)),i=Ob(t,e),i!=null&&n.push(Ib(t,i,a))),t.tag===3)return n;t=t.return}return[]}function Ste(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function H5(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var u=r,s=u.alternate,l=u.stateNode;if(u=u.tag,s!==null&&s===n)break;u!==5&&u!==26&&u!==27||l===null||(s=l,i?(l=Ob(r,a),l!=null&&o.unshift(Ib(r,l,s))):i||(l=Ob(r,a),l!=null&&o.push(Ib(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Ote=/\r\n?/g,Tte=/\u0000|\uFFFD/g;function Y5(t){return(typeof t=="string"?t:""+t).replace(Ote,`
`).replace(Tte,"")}function XG(t,e){return e=Y5(e),Y5(t)===e}function yn(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Gg(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Gg(t,""+n);break;case"className":cw(t,"class",n);break;case"tabIndex":cw(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":cw(t,r,n);break;case"style":Hq(t,n,a);break;case"data":if(e!=="object"){cw(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=fE(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&yn(t,e,"name",i.name,i,null),yn(t,e,"formEncType",i.formEncType,i,null),yn(t,e,"formMethod",i.formMethod,i,null),yn(t,e,"formTarget",i.formTarget,i,null)):(yn(t,e,"encType",i.encType,i,null),yn(t,e,"method",i.method,i,null),yn(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=fE(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=Ql);break;case"onScroll":n!=null&&Pr("scroll",t);break;case"onScrollEnd":n!=null&&Pr("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ze(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(ze(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=fE(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":Pr("beforetoggle",t),Pr("toggle",t),cE(t,"popover",n);break;case"xlinkActuate":jl(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":jl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":jl(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":jl(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":jl(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":jl(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":jl(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":jl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":jl(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":cE(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=JJ.get(r)||r,cE(t,r,n))}}function $M(t,e,r,n,i,a){switch(r){case"style":Hq(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ze(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(ze(60));t.innerHTML=r}}break;case"children":typeof n=="string"?Gg(t,n):(typeof n=="number"||typeof n=="bigint")&&Gg(t,""+n);break;case"onScroll":n!=null&&Pr("scroll",t);break;case"onScrollEnd":n!=null&&Pr("scrollend",t);break;case"onClick":n!=null&&(t.onclick=Ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uq.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[xo]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):cE(t,r,n)}}}function ya(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pr("error",t),Pr("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var o=r[a];if(o!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ze(137,e));default:yn(t,e,a,o,r,null)}}i&&yn(t,e,"srcSet",r.srcSet,r,null),n&&yn(t,e,"src",r.src,r,null);return;case"input":Pr("invalid",t);var u=a=o=i=null,s=null,l=null;for(n in r)if(r.hasOwnProperty(n)){var c=r[n];if(c!=null)switch(n){case"name":i=c;break;case"type":o=c;break;case"checked":s=c;break;case"defaultChecked":l=c;break;case"value":a=c;break;case"defaultValue":u=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(ze(137,e));break;default:yn(t,e,n,c,r,null)}}qq(t,a,u,s,l,o,i,!1);return;case"select":Pr("invalid",t),n=o=a=null;for(i in r)if(r.hasOwnProperty(i)&&(u=r[i],u!=null))switch(i){case"value":a=u;break;case"defaultValue":o=u;break;case"multiple":n=u;default:yn(t,e,i,u,r,null)}e=a,r=o,t.multiple=!!n,e!=null?Og(t,!!n,e,!1):r!=null&&Og(t,!!n,r,!0);return;case"textarea":Pr("invalid",t),a=i=n=null;for(o in r)if(r.hasOwnProperty(o)&&(u=r[o],u!=null))switch(o){case"value":n=u;break;case"defaultValue":i=u;break;case"children":a=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(ze(91));break;default:yn(t,e,o,u,r,null)}Vq(t,n,i,a);return;case"option":for(s in r)if(r.hasOwnProperty(s)&&(n=r[s],n!=null))switch(s){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:yn(t,e,s,n,r,null)}return;case"dialog":Pr("beforetoggle",t),Pr("toggle",t),Pr("cancel",t),Pr("close",t);break;case"iframe":case"object":Pr("load",t);break;case"video":case"audio":for(n=0;n<Mb.length;n++)Pr(Mb[n],t);break;case"image":Pr("error",t),Pr("load",t);break;case"details":Pr("toggle",t);break;case"embed":case"source":case"link":Pr("error",t),Pr("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(ze(137,e));default:yn(t,e,l,n,r,null)}return;default:if(NN(e)){for(c in r)r.hasOwnProperty(c)&&(n=r[c],n!==void 0&&$M(t,e,c,n,r,void 0));return}}for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!=null&&yn(t,e,u,n,r,null))}function xte(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,u=null,s=null,l=null,c=null;for(d in r){var f=r[d];if(r.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":s=f;default:n.hasOwnProperty(d)||yn(t,e,d,null,n,f)}}for(var h in n){var d=n[h];if(f=r[h],n.hasOwnProperty(h)&&(d!=null||f!=null))switch(h){case"type":a=d;break;case"name":i=d;break;case"checked":l=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(ze(137,e));break;default:d!==f&&yn(t,e,h,d,n,f)}}_M(t,o,u,s,l,c,a,i);return;case"select":d=o=u=h=null;for(a in r)if(s=r[a],r.hasOwnProperty(a)&&s!=null)switch(a){case"value":break;case"multiple":d=s;default:n.hasOwnProperty(a)||yn(t,e,a,null,n,s)}for(i in n)if(a=n[i],s=r[i],n.hasOwnProperty(i)&&(a!=null||s!=null))switch(i){case"value":h=a;break;case"defaultValue":u=a;break;case"multiple":o=a;default:a!==s&&yn(t,e,i,a,n,s)}e=u,r=o,n=d,h!=null?Og(t,!!r,h,!1):!!n!=!!r&&(e!=null?Og(t,!!r,e,!0):Og(t,!!r,r?[]:"",!1));return;case"textarea":d=h=null;for(u in r)if(i=r[u],r.hasOwnProperty(u)&&i!=null&&!n.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:yn(t,e,u,null,n,i)}for(o in n)if(i=n[o],a=r[o],n.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":h=i;break;case"defaultValue":d=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ze(91));break;default:i!==a&&yn(t,e,o,i,n,a)}Gq(t,h,d);return;case"option":for(var v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v))switch(v){case"selected":t.selected=!1;break;default:yn(t,e,v,null,n,h)}for(s in n)if(h=n[s],d=r[s],n.hasOwnProperty(s)&&h!==d&&(h!=null||d!=null))switch(s){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:yn(t,e,s,h,n,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!=null&&!n.hasOwnProperty(y)&&yn(t,e,y,null,n,h);for(l in n)if(h=n[l],d=r[l],n.hasOwnProperty(l)&&h!==d&&(h!=null||d!=null))switch(l){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ze(137,e));break;default:yn(t,e,l,h,n,d)}return;default:if(NN(e)){for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!==void 0&&!n.hasOwnProperty(b)&&$M(t,e,b,void 0,n,h);for(c in n)h=n[c],d=r[c],!n.hasOwnProperty(c)||h===d||h===void 0&&d===void 0||$M(t,e,c,h,n,d);return}}for(var p in r)h=r[p],r.hasOwnProperty(p)&&h!=null&&!n.hasOwnProperty(p)&&yn(t,e,p,null,n,h);for(f in n)h=n[f],d=r[f],!n.hasOwnProperty(f)||h===d||h==null&&d==null||yn(t,e,f,h,n,d)}function W5(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cte(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var i=r[n],a=i.transferSize,o=i.initiatorType,u=i.duration;if(a&&u&&W5(o)){for(o=0,u=i.responseEnd,n+=1;n<r.length;n++){var s=r[n],l=s.startTime;if(l>u)break;var c=s.transferSize,f=s.initiatorType;c&&W5(f)&&(s=s.responseEnd,o+=c*(s<u?1:(u-l)/(s-l)))}if(--n,e+=8*(a+o)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var KM=null,ZM=null;function gS(t){return t.nodeType===9?t:t.ownerDocument}function X5(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $G(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function QM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r2=null;function Ate(){var t=window.event;return t&&t.type==="popstate"?t===r2?!1:(r2=t,!0):(r2=null,!1)}var KG=typeof setTimeout=="function"?setTimeout:void 0,Rte=typeof clearTimeout=="function"?clearTimeout:void 0,$5=typeof Promise=="function"?Promise:void 0,Pte=typeof queueMicrotask=="function"?queueMicrotask:typeof $5<"u"?function(t){return $5.resolve(null).then(t).catch(Dte)}:KG;function Dte(t){setTimeout(function(){throw t})}function Eh(t){return t==="head"}function K5(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"||r==="/&"){if(n===0){t.removeChild(i),Zg(e);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")F0(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,F0(r);for(var a=r.firstChild;a;){var o=a.nextSibling,u=a.nodeName;a[l_]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||r.removeChild(a),a=o}}else r==="body"&&F0(t.ownerDocument.body);r=i}while(r);Zg(e)}function Z5(t,e){var r=t;t=0;do{var n=r.nextSibling;if(r.nodeType===1?e?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(e?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=n}while(r)}function JM(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":JM(r),IN(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Mte(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[l_])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=qu(t.nextSibling),t===null)break}return null}function Ite(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qu(t.nextSibling),t===null))return null;return t}function ZG(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=qu(t.nextSibling),t===null))return null;return t}function eI(t){return t.data==="$?"||t.data==="$~"}function tI(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Nte(t,e){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||r.readyState!=="loading")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function qu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var rI=null;function Q5(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(e===0)return qu(t.nextSibling);e--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||e++}t=t.nextSibling}return null}function J5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(e===0)return t;e--}else r!=="/$"&&r!=="/&"||e++}t=t.previousSibling}return null}function QG(t,e,r){switch(e=gS(r),t){case"html":if(t=e.documentElement,!t)throw Error(ze(452));return t;case"head":if(t=e.head,!t)throw Error(ze(453));return t;case"body":if(t=e.body,!t)throw Error(ze(454));return t;default:throw Error(ze(451))}}function F0(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);IN(t)}var Gu=new Map,e4=new Set;function yS(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wc=nn.d;nn.d={f:kte,r:Lte,D:jte,C:Bte,L:Ute,m:Fte,X:qte,S:zte,M:Gte};function kte(){var t=wc.f(),e=gO();return t||e}function Lte(t){var e=hy(t);e!==null&&e.tag===5&&e.type==="form"?H7(e):wc.r(t)}var gy=typeof document>"u"?null:document;function JG(t,e,r){var n=gy;if(n&&typeof e=="string"&&e){var i=ju(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),e4.has(i)||(e4.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),ya(e,"link",t),Qi(e),n.head.appendChild(e)))}}function jte(t){wc.D(t),JG("dns-prefetch",t,null)}function Bte(t,e){wc.C(t,e),JG("preconnect",t,e)}function Ute(t,e,r){wc.L(t,e,r);var n=gy;if(n&&t&&e){var i='link[rel="preload"][as="'+ju(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+ju(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+ju(r.imageSizes)+'"]')):i+='[href="'+ju(t)+'"]';var a=i;switch(e){case"style":a=Kg(t);break;case"script":a=yy(t)}Gu.has(a)||(t=Bn({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),Gu.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(p_(a))||e==="script"&&n.querySelector(g_(a))||(e=n.createElement("link"),ya(e,"link",t),Qi(e),n.head.appendChild(e)))}}function Fte(t,e){wc.m(t,e);var r=gy;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+ju(n)+'"][href="'+ju(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=yy(t)}if(!Gu.has(a)&&(t=Bn({rel:"modulepreload",href:t},e),Gu.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(g_(a)))return}n=r.createElement("link"),ya(n,"link",t),Qi(n),r.head.appendChild(n)}}}function zte(t,e,r){wc.S(t,e,r);var n=gy;if(n&&t){var i=Sg(n).hoistableStyles,a=Kg(t);e=e||"default";var o=i.get(a);if(!o){var u={loading:0,preload:null};if(o=n.querySelector(p_(a)))u.loading=5;else{t=Bn({rel:"stylesheet",href:t,"data-precedence":e},r),(r=Gu.get(a))&&mk(t,r);var s=o=n.createElement("link");Qi(s),ya(s,"link",t),s._p=new Promise(function(l,c){s.onload=l,s.onerror=c}),s.addEventListener("load",function(){u.loading|=1}),s.addEventListener("error",function(){u.loading|=2}),u.loading|=4,wE(o,e,n)}o={type:"stylesheet",instance:o,count:1,state:u},i.set(a,o)}}}function qte(t,e){wc.X(t,e);var r=gy;if(r&&t){var n=Sg(r).hoistableScripts,i=yy(t),a=n.get(i);a||(a=r.querySelector(g_(i)),a||(t=Bn({src:t,async:!0},e),(e=Gu.get(i))&&bk(t,e),a=r.createElement("script"),Qi(a),ya(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function Gte(t,e){wc.M(t,e);var r=gy;if(r&&t){var n=Sg(r).hoistableScripts,i=yy(t),a=n.get(i);a||(a=r.querySelector(g_(i)),a||(t=Bn({src:t,async:!0,type:"module"},e),(e=Gu.get(i))&&bk(t,e),a=r.createElement("script"),Qi(a),ya(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function t4(t,e,r,n){var i=(i=Gf.current)?yS(i):null;if(!i)throw Error(ze(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=Kg(r.href),r=Sg(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Kg(r.href);var a=Sg(i).hoistableStyles,o=a.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,o),(a=i.querySelector(p_(t)))&&!a._p&&(o.instance=a,o.state.loading=5),Gu.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gu.set(t,r),a||Vte(i,t,r,o.state))),e&&n===null)throw Error(ze(528,""));return o}if(e&&n!==null)throw Error(ze(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=yy(r),r=Sg(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(ze(444,t))}}function Kg(t){return'href="'+ju(t)+'"'}function p_(t){return'link[rel="stylesheet"]['+t+"]"}function eV(t){return Bn({},t,{"data-precedence":t.precedence,precedence:null})}function Vte(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),ya(e,"link",r),Qi(e),t.head.appendChild(e))}function yy(t){return'[src="'+ju(t)+'"]'}function g_(t){return"script[async]"+t}function r4(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+ju(r.href)+'"]');if(n)return e.instance=n,Qi(n),n;var i=Bn({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Qi(n),ya(n,"style",i),wE(n,r.precedence,t),e.instance=n;case"stylesheet":i=Kg(r.href);var a=t.querySelector(p_(i));if(a)return e.state.loading|=4,e.instance=a,Qi(a),a;n=eV(r),(i=Gu.get(i))&&mk(n,i),a=(t.ownerDocument||t).createElement("link"),Qi(a);var o=a;return o._p=new Promise(function(u,s){o.onload=u,o.onerror=s}),ya(a,"link",n),e.state.loading|=4,wE(a,r.precedence,t),e.instance=a;case"script":return a=yy(r.src),(i=t.querySelector(g_(a)))?(e.instance=i,Qi(i),i):(n=r,(i=Gu.get(a))&&(n=Bn({},r),bk(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),Qi(i),ya(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ze(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,wE(n,r.precedence,t));return e.instance}function wE(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,o=0;o<n.length;o++){var u=n[o];if(u.dataset.precedence===e)a=u;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function mk(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function bk(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var EE=null;function n4(t,e,r){if(EE===null){var n=new Map,i=EE=new Map;i.set(r,n)}else i=EE,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[l_]||a[va]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(e)||"";o=t+o;var u=n.get(o);u?u.push(a):n.set(o,[a])}}return n}function i4(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function Hte(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function tV(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Yte(t,e,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var i=Kg(n.href),a=e.querySelector(p_(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=mS.bind(t),e.then(t,t)),r.state.loading|=4,r.instance=a,Qi(a);return}a=e.ownerDocument||e,n=eV(n),(i=Gu.get(i))&&mk(n,i),a=a.createElement("link"),Qi(a);var o=a;o._p=new Promise(function(u,s){o.onload=u,o.onerror=s}),ya(a,"link",n),r.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,e),(e=r.state.preload)&&!(r.state.loading&3)&&(t.count++,r=mS.bind(t),e.addEventListener("load",r),e.addEventListener("error",r))}}var n2=0;function Wte(t,e){return t.stylesheets&&t.count===0&&SE(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var n=setTimeout(function(){if(t.stylesheets&&SE(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&n2===0&&(n2=62500*Cte());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&SE(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>n2?50:800)+e);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function mS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)SE(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bS=null;function SE(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bS=new Map,e.forEach(Xte,t),bS=null,mS.call(t))}function Xte(t,e){if(!(e.state.loading&4)){var r=bS.get(t);if(r)var n=r.get(null);else{r=new Map,bS.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}i=e.instance,o=i.getAttribute("data-precedence"),a=r.get(o)||n,a===n&&r.set(null,i),r.set(o,i),this.count++,n=mS.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Nb={$$typeof:Zl,Provider:null,Consumer:null,_currentValue:Fd,_currentValue2:Fd,_threadCount:0};function $te(t,e,r,n,i,a,o,u,s){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xx(0),this.hiddenUpdates=xx(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function rV(t,e,r,n,i,a,o,u,s,l,c,f){return t=new $te(t,e,r,o,s,l,c,f,u),e=1,a===!0&&(e|=24),a=eu(3,null,null,e),t.current=a,a.stateNode=t,e=HN(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},XN(a),t}function nV(t){return t?(t=hg,t):hg}function iV(t,e,r,n,i,a){i=nV(i),n.context===null?n.context=i:n.pendingContext=i,n=Hf(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=Yf(t,n,e),r!==null&&(To(r,t,e),M0(r,t,e))}function a4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _k(t,e){a4(t,e),(t=t.alternate)&&a4(t,e)}function aV(t){if(t.tag===13||t.tag===31){var e=pv(t,67108864);e!==null&&To(e,t,67108864),_k(t,67108864)}}function o4(t){if(t.tag===13||t.tag===31){var e=au();e=DN(e);var r=pv(t,e);r!==null&&To(r,t,e),_k(t,e)}}var _S=!0;function Kte(t,e,r,n){var i=Zt.T;Zt.T=null;var a=nn.p;try{nn.p=2,wk(t,e,r,n)}finally{nn.p=a,Zt.T=i}}function Zte(t,e,r,n){var i=Zt.T;Zt.T=null;var a=nn.p;try{nn.p=8,wk(t,e,r,n)}finally{nn.p=a,Zt.T=i}}function wk(t,e,r,n){if(_S){var i=nI(n);if(i===null)t2(t,e,n,wS,r),u4(t,n);else if(Jte(i,t,e,r,n))n.stopPropagation();else if(u4(t,n),e&4&&-1<Qte.indexOf(t)){for(;i!==null;){var a=hy(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=xd(a.pendingLanes);if(o!==0){var u=a;for(u.pendingLanes|=2,u.entangledLanes|=2;o;){var s=1<<31-iu(o);u.entanglements[1]|=s,o&=~s}vl(a),!(rn&6)&&(cS=ru()+500,v_(0))}}break;case 31:case 13:u=pv(a,2),u!==null&&To(u,a,2),gO(),_k(a,2)}if(a=nI(n),a===null&&t2(t,e,n,wS,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else t2(t,e,n,null,r)}}function nI(t){return t=kN(t),Ek(t)}var wS=null;function Ek(t){if(wS=null,t=og(t),t!==null){var e=a_(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=Tq(e),t!==null)return t;t=null}else if(r===31){if(t=xq(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wS=t,null}function oV(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jJ()){case Pq:return 2;case Dq:return 8;case KE:case BJ:return 32;case Mq:return 268435456;default:return 32}default:return 32}}var iI=!1,$f=null,Kf=null,Zf=null,kb=new Map,Lb=new Map,Af=[],Qte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u4(t,e){switch(t){case"focusin":case"focusout":$f=null;break;case"dragenter":case"dragleave":Kf=null;break;case"mouseover":case"mouseout":Zf=null;break;case"pointerover":case"pointerout":kb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lb.delete(e.pointerId)}}function Um(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=hy(e),e!==null&&aV(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Jte(t,e,r,n,i){switch(e){case"focusin":return $f=Um($f,t,e,r,n,i),!0;case"dragenter":return Kf=Um(Kf,t,e,r,n,i),!0;case"mouseover":return Zf=Um(Zf,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return kb.set(a,Um(kb.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Lb.set(a,Um(Lb.get(a)||null,t,e,r,n,i)),!0}return!1}function uV(t){var e=og(t.target);if(e!==null){var r=a_(e);if(r!==null){if(e=r.tag,e===13){if(e=Tq(r),e!==null){t.blockedOn=e,H3(t.priority,function(){o4(r)});return}}else if(e===31){if(e=xq(r),e!==null){t.blockedOn=e,H3(t.priority,function(){o4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function OE(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nI(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);EM=n,r.target.dispatchEvent(n),EM=null}else return e=hy(r),e!==null&&aV(e),t.blockedOn=r,!1;e.shift()}return!0}function s4(t,e,r){OE(t)&&r.delete(e)}function ere(){iI=!1,$f!==null&&OE($f)&&($f=null),Kf!==null&&OE(Kf)&&(Kf=null),Zf!==null&&OE(Zf)&&(Zf=null),kb.forEach(s4),Lb.forEach(s4)}function mw(t,e){t.blockedOn===e&&(t.blockedOn=null,iI||(iI=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,ere)))}var bw=null;function l4(t){bw!==t&&(bw=t,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,function(){bw===t&&(bw=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(Ek(n||r)===null)continue;break}var a=hy(r);a!==null&&(t.splice(e,3),e-=3,BM(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function Zg(t){function e(s){return mw(s,t)}$f!==null&&mw($f,t),Kf!==null&&mw(Kf,t),Zf!==null&&mw(Zf,t),kb.forEach(e),Lb.forEach(e);for(var r=0;r<Af.length;r++){var n=Af[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Af.length&&(r=Af[0],r.blockedOn===null);)uV(r),r.blockedOn===null&&Af.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],o=i[xo]||null;if(typeof a=="function")o||l4(r);else if(o){var u=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[xo]||null)u=o.formAction;else if(Ek(i)!==null)continue}else u=o.action;typeof u=="function"?r[n+1]=u:(r.splice(n,3),n-=3),l4(r)}}}function sV(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Sk(t){this._internalRoot=t}bO.prototype.render=Sk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));var r=e.current,n=au();iV(r,n,t,e,null,null)};bO.prototype.unmount=Sk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;iV(t.current,2,null,t,null,null),gO(),e[fy]=null}};function bO(t){this._internalRoot=t}bO.prototype.unstable_scheduleHydration=function(t){if(t){var e=jq();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Af.length&&e!==0&&e<Af[r].priority;r++);Af.splice(r,0,t),r===0&&uV(t)}};var c4=Sq.version;if(c4!=="19.2.0")throw Error(ze(527,c4,"19.2.0"));nn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=PJ(e),t=t!==null?Cq(t):null,t=t===null?null:t.stateNode,t};var tre={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Zt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_w.isDisabled&&_w.supportsFiber)try{o_=_w.inject(tre),nu=_w}catch{}}rO.createRoot=function(t,e){if(!Oq(t))throw Error(ze(299));var r=!1,n="",i=J7,a=eG,o=tG;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=rV(t,1,!1,null,null,r,n,null,i,a,o,sV),t[fy]=e.current,yk(t),new Sk(e)};rO.hydrateRoot=function(t,e,r){if(!Oq(t))throw Error(ze(299));var n=!1,i="",a=J7,o=eG,u=tG,s=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(u=r.onRecoverableError),r.formState!==void 0&&(s=r.formState)),e=rV(t,1,!0,e,r??null,n,i,s,a,o,u,sV),e.context=nV(null),r=e.current,n=au(),n=DN(n),i=Hf(n),i.callback=null,Yf(r,i,n),r=n,e.current.lanes=r,s_(e,r),vl(e),t[fy]=e.current,yk(t),new bO(e)};rO.version="19.2.0";function lV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lV)}catch(t){console.error(t)}}lV(),yq.exports=rO;var rre=yq.exports,cV={exports:{}},_O={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nre=Symbol.for("react.transitional.element"),ire=Symbol.for("react.fragment");function fV(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:nre,type:t,key:n,ref:e!==void 0?e:null,props:r}}_O.Fragment=ire;_O.jsx=fV;_O.jsxs=fV;cV.exports=_O;var l0=cV.exports;function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function are(t){if(Array.isArray(t))return t}function ore(t){if(Array.isArray(t))return aI(t)}function Sh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ure(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dV(n.key),n)}}function Oh(t,e,r){return e&&ure(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oo(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ok(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function hV(t,e,r){return(e=dV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],s=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ci(t,e){return are(t)||lre(t,e)||Ok(t,e)||cre()}function ES(t){return ore(t)||sre(t)||Ok(t)||fre()}function hre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dV(t){var e=hre(t,"string");return typeof e=="symbol"?e:e+""}function Ui(t){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(t)}function Ok(t,e){if(t){if(typeof t=="string")return aI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aI(t,e):void 0}}var Ni=typeof window>"u"?null:window,f4=Ni?Ni.navigator:null;Ni&&Ni.document;var dre=Ui(""),vV=Ui({}),vre=Ui(function(){}),pre=typeof HTMLElement>"u"?"undefined":Ui(HTMLElement),y_=function(e){return e&&e.instanceString&&Qn(e.instanceString)?e.instanceString():null},Dt=function(e){return e!=null&&Ui(e)==dre},Qn=function(e){return e!=null&&Ui(e)===vre},En=function(e){return!ou(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Wr=function(e){return e!=null&&Ui(e)===vV&&!En(e)&&e.constructor===Object},gre=function(e){return e!=null&&Ui(e)===vV},st=function(e){return e!=null&&Ui(e)===Ui(1)&&!isNaN(e)},yre=function(e){return st(e)&&Math.floor(e)===e},SS=function(e){if(pre!=="undefined")return e!=null&&e instanceof HTMLElement},ou=function(e){return m_(e)||pV(e)},m_=function(e){return y_(e)==="collection"&&e._private.single},pV=function(e){return y_(e)==="collection"&&!e._private.single},Tk=function(e){return y_(e)==="core"},gV=function(e){return y_(e)==="stylesheet"},mre=function(e){return y_(e)==="event"},ch=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},bre=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},_re=function(e){return Wr(e)&&st(e.x1)&&st(e.x2)&&st(e.y1)&&st(e.y2)},wre=function(e){return gre(e)&&Qn(e.then)},Ere=function(){return f4&&f4.userAgent.match(/msie|trident|edge/i)},Qg=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var n=function(){var a=this,o=arguments,u,s=r.apply(a,o),l=n.cache;return(u=l[s])||(u=l[s]=e.apply(a,o)),u};return n.cache={},n},xk=Qg(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),wO=Qg(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),yV=Qg(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),h4=function(e){return ch(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},kf=function(e,r){return e.slice(-1*r.length)===r},Li="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Sre="rgb[a]?\\(("+Li+"[%]?)\\s*,\\s*("+Li+"[%]?)\\s*,\\s*("+Li+"[%]?)(?:\\s*,\\s*("+Li+"))?\\)",Ore="rgb[a]?\\((?:"+Li+"[%]?)\\s*,\\s*(?:"+Li+"[%]?)\\s*,\\s*(?:"+Li+"[%]?)(?:\\s*,\\s*(?:"+Li+"))?\\)",Tre="hsl[a]?\\(("+Li+")\\s*,\\s*("+Li+"[%])\\s*,\\s*("+Li+"[%])(?:\\s*,\\s*("+Li+"))?\\)",xre="hsl[a]?\\((?:"+Li+")\\s*,\\s*(?:"+Li+"[%])\\s*,\\s*(?:"+Li+"[%])(?:\\s*,\\s*(?:"+Li+"))?\\)",Cre="\\#[0-9a-fA-F]{3}",Are="\\#[0-9a-fA-F]{6}",mV=function(e,r){return e<r?-1:e>r?1:0},Rre=function(e,r){return-1*mV(e,r)},qt=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];t[o]=n[o]}}return t},Pre=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,a,o=16;return r?(n=parseInt(e[1]+e[1],o),i=parseInt(e[2]+e[2],o),a=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),i=parseInt(e[3]+e[4],o),a=parseInt(e[5]+e[6],o)),[n,i,a]}},Dre=function(e){var r,n,i,a,o,u,s,l;function c(v,y,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?v+(y-v)*6*b:b<1/2?y:b<2/3?v+(y-v)*(2/3-b)*6:v}var f=new RegExp("^"+Tre+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,a=parseFloat(f[3]),a<0||a>100)||(a=a/100,o=f[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(i===0)u=s=l=Math.round(a*255);else{var h=a<.5?a*(1+i):a+i-a*i,d=2*a-h;u=Math.round(255*c(d,h,n+1/3)),s=Math.round(255*c(d,h,n)),l=Math.round(255*c(d,h,n-1/3))}r=[u,s,l,o]}return r},Mre=function(e){var r,n=new RegExp("^"+Sre+"$").exec(e);if(n){r=[];for(var i=[],a=1;a<=3;a++){var o=n[a];if(o[o.length-1]==="%"&&(i[a]=!0),o=parseFloat(o),i[a]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var u=i[1]||i[2]||i[3],s=i[1]&&i[2]&&i[3];if(u&&!s)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},Ire=function(e){return Nre[e.toLowerCase()]},bV=function(e){return(En(e)?e:null)||Ire(e)||Pre(e)||Mre(e)||Dre(e)},Nre={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_V=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(Wr(o))throw Error("Tried to set map with object key");a<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},wV=function(e){for(var r=e.map,n=e.keys,i=n.length,a=0;a<i;a++){var o=n[a];if(Wr(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var i2,d4;function __(){if(d4)return i2;d4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return i2=t,i2}var a2,v4;function kre(){if(v4)return a2;v4=1;var t=typeof ww=="object"&&ww&&ww.Object===Object&&ww;return a2=t,a2}var o2,p4;function EO(){if(p4)return o2;p4=1;var t=kre(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return o2=r,o2}var u2,g4;function Lre(){if(g4)return u2;g4=1;var t=EO(),e=function(){return t.Date.now()};return u2=e,u2}var s2,y4;function jre(){if(y4)return s2;y4=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return s2=e,s2}var l2,m4;function Bre(){if(m4)return l2;m4=1;var t=jre(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return l2=r,l2}var c2,b4;function Ck(){if(b4)return c2;b4=1;var t=EO(),e=t.Symbol;return c2=e,c2}var f2,_4;function Ure(){if(_4)return f2;_4=1;var t=Ck(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),s=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(u?o[i]=s:delete o[i]),c}return f2=a,f2}var h2,w4;function Fre(){if(w4)return h2;w4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return h2=r,h2}var d2,E4;function EV(){if(E4)return d2;E4=1;var t=Ck(),e=Ure(),r=Fre(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return d2=o,d2}var v2,S4;function zre(){if(S4)return v2;S4=1;function t(e){return e!=null&&typeof e=="object"}return v2=t,v2}var p2,O4;function w_(){if(O4)return p2;O4=1;var t=EV(),e=zre(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return p2=n,p2}var g2,T4;function qre(){if(T4)return g2;T4=1;var t=Bre(),e=__(),r=w_(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function s(l){if(typeof l=="number")return l;if(r(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=t(l);var f=a.test(l);return f||o.test(l)?u(l.slice(2),f?2:8):i.test(l)?n:+l}return g2=s,g2}var y2,x4;function Gre(){if(x4)return y2;x4=1;var t=__(),e=Lre(),r=qre(),n="Expected a function",i=Math.max,a=Math.min;function o(u,s,l){var c,f,h,d,v,y,b=0,p=!1,m=!1,g=!0;if(typeof u!="function")throw new TypeError(n);s=r(s)||0,t(l)&&(p=!!l.leading,m="maxWait"in l,h=m?i(r(l.maxWait)||0,s):h,g="trailing"in l?!!l.trailing:g);function _(I){var k=c,U=f;return c=f=void 0,b=I,d=u.apply(U,k),d}function E(I){return b=I,v=setTimeout(S,s),p?_(I):d}function T(I){var k=I-y,U=I-b,F=s-k;return m?a(F,h-U):F}function w(I){var k=I-y,U=I-b;return y===void 0||k>=s||k<0||m&&U>=h}function S(){var I=e();if(w(I))return C(I);v=setTimeout(S,T(I))}function C(I){return v=void 0,g&&c?_(I):(c=f=void 0,d)}function R(){v!==void 0&&clearTimeout(v),b=0,c=y=f=v=void 0}function D(){return v===void 0?d:C(e())}function M(){var I=e(),k=w(I);if(c=arguments,f=this,y=I,k){if(v===void 0)return E(y);if(m)return clearTimeout(v),v=setTimeout(S,s),_(y)}return v===void 0&&(v=setTimeout(S,s)),d}return M.cancel=R,M.flush=D,M}return y2=o,y2}var Vre=Gre(),E_=b_(Vre),m2=Ni?Ni.performance:null,SV=m2&&m2.now?function(){return m2.now()}:function(){return Date.now()},Hre=function(){if(Ni){if(Ni.requestAnimationFrame)return function(t){Ni.requestAnimationFrame(t)};if(Ni.mozRequestAnimationFrame)return function(t){Ni.mozRequestAnimationFrame(t)};if(Ni.webkitRequestAnimationFrame)return function(t){Ni.webkitRequestAnimationFrame(t)};if(Ni.msRequestAnimationFrame)return function(t){Ni.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(SV())},1e3/60)}}(),OS=function(e){return Hre(e)},gc=SV,kd=9261,OV=65599,tg=5381,TV=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kd,n=r,i;i=e.next(),!i.done;)n=n*OV+i.value|0;return n},jb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kd;return r*OV+e|0},Bb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tg;return(r<<5)+r+e|0},Yre=function(e,r){return e*2097152+r},uf=function(e){return e[0]*2097152+e[1]},Ew=function(e,r){return[jb(e[0],r[0]),Bb(e[1],r[1])]},C4=function(e,r){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e[i++]:n.done=!0,n}};return TV(o,r)},ev=function(e,r){var n={value:0,done:!1},i=0,a=e.length,o={next:function(){return i<a?n.value=e.charCodeAt(i++):n.done=!0,n}};return TV(o,r)},xV=function(){return Wre(arguments)},Wre=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=ev(i):r=ev(i,r)}return r};function Xre(t,e,r,n,i){var a=i*Math.PI/180,o=Math.cos(a)*(t-r)-Math.sin(a)*(e-n)+r,u=Math.sin(a)*(t-r)+Math.cos(a)*(e-n)+n;return{x:o,y:u}}var $re=function(e,r,n,i,a,o){return{x:(e-n)*a+n,y:(r-i)*o+i}};function Kre(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,a=e.w/e.h,o=1/a,u=Xre(t.x,t.y,n,i,r),s=$re(u.x,u.y,n,i,a,o);return{x:s.x,y:s.y}}var A4=!0,Zre=console.warn!=null,Qre=console.trace!=null,Ak=Number.MAX_SAFE_INTEGER||9007199254740991,CV=function(){return!0},TS=function(){return!1},R4=function(){return 0},Rk=function(){},Vn=function(e){throw new Error(e)},AV=function(e){if(e!==void 0)A4=!!e;else return A4},ln=function(e){AV()&&(Zre?console.warn(e):(console.log(e),Qre&&console.trace()))},Jre=function(e){return qt({},e)},al=function(e){return e==null?e:En(e)?e.slice():Wr(e)?Jre(e):e},ene=function(e){return e.slice()},RV=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},tne={},PV=function(){return tne},Ea=function(e){var r=Object.keys(e);return function(n){for(var i={},a=0;a<r.length;a++){var o=r[a],u=n==null?void 0:n[o];i[o]=u===void 0?e[o]:u}return i}},fh=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},Pk=function(e){e.splice(0,e.length)},rne=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},wo=function(e,r,n){return n&&(r=yV(n,r)),e[r]},Xl=function(e,r,n,i){n&&(r=yV(n,r)),e[r]=i},nne=function(){function t(){Sh(this,t),this._obj={}}return Oh(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])}(),ec=typeof Map<"u"?Map:nne,ine="undefined",ane=function(){function t(e){if(Sh(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Oh(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])}(),my=(typeof Set>"u"?"undefined":Ui(Set))!==ine?Set:ane,SO=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Tk(e)){Vn("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){Vn("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new my,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),r.renderedPosition){var o=r.renderedPosition,u=e.pan(),s=e.zoom();a.position={x:(o.x-u.x)/s,y:(o.y-u.y)/s}}var l=[];En(r.classes)?l=r.classes:Dt(r.classes)&&(l=r.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var h=l[c];!h||h===""||a.classes.add(h)}this.createEmitter(),(n===void 0||n)&&this.restore();var d=r.style||r.css;d&&(ln("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d))},P4=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,a){var o;Wr(n)&&!ou(n)&&(o=n,n=o.roots||o.root,i=o.visit,a=o.directed),a=arguments.length===2&&!Qn(i)?i:a,i=Qn(i)?i:function(){};for(var u=this._private.cy,s=n=Dt(n)?this.filter(n):n,l=[],c=[],f={},h={},d={},v=0,y,b=this.byGroup(),p=b.nodes,m=b.edges,g=0;g<s.length;g++){var _=s[g],E=_.id();_.isNode()&&(l.unshift(_),e.bfs&&(d[E]=!0,c.push(_)),h[E]=0)}for(var T=function(){var I=e.bfs?l.shift():l.pop(),k=I.id();if(e.dfs){if(d[k])return 0;d[k]=!0,c.push(I)}var U=h[k],F=f[k],B=F!=null?F.source():null,z=F!=null?F.target():null,H=F==null?void 0:I.same(B)?z[0]:B[0],Y;if(Y=i(I,F,H,v++,U),Y===!0)return y=I,1;if(Y===!1)return 1;for(var W=I.connectedEdges().filter(function(de){return(!a||de.source().same(I))&&m.has(de)}),Z=0;Z<W.length;Z++){var le=W[Z],ce=le.connectedNodes().filter(function(de){return!de.same(I)&&p.has(de)}),ue=ce.id();ce.length!==0&&!d[ue]&&(ce=ce[0],l.push(ce),e.bfs&&(d[ue]=!0,c.push(ce)),f[ue]=le,h[ue]=h[k]+1)}},w;l.length!==0&&(w=T(),!(w!==0&&w===1)););for(var S=u.collection(),C=0;C<c.length;C++){var R=c[C],D=f[R.id()];D!=null&&S.push(D),S.push(R)}return{path:u.collection(S),found:u.collection(y)}}},Ub={breadthFirstSearch:P4({bfs:!0}),depthFirstSearch:P4({dfs:!0})};Ub.bfs=Ub.breadthFirstSearch;Ub.dfs=Ub.depthFirstSearch;var TE={exports:{}},one=TE.exports,D4;function une(){return D4||(D4=1,function(t,e){(function(){var r,n,i,a,o,u,s,l,c,f,h,d,v,y,b;i=Math.floor,f=Math.min,n=function(p,m){return p<m?-1:p>m?1:0},c=function(p,m,g,_,E){var T;if(g==null&&(g=0),E==null&&(E=n),g<0)throw new Error("lo must be non-negative");for(_==null&&(_=p.length);g<_;)T=i((g+_)/2),E(m,p[T])<0?_=T:g=T+1;return[].splice.apply(p,[g,g-g].concat(m)),m},u=function(p,m,g){return g==null&&(g=n),p.push(m),y(p,0,p.length-1,g)},o=function(p,m){var g,_;return m==null&&(m=n),g=p.pop(),p.length?(_=p[0],p[0]=g,b(p,0,m)):_=g,_},l=function(p,m,g){var _;return g==null&&(g=n),_=p[0],p[0]=m,b(p,0,g),_},s=function(p,m,g){var _;return g==null&&(g=n),p.length&&g(p[0],m)<0&&(_=[p[0],m],m=_[0],p[0]=_[1],b(p,0,g)),m},a=function(p,m){var g,_,E,T,w,S;for(m==null&&(m=n),T=(function(){S=[];for(var C=0,R=i(p.length/2);0<=R?C<R:C>R;0<=R?C++:C--)S.push(C);return S}).apply(this).reverse(),w=[],_=0,E=T.length;_<E;_++)g=T[_],w.push(b(p,g,m));return w},v=function(p,m,g){var _;if(g==null&&(g=n),_=p.indexOf(m),_!==-1)return y(p,0,_,g),b(p,_,g)},h=function(p,m,g){var _,E,T,w,S;if(g==null&&(g=n),E=p.slice(0,m),!E.length)return E;for(a(E,g),S=p.slice(m),T=0,w=S.length;T<w;T++)_=S[T],s(E,_,g);return E.sort(g).reverse()},d=function(p,m,g){var _,E,T,w,S,C,R,D,M;if(g==null&&(g=n),m*10<=p.length){if(T=p.slice(0,m).sort(g),!T.length)return T;for(E=T[T.length-1],R=p.slice(m),w=0,C=R.length;w<C;w++)_=R[w],g(_,E)<0&&(c(T,_,0,null,g),T.pop(),E=T[T.length-1]);return T}for(a(p,g),M=[],S=0,D=f(m,p.length);0<=D?S<D:S>D;0<=D?++S:--S)M.push(o(p,g));return M},y=function(p,m,g,_){var E,T,w;for(_==null&&(_=n),E=p[g];g>m;){if(w=g-1>>1,T=p[w],_(E,T)<0){p[g]=T,g=w;continue}break}return p[g]=E},b=function(p,m,g){var _,E,T,w,S;for(g==null&&(g=n),E=p.length,S=m,T=p[m],_=2*m+1;_<E;)w=_+1,w<E&&!(g(p[_],p[w])<0)&&(_=w),p[m]=p[_],m=_,_=2*m+1;return p[m]=T,y(p,S,m,g)},r=function(){p.push=u,p.pop=o,p.replace=l,p.pushpop=s,p.heapify=a,p.updateItem=v,p.nlargest=h,p.nsmallest=d;function p(m){this.cmp=m??n,this.nodes=[]}return p.prototype.push=function(m){return u(this.nodes,m,this.cmp)},p.prototype.pop=function(){return o(this.nodes,this.cmp)},p.prototype.peek=function(){return this.nodes[0]},p.prototype.contains=function(m){return this.nodes.indexOf(m)!==-1},p.prototype.replace=function(m){return l(this.nodes,m,this.cmp)},p.prototype.pushpop=function(m){return s(this.nodes,m,this.cmp)},p.prototype.heapify=function(){return a(this.nodes,this.cmp)},p.prototype.updateItem=function(m){return v(this.nodes,m,this.cmp)},p.prototype.clear=function(){return this.nodes=[]},p.prototype.empty=function(){return this.nodes.length===0},p.prototype.size=function(){return this.nodes.length},p.prototype.clone=function(){var m;return m=new p,m.nodes=this.nodes.slice(0),m},p.prototype.toArray=function(){return this.nodes.slice(0)},p.prototype.insert=p.prototype.push,p.prototype.top=p.prototype.peek,p.prototype.front=p.prototype.peek,p.prototype.has=p.prototype.contains,p.prototype.copy=p.prototype.clone,p}(),function(p,m){return t.exports=m()}(this,function(){return r})}).call(one)}(TE)),TE.exports}var b2,M4;function sne(){return M4||(M4=1,b2=une()),b2}var lne=sne(),S_=b_(lne),cne=Ea({root:null,weight:function(e){return 1},directed:!1}),fne={dijkstra:function(e){if(!Wr(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=cne(e),i=n.root,a=n.weight,o=n.directed,u=this,s=a,l=Dt(i)?this.filter(i)[0]:i[0],c={},f={},h={},d=this.byGroup(),v=d.nodes,y=d.edges;y.unmergeBy(function(U){return U.isLoop()});for(var b=function(F){return c[F.id()]},p=function(F,B){c[F.id()]=B,m.updateItem(F)},m=new S_(function(U,F){return b(U)-b(F)}),g=0;g<v.length;g++){var _=v[g];c[_.id()]=_.same(l)?0:1/0,m.push(_)}for(var E=function(F,B){for(var z=(o?F.edgesTo(B):F.edgesWith(B)).intersect(y),H=1/0,Y,W=0;W<z.length;W++){var Z=z[W],le=s(Z);(le<H||!Y)&&(H=le,Y=Z)}return{edge:Y,dist:H}};m.size()>0;){var T=m.pop(),w=b(T),S=T.id();if(h[S]=w,w!==1/0)for(var C=T.neighborhood().intersect(v),R=0;R<C.length;R++){var D=C[R],M=D.id(),I=E(T,D),k=w+I.dist;k<b(D)&&(p(D,k),f[M]={node:T,edge:I.edge})}}return{distanceTo:function(F){var B=Dt(F)?v.filter(F)[0]:F[0];return h[B.id()]},pathTo:function(F){var B=Dt(F)?v.filter(F)[0]:F[0],z=[],H=B,Y=H.id();if(B.length>0)for(z.unshift(B);f[Y];){var W=f[Y];z.unshift(W.edge),z.unshift(W.node),H=W.node,Y=H.id()}return u.spawn(z)}}}},hne={kruskal:function(e){e=e||function(g){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,a=n.length,o=new Array(a),u=n,s=function(_){for(var E=0;E<o.length;E++){var T=o[E];if(T.has(_))return E}},l=0;l<a;l++)o[l]=this.spawn(n[l]);for(var c=i.sort(function(g,_){return e(g)-e(_)}),f=0;f<c.length;f++){var h=c[f],d=h.source()[0],v=h.target()[0],y=s(d),b=s(v),p=o[y],m=o[b];y!==b&&(u.merge(h),p.merge(m),o.splice(b,1))}return u}},dne=Ea({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),vne={aStar:function(e){var r=this.cy(),n=dne(e),i=n.root,a=n.goal,o=n.heuristic,u=n.directed,s=n.weight;i=r.collection(i)[0],a=r.collection(a)[0];var l=i.id(),c=a.id(),f={},h={},d={},v=new S_(function(Y,W){return h[Y.id()]-h[W.id()]}),y=new my,b={},p={},m=function(W,Z){v.push(W),y.add(Z)},g,_,E=function(){g=v.pop(),_=g.id(),y.delete(_)},T=function(W){return y.has(W)};m(i,l),f[l]=0,h[l]=o(i);for(var w=0;v.size()>0;){if(E(),w++,_===c){for(var S=[],C=a,R=c,D=p[R];S.unshift(C),D!=null&&S.unshift(D),C=b[R],C!=null;)R=C.id(),D=p[R];return{found:!0,distance:f[_],path:this.spawn(S),steps:w}}d[_]=!0;for(var M=g._private.edges,I=0;I<M.length;I++){var k=M[I];if(this.hasElementWithId(k.id())&&!(u&&k.data("source")!==_)){var U=k.source(),F=k.target(),B=U.id()!==_?U:F,z=B.id();if(this.hasElementWithId(z)&&!d[z]){var H=f[_]+s(k);if(!T(z)){f[z]=H,h[z]=H+o(B),m(B,z),b[z]=g,p[z]=k;continue}H<f[z]&&(f[z]=H,h[z]=H+o(B),b[z]=g,p[z]=k)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},pne=Ea({weight:function(e){return 1},directed:!1}),gne={floydWarshall:function(e){for(var r=this.cy(),n=pne(e),i=n.weight,a=n.directed,o=i,u=this.byGroup(),s=u.nodes,l=u.edges,c=s.length,f=c*c,h=function(le){return s.indexOf(le)},d=function(le){return s[le]},v=new Array(f),y=0;y<f;y++){var b=y%c,p=(y-b)/c;p===b?v[y]=0:v[y]=1/0}for(var m=new Array(f),g=new Array(f),_=0;_<l.length;_++){var E=l[_],T=E.source()[0],w=E.target()[0];if(T!==w){var S=h(T),C=h(w),R=S*c+C,D=o(E);if(v[R]>D&&(v[R]=D,m[R]=C,g[R]=E),!a){var M=C*c+S;!a&&v[M]>D&&(v[M]=D,m[M]=S,g[M]=E)}}}for(var I=0;I<c;I++)for(var k=0;k<c;k++)for(var U=k*c+I,F=0;F<c;F++){var B=k*c+F,z=I*c+F;v[U]+v[z]<v[B]&&(v[B]=v[U]+v[z],m[B]=m[U])}var H=function(le){return(Dt(le)?r.filter(le):le)[0]},Y=function(le){return h(H(le))},W={distance:function(le,ce){var ue=Y(le),de=Y(ce);return v[ue*c+de]},path:function(le,ce){var ue=Y(le),de=Y(ce),he=d(ue);if(ue===de)return he.collection();if(m[ue*c+de]==null)return r.collection();var fe=r.collection(),te=ue,Q;for(fe.merge(he);ue!==de;)te=ue,ue=m[ue*c+de],Q=g[te*c+ue],fe.merge(Q),fe.merge(d(ue));return fe}};return W}},yne=Ea({weight:function(e){return 1},directed:!1,root:null}),mne={bellmanFord:function(e){var r=this,n=yne(e),i=n.weight,a=n.directed,o=n.root,u=i,s=this,l=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,d=h.length,v=new ec,y=!1,b=[];o=l.collection(o)[0],f.unmergeBy(function(be){return be.isLoop()});for(var p=f.length,m=function(j){var G=v.get(j.id());return G||(G={},v.set(j.id(),G)),G},g=function(j){return(Dt(j)?l.$(j):j)[0]},_=function(j){return m(g(j)).dist},E=function(j){for(var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,X=g(j),ie=[],ve=X;;){if(ve==null)return r.spawn();var ge=m(ve),Oe=ge.edge,Le=ge.pred;if(ie.unshift(ve[0]),ve.same(G)&&ie.length>0)break;Oe!=null&&ie.unshift(Oe),ve=Le}return s.spawn(ie)},T=0;T<d;T++){var w=h[T],S=m(w);w.same(o)?S.dist=0:S.dist=1/0,S.pred=null,S.edge=null}for(var C=!1,R=function(j,G,X,ie,ve,ge){var Oe=ie.dist+ge;Oe<ve.dist&&!X.same(ie.edge)&&(ve.dist=Oe,ve.pred=j,ve.edge=X,C=!0)},D=1;D<d;D++){C=!1;for(var M=0;M<p;M++){var I=f[M],k=I.source(),U=I.target(),F=u(I),B=m(k),z=m(U);R(k,U,I,B,z,F),a||R(U,k,I,z,B,F)}if(!C)break}if(C)for(var H=[],Y=0;Y<p;Y++){var W=f[Y],Z=W.source(),le=W.target(),ce=u(W),ue=m(Z).dist,de=m(le).dist;if(ue+ce<de||!a&&de+ce<ue)if(y||(ln("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var he=[];ue+ce<de&&he.push(Z),!a&&de+ce<ue&&he.push(le);for(var fe=he.length,te=0;te<fe;te++){var Q=he[te],ee=[Q];ee.push(m(Q).edge);for(var ae=m(Q).pred;ee.indexOf(ae)===-1;)ee.push(ae),ee.push(m(ae).edge),ae=m(ae).pred;ee=ee.slice(ee.indexOf(ae));for(var pe=ee[0].id(),_e=0,Te=2;Te<ee.length;Te+=2)ee[Te].id()<pe&&(pe=ee[Te].id(),_e=Te);ee=ee.slice(_e).concat(ee.slice(0,_e)),ee.push(ee[0]);var Ae=ee.map(function(be){return be.id()}).join(",");H.indexOf(Ae)===-1&&(b.push(s.spawn(ee)),H.push(Ae))}}else break}return{distanceTo:_,pathTo:E,hasNegativeWeightCycle:y,negativeWeightCycles:b}}},bne=Math.sqrt(2),_ne=function(e,r,n){n.length===0&&Vn("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],a=i[1],o=i[2],u=r[a],s=r[o],l=n,c=l.length-1;c>=0;c--){var f=l[c],h=f[1],d=f[2];(r[h]===u&&r[d]===s||r[h]===s&&r[d]===u)&&l.splice(c,1)}for(var v=0;v<l.length;v++){var y=l[v];y[1]===s?(l[v]=y.slice(),l[v][1]=u):y[2]===s&&(l[v]=y.slice(),l[v][2]=u)}for(var b=0;b<r.length;b++)r[b]===s&&(r[b]=u);return l},_2=function(e,r,n,i){for(;n>i;){var a=Math.floor(Math.random()*r.length);r=_ne(a,e,r),n--}return r},wne={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(z){return z.isLoop()});var a=n.length,o=i.length,u=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),s=Math.floor(a/bne);if(a<2){Vn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<o;c++){var f=i[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var h=1/0,d=[],v=new Array(a),y=new Array(a),b=new Array(a),p=function(H,Y){for(var W=0;W<a;W++)Y[W]=H[W]},m=0;m<=u;m++){for(var g=0;g<a;g++)y[g]=g;var _=_2(y,l.slice(),a,s),E=_.slice();p(y,b);var T=_2(y,_,s,2),w=_2(b,E,s,2);T.length<=w.length&&T.length<h?(h=T.length,d=T,p(y,v)):w.length<=T.length&&w.length<h&&(h=w.length,d=w,p(b,v))}for(var S=this.spawn(d.map(function(z){return i[z[0]]})),C=this.spawn(),R=this.spawn(),D=v[0],M=0;M<v.length;M++){var I=v[M],k=n[M];I===D?C.merge(k):R.merge(k)}var U=function(H){var Y=e.spawn();return H.forEach(function(W){Y.merge(W),W.connectedEdges().forEach(function(Z){e.contains(Z)&&!S.contains(Z)&&Y.merge(Z)})}),Y},F=[U(C),U(R)],B={cut:S,components:F,partition1:C,partition2:R};return B}},w2,Ene=function(e){return{x:e.x,y:e.y}},OO=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},DV=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},gg=function(e){return{x:e[0],y:e[1]}},Sne=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,a=r;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.min(o,i))}return i},One=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,a=r;a<n;a++){var o=e[a];isFinite(o)&&(i=Math.max(o,i))}return i},Tne=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,a=0,o=r;o<n;o++){var u=e[o];isFinite(u)&&(i+=u,a++)}return i/a},xne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var u=0,s=e.length-1;s>=0;s--){var l=e[s];o?isFinite(l)||(e[s]=-1/0,u++):e.splice(s,1)}a&&e.sort(function(h,d){return h-d});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+u]:(e[f-1+u]+e[f+u])/2},Cne=function(e){return Math.PI*e/180},Sw=function(e,r){return Math.atan2(r,e)-Math.PI/2},Dk=Math.log2||function(t){return Math.log(t)/Math.log(2)},Mk=function(e){return e>0?1:e<0?-1:0},tv=function(e,r){return Math.sqrt(Rd(e,r))},Rd=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},Ane=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var a=0;a<r;a++)e[a]=e[a]/n;return e},Ki=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Pg=function(e,r,n,i){return{x:Ki(e.x,r.x,n.x,i),y:Ki(e.y,r.y,n.y,i)}},Rne=function(e,r,n,i){var a={x:r.x-e.x,y:r.y-e.y},o=tv(e,r),u={x:a.x/o,y:a.y/o};return n=n??0,i=i??n*o,{x:e.x+u.x*i,y:e.y+u.y*i}},Fb=function(e,r,n){return Math.max(e,Math.min(n,r))},eo=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Pne=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Dne=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Mne=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},MV=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},xE=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},CE=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,a,o;if(r.length===1)n=i=a=o=r[0];else if(r.length===2)n=a=r[0],o=i=r[1];else if(r.length===4){var u=Ci(r,4);n=u[0],i=u[1],a=u[2],o=u[3]}return e.x1-=o,e.x2+=i,e.y1-=n,e.y2+=a,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},I4=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},Ik=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Lf=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},N4=function(e,r){return Lf(e,r.x,r.y)},IV=function(e,r){return Lf(e,r.x1,r.y1)&&Lf(e,r.x2,r.y2)},Ine=(w2=Math.hypot)!==null&&w2!==void 0?w2:function(t,e){return Math.sqrt(t*t+e*e)};function Nne(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(S,C){return{x:S.x+C.x,y:S.y+C.y}},n=function(S,C){return{x:S.x-C.x,y:S.y-C.y}},i=function(S,C){return{x:S.x*C,y:S.y*C}},a=function(S,C){return S.x*C.y-S.y*C.x},o=function(S){var C=Ine(S.x,S.y);return C===0?{x:0,y:0}:{x:S.x/C,y:S.y/C}},u=function(S){for(var C=0,R=0;R<S.length;R++){var D=S[R],M=S[(R+1)%S.length];C+=D.x*M.y-M.x*D.y}return C/2},s=function(S,C,R,D){var M=n(C,S),I=n(D,R),k=a(M,I);if(Math.abs(k)<1e-9)return r(S,i(M,.5));var U=a(n(R,S),I)/k;return r(S,i(M,U))},l=t.map(function(w){return{x:w.x,y:w.y}});u(l)<0&&l.reverse();for(var c=l.length,f=[],h=0;h<c;h++){var d=l[h],v=l[(h+1)%c],y=n(v,d),b=o({x:y.y,y:-y.x});f.push(b)}for(var p=f.map(function(w,S){var C=r(l[S],i(w,e)),R=r(l[(S+1)%c],i(w,e));return{p1:C,p2:R}}),m=[],g=0;g<c;g++){var _=p[(g-1+c)%c],E=p[g],T=s(_.p1,_.p2,E.p1,E.p2);m.push(T)}return m}function kne(t,e,r,n,i,a){var o=Vne(t,e,r,n,i),u=Nne(o,a),s=eo();return u.forEach(function(l){return MV(s,l.x,l.y)}),s}var NV=function(e,r,n,i,a,o,u){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=s==="auto"?hh(a,o):s,c=a/2,f=o/2;l=Math.min(l,c,f);var h=l!==c,d=l!==f,v;if(h){var y=n-c+l-u,b=i-f-u,p=n+c-l+u,m=b;if(v=jf(e,r,n,i,y,b,p,m,!1),v.length>0)return v}if(d){var g=n+c+u,_=i-f+l-u,E=g,T=i+f-l+u;if(v=jf(e,r,n,i,g,_,E,T,!1),v.length>0)return v}if(h){var w=n-c+l-u,S=i+f+u,C=n+c-l+u,R=S;if(v=jf(e,r,n,i,w,S,C,R,!1),v.length>0)return v}if(d){var D=n-c-u,M=i-f+l-u,I=D,k=i+f-l+u;if(v=jf(e,r,n,i,D,M,I,k,!1),v.length>0)return v}var U;{var F=n-c+l,B=i-f+l;if(U=c0(e,r,n,i,F,B,l+u),U.length>0&&U[0]<=F&&U[1]<=B)return[U[0],U[1]]}{var z=n+c-l,H=i-f+l;if(U=c0(e,r,n,i,z,H,l+u),U.length>0&&U[0]>=z&&U[1]<=H)return[U[0],U[1]]}{var Y=n+c-l,W=i+f-l;if(U=c0(e,r,n,i,Y,W,l+u),U.length>0&&U[0]>=Y&&U[1]>=W)return[U[0],U[1]]}{var Z=n-c+l,le=i+f-l;if(U=c0(e,r,n,i,Z,le,l+u),U.length>0&&U[0]<=Z&&U[1]>=le)return[U[0],U[1]]}return[]},Lne=function(e,r,n,i,a,o,u){var s=u,l=Math.min(n,a),c=Math.max(n,a),f=Math.min(i,o),h=Math.max(i,o);return l-s<=e&&e<=c+s&&f-s<=r&&r<=h+s},jne=function(e,r,n,i,a,o,u,s,l){var c={x1:Math.min(n,u,a)-l,x2:Math.max(n,u,a)+l,y1:Math.min(i,s,o)-l,y2:Math.max(i,s,o)+l};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},Bne=function(e,r,n,i){n-=i;var a=r*r-4*e*n;if(a<0)return[];var o=Math.sqrt(a),u=2*e,s=(-r+o)/u,l=(-r-o)/u;return[s,l]},Une=function(e,r,n,i,a){var o=1e-5;e===0&&(e=o),r/=e,n/=e,i/=e;var u,s,l,c,f,h,d,v;if(s=(3*n-r*r)/9,l=-(27*i)+r*(9*n-2*(r*r)),l/=54,u=s*s*s+l*l,a[1]=0,d=r/3,u>0){f=l+Math.sqrt(u),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=l-Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),a[0]=-d+f+h,d+=(f+h)/2,a[4]=a[2]=-d,d=Math.sqrt(3)*(-h+f)/2,a[3]=d,a[5]=-d;return}if(a[5]=a[3]=0,u===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),a[0]=-d+2*v,a[4]=a[2]=-(v+d);return}s=-s,c=s*s*s,c=Math.acos(l/Math.sqrt(c)),v=2*Math.sqrt(s),a[0]=-d+v*Math.cos(c/3),a[2]=-d+v*Math.cos((c+2*Math.PI)/3),a[4]=-d+v*Math.cos((c+4*Math.PI)/3)},Fne=function(e,r,n,i,a,o,u,s){var l=1*n*n-4*n*a+2*n*u+4*a*a-4*a*u+u*u+i*i-4*i*o+2*i*s+4*o*o-4*o*s+s*s,c=1*9*n*a-3*n*n-3*n*u-6*a*a+3*a*u+9*i*o-3*i*i-3*i*s-6*o*o+3*o*s,f=1*3*n*n-6*n*a+n*u-n*e+2*a*a+2*a*e-u*e+3*i*i-6*i*o+i*s-i*r+2*o*o+2*o*r-s*r,h=1*n*a-n*n+n*e-a*e+i*o-i*i+i*r-o*r,d=[];Une(l,c,f,h,d);for(var v=1e-7,y=[],b=0;b<6;b+=2)Math.abs(d[b+1])<v&&d[b]>=0&&d[b]<=1&&y.push(d[b]);y.push(1),y.push(0);for(var p=-1,m,g,_,E=0;E<y.length;E++)m=Math.pow(1-y[E],2)*n+2*(1-y[E])*y[E]*a+y[E]*y[E]*u,g=Math.pow(1-y[E],2)*i+2*(1-y[E])*y[E]*o+y[E]*y[E]*s,_=Math.pow(m-e,2)+Math.pow(g-r,2),p>=0?_<p&&(p=_):p=_;return p},zne=function(e,r,n,i,a,o){var u=[e-n,r-i],s=[a-n,o-i],l=s[0]*s[0]+s[1]*s[1],c=u[0]*u[0]+u[1]*u[1],f=u[0]*s[0]+u[1]*s[1],h=f*f/l;return f<0?c:h>l?(e-a)*(e-a)+(r-o)*(r-o):c-h},Eo=function(e,r,n){for(var i,a,o,u,s,l=0,c=0;c<n.length/2;c++)if(i=n[c*2],a=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],u=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],u=n[(c+1-n.length/2)*2+1]),!(i==e&&o==e))if(i>=e&&e>=o||i<=e&&e<=o)s=(e-i)/(o-i)*(u-a)+a,s>r&&l++;else continue;return l%2!==0},yc=function(e,r,n,i,a,o,u,s,l){var c=new Array(n.length),f;s[0]!=null?(f=Math.atan(s[1]/s[0]),s[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=s;for(var h=Math.cos(-f),d=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=o/2*(n[v*2]*h-n[v*2+1]*d),c[v*2+1]=u/2*(n[v*2+1]*h+n[v*2]*d),c[v*2]+=i,c[v*2+1]+=a;var y;if(l>0){var b=CS(c,-l);y=xS(b)}else y=c;return Eo(e,r,y)},qne=function(e,r,n,i,a,o,u,s){for(var l=new Array(n.length*2),c=0;c<s.length;c++){var f=s[c];l[c*4+0]=f.startX,l[c*4+1]=f.startY,l[c*4+2]=f.stopX,l[c*4+3]=f.stopY;var h=Math.pow(f.cx-e,2)+Math.pow(f.cy-r,2);if(h<=Math.pow(f.radius,2))return!0}return Eo(e,r,l)},xS=function(e){for(var r=new Array(e.length/2),n,i,a,o,u,s,l,c,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],a=e[f*4+2],o=e[f*4+3],f<e.length/4-1?(u=e[(f+1)*4],s=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(u=e[0],s=e[1],l=e[2],c=e[3]);var h=jf(n,i,a,o,u,s,l,c,!0);r[f*2]=h[0],r[f*2+1]=h[1]}return r},CS=function(e,r){for(var n=new Array(e.length*2),i,a,o,u,s=0;s<e.length/2;s++){i=e[s*2],a=e[s*2+1],s<e.length/2-1?(o=e[(s+1)*2],u=e[(s+1)*2+1]):(o=e[0],u=e[1]);var l=u-a,c=-(o-i),f=Math.sqrt(l*l+c*c),h=l/f,d=c/f;n[s*4]=i+h*r,n[s*4+1]=a+d*r,n[s*4+2]=o+h*r,n[s*4+3]=u+d*r}return n},Gne=function(e,r,n,i,a,o){var u=n-e,s=i-r;u/=a,s/=o;var l=Math.sqrt(u*u+s*s),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(i-r)*f+r]},jd=function(e,r,n,i,a,o,u){return e-=a,r-=o,e/=n/2+u,r/=i/2+u,e*e+r*r<=1},c0=function(e,r,n,i,a,o,u){var s=[n-e,i-r],l=[e-a,r-o],c=s[0]*s[0]+s[1]*s[1],f=2*(l[0]*s[0]+l[1]*s[1]),h=l[0]*l[0]+l[1]*l[1]-u*u,d=f*f-4*c*h;if(d<0)return[];var v=(-f+Math.sqrt(d))/(2*c),y=(-f-Math.sqrt(d))/(2*c),b=Math.min(v,y),p=Math.max(v,y),m=[];if(b>=0&&b<=1&&m.push(b),p>=0&&p<=1&&m.push(p),m.length===0)return[];var g=m[0]*s[0]+e,_=m[0]*s[1]+r;if(m.length>1){if(m[0]==m[1])return[g,_];var E=m[1]*s[0]+e,T=m[1]*s[1]+r;return[g,_,E,T]}else return[g,_]},E2=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},jf=function(e,r,n,i,a,o,u,s,l){var c=e-a,f=n-e,h=u-a,d=r-o,v=i-r,y=s-o,b=h*d-y*c,p=f*d-v*c,m=y*f-h*v;if(m!==0){var g=b/m,_=p/m,E=.001,T=0-E,w=1+E;return T<=g&&g<=w&&T<=_&&_<=w?[e+g*f,r+g*v]:l?[e+g*f,r+g*v]:[]}else return b===0||p===0?E2(e,n,u)===u?[u,s]:E2(e,n,a)===a?[a,o]:E2(a,u,n)===n?[n,i]:[]:[]},Vne=function(e,r,n,i,a){var o=[],u=i/2,s=a/2,l=r,c=n;o.push({x:l+u*e[0],y:c+s*e[1]});for(var f=1;f<e.length/2;f++)o.push({x:l+u*e[f*2],y:c+s*e[f*2+1]});return o},zb=function(e,r,n,i,a,o,u,s){var l=[],c,f=new Array(n.length),h=!0;o==null&&(h=!1);var d;if(h){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*o+i,f[v*2+1]=n[v*2+1]*u+a;if(s>0){var y=CS(f,-s);d=xS(y)}else d=f}else d=n;for(var b,p,m,g,_=0;_<d.length/2;_++)b=d[_*2],p=d[_*2+1],_<d.length/2-1?(m=d[(_+1)*2],g=d[(_+1)*2+1]):(m=d[0],g=d[1]),c=jf(e,r,i,a,b,p,m,g),c.length!==0&&l.push(c[0],c[1]);return l},Hne=function(e,r,n,i,a,o,u,s,l){var c=[],f,h=new Array(n.length*2);l.forEach(function(m,g){g===0?(h[h.length-2]=m.startX,h[h.length-1]=m.startY):(h[g*4-2]=m.startX,h[g*4-1]=m.startY),h[g*4]=m.stopX,h[g*4+1]=m.stopY,f=c0(e,r,i,a,m.cx,m.cy,m.radius),f.length!==0&&c.push(f[0],f[1])});for(var d=0;d<h.length/4;d++)f=jf(e,r,i,a,h[d*4],h[d*4+1],h[d*4+2],h[d*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var v=[c[0],c[1]],y=Math.pow(v[0]-e,2)+Math.pow(v[1]-r,2),b=1;b<c.length/2;b++){var p=Math.pow(c[b*2]-e,2)+Math.pow(c[b*2+1]-r,2);p<=y&&(v[0]=c[b*2],v[1]=c[b*2+1],y=p)}return v}return c},Ow=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(a-n)/a;return o<0&&(o=1e-5),[r[0]+o*i[0],r[1]+o*i[1]]},Ka=function(e,r){var n=oI(e,r);return n=kV(n),n},kV=function(e){for(var r,n,i=e.length/2,a=1/0,o=1/0,u=-1/0,s=-1/0,l=0;l<i;l++)r=e[2*l],n=e[2*l+1],a=Math.min(a,r),u=Math.max(u,r),o=Math.min(o,n),s=Math.max(s,n);for(var c=2/(u-a),f=2/(s-o),h=0;h<i;h++)r=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*f,a=Math.min(a,r),u=Math.max(u,r),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var d=0;d<i;d++)n=e[2*d+1]=e[2*d+1]+(-1-o);return e},oI=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var a=new Array(e*2),o,u=0;u<e;u++)o=u*n+i,a[2*u]=Math.cos(o),a[2*u+1]=Math.sin(-o);return a},hh=function(e,r){return Math.min(e/4,r/4,8)},LV=function(e,r){return Math.min(e/10,r/10,8)},Nk=function(){return 8},Yne=function(e,r,n){return[e-2*r+n,2*(r-e),e]},uI=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function S2(t,e){function r(f){for(var h=[],d=0;d<f.length;d++){var v=f[d],y=f[(d+1)%f.length],b={x:y.x-v.x,y:y.y-v.y},p={x:-b.y,y:b.x},m=Math.sqrt(p.x*p.x+p.y*p.y);h.push({x:p.x/m,y:p.y/m})}return h}function n(f,h){var d=1/0,v=-1/0,y=Oo(f),b;try{for(y.s();!(b=y.n()).done;){var p=b.value,m=p.x*h.x+p.y*h.y;d=Math.min(d,m),v=Math.max(v,m)}}catch(g){y.e(g)}finally{y.f()}return{min:d,max:v}}function i(f,h){return!(f.max<h.min||h.max<f.min)}var a=[].concat(ES(r(t)),ES(r(e))),o=Oo(a),u;try{for(o.s();!(u=o.n()).done;){var s=u.value,l=n(t,s),c=n(e,s);if(!i(l,c))return!1}}catch(f){o.e(f)}finally{o.f()}return!0}var Wne=Ea({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Xne={pageRank:function(e){for(var r=Wne(e),n=r.dampingFactor,i=r.precision,a=r.iterations,o=r.weight,u=this._private.cy,s=this.byGroup(),l=s.nodes,c=s.edges,f=l.length,h=f*f,d=c.length,v=new Array(h),y=new Array(f),b=(1-n)/f,p=0;p<f;p++){for(var m=0;m<f;m++){var g=p*f+m;v[g]=0}y[p]=0}for(var _=0;_<d;_++){var E=c[_],T=E.data("source"),w=E.data("target");if(T!==w){var S=l.indexOfId(T),C=l.indexOfId(w),R=o(E),D=C*f+S;v[D]+=R,y[S]+=R}}for(var M=1/f+b,I=0;I<f;I++)if(y[I]===0)for(var k=0;k<f;k++){var U=k*f+I;v[U]=M}else for(var F=0;F<f;F++){var B=F*f+I;v[B]=v[B]/y[I]+b}for(var z=new Array(f),H=new Array(f),Y,W=0;W<f;W++)z[W]=1;for(var Z=0;Z<a;Z++){for(var le=0;le<f;le++)H[le]=0;for(var ce=0;ce<f;ce++)for(var ue=0;ue<f;ue++){var de=ce*f+ue;H[ce]+=v[de]*z[ue]}Ane(H),Y=z,z=H,H=Y;for(var he=0,fe=0;fe<f;fe++){var te=Y[fe]-z[fe];he+=te*te}if(he<i)break}var Q={rank:function(ae){return ae=u.collection(ae)[0],z[l.indexOf(ae)]}};return Q}},k4=Ea({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Dg={degreeCentralityNormalized:function(e){e=k4(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},f={},h=0,d=0,v=0;v<i;v++){var y=n[v],b=y.id();e.root=y;var p=this.degreeCentrality(e);h<p.indegree&&(h=p.indegree),d<p.outdegree&&(d=p.outdegree),c[b]=p.indegree,f[b]=p.outdegree}return{indegree:function(g){return h==0?0:(Dt(g)&&(g=r.filter(g)),c[g.id()]/h)},outdegree:function(g){return d===0?0:(Dt(g)&&(g=r.filter(g)),f[g.id()]/d)}}}else{for(var a={},o=0,u=0;u<i;u++){var s=n[u];e.root=s;var l=this.degreeCentrality(e);o<l.degree&&(o=l.degree),a[s.id()]=l.degree}return{degree:function(g){return o===0?0:(Dt(g)&&(g=r.filter(g)),a[g.id()]/o)}}}},degreeCentrality:function(e){e=k4(e);var r=this.cy(),n=this,i=e,a=i.root,o=i.weight,u=i.directed,s=i.alpha;if(a=r.collection(a)[0],u){for(var d=a.connectedEdges(),v=d.filter(function(T){return T.target().same(a)&&n.has(T)}),y=d.filter(function(T){return T.source().same(a)&&n.has(T)}),b=v.length,p=y.length,m=0,g=0,_=0;_<v.length;_++)m+=o(v[_]);for(var E=0;E<y.length;E++)g+=o(y[E]);return{indegree:Math.pow(b,1-s)*Math.pow(m,s),outdegree:Math.pow(p,1-s)*Math.pow(g,s)}}else{for(var l=a.connectedEdges().intersection(n),c=l.length,f=0,h=0;h<l.length;h++)f+=o(l[h]);return{degree:Math.pow(c,1-s)*Math.pow(f,s)}}}};Dg.dc=Dg.degreeCentrality;Dg.dcn=Dg.degreeCentralityNormalised=Dg.degreeCentralityNormalized;var L4=Ea({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Mg={closenessCentralityNormalized:function(e){for(var r=L4(e),n=r.harmonic,i=r.weight,a=r.directed,o=this.cy(),u={},s=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),f=0;f<l.length;f++){for(var h=0,d=l[f],v=0;v<l.length;v++)if(f!==v){var y=c.distance(d,l[v]);n?h+=1/y:h+=y}n||(h=1/h),s<h&&(s=h),u[d.id()]=h}return{closeness:function(p){return s==0?0:(Dt(p)?p=o.filter(p)[0].id():p=p.id(),u[p]/s)}}},closenessCentrality:function(e){var r=L4(e),n=r.root,i=r.weight,a=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var u=this.dijkstra({root:n,weight:i,directed:a}),s=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var h=u.distanceTo(f);o?s+=1/h:s+=h}}return o?s:1/s}};Mg.cc=Mg.closenessCentrality;Mg.ccn=Mg.closenessCentralityNormalised=Mg.closenessCentralityNormalized;var $ne=Ea({weight:null,directed:!1}),sI={betweennessCentrality:function(e){for(var r=$ne(e),n=r.directed,i=r.weight,a=i!=null,o=this.cy(),u=this.nodes(),s={},l={},c=0,f={set:function(g,_){l[g]=_,_>c&&(c=_)},get:function(g){return l[g]}},h=0;h<u.length;h++){var d=u[h],v=d.id();n?s[v]=d.outgoers().nodes():s[v]=d.openNeighborhood().nodes(),f.set(v,0)}for(var y=function(){for(var g=u[b].id(),_=[],E={},T={},w={},S=new S_(function(ce,ue){return w[ce]-w[ue]}),C=0;C<u.length;C++){var R=u[C].id();E[R]=[],T[R]=0,w[R]=1/0}for(T[g]=1,w[g]=0,S.push(g);!S.empty();){var D=S.pop();if(_.push(D),a)for(var M=0;M<s[D].length;M++){var I=s[D][M],k=o.getElementById(D),U=void 0;k.edgesTo(I).length>0?U=k.edgesTo(I)[0]:U=I.edgesTo(k)[0];var F=i(U);I=I.id(),w[I]>w[D]+F&&(w[I]=w[D]+F,S.nodes.indexOf(I)<0?S.push(I):S.updateItem(I),T[I]=0,E[I]=[]),w[I]==w[D]+F&&(T[I]=T[I]+T[D],E[I].push(D))}else for(var B=0;B<s[D].length;B++){var z=s[D][B].id();w[z]==1/0&&(S.push(z),w[z]=w[D]+1),w[z]==w[D]+1&&(T[z]=T[z]+T[D],E[z].push(D))}}for(var H={},Y=0;Y<u.length;Y++)H[u[Y].id()]=0;for(;_.length>0;){for(var W=_.pop(),Z=0;Z<E[W].length;Z++){var le=E[W][Z];H[le]=H[le]+T[le]/T[W]*(1+H[W])}W!=u[b].id()&&f.set(W,f.get(W)+H[W])}},b=0;b<u.length;b++)y();var p={betweenness:function(g){var _=o.collection(g).id();return f.get(_)},betweennessNormalized:function(g){if(c==0)return 0;var _=o.collection(g).id();return f.get(_)/c}};return p.betweennessNormalised=p.betweennessNormalized,p}};sI.bc=sI.betweennessCentrality;var Kne=Ea({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Zne=function(e){return Kne(e)},Qne=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},Jne=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},jV=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var a=0;a<r;a++)n+=e[a*r+i];for(var o=0;o<r;o++)e[o*r+i]=e[o*r+i]/n}},eie=function(e,r,n){for(var i=new Array(n*n),a=0;a<n;a++){for(var o=0;o<n;o++)i[a*n+o]=0;for(var u=0;u<n;u++)for(var s=0;s<n;s++)i[a*n+s]+=e[a*n+u]*r[u*n+s]}return i},tie=function(e,r,n){for(var i=e.slice(0),a=1;a<n;a++)e=eie(e,i,r);return e},rie=function(e,r,n){for(var i=new Array(r*r),a=0;a<r*r;a++)i[a]=Math.pow(e[a],n);return jV(i,r),i},nie=function(e,r,n,i){for(var a=0;a<n;a++){var o=Math.round(e[a]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(r[a]*Math.pow(10,i))/Math.pow(10,i);if(o!==u)return!1}return!0},iie=function(e,r,n,i){for(var a=[],o=0;o<r;o++){for(var u=[],s=0;s<r;s++)Math.round(e[o*r+s]*1e3)/1e3>0&&u.push(n[s]);u.length!==0&&a.push(i.collection(u))}return a},aie=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},oie=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&aie(e[r],e[n])&&e.splice(n,1);return e},j4=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),a=Zne(e),o={},u=0;u<r.length;u++)o[r[u].id()]=u;for(var s=r.length,l=s*s,c=new Array(l),f,h=0;h<l;h++)c[h]=0;for(var d=0;d<n.length;d++){var v=n[d],y=o[v.source().id()],b=o[v.target().id()],p=Qne(v,a.attributes);c[y*s+b]+=p,c[b*s+y]+=p}Jne(c,s,a.multFactor),jV(c,s);for(var m=!0,g=0;m&&g<a.maxIterations;)m=!1,f=tie(c,s,a.expandFactor),c=rie(f,s,a.inflateFactor),nie(c,f,l,4)||(m=!0),g++;var _=iie(c,s,r,i);return _=oie(_),_},uie={markovClustering:j4,mcl:j4},sie=function(e){return e},BV=function(e,r){return Math.abs(r-e)},B4=function(e,r,n){return e+BV(r,n)},U4=function(e,r,n){return e+Math.pow(n-r,2)},lie=function(e){return Math.sqrt(e)},cie=function(e,r,n){return Math.max(e,BV(r,n))},Fm=function(e,r,n,i,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:sie,u=i,s,l,c=0;c<e;c++)s=r(c),l=n(c),u=a(u,s,l);return o(u)},Jg={euclidean:function(e,r,n){return e>=2?Fm(e,r,n,0,U4,lie):Fm(e,r,n,0,B4)},squaredEuclidean:function(e,r,n){return Fm(e,r,n,0,U4)},manhattan:function(e,r,n){return Fm(e,r,n,0,B4)},max:function(e,r,n){return Fm(e,r,n,-1/0,cie)}};Jg["squared-euclidean"]=Jg.squaredEuclidean;Jg.squaredeuclidean=Jg.squaredEuclidean;function TO(t,e,r,n,i,a){var o;return Qn(t)?o=t:o=Jg[t]||Jg.euclidean,e===0&&Qn(t)?o(i,a):o(e,r,n,i,a)}var fie=Ea({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),kk=function(e){return fie(e)},AS=function(e,r,n,i,a){var o=a!=="kMedoids",u=o?function(f){return n[f]}:function(f){return i[f](n)},s=function(h){return i[h](r)},l=n,c=r;return TO(e,i.length,u,s,l,c)},O2=function(e,r,n){for(var i=n.length,a=new Array(i),o=new Array(i),u=new Array(r),s=null,l=0;l<i;l++)a[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var c=0;c<r;c++){s=[];for(var f=0;f<i;f++)s[f]=Math.random()*(o[f]-a[f])+a[f];u[c]=s}return u},UV=function(e,r,n,i,a){for(var o=1/0,u=0,s=0;s<r.length;s++){var l=AS(n,e,r[s],i,a);l<o&&(o=l,u=s)}return u},FV=function(e,r,n){for(var i=[],a=null,o=0;o<r.length;o++)a=r[o],n[a.id()]===e&&i.push(a);return i},hie=function(e,r,n){return Math.abs(r-e)<=n},die=function(e,r,n){for(var i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){var o=Math.abs(e[i][a]-r[i][a]);if(o>n)return!1}return!0},vie=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},F4=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var a=e[Math.floor(Math.random()*e.length)];vie(a,n,i);)a=e[Math.floor(Math.random()*e.length)];n[i]=a}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},z4=function(e,r,n){for(var i=0,a=0;a<r.length;a++)i+=AS("manhattan",r[a],e,n,"kMedoids");return i},pie=function(e){var r=this.cy(),n=this.nodes(),i=null,a=kk(e),o=new Array(a.k),u={},s;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,s=O2(n,a.k,a.attributes)):Ui(a.testCentroids)==="object"?s=a.testCentroids:s=O2(n,a.k,a.attributes):s=O2(n,a.k,a.attributes);for(var l=!0,c=0;l&&c<a.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],u[i.id()]=UV(i,s,a.distance,a.attributes,"kMeans");l=!1;for(var h=0;h<a.k;h++){var d=FV(h,n,u);if(d.length!==0){for(var v=a.attributes.length,y=s[h],b=new Array(v),p=new Array(v),m=0;m<v;m++){p[m]=0;for(var g=0;g<d.length;g++)i=d[g],p[m]+=a.attributes[m](i);b[m]=p[m]/d.length,hie(b[m],y[m],a.sensitivityThreshold)||(l=!0)}s[h]=b,o[h]=r.collection(d)}}c++}return o},gie=function(e){var r=this.cy(),n=this.nodes(),i=null,a=kk(e),o=new Array(a.k),u,s={},l,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Ui(a.testCentroids)==="object"?u=a.testCentroids:u=F4(n,a.k)):u=F4(n,a.k);for(var f=!0,h=0;f&&h<a.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],s[i.id()]=UV(i,u,a.distance,a.attributes,"kMedoids");f=!1;for(var v=0;v<u.length;v++){var y=FV(v,n,s);if(y.length!==0){c[v]=z4(u[v],y,a.attributes);for(var b=0;b<y.length;b++)l=z4(y[b],y,a.attributes),l<c[v]&&(c[v]=l,u[v]=y[b],f=!0);o[v]=r.collection(y)}}h++}return o},yie=function(e,r,n,i,a){for(var o,u,s=0;s<r.length;s++)for(var l=0;l<e.length;l++)i[s][l]=Math.pow(n[s][l],a.m);for(var c=0;c<e.length;c++)for(var f=0;f<a.attributes.length;f++){o=0,u=0;for(var h=0;h<r.length;h++)o+=i[h][c]*a.attributes[f](r[h]),u+=i[h][c];e[c][f]=o/u}},mie=function(e,r,n,i,a){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var u,s,l,c=2/(a.m-1),f=0;f<n.length;f++)for(var h=0;h<i.length;h++){u=0;for(var d=0;d<n.length;d++)s=AS(a.distance,i[h],n[f],a.attributes,"cmeans"),l=AS(a.distance,i[h],n[d],a.attributes,"cmeans"),u+=Math.pow(s/l,c);e[h][f]=1/u}},bie=function(e,r,n,i){for(var a=new Array(n.k),o=0;o<a.length;o++)a[o]=[];for(var u,s,l=0;l<r.length;l++){u=-1/0,s=-1;for(var c=0;c<r[0].length;c++)r[l][c]>u&&(u=r[l][c],s=c);a[s].push(e[l])}for(var f=0;f<a.length;f++)a[f]=i.collection(a[f]);return a},q4=function(e){var r=this.cy(),n=this.nodes(),i=kk(e),a,o,u,s,l;s=new Array(n.length);for(var c=0;c<n.length;c++)s[c]=new Array(i.k);u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(i.k);for(var h=0;h<n.length;h++){for(var d=0,v=0;v<i.k;v++)u[h][v]=Math.random(),d+=u[h][v];for(var y=0;y<i.k;y++)u[h][y]=u[h][y]/d}o=new Array(i.k);for(var b=0;b<i.k;b++)o[b]=new Array(i.attributes.length);l=new Array(n.length);for(var p=0;p<n.length;p++)l[p]=new Array(i.k);for(var m=!0,g=0;m&&g<i.maxIterations;)m=!1,yie(o,n,u,l,i),mie(u,s,o,n,i),die(u,s,i.sensitivityThreshold)||(m=!0),g++;return a=bie(n,u,i,r),{clusters:a,degreeOfMembership:u}},_ie={kMeans:pie,kMedoids:gie,fuzzyCMeans:q4,fcm:q4},wie=Ea({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Eie={single:"min",complete:"max"},Sie=function(e){var r=wie(e),n=Eie[r.linkage];return n!=null&&(r.linkage=n),r},G4=function(e,r,n,i,a){for(var o=0,u=1/0,s,l=a.attributes,c=function(C,R){return TO(a.distance,l.length,function(D){return l[D](C)},function(D){return l[D](R)},C,R)},f=0;f<e.length;f++){var h=e[f].key,d=n[h][i[h]];d<u&&(o=h,u=d)}if(a.mode==="threshold"&&u>=a.threshold||a.mode==="dendrogram"&&e.length===1)return!1;var v=r[o],y=r[i[o]],b;a.mode==="dendrogram"?b={left:v,right:y,key:v.key}:b={value:v.value.concat(y.value),key:v.key},e[v.index]=b,e.splice(y.index,1),r[v.key]=b;for(var p=0;p<e.length;p++){var m=e[p];v.key===m.key?s=1/0:a.linkage==="min"?(s=n[v.key][m.key],n[v.key][m.key]>n[y.key][m.key]&&(s=n[y.key][m.key])):a.linkage==="max"?(s=n[v.key][m.key],n[v.key][m.key]<n[y.key][m.key]&&(s=n[y.key][m.key])):a.linkage==="mean"?s=(n[v.key][m.key]*v.size+n[y.key][m.key]*y.size)/(v.size+y.size):a.mode==="dendrogram"?s=c(m.value,v.value):s=c(m.value[0],v.value[0]),n[v.key][m.key]=n[m.key][v.key]=s}for(var g=0;g<e.length;g++){var _=e[g].key;if(i[_]===v.key||i[_]===y.key){for(var E=_,T=0;T<e.length;T++){var w=e[T].key;n[_][w]<n[_][E]&&(E=w)}i[_]=E}e[g].index=g}return v.key=y.key=v.index=y.index=null,!0},yg=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&yg(e.left,r),e.right&&yg(e.right,r)))},lI=function(e,r){if(!e)return"";if(e.left&&e.right){var n=lI(e.left,r),i=lI(e.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(e.value)return e.value.id()},cI=function(e,r,n){if(!e)return[];var i=[],a=[],o=[];return r===0?(e.left&&yg(e.left,i),e.right&&yg(e.right,a),o=i.concat(a),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&yg(e.left,i),e.right&&yg(e.right,a),[n.collection(i),n.collection(a)]):e.value?[n.collection(e.value)]:(e.left&&(i=cI(e.left,r-1,n)),e.right&&(a=cI(e.right,r-1,n)),i.concat(a))},V4=function(e){for(var r=this.cy(),n=this.nodes(),i=Sie(e),a=i.attributes,o=function(g,_){return TO(i.distance,a.length,function(E){return a[E](g)},function(E){return a[E](_)},g,_)},u=[],s=[],l=[],c=[],f=0;f<n.length;f++){var h={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};u[f]=h,c[f]=h,s[f]=[],l[f]=0}for(var d=0;d<u.length;d++)for(var v=0;v<=d;v++){var y=void 0;i.mode==="dendrogram"?y=d===v?1/0:o(u[d].value,u[v].value):y=d===v?1/0:o(u[d].value[0],u[v].value[0]),s[d][v]=y,s[v][d]=y,y<s[d][l[d]]&&(l[d]=v)}for(var b=G4(u,c,s,l,i);b;)b=G4(u,c,s,l,i);var p;return i.mode==="dendrogram"?(p=cI(u[0],i.dendrogramDepth,r),i.addDendrogram&&lI(u[0],r)):(p=new Array(u.length),u.forEach(function(m,g){m.key=m.index=null,p[g]=r.collection(m.value)})),p},Oie={hierarchicalClustering:V4,hca:V4},Tie=Ea({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),xie=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Vn("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(a){return a===n})||st(n)||Vn("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Tie(e)},Cie=function(e,r,n,i){var a=function(u,s){return i[s](u)};return-TO(e,i.length,function(o){return a(r,o)},function(o){return a(n,o)},r,n)},Aie=function(e,r){var n=null;return r==="median"?n=xne(e):r==="mean"?n=Tne(e):r==="min"?n=Sne(e):r==="max"?n=One(e):n=r,n},Rie=function(e,r,n){for(var i=[],a=0;a<e;a++)r[a*e+a]+n[a*e+a]>0&&i.push(a);return i},H4=function(e,r,n){for(var i=[],a=0;a<e;a++){for(var o=-1,u=-1/0,s=0;s<n.length;s++){var l=n[s];r[a*e+l]>u&&(o=l,u=r[a*e+l])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},Pie=function(e,r,n){for(var i=H4(e,r,n),a=0;a<n.length;a++){for(var o=[],u=0;u<i.length;u++)i[u]===n[a]&&o.push(u);for(var s=-1,l=-1/0,c=0;c<o.length;c++){for(var f=0,h=0;h<o.length;h++)f+=r[o[h]*e+o[c]];f>l&&(s=c,l=f)}n[a]=o[s]}return i=H4(e,r,n),i},Y4=function(e){for(var r=this.cy(),n=this.nodes(),i=xie(e),a={},o=0;o<n.length;o++)a[n[o].id()]=o;var u,s,l,c,f,h;u=n.length,s=u*u,l=new Array(s);for(var d=0;d<s;d++)l[d]=-1/0;for(var v=0;v<u;v++)for(var y=0;y<u;y++)v!==y&&(l[v*u+y]=Cie(i.distance,n[v],n[y],i.attributes));c=Aie(l,i.preference);for(var b=0;b<u;b++)l[b*u+b]=c;f=new Array(s);for(var p=0;p<s;p++)f[p]=0;h=new Array(s);for(var m=0;m<s;m++)h[m]=0;for(var g=new Array(u),_=new Array(u),E=new Array(u),T=0;T<u;T++)g[T]=0,_[T]=0,E[T]=0;for(var w=new Array(u*i.minIterations),S=0;S<w.length;S++)w[S]=0;var C;for(C=0;C<i.maxIterations;C++){for(var R=0;R<u;R++){for(var D=-1/0,M=-1/0,I=-1,k=0,U=0;U<u;U++)g[U]=f[R*u+U],k=h[R*u+U]+l[R*u+U],k>=D?(M=D,D=k,I=U):k>M&&(M=k);for(var F=0;F<u;F++)f[R*u+F]=(1-i.damping)*(l[R*u+F]-D)+i.damping*g[F];f[R*u+I]=(1-i.damping)*(l[R*u+I]-M)+i.damping*g[I]}for(var B=0;B<u;B++){for(var z=0,H=0;H<u;H++)g[H]=h[H*u+B],_[H]=Math.max(0,f[H*u+B]),z+=_[H];z-=_[B],_[B]=f[B*u+B],z+=_[B];for(var Y=0;Y<u;Y++)h[Y*u+B]=(1-i.damping)*Math.min(0,z-_[Y])+i.damping*g[Y];h[B*u+B]=(1-i.damping)*(z-_[B])+i.damping*g[B]}for(var W=0,Z=0;Z<u;Z++){var le=h[Z*u+Z]+f[Z*u+Z]>0?1:0;w[C%i.minIterations*u+Z]=le,W+=le}if(W>0&&(C>=i.minIterations-1||C==i.maxIterations-1)){for(var ce=0,ue=0;ue<u;ue++){E[ue]=0;for(var de=0;de<i.minIterations;de++)E[ue]+=w[de*u+ue];(E[ue]===0||E[ue]===i.minIterations)&&ce++}if(ce===u)break}}for(var he=Rie(u,f,h),fe=Pie(u,l,he),te={},Q=0;Q<he.length;Q++)te[he[Q]]=[];for(var ee=0;ee<n.length;ee++){var ae=a[n[ee].id()],pe=fe[ae];pe!=null&&te[pe].push(n[ee])}for(var _e=new Array(he.length),Te=0;Te<he.length;Te++)_e[Te]=r.collection(te[he[Te]]);return _e},Die={affinityPropagation:Y4,ap:Y4},Mie=Ea({root:void 0,directed:!1}),Iie={hierholzer:function(e){if(!Wr(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=Mie(e),i=n.root,a=n.directed,o=this,u=!1,s,l,c;i&&(c=Dt(i)?this.filter(i)[0].id():i[0].id());var f={},h={};a?o.forEach(function(m){var g=m.id();if(m.isNode()){var _=m.indegree(!0),E=m.outdegree(!0),T=_-E,w=E-_;T==1?s?u=!0:s=g:w==1?l?u=!0:l=g:(w>1||T>1)&&(u=!0),f[g]=[],m.outgoers().forEach(function(S){S.isEdge()&&f[g].push(S.id())})}else h[g]=[void 0,m.target().id()]}):o.forEach(function(m){var g=m.id();if(m.isNode()){var _=m.degree(!0);_%2&&(s?l?u=!0:l=g:s=g),f[g]=[],m.connectedEdges().forEach(function(E){return f[g].push(E.id())})}else h[g]=[m.source().id(),m.target().id()]});var d={found:!1,trail:void 0};if(u)return d;if(l&&s)if(a){if(c&&l!=c)return d;c=l}else{if(c&&l!=c&&s!=c)return d;c||(c=l)}else c||(c=o[0].id());var v=function(g){for(var _=g,E=[g],T,w,S;f[_].length;)T=f[_].shift(),w=h[T][0],S=h[T][1],_!=S?(f[S]=f[S].filter(function(C){return C!=T}),_=S):!a&&_!=w&&(f[w]=f[w].filter(function(C){return C!=T}),_=w),E.unshift(T),E.unshift(_);return E},y=[],b=[];for(b=v(c);b.length!=1;)f[b[0]].length==0?(y.unshift(o.getElementById(b.shift())),y.unshift(o.getElementById(b.shift()))):b=v(b.shift()).concat(b);y.unshift(o.getElementById(b.shift()));for(var p in f)if(f[p].length)return d;return d.found=!0,d.trail=this.spawn(y,!0),d}},Tw=function(){var e=this,r={},n=0,i=0,a=[],o=[],u={},s=function(h,d){for(var v=o.length-1,y=[],b=e.spawn();o[v].x!=h||o[v].y!=d;)y.push(o.pop().edge),v--;y.push(o.pop().edge),y.forEach(function(p){var m=p.connectedNodes().intersection(e);b.merge(p),m.forEach(function(g){var _=g.id(),E=g.connectedEdges().intersection(e);b.merge(g),r[_].cutVertex?b.merge(E.filter(function(T){return T.isLoop()})):b.merge(E)})}),a.push(b)},l=function(h,d,v){h===v&&(i+=1),r[d]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(d).connectedEdges().intersection(e);if(y.size()===0)a.push(e.spawn(e.getElementById(d)));else{var b,p,m,g;y.forEach(function(_){b=_.source().id(),p=_.target().id(),m=b===d?p:b,m!==v&&(g=_.id(),u[g]||(u[g]=!0,o.push({x:d,y:m,edge:_})),m in r?r[d].low=Math.min(r[d].low,r[m].id):(l(h,m,d),r[d].low=Math.min(r[d].low,r[m].low),r[d].id<=r[m].low&&(r[d].cutVertex=!0,s(d,m))))})}};e.forEach(function(f){if(f.isNode()){var h=f.id();h in r||(i=0,l(h,h),r[h].cutVertex=i>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:a}},Nie={hopcroftTarjanBiconnected:Tw,htbc:Tw,htb:Tw,hopcroftTarjanBiconnectedComponents:Tw},xw=function(){var e=this,r={},n=0,i=[],a=[],o=e.spawn(e),u=function(l){a.push(l),r[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(y){var b=y.target().id();b!==l&&(b in r||u(b),r[b].explored||(r[l].low=Math.min(r[l].low,r[b].low)))}),r[l].index===r[l].low){for(var f=e.spawn();;){var h=a.pop();if(f.merge(e.getElementById(h)),r[h].low=r[l].index,r[h].explored=!0,h===l)break}var d=f.edgesWith(f),v=f.merge(d);i.push(v),o=o.difference(v)}};return e.forEach(function(s){if(s.isNode()){var l=s.id();l in r||u(l)}}),{cut:o,components:i}},kie={tarjanStronglyConnected:xw,tsc:xw,tscc:xw,tarjanStronglyConnectedComponents:xw},zV={};[Ub,fne,hne,vne,gne,mne,wne,Xne,Dg,Mg,sI,uie,_ie,Oie,Die,Iie,Nie,kie].forEach(function(t){qt(zV,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var qV=0,GV=1,VV=2,_s=function(e){if(!(this instanceof _s))return new _s(e);this.id="Thenable/1.0.7",this.state=qV,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};_s.prototype={fulfill:function(e){return W4(this,GV,"fulfillValue",e)},reject:function(e){return W4(this,VV,"rejectReason",e)},then:function(e,r){var n=this,i=new _s;return n.onFulfilled.push($4(e,i,"fulfill")),n.onRejected.push($4(r,i,"reject")),HV(n),i.proxy}};var W4=function(e,r,n,i){return e.state===qV&&(e.state=r,e[n]=i,HV(e)),e},HV=function(e){e.state===GV?X4(e,"onFulfilled",e.fulfillValue):e.state===VV&&X4(e,"onRejected",e.rejectReason)},X4=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var a=function(){for(var u=0;u<i.length;u++)i[u](n)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},$4=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var a;try{a=e(i)}catch(o){r.reject(o);return}YV(r,a)}}},YV=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Ui(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){e.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?e.reject(new TypeError("circular thenable chain")):YV(e,a))},function(a){i||(i=!0,e.reject(a))})}catch(a){i||e.reject(a)}return}e.fulfill(r)};_s.all=function(t){return new _s(function(e,r){for(var n=new Array(t.length),i=0,a=function(s,l){n[s]=l,i++,i===t.length&&e(n)},o=0;o<t.length;o++)(function(u){var s=t[u],l=s!=null&&s.then!=null;if(l)s.then(function(f){a(u,f)},function(f){r(f)});else{var c=s;a(u,c)}})(o)})};_s.resolve=function(t){return new _s(function(e,r){e(t)})};_s.reject=function(t){return new _s(function(e,r){r(t)})};var by=typeof Promise<"u"?Promise:_s,fI=function(e,r,n){var i=Tk(e),a=!i,o=this._private=qt({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Qn(o.complete)&&o.completes.push(o.complete),a){var u=e.position();o.startPosition=o.startPosition||{x:u.x,y:u.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var s=e.pan();o.startPan={x:s.x,y:s.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},rv=fI.prototype;qt(rv,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),ou(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var a=e.style[i],o=a.name,u=e.startStyle[o];e.startStyle[o]=a,e.style[i]=u}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new by(function(i,a){n.push(function(){i()})})}});rv.complete=rv.completed;rv.run=rv.play;rv.running=rv.playing;var Lie={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=i[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){var u=i[o];u._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],u=this._private.cy||this,s=!a,l=!s;if(!u.styleEnabled())return this;var c=u.style();r=qt({},r,n);var f=Object.keys(r).length===0;if(f)return new fI(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var h=r.renderedPosition,d=u.pan(),v=u.zoom();r.position=DV(h,v,d)}if(s&&r.panBy!=null){var y=r.panBy,b=u.pan();r.pan={x:b.x+y.x,y:b.y+y.y}}var p=r.center||r.centre;if(s&&p!=null){var m=u.getCenterPan(p.eles,r.zoom);m!=null&&(r.pan=m)}if(s&&r.fit!=null){var g=r.fit,_=u.getFitViewport(g.eles||g.boundingBox,g.padding);_!=null&&(r.pan=_.pan,r.zoom=_.zoom)}if(s&&Wr(r.zoom)){var E=u.getZoomedViewport(r.zoom);E!=null?(E.zoomed&&(r.zoom=E.zoom),E.panned&&(r.pan=E.pan)):r.zoom=null}return new fI(o[0],r)}},animate:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;n&&(r=qt({},r,n));for(var s=0;s<o.length;s++){var l=o[s],c=l.animated()&&(r.queue===void 0||r.queue),f=l.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var i=this,a=i.length!==void 0,o=a?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var s=0;s<o.length;s++){for(var l=o[s],c=l._private,f=c.animation.current,h=0;h<f.length;h++){var d=f[h],v=d._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return u.notify("draw"),this}}},T2,K4;function xO(){if(K4)return T2;K4=1;var t=Array.isArray;return T2=t,T2}var x2,Z4;function jie(){if(Z4)return x2;Z4=1;var t=xO(),e=w_(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return x2=i,x2}var C2,Q4;function Bie(){if(Q4)return C2;Q4=1;var t=EV(),e=__(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var s=t(u);return s==n||s==i||s==r||s==a}return C2=o,C2}var A2,J4;function Uie(){if(J4)return A2;J4=1;var t=EO(),e=t["__core-js_shared__"];return A2=e,A2}var R2,ej;function Fie(){if(ej)return R2;ej=1;var t=Uie(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return R2=r,R2}var P2,tj;function zie(){if(tj)return P2;tj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return P2=r,P2}var D2,rj;function qie(){if(rj)return D2;rj=1;var t=Bie(),e=Fie(),r=__(),n=zie(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,l=u.hasOwnProperty,c=RegExp("^"+s.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||e(h))return!1;var d=t(h)?c:a;return d.test(n(h))}return D2=f,D2}var M2,nj;function Gie(){if(nj)return M2;nj=1;function t(e,r){return e==null?void 0:e[r]}return M2=t,M2}var I2,ij;function Lk(){if(ij)return I2;ij=1;var t=qie(),e=Gie();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return I2=r,I2}var N2,aj;function CO(){if(aj)return N2;aj=1;var t=Lk(),e=t(Object,"create");return N2=e,N2}var k2,oj;function Vie(){if(oj)return k2;oj=1;var t=CO();function e(){this.__data__=t?t(null):{},this.size=0}return k2=e,k2}var L2,uj;function Hie(){if(uj)return L2;uj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return L2=t,L2}var j2,sj;function Yie(){if(sj)return j2;sj=1;var t=CO(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return j2=i,j2}var B2,lj;function Wie(){if(lj)return B2;lj=1;var t=CO(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return B2=n,B2}var U2,cj;function Xie(){if(cj)return U2;cj=1;var t=CO(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return U2=r,U2}var F2,fj;function $ie(){if(fj)return F2;fj=1;var t=Vie(),e=Hie(),r=Yie(),n=Wie(),i=Xie();function a(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,F2=a,F2}var z2,hj;function Kie(){if(hj)return z2;hj=1;function t(){this.__data__=[],this.size=0}return z2=t,z2}var q2,dj;function WV(){if(dj)return q2;dj=1;function t(e,r){return e===r||e!==e&&r!==r}return q2=t,q2}var G2,vj;function AO(){if(vj)return G2;vj=1;var t=WV();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return G2=e,G2}var V2,pj;function Zie(){if(pj)return V2;pj=1;var t=AO(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return V2=n,V2}var H2,gj;function Qie(){if(gj)return H2;gj=1;var t=AO();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return H2=e,H2}var Y2,yj;function Jie(){if(yj)return Y2;yj=1;var t=AO();function e(r){return t(this.__data__,r)>-1}return Y2=e,Y2}var W2,mj;function eae(){if(mj)return W2;mj=1;var t=AO();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return W2=e,W2}var X2,bj;function tae(){if(bj)return X2;bj=1;var t=Kie(),e=Zie(),r=Qie(),n=Jie(),i=eae();function a(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,X2=a,X2}var $2,_j;function rae(){if(_j)return $2;_j=1;var t=Lk(),e=EO(),r=t(e,"Map");return $2=r,$2}var K2,wj;function nae(){if(wj)return K2;wj=1;var t=$ie(),e=tae(),r=rae();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return K2=n,K2}var Z2,Ej;function iae(){if(Ej)return Z2;Ej=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Z2=t,Z2}var Q2,Sj;function RO(){if(Sj)return Q2;Sj=1;var t=iae();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Q2=e,Q2}var J2,Oj;function aae(){if(Oj)return J2;Oj=1;var t=RO();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return J2=e,J2}var eC,Tj;function oae(){if(Tj)return eC;Tj=1;var t=RO();function e(r){return t(this,r).get(r)}return eC=e,eC}var tC,xj;function uae(){if(xj)return tC;xj=1;var t=RO();function e(r){return t(this,r).has(r)}return tC=e,tC}var rC,Cj;function sae(){if(Cj)return rC;Cj=1;var t=RO();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return rC=e,rC}var nC,Aj;function lae(){if(Aj)return nC;Aj=1;var t=nae(),e=aae(),r=oae(),n=uae(),i=sae();function a(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,nC=a,nC}var iC,Rj;function cae(){if(Rj)return iC;Rj=1;var t=lae(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],s=a.cache;if(s.has(u))return s.get(u);var l=n.apply(this,o);return a.cache=s.set(u,l)||s,l};return a.cache=new(r.Cache||t),a}return r.Cache=t,iC=r,iC}var aC,Pj;function fae(){if(Pj)return aC;Pj=1;var t=cae(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return aC=r,aC}var oC,Dj;function XV(){if(Dj)return oC;Dj=1;var t=fae(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,s,l){a.push(s?l.replace(r,"$1"):u||o)}),a});return oC=n,oC}var uC,Mj;function $V(){if(Mj)return uC;Mj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return uC=t,uC}var sC,Ij;function hae(){if(Ij)return sC;Ij=1;var t=Ck(),e=$V(),r=xO(),n=w_(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}return sC=o,sC}var lC,Nj;function KV(){if(Nj)return lC;Nj=1;var t=hae();function e(r){return r==null?"":t(r)}return lC=e,lC}var cC,kj;function ZV(){if(kj)return cC;kj=1;var t=xO(),e=jie(),r=XV(),n=KV();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return cC=i,cC}var fC,Lj;function jk(){if(Lj)return fC;Lj=1;var t=w_();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return fC=e,fC}var hC,jj;function dae(){if(jj)return hC;jj=1;var t=ZV(),e=jk();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return hC=r,hC}var dC,Bj;function vae(){if(Bj)return dC;Bj=1;var t=dae();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return dC=e,dC}var pae=vae(),gae=b_(pae),vC,Uj;function yae(){if(Uj)return vC;Uj=1;var t=Lk(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return vC=e,vC}var pC,Fj;function mae(){if(Fj)return pC;Fj=1;var t=yae();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return pC=e,pC}var gC,zj;function bae(){if(zj)return gC;zj=1;var t=mae(),e=WV(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u){var s=a[o];(!(n.call(a,o)&&e(s,u))||u===void 0&&!(o in a))&&t(a,o,u)}return gC=i,gC}var yC,qj;function _ae(){if(qj)return yC;qj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return yC=r,yC}var mC,Gj;function wae(){if(Gj)return mC;Gj=1;var t=bae(),e=ZV(),r=_ae(),n=__(),i=jk();function a(o,u,s,l){if(!n(o))return o;u=e(u,o);for(var c=-1,f=u.length,h=f-1,d=o;d!=null&&++c<f;){var v=i(u[c]),y=s;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(c!=h){var b=d[v];y=l?l(b,v,d):void 0,y===void 0&&(y=n(b)?b:r(u[c+1])?[]:{})}t(d,v,y),d=d[v]}return o}return mC=a,mC}var bC,Vj;function Eae(){if(Vj)return bC;Vj=1;var t=wae();function e(r,n,i){return r==null?r:t(r,n,i)}return bC=e,bC}var Sae=Eae(),Oae=b_(Sae),_C,Hj;function Tae(){if(Hj)return _C;Hj=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return _C=t,_C}var wC,Yj;function xae(){if(Yj)return wC;Yj=1;var t=$V(),e=Tae(),r=xO(),n=w_(),i=XV(),a=jk(),o=KV();function u(s){return r(s)?t(s,a):n(s)?[s]:e(i(o(s)))}return wC=u,wC}var Cae=xae(),Aae=b_(Cae),Rae={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return e=qt({},r,e),function(i,a){var o=e,u=this,s=u.length!==void 0,l=s?u:[u],c=s?u[0]:u;if(Dt(i)){var f=i.indexOf(".")!==-1,h=f&&Aae(i);if(o.allowGetting&&a===void 0){var d;return c&&(o.beforeGet(c),h&&c._private[o.field][i]===void 0?d=gae(c._private[o.field],h):d=c._private[o.field][i]),d}else if(o.allowSetting&&a!==void 0){var v=!o.immutableKeys[i];if(v){var y=hV({},i,a);o.beforeSet(u,y);for(var b=0,p=l.length;b<p;b++){var m=l[b];o.canSet(m)&&(h&&c._private[o.field][i]===void 0?Oae(m._private[o.field],h,a):m._private[o.field][i]=a)}o.updateStyle&&u.updateStyle(),o.onSet(u),o.settingTriggersEvent&&u[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Wr(i)){var g=i,_,E,T=Object.keys(g);o.beforeSet(u,g);for(var w=0;w<T.length;w++){_=T[w],E=g[_];var S=!o.immutableKeys[_];if(S)for(var C=0;C<l.length;C++){var R=l[C];o.canSet(R)&&(R._private[o.field][_]=E)}}o.updateStyle&&u.updateStyle(),o.onSet(u),o.settingTriggersEvent&&u[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Qn(i)){var D=i;u.on(o.bindingEvent,D)}else if(o.allowGetting&&i===void 0){var M;return c&&(o.beforeGet(c),M=c._private[o.field]),M}return u}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=qt({},r,e),function(i){var a=e,o=this,u=o.length!==void 0,s=u?o:[o];if(Dt(i)){for(var l=i.split(/\s+/),c=l.length,f=0;f<c;f++){var h=l[f];if(!ch(h)){var d=!a.immutableKeys[h];if(d)for(var v=0,y=s.length;v<y;v++)s[v]._private[a.field][h]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(i===void 0){for(var b=0,p=s.length;b<p;b++)for(var m=s[b]._private[a.field],g=Object.keys(m),_=0;_<g.length;_++){var E=g[_],T=!a.immutableKeys[E];T&&(m[E]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},Pae={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var a=this,o=Array.prototype.slice.call(arguments,0);return new by(function(u,s){var l=function(d){a.off.apply(a,f),u(d)},c=o.concat([l]),f=c.concat([]);a.on.apply(a,c)})}}},sn={};[Lie,Rae,Pae].forEach(function(t){qt(sn,t)});var Dae={animate:sn.animate(),animation:sn.animation(),animated:sn.animated(),clearQueue:sn.clearQueue(),delay:sn.delay(),delayAnimation:sn.delayAnimation(),stop:sn.stop()},AE={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else En(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],a=new my(e),o=0;o<r.length;o++){for(var u=r[o],s=u._private,l=s.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=l.has(h);if(!d){c=!0;break}}c||(c=l.size!==e.length),c&&(s.classes=a,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){En(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,a=[],o=0,u=n.length;o<u;o++)for(var s=n[o],l=s._private.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=l.has(h),v=!1;r||i&&!d?(l.add(h),v=!0):(!r||i&&d)&&(l.delete(h),v=!0),!c&&v&&(a.push(s),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};AE.className=AE.classNames=AE.classes;var Vr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Li,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Vr.variable="(?:[\\w-.]|(?:\\\\"+Vr.metaChar+"))+";Vr.className="(?:[\\w-]|(?:\\\\"+Vr.metaChar+"))+";Vr.value=Vr.string+"|"+Vr.number;Vr.id=Vr.variable;(function(){var t,e,r;for(t=Vr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Vr.comparatorOp+="|@"+e;for(t=Vr.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Vr.comparatorOp+="|\\!"+e)})();var gn=function(){return{checks:[]}},yt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},hI=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Rre(t.selector,e.selector)}),Mae=function(){for(var t={},e,r=0;r<hI.length;r++)e=hI[r],t[e.selector]=e.matches;return t}(),Iae=function(e,r){return Mae[e](r)},Nae="("+hI.map(function(t){return t.selector}).join("|")+")",Ip=function(e){return e.replace(new RegExp("\\\\("+Vr.metaChar+")","g"),function(r,n){return n})},sf=function(e,r,n){e[e.length-1]=n},dI=[{name:"group",query:!0,regex:"("+Vr.group+")",populate:function(e,r,n){var i=Ci(n,1),a=i[0];r.checks.push({type:yt.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:Nae,populate:function(e,r,n){var i=Ci(n,1),a=i[0];r.checks.push({type:yt.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Vr.id+")",populate:function(e,r,n){var i=Ci(n,1),a=i[0];r.checks.push({type:yt.ID,value:Ip(a)})}},{name:"className",query:!0,regex:"\\.("+Vr.className+")",populate:function(e,r,n){var i=Ci(n,1),a=i[0];r.checks.push({type:yt.CLASS,value:Ip(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Vr.variable+")\\s*\\]",populate:function(e,r,n){var i=Ci(n,1),a=i[0];r.checks.push({type:yt.DATA_EXIST,field:Ip(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Vr.variable+")\\s*("+Vr.comparatorOp+")\\s*("+Vr.value+")\\s*\\]",populate:function(e,r,n){var i=Ci(n,3),a=i[0],o=i[1],u=i[2],s=new RegExp("^"+Vr.string+"$").exec(u)!=null;s?u=u.substring(1,u.length-1):u=parseFloat(u),r.checks.push({type:yt.DATA_COMPARE,field:Ip(a),operator:o,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Vr.boolOp+")\\s*("+Vr.variable+")\\s*\\]",populate:function(e,r,n){var i=Ci(n,2),a=i[0],o=i[1];r.checks.push({type:yt.DATA_BOOL,field:Ip(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Vr.meta+")\\s*("+Vr.comparatorOp+")\\s*("+Vr.number+")\\s*\\]\\]",populate:function(e,r,n){var i=Ci(n,3),a=i[0],o=i[1],u=i[2];r.checks.push({type:yt.META_COMPARE,field:Ip(a),operator:o,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:Vr.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,a=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=i,o.compoundCount=a,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=gn();return u}},{name:"directedEdge",separator:!0,regex:Vr.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=gn(),i=r,a=gn();return n.checks.push({type:yt.DIRECTED_EDGE,source:i,target:a}),sf(e,r,n),e.edgeCount++,a}else{var o=gn(),u=r,s=gn();return o.checks.push({type:yt.NODE_SOURCE,source:u,target:s}),sf(e,r,o),e.edgeCount++,s}}},{name:"undirectedEdge",separator:!0,regex:Vr.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=gn(),i=r,a=gn();return n.checks.push({type:yt.UNDIRECTED_EDGE,nodes:[i,a]}),sf(e,r,n),e.edgeCount++,a}else{var o=gn(),u=r,s=gn();return o.checks.push({type:yt.NODE_NEIGHBOR,node:u,neighbor:s}),sf(e,r,o),s}}},{name:"child",separator:!0,regex:Vr.child,populate:function(e,r){if(e.currentSubject==null){var n=gn(),i=gn(),a=e[e.length-1];return n.checks.push({type:yt.CHILD,parent:a,child:i}),sf(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var o=gn(),u=e[e.length-1],s=gn(),l=gn(),c=gn(),f=gn();return o.checks.push({type:yt.COMPOUND_SPLIT,left:u,right:s,subject:l}),l.checks=r.checks,r.checks=[{type:yt.TRUE}],f.checks.push({type:yt.TRUE}),s.checks.push({type:yt.PARENT,parent:f,child:c}),sf(e,u,o),e.currentSubject=l,e.compoundCount++,c}else{var h=gn(),d=gn(),v=[{type:yt.PARENT,parent:h,child:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:Vr.descendant,populate:function(e,r){if(e.currentSubject==null){var n=gn(),i=gn(),a=e[e.length-1];return n.checks.push({type:yt.DESCENDANT,ancestor:a,descendant:i}),sf(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var o=gn(),u=e[e.length-1],s=gn(),l=gn(),c=gn(),f=gn();return o.checks.push({type:yt.COMPOUND_SPLIT,left:u,right:s,subject:l}),l.checks=r.checks,r.checks=[{type:yt.TRUE}],f.checks.push({type:yt.TRUE}),s.checks.push({type:yt.ANCESTOR,ancestor:f,descendant:c}),sf(e,u,o),e.currentSubject=l,e.compoundCount++,c}else{var h=gn(),d=gn(),v=[{type:yt.ANCESTOR,ancestor:h,descendant:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:Vr.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return ln("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],a=i==null?null:i.type;a===yt.DIRECTED_EDGE?i.type=yt.NODE_TARGET:a===yt.UNDIRECTED_EDGE&&(i.type=yt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];dI.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var kae=function(e){for(var r,n,i,a=0;a<dI.length;a++){var o=dI[a],u=o.name,s=e.match(o.regexObj);if(s!=null){n=s,r=o,i=u;var l=s[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:i,remaining:e}},Lae=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},jae=function(e){var r=this,n=r.inputText=e,i=r[0]=gn();for(r.length=1,n=Lae(n);;){var a=kae(n);if(a.expr==null)return ln("The selector `"+e+"`is invalid"),!1;var o=a.match.slice(1),u=a.expr.populate(r,i,o);if(u===!1)return!1;if(u!=null&&(i=u),n=a.remaining,n.match(/^\s*$/))break}var s=r[r.length-1];r.currentSubject!=null&&(s.subject=r.currentSubject),s.edgeCount=r.edgeCount,s.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var c=r[l];if(c.compoundCount>0&&c.edgeCount>0)return ln("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return ln("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&ln("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Bae=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return Dt(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,f){var h=c.type,d=c.value;switch(h){case yt.GROUP:{var v=e(d);return v.substring(0,v.length-1)}case yt.DATA_COMPARE:{var y=c.field,b=c.operator;return"["+y+n(e(b))+r(d)+"]"}case yt.DATA_BOOL:{var p=c.operator,m=c.field;return"["+e(p)+m+"]"}case yt.DATA_EXIST:{var g=c.field;return"["+g+"]"}case yt.META_COMPARE:{var _=c.operator,E=c.field;return"[["+E+n(e(_))+r(d)+"]]"}case yt.STATE:return d;case yt.ID:return"#"+d;case yt.CLASS:return"."+d;case yt.PARENT:case yt.CHILD:return a(c.parent,f)+n(">")+a(c.child,f);case yt.ANCESTOR:case yt.DESCENDANT:return a(c.ancestor,f)+" "+a(c.descendant,f);case yt.COMPOUND_SPLIT:{var T=a(c.left,f),w=a(c.subject,f),S=a(c.right,f);return T+(T.length>0?" ":"")+w+S}case yt.TRUE:return""}},a=function(c,f){return c.checks.reduce(function(h,d,v){return h+(f===c&&v===0?"$":"")+i(d,f)},"")},o="",u=0;u<this.length;u++){var s=this[u];o+=a(s,s.subject),this.length>1&&u<this.length-1&&(o+=", ")}return this.toStringCache=o,o},Uae={parse:jae,toString:Bae},QV=function(e,r,n){var i,a=Dt(e),o=st(e),u=Dt(n),s,l,c=!1,f=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(a||u||c)&&(s=!a&&!o?"":""+e,l=""+n),c&&(e=s=s.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":i=s.indexOf(l)>=0;break;case"$=":i=s.indexOf(l,s.length-l.length)>=0;break;case"^=":i=s.indexOf(l)===0;break;case"=":i=e===n;break;case">":h=!0,i=e>n;break;case">=":h=!0,i=e>=n;break;case"<":h=!0,i=e<n;break;case"<=":h=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!h)&&(i=!i),i},Fae=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},zae=function(e){return e!==void 0},Bk=function(e,r){return e.data(r)},qae=function(e,r){return e[r]()},ui=[],jn=function(e,r){return e.checks.every(function(n){return ui[n.type](n,r)})};ui[yt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};ui[yt.STATE]=function(t,e){var r=t.value;return Iae(r,e)};ui[yt.ID]=function(t,e){var r=t.value;return e.id()===r};ui[yt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};ui[yt.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return QV(qae(e,r),n,i)};ui[yt.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return QV(Bk(e,r),n,i)};ui[yt.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return Fae(Bk(e,r),n)};ui[yt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,zae(Bk(e,r))};ui[yt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),a=e.target();return jn(r,i)&&jn(n,a)||jn(n,i)&&jn(r,a)};ui[yt.NODE_NEIGHBOR]=function(t,e){return jn(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&jn(t.neighbor,r)})};ui[yt.DIRECTED_EDGE]=function(t,e){return jn(t.source,e.source())&&jn(t.target,e.target())};ui[yt.NODE_SOURCE]=function(t,e){return jn(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&jn(t.target,r)})};ui[yt.NODE_TARGET]=function(t,e){return jn(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&jn(t.source,r)})};ui[yt.CHILD]=function(t,e){return jn(t.child,e)&&jn(t.parent,e.parent())};ui[yt.PARENT]=function(t,e){return jn(t.parent,e)&&e.children().some(function(r){return jn(t.child,r)})};ui[yt.DESCENDANT]=function(t,e){return jn(t.descendant,e)&&e.ancestors().some(function(r){return jn(t.ancestor,r)})};ui[yt.ANCESTOR]=function(t,e){return jn(t.ancestor,e)&&e.descendants().some(function(r){return jn(t.descendant,r)})};ui[yt.COMPOUND_SPLIT]=function(t,e){return jn(t.subject,e)&&jn(t.left,e)&&jn(t.right,e)};ui[yt.TRUE]=function(){return!0};ui[yt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};ui[yt.FILTER]=function(t,e){var r=t.value;return r(e)};var Gae=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===yt.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(a){for(var o=0;o<r.length;o++){var u=r[o];if(jn(u,a))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Vae=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(jn(i,e))return!0}return!1},Hae={matches:Vae,filter:Gae},dh=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Dt(e)&&e.match(/^\s*$/)||(ou(e)?this.addQuery({checks:[{type:yt.COLLECTION,value:e.collection()}]}):Qn(e)?this.addQuery({checks:[{type:yt.FILTER,value:e}]}):Dt(e)?this.parse(e)||(this.invalid=!0):Vn("A selector must be created from a string; found "))},vh=dh.prototype;[Uae,Hae].forEach(function(t){return qt(vh,t)});vh.text=function(){return this.inputText};vh.size=function(){return this.length};vh.eq=function(t){return this[t]};vh.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};vh.addQuery=function(t){this[this.length++]=t};vh.selector=vh.toString;var Qf={allAre:function(e){var r=new dh(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new dh(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Qf.allAreNeighbours=Qf.allAreNeighbors;Qf.has=Qf.contains;Qf.equal=Qf.equals=Qf.same;var Fu=function(e,r){return function(i,a,o,u){var s=i,l=this,c;if(s==null?c="":ou(s)&&s.length===1&&(c=s.id()),l.length===1&&c){var f=l[0]._private,h=f.traversalCache=f.traversalCache||{},d=h[r]=h[r]||[],v=ev(c),y=d[v];return y||(d[v]=e.call(l,i,a,o,u))}else return e.call(l,i,a,o,u)}},ey={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var a=this[i],o=a._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],a=i.parents();r=r||a,r=r.intersect(a)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Fu(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)e.push(i[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var a=0;a<i.length;a++){var o=i[a];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function Uk(t,e,r,n){for(var i=[],a=new my,o=t.cy(),u=o.hasCompoundNodes(),s=0;s<t.length;s++){var l=t[s];r?i.push(l):u&&n(i,a,l)}for(;i.length>0;){var c=i.shift();e(c),a.add(c.id()),u&&n(i,a,c)}return t}function JV(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];e.has(a.id())||t.push(a)}}ey.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Uk(this,t,e,JV)};function eH(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}ey.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Uk(this,t,e,eH)};function Yae(t,e,r){eH(t,e,r),JV(t,e,r)}ey.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Uk(this,t,e,Yae)};ey.ancestors=ey.parents;var qb,tH;qb=tH={data:sn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:sn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:sn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:sn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:sn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:sn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};qb.attr=qb.data;qb.removeAttr=qb.removeData;var Wae=tH,PO={};function EC(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var u=a[o];!e&&u.isLoop()||(n+=t(i,u))}return n}else return}}qt(PO,{degree:EC(function(t,e){return e.source().same(e.target())?2:1}),indegree:EC(function(t,e){return e.target().same(t)?1:0}),outdegree:EC(function(t,e){return e.source().same(t)?1:0})});function Np(t,e){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],u=o[t](r);u!==void 0&&(n===void 0||e(u,n))&&(n=u)}return n}}qt(PO,{minDegree:Np("degree",function(t,e){return t<e}),maxDegree:Np("degree",function(t,e){return t>e}),minIndegree:Np("indegree",function(t,e){return t<e}),maxIndegree:Np("indegree",function(t,e){return t>e}),minOutdegree:Np("outdegree",function(t,e){return t<e}),maxOutdegree:Np("outdegree",function(t,e){return t>e})});qt(PO,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var ys,rH,nH=function(e,r,n){for(var i=0;i<e.length;i++){var a=e[i];if(!a.locked()){var o=a._private.position,u={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};a.isParent()&&!(u.x===0&&u.y===0)&&a.children().shift(u,n),a.dirtyBoundingBoxCache()}}},Wj={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){nH(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};ys=rH={position:sn.data(Wj),silentPosition:sn.data(qt({},Wj,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){nH(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Wr(e))r?this.silentPosition(e):this.position(e);else if(Qn(e)){var n=e,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a],u=void 0;(u=n(o,a))&&(r?o.silentPosition(u):o.position(u))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(Wr(e)?(i={x:st(e.x)?e.x:0,y:st(e.y)?e.y:0},n=r):Dt(e)&&st(r)&&(i={x:0,y:0},i[e]=r),i!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var u=this[o];if(!(a.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var s=u.position(),l={x:s.x+i.x,y:s.y+i.y};n?u.silentPosition(l):u.position(l)}}a.endBatch()}return this},silentShift:function(e,r){return Wr(e)?this.shift(e,!0):Dt(e)&&st(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),u=Wr(e)?e:void 0,s=u!==void 0||r!==void 0&&Dt(e);if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var c=this[l];r!==void 0?c.position(e,(r-o[e])/a):u!==void 0&&c.position(DV(u,a,o))}else{var f=n.position();return u=OO(f,a,o),e===void 0?u:u[e]}else if(!s)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),a=Wr(e)?e:void 0,o=a!==void 0||r!==void 0&&Dt(e),u=i.hasCompoundNodes();if(n&&n.isNode())if(o)for(var s=0;s<this.length;s++){var l=this[s],c=u?l.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var d=h?c.position():{x:0,y:0};r!==void 0?l.position(e,r+d[e]):a!==void 0&&l.position({x:a.x+d.x,y:a.y+d.y})}else{var v=n.position(),y=u?n.parent():null,b=y&&y.length>0,p=b;b&&(y=y[0]);var m=p?y.position():{x:0,y:0};return a={x:v.x-m.x,y:v.y-m.y},e===void 0?a:a[e]}else if(!o)return;return this}};ys.modelPosition=ys.point=ys.position;ys.modelPositions=ys.points=ys.positions;ys.renderedPoint=ys.renderedPosition;ys.relativePoint=ys.relativePosition;var Xae=rH,Ig,Th;Ig=Th={};Th.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),a=e.x1*n+i.x,o=e.x2*n+i.x,u=e.y1*n+i.y,s=e.y2*n+i.y;return{x1:a,x2:o,y1:u,y2:s,w:o-a,h:s-u}};Th.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Th.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var u=o._private,s=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},f=s.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),h=u.position;(f.w===0||f.h===0)&&(f={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function d(C,R,D){var M=0,I=0,k=R+D;return C>0&&k>0&&(M=R/k*C,I=D/k*C),{biasDiff:M,biasComplementDiff:I}}function v(C,R,D,M){if(D.units==="%")switch(M){case"width":return C>0?D.pfValue*C:0;case"height":return R>0?D.pfValue*R:0;case"average":return C>0&&R>0?D.pfValue*(C+R)/2:0;case"min":return C>0&&R>0?C>R?D.pfValue*R:D.pfValue*C:0;case"max":return C>0&&R>0?C>R?D.pfValue*C:D.pfValue*R:0;default:return 0}else return D.units==="px"?D.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var b=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(b=b*100/c.width.val);var p=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(p=p*100/c.height.val);var m=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var g=d(c.width.val-f.w,y,b),_=g.biasDiff,E=g.biasComplementDiff,T=d(c.height.val-f.h,p,m),w=T.biasDiff,S=T.biasComplementDiff;u.autoPadding=v(f.w,f.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),u.autoWidth=Math.max(f.w,c.width.val),h.x=(-_+f.x1+f.x2+E)/2,u.autoHeight=Math.max(f.h,c.height.val),h.y=(-w+f.y1+f.y2+S)/2}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||t)&&(r(i),e.batching()||(a.compoundBoundsClean=!0))}return this};var ku=function(e){return e===1/0||e===-1/0?0:e},hs=function(e,r,n,i,a){i-r===0||a-n===0||r==null||n==null||i==null||a==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=a>e.y2?a:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Of=function(e,r){return r==null?e:hs(e,r.x1,r.y1,r.x2,r.y2)},zm=function(e,r,n){return wo(e,r,n)},Cw=function(e,r,n){if(!r.cy().headless()){var i=r._private,a=i.rstyle,o=a.arrowWidth/2,u=r.pstyle(n+"-arrow-shape").value,s,l;if(u!=="none"){n==="source"?(s=a.srcX,l=a.srcY):n==="target"?(s=a.tgtX,l=a.tgtY):(s=a.midX,l=a.midY);var c=i.arrowBounds=i.arrowBounds||{},f=c[n]=c[n]||{};f.x1=s-o,f.y1=l-o,f.x2=s+o,f.y2=l+o,f.w=f.x2-f.x1,f.h=f.y2-f.y1,xE(f,1),hs(e,f.x1,f.y1,f.x2,f.y2)}}},SC=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var a=r._private,o=a.rstyle,u=r.pstyle(i+"label").strValue;if(u){var s=r.pstyle("text-halign"),l=r.pstyle("text-valign"),c=zm(o,"labelWidth",n),f=zm(o,"labelHeight",n),h=zm(o,"labelX",n),d=zm(o,"labelY",n),v=r.pstyle(i+"text-margin-x").pfValue,y=r.pstyle(i+"text-margin-y").pfValue,b=r.isEdge(),p=r.pstyle(i+"text-rotation"),m=r.pstyle("text-outline-width").pfValue,g=r.pstyle("text-border-width").pfValue,_=g/2,E=r.pstyle("text-background-padding").pfValue,T=2,w=f,S=c,C=S/2,R=w/2,D,M,I,k;if(b)D=h-C,M=h+C,I=d-R,k=d+R;else{switch(s.value){case"left":D=h-S,M=h;break;case"center":D=h-C,M=h+C;break;case"right":D=h,M=h+S;break}switch(l.value){case"top":I=d-w,k=d;break;case"center":I=d-R,k=d+R;break;case"bottom":I=d,k=d+w;break}}var U=v-Math.max(m,_)-E-T,F=v+Math.max(m,_)+E+T,B=y-Math.max(m,_)-E-T,z=y+Math.max(m,_)+E+T;D+=U,M+=F,I+=B,k+=z;var H=n||"main",Y=a.labelBounds,W=Y[H]=Y[H]||{};W.x1=D,W.y1=I,W.x2=M,W.y2=k,W.w=M-D,W.h=k-I,W.leftPad=U,W.rightPad=F,W.topPad=B,W.botPad=z;var Z=b&&p.strValue==="autorotate",le=p.pfValue!=null&&p.pfValue!==0;if(Z||le){var ce=Z?zm(a.rstyle,"labelAngle",n):p.pfValue,ue=Math.cos(ce),de=Math.sin(ce),he=(D+M)/2,fe=(I+k)/2;if(!b){switch(s.value){case"left":he=M;break;case"right":he=D;break}switch(l.value){case"top":fe=k;break;case"bottom":fe=I;break}}var te=function(be,j){return be=be-he,j=j-fe,{x:be*ue-j*de+he,y:be*de+j*ue+fe}},Q=te(D,I),ee=te(D,k),ae=te(M,I),pe=te(M,k);D=Math.min(Q.x,ee.x,ae.x,pe.x),M=Math.max(Q.x,ee.x,ae.x,pe.x),I=Math.min(Q.y,ee.y,ae.y,pe.y),k=Math.max(Q.y,ee.y,ae.y,pe.y)}var _e=H+"Rot",Te=Y[_e]=Y[_e]||{};Te.x1=D,Te.y1=I,Te.x2=M,Te.y2=k,Te.w=M-D,Te.h=k-I,hs(e,D,I,M,k),hs(a.labelBounds.all,D,I,M,k)}return e}},Xj=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value,a=r.pstyle("outline-offset").value,o=i+a;iH(e,r,n,o,"outside",o/2)}},iH=function(e,r,n,i,a,o){if(!(n===0||i<=0||a==="inside")){var u=r.cy(),s=r.pstyle("shape").value,l=u.renderer().nodeShapes[s],c=r.position(),f=c.x,h=c.y,d=r.width(),v=r.height();if(l.hasMiterBounds){a==="center"&&(i/=2);var y=l.miterBounds(f,h,d,v,i);Of(e,y)}else o!=null&&o>0&&CE(e,[o,o,o,o])}},$ae=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,i=r.pstyle("border-width").pfValue,a=r.pstyle("border-position").value;iH(e,r,n,i,a)}},Kae=function(e,r){var n=e._private.cy,i=n.styleEnabled(),a=n.headless(),o=eo(),u=e._private,s=e.isNode(),l=e.isEdge(),c,f,h,d,v,y,b=u.rstyle,p=s&&i?e.pstyle("bounds-expansion").pfValue:[0],m=function(Ae){return Ae.pstyle("display").value!=="none"},g=!i||m(e)&&(!l||m(e.source())&&m(e.target()));if(g){var _=0,E=0;i&&r.includeOverlays&&(_=e.pstyle("overlay-opacity").value,_!==0&&(E=e.pstyle("overlay-padding").value));var T=0,w=0;i&&r.includeUnderlays&&(T=e.pstyle("underlay-opacity").value,T!==0&&(w=e.pstyle("underlay-padding").value));var S=Math.max(E,w),C=0,R=0;if(i&&(C=e.pstyle("width").pfValue,R=C/2),s&&r.includeNodes){var D=e.position();v=D.x,y=D.y;var M=e.outerWidth(),I=M/2,k=e.outerHeight(),U=k/2;c=v-I,f=v+I,h=y-U,d=y+U,hs(o,c,h,f,d),i&&Xj(o,e),i&&r.includeOutlines&&!a&&Xj(o,e),i&&$ae(o,e)}else if(l&&r.includeEdges)if(i&&!a){var F=e.pstyle("curve-style").strValue;if(c=Math.min(b.srcX,b.midX,b.tgtX),f=Math.max(b.srcX,b.midX,b.tgtX),h=Math.min(b.srcY,b.midY,b.tgtY),d=Math.max(b.srcY,b.midY,b.tgtY),c-=R,f+=R,h-=R,d+=R,hs(o,c,h,f,d),F==="haystack"){var B=b.haystackPts;if(B&&B.length===2){if(c=B[0].x,h=B[0].y,f=B[1].x,d=B[1].y,c>f){var z=c;c=f,f=z}if(h>d){var H=h;h=d,d=H}hs(o,c-R,h-R,f+R,d+R)}}else if(F==="bezier"||F==="unbundled-bezier"||kf(F,"segments")||kf(F,"taxi")){var Y;switch(F){case"bezier":case"unbundled-bezier":Y=b.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":Y=b.linePts;break}if(Y!=null)for(var W=0;W<Y.length;W++){var Z=Y[W];c=Z.x-R,f=Z.x+R,h=Z.y-R,d=Z.y+R,hs(o,c,h,f,d)}}}else{var le=e.source(),ce=le.position(),ue=e.target(),de=ue.position();if(c=ce.x,f=de.x,h=ce.y,d=de.y,c>f){var he=c;c=f,f=he}if(h>d){var fe=h;h=d,d=fe}c-=R,f+=R,h-=R,d+=R,hs(o,c,h,f,d)}if(i&&r.includeEdges&&l&&(Cw(o,e,"mid-source"),Cw(o,e,"mid-target"),Cw(o,e,"source"),Cw(o,e,"target")),i){var te=e.pstyle("ghost").value==="yes";if(te){var Q=e.pstyle("ghost-offset-x").pfValue,ee=e.pstyle("ghost-offset-y").pfValue;hs(o,o.x1+Q,o.y1+ee,o.x2+Q,o.y2+ee)}}var ae=u.bodyBounds=u.bodyBounds||{};I4(ae,o),CE(ae,p),xE(ae,1),i&&(c=o.x1,f=o.x2,h=o.y1,d=o.y2,hs(o,c-S,h-S,f+S,d+S));var pe=u.overlayBounds=u.overlayBounds||{};I4(pe,o),CE(pe,p),xE(pe,1);var _e=u.labelBounds=u.labelBounds||{};_e.all!=null?Dne(_e.all):_e.all=eo(),i&&r.includeLabels&&(r.includeMainLabels&&SC(o,e,null),l&&(r.includeSourceLabels&&SC(o,e,"source"),r.includeTargetLabels&&SC(o,e,"target")))}return o.x1=ku(o.x1),o.y1=ku(o.y1),o.x2=ku(o.x2),o.y2=ku(o.y2),o.w=ku(o.x2-o.x1),o.h=ku(o.y2-o.y1),o.w>0&&o.h>0&&g&&(CE(o,p),xE(o,1)),o},aH=function(e){var r=0,n=function(o){return(o?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},oH=function(e){var r=function(u){return Math.round(u)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return C4([r(n.x),r(n.y),r(i.x),r(i.y)])}else{var a=e.position();return C4([r(a.x),r(a.y)])}},$j=function(e,r){var n=e._private,i,a=e.isEdge(),o=r==null?Kj:aH(r),u=o===Kj;if(n.bbCache==null?(i=Kae(e,Gb),n.bbCache=i,n.bbCachePosKey=oH(e)):i=n.bbCache,!u){var s=e.isNode();i=eo(),(r.includeNodes&&s||r.includeEdges&&!s)&&(r.includeOverlays?Of(i,n.overlayBounds):Of(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!a||r.includeSourceLabels&&r.includeTargetLabels)?Of(i,n.labelBounds.all):(r.includeMainLabels&&Of(i,n.labelBounds.mainRot),r.includeSourceLabels&&Of(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Of(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Gb={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Kj=aH(Gb),Zj=Ea(Gb);Th.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Qg(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==oH(c)},function(c){return c.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Gb:t=Zj(t),e=$j(this[0],t);else{e=eo(),t=t||Gb;var i=Zj(t),a=this,o=a.cy(),u=o.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),u&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var s=0;s<a.length;s++){var l=a[s];n(l)&&l.dirtyBoundingBoxCache(),Of(e,$j(l,i))}}return e.x1=ku(e.x1),e.y1=ku(e.y1),e.x2=ku(e.x2),e.y2=ku(e.y2),e.w=ku(e.x2-e.x1),e.h=ku(e.y2-e.y1),e};Th.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Th.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),Wr(t)){var a=t;t=function(){return a}}var o=function(c,f){return c._private.bbAtOldPos=t(c,f)},u=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var s=Pne(this.boundingBox({useCache:!1}));return e.silentPositions(u),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),s};Ig.boundingbox=Ig.bb=Ig.boundingBox;Ig.renderedBoundingbox=Ig.renderedBoundingBox;var Zae=Th,f0,O_;f0=O_={};var uH=function(e){e.uppercaseName=h4(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=h4(e.outerName),f0[e.name]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var u=n.pstyle(e.name);switch(u.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},f0["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,a=i.cy,o=a._private.styleEnabled;if(n)if(o){var u=n[e.name](),s=n.pstyle("border-position").value,l;s==="center"?l=n.pstyle("border-width").pfValue:s==="outside"?l=2*n.pstyle("border-width").pfValue:l=0;var c=2*n.padding();return u+l+c}else return 1},f0["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},f0["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};uH({name:"width"});uH({name:"height"});O_.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};O_.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};O_.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var Qae=O_,Jae=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},eoe=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return OO(r(e),n.zoom(),n.pan())}},toe=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),a=n.zoom();return r(e).map(function(o){return OO(o,a,i)})}},roe=function(e){return e.renderer().getControlPoints(e)},noe=function(e){return e.renderer().getSegmentPoints(e)},ioe=function(e){return e.renderer().getSourceEndpoint(e)},aoe=function(e){return e.renderer().getTargetEndpoint(e)},ooe=function(e){return e.renderer().getEdgeMidpoint(e)},Qj={controlPoints:{get:roe,mult:!0},segmentPoints:{get:noe,mult:!0},sourceEndpoint:{get:ioe},targetEndpoint:{get:aoe},midpoint:{get:ooe}},uoe=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},soe=Object.keys(Qj).reduce(function(t,e){var r=Qj[e],n=uoe(e);return t[e]=function(){return Jae(this,r.get)},r.mult?t[n]=function(){return toe(this,r.get)}:t[n]=function(){return eoe(this,r.get)},t},{}),loe=qt({},Xae,Zae,Qae,soe);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var sH=function(e,r){this.recycle(e,r)};function qm(){return!1}function Aw(){return!0}sH.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=qm,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Aw:qm):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:n.x*i+a.x,y:n.y*i+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Aw;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Aw;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Aw,this.stopPropagation()},isDefaultPrevented:qm,isPropagationStopped:qm,isImmediatePropagationStopped:qm};var lH=/^([^.]+)(\.(?:[^.]+))?$/,coe=".*",cH={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Jj=Object.keys(cH),foe={};function DO(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:foe,e=arguments.length>1?arguments[1]:void 0,r=0;r<Jj.length;r++){var n=Jj[r];this[n]=t[n]||cH[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ph=DO.prototype,fH=function(e,r,n,i,a,o,u){Qn(i)&&(a=i,i=null),u&&(o==null?o=u:o=qt({},o,u));for(var s=En(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var c=s[l];if(!ch(c)){var f=c.match(lH);if(f){var h=f[1],d=f[2]?f[2]:null,v=r(e,c,h,d,i,a,o);if(v===!1)break}}}},eB=function(e,r){return e.addEventFields(e.context,r),new sH(r.type,r)},hoe=function(e,r,n){if(mre(n)){r(e,n);return}else if(Wr(n)){r(e,eB(e,n));return}for(var i=En(n)?n:n.split(/\s+/),a=0;a<i.length;a++){var o=i[a];if(!ch(o)){var u=o.match(lH);if(u){var s=u[1],l=u[2]?u[2]:null,c=eB(e,{type:s,namespace:l,target:e.context});r(e,c)}}}};ph.on=ph.addListener=function(t,e,r,n,i){return fH(this,function(a,o,u,s,l,c,f){Qn(c)&&a.listeners.push({event:o,callback:c,type:u,namespace:s,qualifier:l,conf:f})},t,e,r,n,i),this};ph.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ph.removeListener=ph.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=ene(this.listeners));for(var a=this.listeners,o=function(l){var c=a[l];fH(i,function(f,h,d,v,y,b){if((c.type===d||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!b||c.callback===b))return a.splice(l,1),!1},t,e,r,n)},u=a.length-1;u>=0;u--)o(u);return this};ph.removeAllListeners=function(){return this.removeListener("*")};ph.emit=ph.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,En(e)||(e=[e]),hoe(this,function(a,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],i=n.length);for(var u=function(){var c=n[s];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===coe)&&a.eventMatches(a.context,c,o)){var f=[o];e!=null&&rne(f,e),a.beforeEmit(a.context,c,o),c.conf&&c.conf.one&&(a.listeners=a.listeners.filter(function(v){return v!==c}));var h=a.callbackContext(a.context,c,o),d=c.callback.apply(h,f);a.afterEmit(a.context,c,o),d===!1&&(o.stopPropagation(),o.preventDefault())}},s=0;s<i;s++)u();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,e)},t),this.emitting--,this};var doe={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&m_(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Rw=function(e){return Dt(e)?new dh(e):e},hH={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new DO(doe,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Rw(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Rw(r),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Rw(r),a=0;a<this.length;a++){var o=this[a];o.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Rw(r),a=0;a<this.length;a++){var o=this[a];o.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};sn.eventAliasesOn(hH);var dH={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Dt(e)||ou(e))return new dh(e).filter(this);if(Qn(e)){for(var n=this.spawn(),i=this,a=0;a<i.length;a++){var o=i[a],u=r?e.apply(r,[o,a,i]):e(o,a,i);u&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){Dt(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],a=e.has(i);a||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Dt(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,a=e,o=this.length<e.length,u=o?i:a,s=o?a:i,l=0;l<u.length;l++){var c=u[l];s.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;Dt(e)&&(e=r.$(e));var n=this.spawn(),i=this,a=e,o=function(s,l){for(var c=0;c<s.length;c++){var f=s[c],h=f._private.data.id,d=l.hasElementWithId(h);d||n.push(f)}};return o(i,a),o(a,i),n},diff:function(e){var r=this._private.cy;Dt(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),a=this.spawn(),o=this,u=e,s=function(c,f,h){for(var d=0;d<c.length;d++){var v=c[d],y=v._private.data.id,b=f.hasElementWithId(y);b?a.merge(v):h.push(v)}};return s(o,u,n),s(u,o,i),{left:n,right:i,both:a}},add:function(e){var r=this._private.cy;if(!e)return this;if(Dt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),a=0;a<e.length;a++){var o=e[a],u=!this.has(o);u&&i.push(o)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Dt(e)){var i=e;e=n.mutableElements().filter(i)}for(var a=r.map,o=0;o<e.length;o++){var u=e[o],s=u._private.data.id,l=!a.has(s);if(l){var c=this.length++;this[c]=u,a.set(s,{ele:u,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,a=i.map;this[e]=void 0,a.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var u=this.length-1,s=this[u],l=s._private.data.id;this[u]=void 0,this[e]=s,a.set(l,{ele:s,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,a=i.get(n);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Dt(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,a=0;a<i.length;a++){var o=i[a],u=r?e.apply(r,[o,a,i]):e(o,a,i);n.push(u)}return n},reduce:function(e,r){for(var n=r,i=this,a=0;a<i.length;a++)n=e(n,i[a],a,i);return n},max:function(e,r){for(var n=-1/0,i,a=this,o=0;o<a.length;o++){var u=a[o],s=r?e.apply(r,[u,o,a]):e(u,o,a);s>n&&(n=s,i=u)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,a=this,o=0;o<a.length;o++){var u=a[o],s=r?e.apply(r,[u,o,a]):e(u,o,a);s<n&&(n=s,i=u)}return{value:n,ele:i}}},Qr=dH;Qr.u=Qr["|"]=Qr["+"]=Qr.union=Qr.or=Qr.add;Qr["\\"]=Qr["!"]=Qr["-"]=Qr.difference=Qr.relativeComplement=Qr.subtract=Qr.not;Qr.n=Qr["&"]=Qr["."]=Qr.and=Qr.intersection=Qr.intersect;Qr["^"]=Qr["(+)"]=Qr["(-)"]=Qr.symmetricDifference=Qr.symdiff=Qr.xor;Qr.fnFilter=Qr.filterFn=Qr.stdFilter=Qr.filter;Qr.complement=Qr.abscomp=Qr.absoluteComplement;var voe={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},vH=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function a(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?i?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?Ak:0}var o=a(e)-a(r);if(o!==0)return o;function u(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var s=u(e)-u(r);if(s!==0)return s;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},RS={forEach:function(e,r){if(Qn(e))for(var n=this.length,i=0;i<n;i++){var a=this[i],o=r?e.apply(r,[a,i,this]):e(a,i,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var a=e;a>=0&&a<r&&a<i;a++)n.push(this[a]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Qn(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(vH)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:Ak-1}else{var a=r.source,o=r.target,u=a.zDepth(),s=o.zDepth();return Math.max(u,s,0)}}}};RS.each=RS.forEach;var poe=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Ui(Symbol))!=e&&Ui(Symbol.iterator)!=e;r&&(RS[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},a=0,o=this.length;return hV({next:function(){return a<o?i.value=n[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};poe();var goe=Ea({nodeDimensionsIncludeLabels:!1}),RE={layoutDimensions:function(e){e=goe(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(E){return!E.isParent()}),a=this.cy(),o=r.eles,u=function(T){return T.id()},s=Qg(n,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(T,w,S){var C={x:w.x1+w.w/2,y:w.y1+w.h/2},R={x:(S.x-C.x)*T,y:(S.y-C.y)*T};return{x:C.x+R.x,y:C.y+R.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var T=eo(),w=0;w<i.length;w++){var S=i[w],C=s(S,w);MV(T,C.x,C.y)}return T},h=f(),d=Qg(function(E,T){var w=s(E,T);if(c){var S=Math.abs(r.spacingFactor);w=l(S,h,w)}return r.transform!=null&&(w=r.transform(E,w)),w},u);if(r.animate){for(var v=0;v<i.length;v++){var y=i[v],b=d(y,v),p=r.animateFilter==null||r.animateFilter(y,v);if(p){var m=y.animation({position:b,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(m)}else y.position(b)}if(r.fit){var g=a.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(g)}else if(r.zoom!==void 0&&r.pan!==void 0){var _=a.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(_)}e.animations.forEach(function(E){return E.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),by.all(e.animations.map(function(E){return E.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(d),r.fit&&a.fit(r.eles,r.padding),r.zoom!=null&&a.zoom(r.zoom),r.pan&&a.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(qt({},e,{eles:this}))}};RE.createLayout=RE.makeLayout=RE.layout;function pH(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[t])!=null||(a=i[t]=e(r)),a}function MO(t,e){return t=ev(t),function(n){return pH(t,e,n)}}function IO(t,e){t=ev(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return pH(t,r,i)}}var ma={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(a){return a._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),a=this;e=!!(e||e===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return e?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var a=n._private.style[e];return a??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(Wr(e)){var o=e;a.applyBypass(this,o,i),this.emitAndNotify("style")}else if(Dt(e))if(r===void 0){var u=this[0];return u?a.getStylePropertyValue(u,e):void 0}else a.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var s=this[0];return s?a.getRawStyle(s):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),a=this;if(e===void 0)for(var o=0;o<a.length;o++){var u=a[o];i.removeAllBypasses(u,n)}else{e=e.split(/\s+/);for(var s=0;s<a.length;s++){var l=a[s];i.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,a=n.pstyle("opacity").value;if(!r)return a;var o=i.data.parent?n.parents():null;if(o)for(var u=0;u<o.length;u++){var s=o[u],l=s.pstyle("opacity").value;a=l*a}return a}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function OC(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!e(a))return!1}return!0}function Fk(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],o=i.hasCompoundNodes();if(a){var u=a._private;if(!e(a))return!1;if(a.isNode())return!o||OC(a,n);var s=u.source,l=u.target;return r(s)&&(!o||OC(s,r))&&(s===l||r(l)&&(!o||OC(l,r)))}}}var _y=MO("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});ma.takesUpSpace=IO("takesUpSpace",Fk({ok:_y}));var yoe=MO("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&_y(t)}),moe=MO("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&_y(t)});ma.interactive=IO("interactive",Fk({ok:yoe,parentOk:moe,edgeOkViaNode:_y}));ma.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var boe=MO("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&_y(t)}),_oe=_y;ma.visible=IO("visible",Fk({ok:boe,edgeOkViaNode:_oe}));ma.hidden=function(){var t=this[0];if(t)return!t.visible()};ma.isBundledBezier=IO("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});ma.bypass=ma.css=ma.style;ma.renderedCss=ma.renderedStyle;ma.removeBypass=ma.removeCss=ma.removeStyle;ma.pstyle=ma.parsedStyle;var Jf={};function tB(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Qn(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&En(e[0])){for(var o=e.length===1?e[0]:null,u=0;u<this.length;u++){var s=this[u],l=!t.ableField||s._private[t.ableField],c=s._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(s);if(f!==void 0&&(l=f,!f))return this}l&&(s._private[t.field]=t.value,c&&r.push(s))}var h=this.spawn(r);h.updateStyle(),h.emit(t.event),o&&h.emit(o)}return this}}function wy(t){Jf[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Jf[t.on]=tB({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Jf[t.off]=tB({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}wy({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});wy({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});wy({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});wy({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Jf.deselect=Jf.unselect;Jf.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};wy({field:"active",on:"activate",off:"unactivate"});wy({field:"pannable",on:"panify",off:"unpanify"});Jf.inactive=function(){var t=this[0];if(t)return!t._private.active};var Na={},rB=function(e){return function(n){for(var i=this,a=[],o=0;o<i.length;o++){var u=i[o];if(u.isNode()){for(var s=!1,l=u.connectedEdges(),c=0;c<l.length;c++){var f=l[c],h=f.source(),d=f.target();if(e.noIncomingEdges&&d===u&&h!==u||e.noOutgoingEdges&&h===u&&d!==u){s=!0;break}}s||a.push(u)}}return this.spawn(a,!0).filter(n)}},nB=function(e){return function(r){for(var n=this,i=[],a=0;a<n.length;a++){var o=n[a];if(o.isNode())for(var u=o.connectedEdges(),s=0;s<u.length;s++){var l=u[s],c=l.source(),f=l.target();e.outgoing&&c===o?(i.push(l),i.push(f)):e.incoming&&f===o&&(i.push(l),i.push(c))}}return this.spawn(i,!0).filter(r)}},iB=function(e){return function(r){for(var n=this,i=[],a={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var u=!1,s=0;s<o.length;s++){var l=o[s],c=l.id();a[c]||(a[c]=!0,i.push(l),u=!0)}if(!u)break;n=o}return this.spawn(i,!0).filter(r)}};Na.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};qt(Na,{roots:rB({noIncomingEdges:!0}),leaves:rB({noOutgoingEdges:!0}),outgoers:Fu(nB({outgoing:!0}),"outgoers"),successors:iB({outgoing:!0}),incomers:Fu(nB({incoming:!0}),"incomers"),predecessors:iB({})});qt(Na,{neighborhood:Fu(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var u=a[o],s=u.source(),l=u.target(),c=i===s?l:s;c.length>0&&e.push(c[0]),e.push(u[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Na.neighbourhood=Na.neighborhood;Na.closedNeighbourhood=Na.closedNeighborhood;Na.openNeighbourhood=Na.openNeighborhood;qt(Na,{source:Fu(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Fu(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:aB({attr:"source"}),targets:aB({attr:"target"})});function aB(t){return function(r){for(var n=[],i=0;i<this.length;i++){var a=this[i],o=a._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}qt(Na,{edgesWith:Fu(oB(),"edgesWith"),edgesTo:Fu(oB({thisIsSrc:!0}),"edgesTo")});function oB(t){return function(r){var n=[],i=this._private.cy,a=t||{};Dt(r)&&(r=i.$(r));for(var o=0;o<r.length;o++)for(var u=r[o]._private.edges,s=0;s<u.length;s++){var l=u[s],c=l._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),h=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=f||h;d&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!f||a.thisIsTgt&&!h)||n.push(l))}return this.spawn(n,!0)}}qt(Na,{connectedEdges:Fu(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var u=a[o];e.push(u)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Fu(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Fu(uB(),"parallelEdges"),codirectedEdges:Fu(uB({codirected:!0}),"codirectedEdges")});function uB(t){var e={codirected:!1};return t=qt({},e,t),function(n){for(var i=[],a=this.edges(),o=t,u=0;u<a.length;u++)for(var s=a[u],l=s._private,c=l.source,f=c._private.data.id,h=l.data.target,d=c._private.edges,v=0;v<d.length;v++){var y=d[v],b=y._private.data,p=b.target,m=b.source,g=p===h&&m===f,_=f===p&&h===m;(o.codirected&&g||!o.codirected&&(g||_))&&i.push(y)}return this.spawn(i,!0).filter(n)}}qt(Na,{components:function(e){var r=this,n=r.cy(),i=n.collection(),a=e==null?r.nodes():e.nodes(),o=[];e!=null&&a.empty()&&(a=e.sources());var u=function(c,f){i.merge(c),a.unmerge(c),f.merge(c)};if(a.empty())return r.spawn();var s=function(){var c=n.collection();o.push(c);var f=a[0];u(f,c),r.bfs({directed:!1,roots:f,visit:function(d){return u(d,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do s();while(a.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Na.componentsOf=Na.components;var ba=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Vn("A collection must have a reference to the core");return}var a=new ec,o=!1;if(!r)r=[];else if(r.length>0&&Wr(r[0])&&!m_(r[0])){o=!0;for(var u=[],s=new my,l=0,c=r.length;l<c;l++){var f=r[l];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=RV();else if(e.hasElementWithId(h.id)||s.has(h.id))continue;var d=new SO(e,f,!1);u.push(d),s.add(h.id)}r=u}this.length=0;for(var v=0,y=r.length;v<y;v++){var b=r[v][0];if(b!=null){var p=b._private.data.id;(!n||!a.has(p))&&(n&&a.set(p,{index:this.length,ele:b}),this[this.length]=b,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(m){this.lazyMap=m},rebuildMap:function(){for(var g=this.lazyMap=new ec,_=this.eles,E=0;E<_.length;E++){var T=_[E];g.set(T.id(),{index:E,ele:T})}}},n&&(this._private.map=a),o&&!i&&this.restore()},Rn=SO.prototype=ba.prototype=Object.create(Array.prototype);Rn.instanceString=function(){return"collection"};Rn.spawn=function(t,e){return new ba(this.cy(),t,e)};Rn.spawnSelf=function(){return this.spawn(this)};Rn.cy=function(){return this._private.cy};Rn.renderer=function(){return this._private.cy.renderer()};Rn.element=function(){return this[0]};Rn.collection=function(){return pV(this)?this:new ba(this._private.cy,[this])};Rn.unique=function(){return new ba(this._private.cy,this,!0)};Rn.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Rn.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new ba(e)};Rn.$id=Rn.getElementById;Rn.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Rn.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Rn.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Rn.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Wr(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var a=!1,o={},u=t.data.source,s=t.data.target;u!=null&&u!=i.source&&(o.source=""+u,a=!0),s!=null&&s!=i.target&&(o.target=""+s,a=!0),a&&(e=e.move(o))}else{var l="parent"in t.data,c=t.data.parent;l&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(y,b,p){var m=t[y];m!=null&&m!==n[y]&&(m?e[b]():e[p]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var h={data:al(n.data),position:al(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var d=0;return n.classes.forEach(function(v){return h.classes+=d++===0?v:" "+v}),h}}};Rn.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Rn.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new SO(t,i,!1);e.push(a)}return new ba(t,e)};Rn.copy=Rn.clone;Rn.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],o=[],u,s=0,l=r.length;s<l;s++){var c=r[s];e&&!c.removed()||(c.isNode()?a.push(c):o.push(c))}u=a.concat(o);var f,h=function(){u.splice(f,1),f--};for(f=0;f<u.length;f++){var d=u[f],v=d._private,y=v.data;if(d.clearTraversalCache(),!(!e&&!v.removed)){if(y.id===void 0)y.id=RV();else if(st(y.id))y.id=""+y.id;else if(ch(y.id)||!Dt(y.id)){Vn("Can not create element with invalid string ID `"+y.id+"`"),h();continue}else if(n.hasElementWithId(y.id)){Vn("Can not create second element with ID `"+y.id+"`"),h();continue}}var b=y.id;if(d.isNode()){var p=v.position;p.x==null&&(p.x=0),p.y==null&&(p.y=0)}if(d.isEdge()){for(var m=d,g=["source","target"],_=g.length,E=!1,T=0;T<_;T++){var w=g[T],S=y[w];st(S)&&(S=y[w]=""+y[w]),S==null||S===""?(Vn("Can not create edge `"+b+"` with unspecified "+w),E=!0):n.hasElementWithId(S)||(Vn("Can not create edge `"+b+"` with nonexistant "+w+" `"+S+"`"),E=!0)}if(E){h();continue}var C=n.getElementById(y.source),R=n.getElementById(y.target);C.same(R)?C._private.edges.push(m):(C._private.edges.push(m),R._private.edges.push(m)),m._private.source=C,m._private.target=R}v.map=new ec,v.map.set(b,{ele:d,index:0}),v.removed=!1,e&&n.addToPool(d)}for(var D=0;D<a.length;D++){var M=a[D],I=M._private.data;st(I.parent)&&(I.parent=""+I.parent);var k=I.parent,U=k!=null;if(U||M._private.parent){var F=M._private.parent?n.collection().merge(M._private.parent):n.getElementById(k);if(F.empty())I.parent=void 0;else if(F[0].removed())ln("Node added with missing parent, reference to parent removed"),I.parent=void 0,M._private.parent=null;else{for(var B=!1,z=F;!z.empty();){if(M.same(z)){B=!0,I.parent=void 0;break}z=z.parent()}B||(F[0]._private.children.push(M),M._private.parent=F[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var H=u.length===r.length?r:new ba(n,u),Y=0;Y<H.length;Y++){var W=H[Y];W.isNode()||(W.parallelEdges().clearTraversalCache(),W.source().clearTraversalCache(),W.target().clearTraversalCache())}var Z;i.hasCompoundNodes?Z=n.collection().merge(H).merge(H.connectedNodes()).merge(H.parent()):Z=H,Z.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?H.emitAndNotify("add"):e&&H.emit("add")}return r};Rn.removed=function(){var t=this[0];return t&&t._private.removed};Rn.inside=function(){var t=this[0];return t&&!t._private.removed};Rn.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function o(k){for(var U=k._private.edges,F=0;F<U.length;F++)s(U[F])}function u(k){for(var U=k._private.children,F=0;F<U.length;F++)s(U[F])}function s(k){var U=i[k.id()];e&&k.removed()||U||(i[k.id()]=!0,k.isNode()?(n.push(k),o(k),u(k)):n.unshift(k))}for(var l=0,c=r.length;l<c;l++){var f=r[l];s(f)}function h(k,U){var F=k._private.edges;fh(F,U),k.clearTraversalCache()}function d(k){k.clearTraversalCache()}var v=[];v.ids={};function y(k,U){U=U[0],k=k[0];var F=k._private.children,B=k.id();fh(F,U),U._private.parent=null,v.ids[B]||(v.ids[B]=!0,v.push(k))}r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(n);for(var b=0;b<n.length;b++){var p=n[b];if(p.isEdge()){var m=p.source()[0],g=p.target()[0];h(m,p),h(g,p);for(var _=p.parallelEdges(),E=0;E<_.length;E++){var T=_[E];d(T),T.isBundledBezier()&&T.dirtyBoundingBoxCache()}}else{var w=p.parent();w.length!==0&&y(w,p)}e&&(p._private.removed=!0)}var S=a._private.elements;a._private.hasCompoundNodes=!1;for(var C=0;C<S.length;C++){var R=S[C];if(R.isParent()){a._private.hasCompoundNodes=!0;break}}var D=new ba(this.cy(),n);D.size()>0&&(t?D.emitAndNotify("remove"):e&&D.emit("remove"));for(var M=0;M<v.length;M++){var I=v[M];(!e||!I.removed())&&I.updateStyle()}return D};Rn.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,a=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var o=a(t.source),u=a(t.target),s=o!=null&&e.hasElementWithId(o),l=u!=null&&e.hasElementWithId(u);(s||l)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var v=r[d],y=v._private.data;v.isEdge()&&(s&&(y.source=o),l&&(y.target=u))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=a(t.parent),f=c===null||e.hasElementWithId(c);if(f){var h=c===null?void 0:c;e.batch(function(){var d=r.remove(n,i);d.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var y=r[v],b=y._private.data;y.isNode()&&(b.parent=h)}d.restore(n,i)}),r.emitAndNotify("move")}}return this};[zV,Dae,AE,Qf,ey,Wae,PO,loe,hH,dH,voe,RS,RE,ma,Jf,Na].forEach(function(t){qt(Rn,t)});var woe={add:function(e){var r,n=this;if(ou(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var u=i[o];a.push(u.json())}r=new ba(n,a)}}else if(En(e)){var s=e;r=new ba(n,s)}else if(Wr(e)&&(En(e.nodes)||En(e.edges))){for(var l=e,c=[],f=["nodes","edges"],h=0,d=f.length;h<d;h++){var v=f[h],y=l[v];if(En(y))for(var b=0,p=y.length;b<p;b++){var m=qt({group:v},y[b]);c.push(m)}}r=new ba(n,c)}else{var g=e;r=new SO(n,g).collection()}return r},remove:function(e){if(!ou(e)){if(Dt(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Eoe(t,e,r,n){var i=4,a=.001,o=1e-7,u=10,s=11,l=1/(s-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var h=c?new Float32Array(s):new Array(s);function d(R,D){return 1-3*D+3*R}function v(R,D){return 3*D-6*R}function y(R){return 3*R}function b(R,D,M){return((d(D,M)*R+v(D,M))*R+y(D))*R}function p(R,D,M){return 3*d(D,M)*R*R+2*v(D,M)*R+y(D)}function m(R,D){for(var M=0;M<i;++M){var I=p(D,t,r);if(I===0)return D;var k=b(D,t,r)-R;D-=k/I}return D}function g(){for(var R=0;R<s;++R)h[R]=b(R*l,t,r)}function _(R,D,M){var I,k,U=0;do k=D+(M-D)/2,I=b(k,t,r)-R,I>0?M=k:D=k;while(Math.abs(I)>o&&++U<u);return k}function E(R){for(var D=0,M=1,I=s-1;M!==I&&h[M]<=R;++M)D+=l;--M;var k=(R-h[M])/(h[M+1]-h[M]),U=D+k*l,F=p(U,t,r);return F>=a?m(R,U):F===0?U:_(R,D,D+l)}var T=!1;function w(){T=!0,(t!==e||r!==n)&&g()}var S=function(D){return T||w(),t===e&&r===n?D:D===0?0:D===1?1:b(E(D),e,n)};S.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var C="generateBezier("+[t,e,r,n]+")";return S.toString=function(){return C},S}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Soe=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,a){var o={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,i){var a={dx:n.v,dv:t(n)},o=e(n,i*.5,a),u=e(n,i*.5,o),s=e(n,i,u),l=1/6*(a.dx+2*(o.dx+u.dx)+s.dx),c=1/6*(a.dv+2*(o.dv+u.dv)+s.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function n(i,a,o){var u={x:-1,v:0,tension:null,friction:null},s=[0],l=0,c=1/1e4,f=16/1e3,h,d,v;for(i=parseFloat(i)||500,a=parseFloat(a)||20,o=o||null,u.tension=i,u.friction=a,h=o!==null,h?(l=n(i,a),d=l/o*f):d=f;v=r(v||u,d),s.push(1+v.x),l+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return h?function(y){return s[y*(s.length-1)|0]}:l}}(),Cn=function(e,r,n,i){var a=Eoe(e,r,n,i);return function(o,u,s){return o+(u-o)*a(s)}},PE={linear:function(e,r,n){return e+(r-e)*n},ease:Cn(.25,.1,.25,1),"ease-in":Cn(.42,0,1,1),"ease-out":Cn(0,0,.58,1),"ease-in-out":Cn(.42,0,.58,1),"ease-in-sine":Cn(.47,0,.745,.715),"ease-out-sine":Cn(.39,.575,.565,1),"ease-in-out-sine":Cn(.445,.05,.55,.95),"ease-in-quad":Cn(.55,.085,.68,.53),"ease-out-quad":Cn(.25,.46,.45,.94),"ease-in-out-quad":Cn(.455,.03,.515,.955),"ease-in-cubic":Cn(.55,.055,.675,.19),"ease-out-cubic":Cn(.215,.61,.355,1),"ease-in-out-cubic":Cn(.645,.045,.355,1),"ease-in-quart":Cn(.895,.03,.685,.22),"ease-out-quart":Cn(.165,.84,.44,1),"ease-in-out-quart":Cn(.77,0,.175,1),"ease-in-quint":Cn(.755,.05,.855,.06),"ease-out-quint":Cn(.23,1,.32,1),"ease-in-out-quint":Cn(.86,0,.07,1),"ease-in-expo":Cn(.95,.05,.795,.035),"ease-out-expo":Cn(.19,1,.22,1),"ease-in-out-expo":Cn(1,0,0,1),"ease-in-circ":Cn(.6,.04,.98,.335),"ease-out-circ":Cn(.075,.82,.165,1),"ease-in-out-circ":Cn(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return PE.linear;var i=Soe(e,r,n);return function(a,o,u){return a+(o-a)*i(u)}},"cubic-bezier":Cn};function sB(t,e,r,n,i){if(n===1||e===r)return r;var a=i(e,r,n);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function lB(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function kp(t,e,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var o=lB(t,i),u=lB(e,i);if(st(o)&&st(u))return sB(a,o,u,r,n);if(En(o)&&En(u)){for(var s=[],l=0;l<u.length;l++){var c=o[l],f=u[l];if(c!=null&&f!=null){var h=sB(a,c,f,r,n);s.push(h)}else s.push(f)}return s}}function Ooe(t,e,r,n){var i=!n,a=t._private,o=e._private,u=o.easing,s=o.startTime,l=n?t:t.cy(),c=l.style();if(!o.easingImpl)if(u==null)o.easingImpl=PE.linear;else{var f;if(Dt(u)){var h=c.parse("transition-timing-function",u);f=h.value}else f=u;var d,v;Dt(f)?(d=f,v=[]):(d=f[1],v=f.slice(2).map(function(H){return+H})),v.length>0?(d==="spring"&&v.push(o.duration),o.easingImpl=PE[d].apply(null,v)):o.easingImpl=PE[d]}var y=o.easingImpl,b;if(o.duration===0?b=1:b=(r-s)/o.duration,o.applying&&(b=o.progress),b<0?b=0:b>1&&(b=1),o.delay==null){var p=o.startPosition,m=o.position;if(m&&i&&!t.locked()){var g={};Gm(p.x,m.x)&&(g.x=kp(p.x,m.x,b,y)),Gm(p.y,m.y)&&(g.y=kp(p.y,m.y,b,y)),t.position(g)}var _=o.startPan,E=o.pan,T=a.pan,w=E!=null&&n;w&&(Gm(_.x,E.x)&&(T.x=kp(_.x,E.x,b,y)),Gm(_.y,E.y)&&(T.y=kp(_.y,E.y,b,y)),t.emit("pan"));var S=o.startZoom,C=o.zoom,R=C!=null&&n;R&&(Gm(S,C)&&(a.zoom=Fb(a.minZoom,kp(S,C,b,y),a.maxZoom)),t.emit("zoom")),(w||R)&&t.emit("viewport");var D=o.style;if(D&&D.length>0&&i){for(var M=0;M<D.length;M++){var I=D[M],k=I.name,U=I,F=o.startStyle[k],B=c.properties[F.name],z=kp(F,U,b,y,B);c.overrideBypass(t,k,z)}t.emit("style")}}return o.progress=b,b}function Gm(t,e){return t==null||e==null?!1:st(t)&&st(e)?!0:!!(t&&e)}function Toe(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function cB(t,e){var r=e._private.aniEles,n=[];function i(c,f){var h=c._private,d=h.animation.current,v=h.animation.queue,y=!1;if(d.length===0){var b=v.shift();b&&d.push(b)}for(var p=function(T){for(var w=T.length-1;w>=0;w--){var S=T[w];S()}T.splice(0,T.length)},m=d.length-1;m>=0;m--){var g=d[m],_=g._private;if(_.stopped){d.splice(m,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||Toe(c,g,t),Ooe(c,g,t,f),_.applying&&(_.applying=!1),p(_.frames),_.step!=null&&_.step(t),g.completed()&&(d.splice(m,1),_.hooked=!1,_.playing=!1,_.started=!1,p(_.completes)),y=!0)}return!f&&d.length===0&&v.length===0&&n.push(c),y}for(var a=!1,o=0;o<r.length;o++){var u=r[o],s=i(u);a=a||s}var l=i(e,!0);(a||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var xoe={animate:sn.animate(),animation:sn.animation(),animated:sn.animated(),clearQueue:sn.clearQueue(),delay:sn.delay(),delayAnimation:sn.delayAnimation(),stop:sn.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&OS(function(a){cB(a,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(a,o){cB(o,e)},n.beforeRenderPriorities.animations):r()}},Coe={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&m_(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Pw=function(e){return Dt(e)?new dh(e):e},gH={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new DO(Coe,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Pw(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Pw(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Pw(r),n),this},once:function(e,r,n){return this.emitter().one(e,Pw(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};sn.eventAliasesOn(gH);var vI={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};vI.jpeg=vI.jpg;var DE={layout:function(e){var r=this;if(e==null){Vn("Layout options must be specified to make a layout");return}if(e.name==null){Vn("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){Vn("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Dt(e.eles)?a=r.$(e.eles):a=e.eles!=null?e.eles:r.$();var o=new i(qt({},e,{cy:r,eles:a}));return o}};DE.createLayout=DE.makeLayout=DE.layout;var Aoe={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var a=n[i],o=e[a],u=r.getElementById(a);u.data(o)}})}},Roe=Ea({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),pI={renderTo:function(e,r,n,i){var a=this._private.renderer;return a.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Vn("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&ln("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Roe(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};pI.invalidateDimensions=pI.resize;var ME={collection:function(e,r){return Dt(e)?this.$(e):ou(e)?e.collection():En(e)?(r||(r={}),new ba(this,e,r.unique,r.removed)):new ba(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};ME.elements=ME.filter=ME.$;var ta={},z0="t",Poe="f";ta.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),a=0;a<t.length;a++){var o=t[a],u=e.getContextMeta(o);if(!u.empty){var s=e.getContextStyle(u),l=e.applyContextStyle(u,s,o);o._private.appliedInitStyle?e.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&i.push(o)}}return i};ta.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,a=n[i];if(a)return a;for(var o=[],u={},s=0;s<r.length;s++){var l=r[s],c=t[s]===z0,f=e[s]===z0,h=c!==f,d=l.mappedProperties.length>0;if(h||f&&d){var v=void 0;h&&d||h?v=l.properties:d&&(v=l.mappedProperties);for(var y=0;y<v.length;y++){for(var b=v[y],p=b.name,m=!1,g=s+1;g<r.length;g++){var _=r[g],E=e[g]===z0;if(E&&(m=_.properties[b.name]!=null,m))break}!u[p]&&!m&&(u[p]=!0,o.push(p))}}}return n[i]=o,o};ta.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",a=0;a<e.length;a++){var o=e[a],u=o.selector&&o.selector.matches(t);u?r+=z0:r+=Poe}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};ta.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},a=0;a<r.length;a++){var o=r[a],u=e[a]===z0;if(u)for(var s=0;s<o.properties.length;s++){var l=o.properties[s];i[l.name]=l}}return n[e]=i,i};ta.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,a={},o=n.types,u=0;u<i.length;u++){var s=i[u],l=e[s],c=r.pstyle(s);if(!l)if(c)c.bypass?l={name:s,deleteBypassed:!0}:l={name:s,delete:!0};else continue;if(c!==l){if(l.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,h=f.fnValue=l.value(r);if(h===f.prevFnValue)continue}var d=a[s]={prev:c};n.applyParsedProperty(r,l),d.next=r.pstyle(s),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:a}};ta.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(ae,pe,_e){return r.getPropertiesHash(ae,pe,_e)},o=e.styleKey;if(t.removed())return!1;var u=e.group==="nodes",s=t._private.style;n=Object.keys(s);for(var l=0;l<i.length;l++){var c=i[l];e.styleKeys[c]=[kd,tg]}for(var f=function(ae,pe){return e.styleKeys[pe][0]=jb(ae,e.styleKeys[pe][0])},h=function(ae,pe){return e.styleKeys[pe][1]=Bb(ae,e.styleKeys[pe][1])},d=function(ae,pe){f(ae,pe),h(ae,pe)},v=function(ae,pe){for(var _e=0;_e<ae.length;_e++){var Te=ae.charCodeAt(_e);f(Te,pe),h(Te,pe)}},y=2e9,b=function(ae){return-128<ae&&ae<128&&Math.floor(ae)!==ae?y-(ae*1024|0):ae},p=0;p<n.length;p++){var m=n[p],g=s[m];if(g!=null){var _=this.properties[m],E=_.type,T=_.groupKey,w=void 0;_.hashOverride!=null?w=_.hashOverride(t,g):g.pfValue!=null&&(w=g.pfValue);var S=_.enums==null?g.value:null,C=w!=null,R=S!=null,D=C||R,M=g.units;if(E.number&&D&&!E.multiple){var I=C?w:S;d(b(I),T),!C&&M!=null&&v(M,T)}else v(g.strValue,T)}}for(var k=[kd,tg],U=0;U<i.length;U++){var F=i[U],B=e.styleKeys[F];k[0]=jb(B[0],k[0]),k[1]=Bb(B[1],k[1])}e.styleKey=Yre(k[0],k[1]);var z=e.styleKeys;e.labelDimsKey=uf(z.labelDimensions);var H=a(t,["label"],z.labelDimensions);if(e.labelKey=uf(H),e.labelStyleKey=uf(Ew(z.commonLabel,H)),!u){var Y=a(t,["source-label"],z.labelDimensions);e.sourceLabelKey=uf(Y),e.sourceLabelStyleKey=uf(Ew(z.commonLabel,Y));var W=a(t,["target-label"],z.labelDimensions);e.targetLabelKey=uf(W),e.targetLabelStyleKey=uf(Ew(z.commonLabel,W))}if(u){var Z=e.styleKeys,le=Z.nodeBody,ce=Z.nodeBorder,ue=Z.nodeOutline,de=Z.backgroundImage,he=Z.compound,fe=Z.pie,te=Z.stripe,Q=[le,ce,ue,de,he,fe,te].filter(function(ee){return ee!=null}).reduce(Ew,[kd,tg]);e.nodeKey=uf(Q),e.hasPie=fe!=null&&fe[0]!==kd&&fe[1]!==tg,e.hasStripe=te!=null&&te[0]!==kd&&te[1]!==tg}return o!==e.styleKey};ta.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};ta.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,a,o=r.types,u=r.properties[n.name].type,s=n.bypass,l=i[n.name],c=l&&l.bypass,f=t._private,h="mapping",d=function(le){return le==null?null:le.pfValue!=null?le.pfValue:le.value},v=function(){var le=d(l),ce=d(n);r.checkTriggers(t,n.name,le,ce)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",s)),n.delete)return i[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(i[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var y=function(){ln("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var b=n.field.split("."),p=f.data,m=0;m<b.length&&p;m++){var g=b[m];p=p[g]}if(p==null)return y(),!1;var _;if(st(p)){var E=n.fieldMax-n.fieldMin;E===0?_=0:_=(p-n.fieldMin)/E}else return ln("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+p+"` for `"+t.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),u.color){var T=n.valueMin[0],w=n.valueMax[0],S=n.valueMin[1],C=n.valueMax[1],R=n.valueMin[2],D=n.valueMax[2],M=n.valueMin[3]==null?1:n.valueMin[3],I=n.valueMax[3]==null?1:n.valueMax[3],k=[Math.round(T+(w-T)*_),Math.round(S+(C-S)*_),Math.round(R+(D-R)*_),Math.round(M+(I-M)*_)];a={bypass:n.bypass,name:n.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else if(u.number){var U=n.valueMin+(n.valueMax-n.valueMin)*_;a=this.parse(n.name,U,n.bypass,h)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case o.data:{for(var F=n.field.split("."),B=f.data,z=0;z<F.length&&B;z++){var H=F[z];B=B[H]}if(B!=null&&(a=this.parse(n.name,B,n.bypass,h)),!a)return y(),!1;a.mapping=n,n=a;break}case o.fn:{var Y=n.value,W=n.fnValue!=null?n.fnValue:Y(t);if(n.prevFnValue=W,W==null)return ln("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(n.name,W,n.bypass,h),!a)return ln("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=al(n),n=a;break}case void 0:break;default:return!1}return s?(c?n.bypassed=l.bypassed:n.bypassed=l,i[n.name]=n):c?l.bypassed=n:i[n.name]=n,v(),!0};ta.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var u=a[o],s=i[u];s!=null&&(s.bypass?s.bypassed=null:i[u]=null)}}};ta.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};ta.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var u={},s=!1,l=0;l<i.length;l++){var c=i[l],f=t.pstyle(c),h=e[c];if(h){var d=h.prev,v=d,y=h.next!=null?h.next:f,b=!1,p=void 0,m=1e-6;v&&(st(v.pfValue)&&st(y.pfValue)?(b=y.pfValue-v.pfValue,p=v.pfValue+m*b):st(v.value)&&st(y.value)?(b=y.value-v.value,p=v.value+m*b):En(v.value)&&En(y.value)&&(b=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],p=v.strValue),b&&(u[c]=y.strValue,this.applyBypass(t,c,p),s=!0))}}if(!s)return;n.transitioning=!0,new by(function(g){o>0?t.delayAnimation(o).play().promise().then(g):g()}).then(function(){return t.animation({style:u,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};ta.checkTrigger=function(t,e,r,n,i,a){var o=this.properties[e],u=i(o);t.removed()||u!=null&&u(r,n,t)&&a(o)};ta.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};ta.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};ta.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ta.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){t.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};ta.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var T_={};T_.applyBypass=function(t,e,r,n){var i=this,a=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var u=0;u<i.properties.length;u++){var s=i.properties[u],l=s.name,c=this.parse(l,r,!0);c&&a.push(c)}}else if(Dt(e)){var f=this.parse(e,r,!0);f&&a.push(f)}else if(Wr(e)){var h=e;n=r;for(var d=Object.keys(h),v=0;v<d.length;v++){var y=d[v],b=h[y];if(b===void 0&&(b=h[wO(y)]),b!==void 0){var p=this.parse(y,b,!0);p&&a.push(p)}}}else return!1;if(a.length===0)return!1;for(var m=!1,g=0;g<t.length;g++){for(var _=t[g],E={},T=void 0,w=0;w<a.length;w++){var S=a[w];if(n){var C=_.pstyle(S.name);T=E[S.name]={prev:C}}m=this.applyParsedProperty(_,al(S))||m,n&&(T.next=_.pstyle(S.name))}m&&this.updateStyleHints(_),n&&this.updateTransitions(_,E,o)}return m};T_.overrideBypass=function(t,e,r){e=xk(e);for(var n=0;n<t.length;n++){var i=t[n],a=i._private.style[e],o=this.properties[e].type,u=o.color,s=o.mutiple,l=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),u?a.strValue="rgb("+r.join(",")+")":s?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,l,r)}};T_.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};T_.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],o={},u=0;u<e.length;u++){var s=e[u],l=this.properties[s],c=a.pstyle(l.name);if(!(!c||!c.bypass)){var f="",h=this.parse(s,f,!0),d=o[l.name]={prev:c};this.applyParsedProperty(a,h),d.next=a.pstyle(l.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,o,n)}};var zk={};zk.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};zk.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var cl={};cl.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};cl.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(t,a.name,e);o!=null&&(n[a.name]=o,n[wO(a.name)]=o)}return n}};cl.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};cl.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var a=i.type,o=t.pstyle(i.name);if(o){var u=o.value,s=o.units,l=o.strValue;if(r&&a.number&&u!=null&&st(u)){var c=t.cy().zoom(),f=function(b){return b*c},h=function(b,p){return f(b)+p},d=En(u),v=d?s.every(function(y){return y!=null}):s!=null;return v?d?u.map(function(y,b){return h(y,s[b])}).join(" "):h(u,s):d?u.map(function(y){return Dt(y)?y:""+f(y)}).join(" "):""+f(u)}else if(l!=null)return l}return null}};cl.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=i.name,o=t.pstyle(a);o!==void 0&&(Wr(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(r[a]=o)}return r};cl.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var a=Object.keys(n),o=0;o<a.length;o++){var u=a[o],s=n[u],l=i[u]||i[xk(u)],c=this.parse(l.name,s);c&&r.push(c)}return r};cl.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,a,o,u,s,l;for(s=0;s<e.length;s++)if(i=e[s],a=t.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=jb(u,n[0]),n[1]=Bb(u,n[1]);else for(o=a.strValue,l=0;l<o.length;l++)u=o.charCodeAt(l),n[0]=jb(u,n[0]),n[1]=Bb(u,n[1]);return n};cl.getPropertiesHash=cl.getNonDefaultPropertiesHash;var NO={};NO.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);e.selector(i);for(var u=0;u<o.length;u++){var s=o[u],l=a[s];e.css(s,l)}}return e};NO.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};NO.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var u=i[o];a[u.name]=u.strValue}t.push({selector:n?n.toString():"core",style:a})}return t};var qk={};qk.appendFromString=function(t){var e=this,r=this,n=""+t,i,a,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){n.length>i.length?n=n.substr(i.length):n=""}function s(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){ln("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var f=c[1];if(f!=="core"){var h=new dh(f);if(h.invalid){ln("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),u();continue}}var d=c[2],v=!1;a=d;for(var y=[];;){var b=a.match(/^\s*$/);if(b)break;var p=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){ln("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}o=p[0];var m=p[1],g=p[2],_=e.properties[m];if(!_){ln("Skipping property: Invalid property name in: "+o),s();continue}var E=r.parse(m,g);if(!E){ln("Skipping property: Invalid property definition in: "+o),s();continue}y.push({name:m,val:g}),s()}if(v){u();break}r.selector(f);for(var T=0;T<y.length;T++){var w=y[T];r.css(w.name,w.val)}u()}return r};qk.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Oi={};(function(){var t=Li,e=Ore,r=xre,n=Cre,i=Are,a=function(ee){return"^"+ee+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(ee){var ae=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+ee+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+ae+")\\s*\\,\\s*("+ae+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Oi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ee,ae){switch(ee.length){case 2:return ae[0]!=="deg"&&ae[0]!=="rad"&&ae[1]!=="deg"&&ae[1]!=="rad";case 1:return Dt(ee[0])||ae[0]==="deg"||ae[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ee){var ae=ee.length;return ae===1||ae===2||ae===4}}};var s={zeroNonZero:function(ee,ae){return(ee==null||ae==null)&&ee!==ae||ee==0&&ae!=0?!0:ee!=0&&ae==0},any:function(ee,ae){return ee!=ae},emptyNonEmpty:function(ee,ae){var pe=ch(ee),_e=ch(ae);return pe&&!_e||!pe&&_e}},l=Oi.types,c=[{name:"label",type:l.text,triggersBounds:s.any,triggersZOrder:s.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any}],f=[{name:"source-label",type:l.text,triggersBounds:s.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"source-text-offset",type:l.size,triggersBounds:s.any}],h=[{name:"target-label",type:l.text,triggersBounds:s.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"target-text-offset",type:l.size,triggersBounds:s.any}],d=[{name:"font-family",type:l.fontFamily,triggersBounds:s.any},{name:"font-style",type:l.fontStyle,triggersBounds:s.any},{name:"font-weight",type:l.fontWeight,triggersBounds:s.any},{name:"font-size",type:l.size,triggersBounds:s.any},{name:"text-transform",type:l.textTransform,triggersBounds:s.any},{name:"text-wrap",type:l.textWrap,triggersBounds:s.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:s.any},{name:"text-max-width",type:l.size,triggersBounds:s.any},{name:"text-outline-width",type:l.size,triggersBounds:s.any},{name:"line-height",type:l.positiveNumber,triggersBounds:s.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:s.any},{name:"text-halign",type:l.halign,triggersBounds:s.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:s.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:s.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:s.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:s.any},{name:"text-justification",type:l.justification},{name:"box-select-labels",type:l.bool,triggersBounds:s.any}],y=[{name:"events",type:l.bool,triggersZOrder:s.any},{name:"text-events",type:l.bool,triggersZOrder:s.any},{name:"box-selection",type:l.boxSelection,triggersZOrder:s.any}],b=[{name:"display",type:l.display,triggersZOrder:s.any,triggersBounds:s.any,triggersBoundsOfConnectedEdges:s.any,triggersBoundsOfParallelEdges:function(ee,ae,pe){return ee===ae?!1:pe.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:s.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:s.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:s.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:s.any},{name:"z-index",type:l.number,triggersZOrder:s.any}],p=[{name:"overlay-padding",type:l.size,triggersBounds:s.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:s.any},{name:"overlay-corner-radius",type:l.cornerRadius}],m=[{name:"underlay-padding",type:l.size,triggersBounds:s.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:s.any},{name:"underlay-corner-radius",type:l.cornerRadius}],g=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],_=function(ee,ae){return ae.value==="label"?-ee.poolIndex():ae.pfValue},E=[{name:"height",type:l.nodeSize,triggersBounds:s.any,hashOverride:_},{name:"width",type:l.nodeSize,triggersBounds:s.any,hashOverride:_},{name:"shape",type:l.nodeShape,triggersBounds:s.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:s.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:s.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:s.any}],T=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:s.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],w=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:s.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:s.any}],S=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],C=[{name:"position",type:l.position,triggersBounds:s.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:s.any},{name:"min-width",type:l.size,triggersBounds:s.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-height",type:l.size,triggersBounds:s.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:s.any}],R=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:s.any,triggersBoundsOfParallelEdges:function(ee,ae){return ee===ae?!1:ee==="bezier"||ae==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:s.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:s.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:s.any},{name:"control-point-step-size",type:l.size,triggersBounds:s.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:s.any},{name:"control-point-weights",type:l.numbers,triggersBounds:s.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:s.any},{name:"segment-weights",type:l.numbers,triggersBounds:s.any},{name:"segment-radii",type:l.numbers,triggersBounds:s.any},{name:"radius-type",type:l.radiusType,triggersBounds:s.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:s.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:s.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:s.any},{name:"taxi-radius",type:l.number,triggersBounds:s.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:s.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:s.any},{name:"loop-direction",type:l.angle,triggersBounds:s.any},{name:"loop-sweep",type:l.angle,triggersBounds:s.any},{name:"source-distance-from-node",type:l.size,triggersBounds:s.any},{name:"target-distance-from-node",type:l.size,triggersBounds:s.any}],D=[{name:"ghost",type:l.bool,triggersBounds:s.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"ghost-opacity",type:l.zeroOneNumber}],M=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],I=[];Oi.pieBackgroundN=16,I.push({name:"pie-size",type:l.sizeMaybePercent}),I.push({name:"pie-hole",type:l.sizeMaybePercent}),I.push({name:"pie-start-angle",type:l.angle});for(var k=1;k<=Oi.pieBackgroundN;k++)I.push({name:"pie-"+k+"-background-color",type:l.color}),I.push({name:"pie-"+k+"-background-size",type:l.percent}),I.push({name:"pie-"+k+"-background-opacity",type:l.zeroOneNumber});var U=[];Oi.stripeBackgroundN=16,U.push({name:"stripe-size",type:l.sizeMaybePercent}),U.push({name:"stripe-direction",type:l.axisDirectionPrimary});for(var F=1;F<=Oi.stripeBackgroundN;F++)U.push({name:"stripe-"+F+"-background-color",type:l.color}),U.push({name:"stripe-"+F+"-background-size",type:l.percent}),U.push({name:"stripe-"+F+"-background-opacity",type:l.zeroOneNumber});var B=[],z=Oi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:s.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(Q){z.forEach(function(ee){var ae=ee+"-"+Q.name,pe=Q.type,_e=Q.triggersBounds;B.push({name:ae,type:pe,triggersBounds:_e})})},{});var H=Oi.properties=[].concat(y,g,b,p,m,D,v,d,c,f,h,E,T,w,S,I,U,C,R,B,M),Y=Oi.propertyGroups={behavior:y,transition:g,visibility:b,overlay:p,underlay:m,ghost:D,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:E,nodeBorder:T,nodeOutline:w,backgroundImage:S,pie:I,stripe:U,compound:C,edgeLine:R,edgeArrow:B,core:M},W=Oi.propertyGroupNames={},Z=Oi.propertyGroupKeys=Object.keys(Y);Z.forEach(function(Q){W[Q]=Y[Q].map(function(ee){return ee.name}),Y[Q].forEach(function(ee){return ee.groupKey=Q})});var le=Oi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Oi.propertyNames=H.map(function(Q){return Q.name});for(var ce=0;ce<H.length;ce++){var ue=H[ce];H[ue.name]=ue}for(var de=0;de<le.length;de++){var he=le[de],fe=H[he.pointsTo],te={name:he.name,alias:!0,pointsTo:fe};H.push(te),H[he.name]=te}})();Oi.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Oi.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=qt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(s,l){for(var c=1;c<=Oi.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;s[f]=h}return s},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(s,l){for(var c=1;c<=Oi.stripeBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;s[f]=h}return s},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(s,l){return Oi.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,h=l.value;s[f]=h}),s},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=e[a],u=this.parse(a,o);r[a]=u}}return t.defaultProperties=r,t.defaultProperties};Oi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var kO={};kO.parse=function(t,e,r,n){var i=this;if(Qn(e))return i.parseImplWarn(t,e,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",u=""+e,s=xV(t,u,o,a),l=i.propCache=i.propCache||[],c;return(c=l[s])||(c=l[s]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=al(c),c&&(c.value=al(c.value))),c};kO.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&ln("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&ln("The style value of `label` is deprecated for `"+i.name+"`"),i};kO.parseImpl=function(t,e,r,n){var i=this;t=xk(t);var a=i.properties[t],o=e,u=i.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var s=Dt(e);s&&(e=e.trim());var l=a.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Qn(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:r};var c,f;if(!(!s||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(u.data.regex).exec(e))){if(r)return!1;var h=u.data;return{name:t,value:c,strValue:""+e,mapped:h,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(u.mapData.regex).exec(e))){if(r||l.multiple)return!1;var d=u.mapData;if(!(l.color||l.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var y=this.parse(t,f[5]);if(!y||y.mapped)return!1;if(v.pfValue===y.pfValue||v.strValue===y.strValue)return ln("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(l.color){var b=v.value,p=y.value,m=b[0]===p[0]&&b[1]===p[1]&&b[2]===p[2]&&(b[3]===p[3]||(b[3]==null||b[3]===1)&&(p[3]==null||p[3]===1));if(m)return!1}return{name:t,value:f,strValue:""+e,mapped:d,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var g;if(s?g=e.split(/\s+/):En(e)?g=e:g=[e],l.evenMultiple&&g.length%2!==0)return null;for(var _=[],E=[],T=[],w="",S=!1,C=0;C<g.length;C++){var R=i.parse(t,g[C],r,"multiple");S=S||Dt(R.value),_.push(R.value),T.push(R.pfValue!=null?R.pfValue:R.value),E.push(R.units),w+=(C>0?" ":"")+R.strValue}return l.validate&&!l.validate(_,E)?null:l.singleEnum&&S?_.length===1&&Dt(_[0])?{name:t,value:_[0],strValue:_[0],bypass:r}:null:{name:t,value:_,pfValue:T,strValue:w,bypass:r,units:E}}var D=function(){for(var te=0;te<l.enums.length;te++){var Q=l.enums[te];if(Q===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var M,I="px";if(l.units&&(M=l.units),l.implicitUnits&&(I=l.implicitUnits),!l.unitless)if(s){var k="px|em"+(l.allowPercent?"|\\%":"");M&&(k=M);var U=e.match("^("+Li+")("+k+")?$");U&&(e=U[1],M=U[2]||I)}else(!M||l.implicitUnits)&&(M=I);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=o,D();if(l.integer&&!yre(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var F={name:t,value:e,strValue:""+e+(M||""),units:M,bypass:r};return l.unitless||M!=="px"&&M!=="em"?F.pfValue=e:F.pfValue=M==="px"||!M?e:this.getEmSizeInPixels()*e,(M==="ms"||M==="s")&&(F.pfValue=M==="ms"?e:1e3*e),(M==="deg"||M==="rad")&&(F.pfValue=M==="rad"?e:Cne(e)),M==="%"&&(F.pfValue=e/100),F}else if(l.propList){var B=[],z=""+e;if(z!=="none"){for(var H=z.split(/\s*,\s*|\s+/),Y=0;Y<H.length;Y++){var W=H[Y].trim();i.properties[W]?B.push(W):ln("`"+W+"` is not a valid property name")}if(B.length===0)return null}return{name:t,value:B,strValue:B.length===0?"none":B.join(" "),bypass:r}}else if(l.color){var Z=bV(e);return Z?{name:t,value:Z,pfValue:Z,strValue:"rgb("+Z[0]+","+Z[1]+","+Z[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var le=D();if(le)return le}for(var ce=l.regexes?l.regexes:[l.regex],ue=0;ue<ce.length;ue++){var de=new RegExp(ce[ue]),he=de.exec(e);if(he)return{name:t,value:l.singleRegexMatchValue?he[1]:he,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?D():null};var ea=function(e){if(!(this instanceof ea))return new ea(e);if(!Tk(e)){Vn("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},ka=ea.prototype;ka.instanceString=function(){return"style"};ka.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};ka.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};ka.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};ka.selector=function(t){var e=t==="core"?null:new dh(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};ka.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],a=r[i.name];a===void 0&&(a=r[wO(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};ka.style=ka.css;ka.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};ka.append=function(t){return gV(t)?t.appendToStyle(this):En(t)?this.appendFromJson(t):Dt(t)&&this.appendFromString(t),this};ea.fromJson=function(t,e){var r=new ea(t);return r.fromJson(e),r};ea.fromString=function(t,e){return new ea(t).fromString(e)};[ta,T_,zk,cl,NO,qk,Oi,kO].forEach(function(t){qt(ka,t)});ea.types=ka.types;ea.properties=ka.properties;ea.propertyGroups=ka.propertyGroups;ea.propertyGroupNames=ka.propertyGroupNames;ea.propertyGroupKeys=ka.propertyGroupKeys;var Doe={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return gV(e)?r.style=e.generateStyle(this):En(e)?r.style=ea.fromJson(this,e):Dt(e)?r.style=ea.fromString(this,e):r.style=ea(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Moe="single",nv={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=Moe),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,a,o,u;switch(e.length){case 0:return r;case 1:if(Dt(e[0]))return n=e[0],r[n];if(Wr(e[0])){if(!this._private.panningEnabled)return this;a=e[0],o=a.x,u=a.y,st(o)&&(r.x=o),st(u)&&(r.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&st(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,a,o,u,s,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Wr(e)&&(u=n[0],s=u.x,l=u.y,st(s)&&(i.x+=s),st(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:a=e,o=r,(a==="x"||a==="y")&&st(o)&&(i[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(st(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Dt(e)){var i=e;e=this.$(i)}else if(_re(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else ou(e)||(e=this.mutableElements());if(!(ou(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),u=this.height(),s;if(r=st(r)?r:0,!isNaN(o)&&!isNaN(u)&&o>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){s=Math.min((o-2*r)/n.w,(u-2*r)/n.h),s=s>this._private.maxZoom?this._private.maxZoom:s,s=s<this._private.minZoom?this._private.minZoom:s;var l={x:(o-s*(n.x1+n.x2))/2,y:(u-s*(n.y1+n.y2))/2};return{zoom:s,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return st(e)&&st(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):st(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:st(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,a,o,u=!1;if(r.zoomingEnabled||(u=!0),st(e)?o=e:Wr(e)&&(o=e.level,e.position!=null?a=OO(e.position,i,n):e.renderedPosition!=null&&(a=e.renderedPosition),a!=null&&!r.panningEnabled&&(u=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,u||!st(o)||o===i||a!=null&&(!st(a.x)||!st(a.y)))return null;if(a!=null){var s=n,l=i,c=o,f={x:-c/l*(a.x-s.x)+a.x,y:-c/l*(a.y-s.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,a=[],o=!1,u=!1;if(!e)return this;if(st(e.zoom)||(n=!1),Wr(e.pan)||(i=!1),!n&&!i)return this;if(n){var s=e.zoom;s<r.minZoom||s>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=s,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;st(l.x)&&(r.pan.x=l.x,u=!1),st(l.y)&&(r.pan.y=l.y,u=!1),u||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Dt(e)){var n=e;e=this.mutableElements().filter(n)}else ou(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),a=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var u={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),a=function(u){return parseFloat(i.getPropertyValue(u))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};nv.centre=nv.center;nv.autolockNodes=nv.autolock;nv.autoungrabifyNodes=nv.autoungrabify;var Vb={data:sn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:sn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:sn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:sn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Vb.attr=Vb.data;Vb.removeAttr=Vb.removeData;var Hb=function(e){var r=this;e=qt({},e);var n=e.container;n&&!SS(n)&&SS(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var o=Ni!==void 0&&n!==void 0&&!e.headless,u=e;u.layout=qt({name:o?"grid":"null"},u.layout),u.renderer=qt({name:o?"canvas":"null"},u.renderer);var s=function(v,y,b){return y!==void 0?y:b!==void 0?b:v},l=this._private={container:n,ready:!1,options:u,elements:new ba(this),listeners:[],aniEles:new ba(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,u.zoomingEnabled),userZoomingEnabled:s(!0,u.userZoomingEnabled),panningEnabled:s(!0,u.panningEnabled),userPanningEnabled:s(!0,u.userPanningEnabled),boxSelectionEnabled:s(!0,u.boxSelectionEnabled),autolock:s(!1,u.autolock,u.autolockNodes),autoungrabify:s(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:s(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?o:u.styleEnabled,zoom:st(u.zoom)?u.zoom:1,pan:{x:Wr(u.pan)&&st(u.pan.x)?u.pan.x:0,y:Wr(u.pan)&&st(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var c=function(v,y){var b=v.some(wre);if(b)return by.all(v).then(y);y(v)};l.styleEnabled&&r.setStyle([]);var f=qt({},u,u.renderer);r.initRenderer(f);var h=function(v,y,b){r.notifications(!1);var p=r.mutableElements();p.length>0&&p.remove(),v!=null&&(Wr(v)||En(v))&&r.add(v),r.one("layoutready",function(g){r.notifications(!0),r.emit(g),r.one("load",y),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",b),r.emit("done")});var m=qt({},r._private.options.layout);m.eles=r.elements(),r.layout(m).run()};c([u.style,u.elements],function(d){var v=d[0],y=d[1];l.styleEnabled&&r.style().append(v),h(y,function(){r.startAnimationLoop(),l.ready=!0,Qn(u.ready)&&r.on("ready",u.ready);for(var b=0;b<a.length;b++){var p=a[b];r.on("ready",p)}i&&(i.readies=[]),r.emit("ready")},u.done)})},PS=Hb.prototype;qt(PS,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Ni;var r=this._private.container.ownerDocument;return r===void 0||r==null?Ni:r.defaultView||Ni},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!SS(e)&&SS(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(qt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return al(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),a=function(_){return r.getElementById(_.id())};if(Wr(e)){if(r.startBatch(),e.elements){var o={},u=function(_,E){for(var T=[],w=[],S=0;S<_.length;S++){var C=_[S];if(!C.data.id){ln("cy.json() cannot handle elements without an ID attribute");continue}var R=""+C.data.id,D=r.getElementById(R);o[R]=!0,D.length!==0?w.push({ele:D,json:C}):(E&&(C.group=E),T.push(C))}r.add(T);for(var M=0;M<w.length;M++){var I=w[M],k=I.ele,U=I.json;k.json(U)}};if(En(e.elements))u(e.elements);else for(var s=["nodes","edges"],l=0;l<s.length;l++){var c=s[l],f=e.elements[c];En(f)&&u(f,c)}var h=r.collection();i.filter(function(g){return!o[g.id()]}).forEach(function(g){g.isParent()?h.merge(g):g.remove()}),h.forEach(function(g){return g.children().move({parent:null})}),h.forEach(function(g){return a(g).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var y=d[v];e[y]!=null&&r[y](e[y])}return r.endBatch(),this}else{var b=!!e,p={};b?p.elements=this.elements().map(function(g){return g.json()}):(p.elements={},i.forEach(function(g){var _=g.group();p.elements[_]||(p.elements[_]=[]),p.elements[_].push(g.json())})),this._private.styleEnabled&&(p.style=r.style().json()),p.data=al(r.data());var m=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=al(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=al(m.renderer),p.hideEdgesOnViewport=m.hideEdgesOnViewport,p.textureOnViewport=m.textureOnViewport,p.wheelSensitivity=m.wheelSensitivity,p.motionBlur=m.motionBlur,p.multiClickDebounceTime=m.multiClickDebounceTime,p}}});PS.$id=PS.getElementById;[woe,xoe,gH,vI,DE,Aoe,pI,ME,Doe,nv,Vb].forEach(function(t){qt(PS,t)});var Ioe={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Noe={maximal:!1,acyclic:!1},Lp=function(e){return e.scratch("breadthfirst")},fB=function(e,r){return e.scratch("breadthfirst",r)};function yH(t){this.options=qt({},Ioe,Noe,t)}yH.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(G){return G.isChildless()}),i=r,a=t.directed,o=t.acyclic||t.maximal||t.maximalAdjustments>0,u=!!t.boundingBox,s=eo(u?t.boundingBox:structuredClone(e.extent())),l;if(ou(t.roots))l=t.roots;else if(En(t.roots)){for(var c=[],f=0;f<t.roots.length;f++){var h=t.roots[f],d=e.getElementById(h);c.push(d)}l=e.collection(c)}else if(Dt(t.roots))l=e.$(t.roots);else if(a)l=n.roots();else{var v=r.components();l=e.collection();for(var y=function(){var X=v[b],ie=X.maxDegree(!1),ve=X.filter(function(ge){return ge.degree(!1)===ie});l=l.add(ve)},b=0;b<v.length;b++)y()}var p=[],m={},g=function(X,ie){p[ie]==null&&(p[ie]=[]);var ve=p[ie].length;p[ie].push(X),fB(X,{index:ve,depth:ie})},_=function(X,ie){var ve=Lp(X),ge=ve.depth,Oe=ve.index;p[ge][Oe]=null,X.isChildless()&&g(X,ie)};i.bfs({roots:l,directed:t.directed,visit:function(X,ie,ve,ge,Oe){var Le=X[0],We=Le.id();Le.isChildless()&&g(Le,Oe),m[We]=!0}});for(var E=[],T=0;T<n.length;T++){var w=n[T];m[w.id()]||E.push(w)}var S=function(X){for(var ie=p[X],ve=0;ve<ie.length;ve++){var ge=ie[ve];if(ge==null){ie.splice(ve,1),ve--;continue}fB(ge,{depth:X,index:ve})}},C=function(X,ie){for(var ve=Lp(X),ge=X.incomers().filter(function(Qe){return Qe.isNode()&&r.has(Qe)}),Oe=-1,Le=X.id(),We=0;We<ge.length;We++){var ut=ge[We],Ze=Lp(ut);Oe=Math.max(Oe,Ze.depth)}if(ve.depth<=Oe){if(!t.acyclic&&ie[Le])return null;var tt=Oe+1;return _(X,tt),ie[Le]=tt,!0}return!1};if(a&&o){var R=[],D={},M=function(X){return R.push(X)},I=function(){return R.shift()};for(n.forEach(function(G){return R.push(G)});R.length>0;){var k=I(),U=C(k,D);if(U)k.outgoers().filter(function(G){return G.isNode()&&r.has(G)}).forEach(M);else if(U===null){ln("Detected double maximal shift for node `"+k.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var F=0;if(t.avoidOverlap)for(var B=0;B<n.length;B++){var z=n[B],H=z.layoutDimensions(t),Y=H.w,W=H.h;F=Math.max(F,Y,W)}var Z={},le=function(X){if(Z[X.id()])return Z[X.id()];for(var ie=Lp(X).depth,ve=X.neighborhood(),ge=0,Oe=0,Le=0;Le<ve.length;Le++){var We=ve[Le];if(!(We.isEdge()||We.isParent()||!n.has(We))){var ut=Lp(We);if(ut!=null){var Ze=ut.index,tt=ut.depth;if(!(Ze==null||tt==null)){var Qe=p[tt].length;tt<ie&&(ge+=Ze/Qe,Oe++)}}}}return Oe=Math.max(1,Oe),ge=ge/Oe,Oe===0&&(ge=0),Z[X.id()]=ge,ge},ce=function(X,ie){var ve=le(X),ge=le(ie),Oe=ve-ge;return Oe===0?mV(X.id(),ie.id()):Oe};t.depthSort!==void 0&&(ce=t.depthSort);for(var ue=p.length,de=0;de<ue;de++)p[de].sort(ce),S(de);for(var he=[],fe=0;fe<E.length;fe++)he.push(E[fe]);var te=function(){for(var X=0;X<ue;X++)S(X)};he.length&&(p.unshift(he),ue=p.length,te());for(var Q=0,ee=0;ee<ue;ee++)Q=Math.max(p[ee].length,Q);var ae={x:s.x1+s.w/2,y:s.y1+s.h/2},pe=n.reduce(function(G,X){return function(ie){return{w:G.w===-1?ie.w:(G.w+ie.w)/2,h:G.h===-1?ie.h:(G.h+ie.h)/2}}(X.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),_e=Math.max(ue===1?0:u?(s.h-t.padding*2-pe.h)/(ue-1):(s.h-t.padding*2-pe.h)/(ue+1),F),Te=p.reduce(function(G,X){return Math.max(G,X.length)},0),Ae=function(X){var ie=Lp(X),ve=ie.depth,ge=ie.index;if(t.circle){var Oe=Math.min(s.w/2/ue,s.h/2/ue);Oe=Math.max(Oe,F);var Le=Oe*ve+Oe-(ue>0&&p[0].length<=3?Oe/2:0),We=2*Math.PI/p[ve].length*ge;return ve===0&&p[0].length===1&&(Le=1),{x:ae.x+Le*Math.cos(We),y:ae.y+Le*Math.sin(We)}}else{var ut=p[ve].length,Ze=Math.max(ut===1?0:u?(s.w-t.padding*2-pe.w)/((t.grid?Te:ut)-1):(s.w-t.padding*2-pe.w)/((t.grid?Te:ut)+1),F),tt={x:ae.x+(ge+1-(ut+1)/2)*Ze,y:ae.y+(ve+1-(ue+1)/2)*_e};return tt}},be={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(be).indexOf(t.direction)===-1&&Vn("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(be).join(", ")));var j=function(X){return Kre(Ae(X),s,be[t.direction])};return r.nodes().layoutPositions(this,t,j),this};var koe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function mH(t){this.options=qt({},koe,t)}mH.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var o=eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:o.x1+o.w/2,y:o.y1+o.h/2},s=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,l=s/Math.max(1,a.length-1),c,f=0,h=0;h<a.length;h++){var d=a[h],v=d.layoutDimensions(e),y=v.w,b=v.h;f=Math.max(f,y,b)}if(st(e.radius)?c=e.radius:a.length<=1?c=0:c=Math.min(o.h,o.w)/2-f,a.length>1&&e.avoidOverlap){f*=1.75;var p=Math.cos(l)-Math.cos(0),m=Math.sin(l)-Math.sin(0),g=Math.sqrt(f*f/(p*p+m*m));c=Math.max(g,c)}var _=function(T,w){var S=e.startAngle+w*l*(i?1:-1),C=c*Math.cos(S),R=c*Math.sin(S),D={x:u.x+C,y:u.y+R};return D};return n.nodes().layoutPositions(this,e,_),this};var Loe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function bH(t){this.options=qt({},Loe,t)}bH.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,a=i.nodes().not(":parent"),o=eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:o.x1+o.w/2,y:o.y1+o.h/2},s=[],l=0,c=0;c<a.length;c++){var f=a[c],h=void 0;h=e.concentric(f),s.push({value:h,node:f}),f._private.scratch.concentric=h}a.updateStyle();for(var d=0;d<a.length;d++){var v=a[d],y=v.layoutDimensions(e);l=Math.max(l,y.w,y.h)}s.sort(function(_e,Te){return Te.value-_e.value});for(var b=e.levelWidth(a),p=[[]],m=p[0],g=0;g<s.length;g++){var _=s[g];if(m.length>0){var E=Math.abs(m[0].value-_.value);E>=b&&(m=[],p.push(m))}m.push(_)}var T=l+e.minNodeSpacing;if(!e.avoidOverlap){var w=p.length>0&&p[0].length>1,S=Math.min(o.w,o.h)/2-T,C=S/(p.length+w?1:0);T=Math.min(T,C)}for(var R=0,D=0;D<p.length;D++){var M=p[D],I=e.sweep===void 0?2*Math.PI-2*Math.PI/M.length:e.sweep,k=M.dTheta=I/Math.max(1,M.length-1);if(M.length>1&&e.avoidOverlap){var U=Math.cos(k)-Math.cos(0),F=Math.sin(k)-Math.sin(0),B=Math.sqrt(T*T/(U*U+F*F));R=Math.max(B,R)}M.r=R,R+=T}if(e.equidistant){for(var z=0,H=0,Y=0;Y<p.length;Y++){var W=p[Y],Z=W.r-H;z=Math.max(z,Z)}H=0;for(var le=0;le<p.length;le++){var ce=p[le];le===0&&(H=ce.r),ce.r=H,H+=z}}for(var ue={},de=0;de<p.length;de++)for(var he=p[de],fe=he.dTheta,te=he.r,Q=0;Q<he.length;Q++){var ee=he[Q],ae=e.startAngle+(r?1:-1)*fe*Q,pe={x:u.x+te*Math.cos(ae),y:u.y+te*Math.sin(ae)};ue[ee.node.id()]=pe}return i.nodes().layoutPositions(this,e,function(_e){var Te=_e.id();return ue[Te]}),this};var TC,joe={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function LO(t){this.options=qt({},joe,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),o=i.target().data("id"),u=e.some(function(l){return l.data("id")===a}),s=e.some(function(l){return l.data("id")===o});return!u||!s});this.options.eles=this.options.eles.not(n)}LO.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?TC=!0:TC=!1;var n=Boe(e,r,t);TC&&Foe(n),t.randomize&&zoe(n);var i=gc(),a=function(){qoe(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(h){return!(r.stopped||h>=t.numIter||(Goe(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},u=function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var h=t.eles.nodes(),d=wH(n,t,h);h.layoutPositions(r,t,d)}},s=0,l=!0;if(t.animate===!0){var c=function(){for(var h=0;l&&h<t.refresh;)l=o(s),s++,h++;if(!l)dB(n,t),u();else{var d=gc();d-i>=t.animationThreshold&&a(),OS(c)}};c()}else{for(;l;)l=o(s),s++;dB(n,t),u()}return this};LO.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};LO.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Boe=function(e,r,n){for(var i=n.eles.edges(),a=n.eles.nodes(),o=eo(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},s=n.eles.components(),l={},c=0;c<s.length;c++)for(var f=s[c],h=0;h<f.length;h++){var d=f[h];l[d.id()]=c}for(var c=0;c<u.nodeSize;c++){var v=a[c],y=v.layoutDimensions(n),b={};b.isLocked=v.locked(),b.id=v.data("id"),b.parentId=v.data("parent"),b.cmptId=l[v.id()],b.children=[],b.positionX=v.position("x"),b.positionY=v.position("y"),b.offsetX=0,b.offsetY=0,b.height=y.w,b.width=y.h,b.maxX=b.positionX+b.width/2,b.minX=b.positionX-b.width/2,b.maxY=b.positionY+b.height/2,b.minY=b.positionY-b.height/2,b.padLeft=parseFloat(v.style("padding")),b.padRight=parseFloat(v.style("padding")),b.padTop=parseFloat(v.style("padding")),b.padBottom=parseFloat(v.style("padding")),b.nodeRepulsion=Qn(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,u.layoutNodes.push(b),u.idToIndex[b.id]=c}for(var p=[],m=0,g=-1,_=[],c=0;c<u.nodeSize;c++){var v=u.layoutNodes[c],E=v.parentId;E!=null?u.layoutNodes[u.idToIndex[E]].children.push(v.id):(p[++g]=v.id,_.push(v.id))}for(u.graphSet.push(_);m<=g;){var T=p[m++],w=u.idToIndex[T],d=u.layoutNodes[w],S=d.children;if(S.length>0){u.graphSet.push(S);for(var c=0;c<S.length;c++)p[++g]=S[c]}}for(var c=0;c<u.graphSet.length;c++)for(var C=u.graphSet[c],h=0;h<C.length;h++){var R=u.idToIndex[C[h]];u.indexToGraph[R]=c}for(var c=0;c<u.edgeSize;c++){var D=i[c],M={};M.id=D.data("id"),M.sourceId=D.data("source"),M.targetId=D.data("target");var I=Qn(n.idealEdgeLength)?n.idealEdgeLength(D):n.idealEdgeLength,k=Qn(n.edgeElasticity)?n.edgeElasticity(D):n.edgeElasticity,U=u.idToIndex[M.sourceId],F=u.idToIndex[M.targetId],B=u.indexToGraph[U],z=u.indexToGraph[F];if(B!=z){for(var H=Uoe(M.sourceId,M.targetId,u),Y=u.graphSet[H],W=0,b=u.layoutNodes[U];Y.indexOf(b.id)===-1;)b=u.layoutNodes[u.idToIndex[b.parentId]],W++;for(b=u.layoutNodes[F];Y.indexOf(b.id)===-1;)b=u.layoutNodes[u.idToIndex[b.parentId]],W++;I*=W*n.nestingFactor}M.idealLength=I,M.elasticity=k,u.layoutEdges.push(M)}return u},Uoe=function(e,r,n){var i=_H(e,r,0,n);return 2>i.count?0:i.graph},_H=function(e,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(e)&&-1<a.indexOf(r))return{count:2,graph:n};for(var o=0,u=0;u<a.length;u++){var s=a[u],l=i.idToIndex[s],c=i.layoutNodes[l].children;if(c.length!==0){var f=i.indexToGraph[i.idToIndex[c[0]]],h=_H(e,r,f,i);if(h.count!==0)if(h.count===1){if(o++,o===2)break}else return h}}return{count:o,graph:n}},Foe,zoe=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,a=0;a<e.nodeSize;a++){var o=e.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},wH=function(e,r,n){var i=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var u=e.layoutNodes[e.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,u.positionX),a.x2=Math.max(a.x2,u.positionX),a.y1=Math.min(a.y1,u.positionY),a.y2=Math.max(a.y2,u.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,u){var s=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var l=a.w===0?.5:(s.positionX-a.x1)/a.w,c=a.h===0?.5:(s.positionY-a.y1)/a.h;return{x:i.x1+l*i.w,y:i.y1+c*i.h}}else return{x:s.positionX,y:s.positionY}}},qoe=function(e,r,n){var i=n.layout,a=n.eles.nodes(),o=wH(e,n,a);a.positions(o),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Goe=function(e,r,n){Voe(e,r),Woe(e),Xoe(e,r),$oe(e),Koe(e)},Voe=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,o=0;o<a;o++)for(var u=e.layoutNodes[e.idToIndex[i[o]]],s=o+1;s<a;s++){var l=e.layoutNodes[e.idToIndex[i[s]]];Hoe(u,l,e,r)}},hB=function(e){return-1+2*e*Math.random()},Hoe=function(e,r,n,i){var a=e.cmptId,o=r.cmptId;if(!(a!==o&&!n.isCompound)){var u=r.positionX-e.positionX,s=r.positionY-e.positionY,l=1;u===0&&s===0&&(u=hB(l),s=hB(l));var c=Yoe(e,r,u,s);if(c>0)var f=i.nodeOverlap*c,h=Math.sqrt(u*u+s*s),d=f*u/h,v=f*s/h;else var y=DS(e,u,s),b=DS(r,-1*u,-1*s),p=b.x-y.x,m=b.y-y.y,g=p*p+m*m,h=Math.sqrt(g),f=(e.nodeRepulsion+r.nodeRepulsion)/g,d=f*p/h,v=f*m/h;e.isLocked||(e.offsetX-=d,e.offsetY-=v),r.isLocked||(r.offsetX+=d,r.offsetY+=v)}},Yoe=function(e,r,n,i){if(n>0)var a=e.maxX-r.minX;else var a=r.maxX-e.minX;if(i>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},DS=function(e,r,n){var i=e.positionX,a=e.positionY,o=e.height||1,u=e.width||1,s=n/r,l=o/u,c={};return r===0&&0<n||r===0&&0>n?(c.x=i,c.y=a+o/2,c):0<r&&-1*l<=s&&s<=l?(c.x=i+u/2,c.y=a+u*n/2/r,c):0>r&&-1*l<=s&&s<=l?(c.x=i-u/2,c.y=a-u*n/2/r,c):0<n&&(s<=-1*l||s>=l)?(c.x=i+o*r/2/n,c.y=a+o/2,c):(0>n&&(s<=-1*l||s>=l)&&(c.x=i-o*r/2/n,c.y=a-o/2),c)},Woe=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],u=e.idToIndex[i.targetId],s=e.layoutNodes[u],l=s.positionX-o.positionX,c=s.positionY-o.positionY;if(!(l===0&&c===0)){var f=DS(o,l,c),h=DS(s,-1*l,-1*c),d=h.x-f.x,v=h.y-f.y,y=Math.sqrt(d*d+v*v),b=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var p=b*d/y,m=b*v/y;else var p=0,m=0;o.isLocked||(o.offsetX+=p,o.offsetY+=m),s.isLocked||(s.offsetX-=p,s.offsetY-=m)}}},Xoe=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var a=e.graphSet[i],o=a.length;if(i===0)var u=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[a[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],u=c.positionX,s=c.positionY;for(var f=0;f<o;f++){var h=e.layoutNodes[e.idToIndex[a[f]]];if(!h.isLocked){var d=u-h.positionX,v=s-h.positionY,y=Math.sqrt(d*d+v*v);if(y>n){var b=r.gravity*d/y,p=r.gravity*v/y;h.offsetX+=b,h.offsetY+=p}}}}},$oe=function(e,r){var n=[],i=0,a=-1;for(n.push.apply(n,e.graphSet[0]),a+=e.graphSet[0].length;i<=a;){var o=n[i++],u=e.idToIndex[o],s=e.layoutNodes[u],l=s.children;if(0<l.length&&!s.isLocked){for(var c=s.offsetX,f=s.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=c,d.offsetY+=f,n[++a]=l[h]}s.offsetX=0,s.offsetY=0}}},Koe=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var a=Zoe(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,EH(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Zoe=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var a={x:n*e/i,y:n*r/i};else var a={x:e,y:r};return a},EH=function(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,a=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,a=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,a=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,a=!0),a)return EH(i,r)}},dB=function(e,r){for(var n=e.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],u=o.cmptId,s=i[u]=i[u]||[];s.push(o)}for(var l=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(m,g){return g.w*g.h-m.w*m.h});for(var d=0,v=0,y=0,b=0,p=Math.sqrt(l)*e.clientWidth/e.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=d-c.x1,h.positionY+=v-c.y1)}d+=c.w+r.componentSpacing,y+=c.w+r.componentSpacing,b=Math.max(b,c.h),y>p&&(v+=b+r.componentSpacing,d=0,y=0,b=0)}}},Qoe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function SH(t){this.options=qt({},Qoe,t)}SH.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var a=eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,e,function(le){return{x:a.x1,y:a.y1}});else{var o=i.size(),u=Math.sqrt(o*a.h/a.w),s=Math.round(u),l=Math.round(a.w/a.h*u),c=function(ce){if(ce==null)return Math.min(s,l);var ue=Math.min(s,l);ue==s?s=ce:l=ce},f=function(ce){if(ce==null)return Math.max(s,l);var ue=Math.max(s,l);ue==s?s=ce:l=ce},h=e.rows,d=e.cols!=null?e.cols:e.columns;if(h!=null&&d!=null)s=h,l=d;else if(h!=null&&d==null)s=h,l=Math.ceil(o/s);else if(h==null&&d!=null)l=d,s=Math.ceil(o/l);else if(l*s>o){var v=c(),y=f();(v-1)*y>=o?c(v-1):(y-1)*v>=o&&f(y-1)}else for(;l*s<o;){var b=c(),p=f();(p+1)*b>=o?f(p+1):c(b+1)}var m=a.w/l,g=a.h/s;if(e.condense&&(m=0,g=0),e.avoidOverlap)for(var _=0;_<i.length;_++){var E=i[_],T=E._private.position;(T.x==null||T.y==null)&&(T.x=0,T.y=0);var w=E.layoutDimensions(e),S=e.avoidOverlapPadding,C=w.w+S,R=w.h+S;m=Math.max(m,C),g=Math.max(g,R)}for(var D={},M=function(ce,ue){return!!D["c-"+ce+"-"+ue]},I=function(ce,ue){D["c-"+ce+"-"+ue]=!0},k=0,U=0,F=function(){U++,U>=l&&(U=0,k++)},B={},z=0;z<i.length;z++){var H=i[z],Y=e.position(H);if(Y&&(Y.row!==void 0||Y.col!==void 0)){var W={row:Y.row,col:Y.col};if(W.col===void 0)for(W.col=0;M(W.row,W.col);)W.col++;else if(W.row===void 0)for(W.row=0;M(W.row,W.col);)W.row++;B[H.id()]=W,I(W.row,W.col)}}var Z=function(ce,ue){var de,he;if(ce.locked()||ce.isParent())return!1;var fe=B[ce.id()];if(fe)de=fe.col*m+m/2+a.x1,he=fe.row*g+g/2+a.y1;else{for(;M(k,U);)F();de=U*m+m/2+a.x1,he=k*g+g/2+a.y1,I(k,U),F()}return{x:de,y:he}};i.layoutPositions(this,e,Z)}return this};var Joe={ready:function(){},stop:function(){}};function Gk(t){this.options=qt({},Joe,t)}Gk.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Gk.prototype.stop=function(){return this};var eue={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function OH(t){this.options=qt({},eue,t)}OH.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Qn(t.positions);function i(a){if(t.positions==null)return Ene(a.position());if(n)return t.positions(a);var o=t.positions[a._private.data.id];return o??null}return r.layoutPositions(this,t,function(a,o){var u=i(a);return a.locked()||u==null?!1:u}),this};var tue={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function TH(t){this.options=qt({},tue,t)}TH.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=eo(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(o,u){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var rue=[{name:"breadthfirst",impl:yH},{name:"circle",impl:mH},{name:"concentric",impl:bH},{name:"cose",impl:LO},{name:"grid",impl:SH},{name:"null",impl:Gk},{name:"preset",impl:OH},{name:"random",impl:TH}];function xH(t){this.options=t,this.notifications=0}var vB=function(){},pB=function(){throw new Error("A headless instance can not render images")};xH.prototype={recalculateRenderedStyle:vB,notify:function(){this.notifications++},init:vB,isHeadless:function(){return!0},png:pB,jpg:pB};var Vk={};Vk.arrowShapeWidth=.3;Vk.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,c,f,h,d,v,y){var b=d.x-f/2-y,p=d.x+f/2+y,m=d.y-f/2-y,g=d.y+f/2+y,_=b<=l&&l<=p&&m<=c&&c<=g;return _},n=function(l,c,f,h,d){var v=l*Math.cos(h)-c*Math.sin(h),y=l*Math.sin(h)+c*Math.cos(h),b=v*f,p=y*f,m=b+d.x,g=p+d.y;return{x:m,y:g}},i=function(l,c,f,h){for(var d=[],v=0;v<l.length;v+=2){var y=l[v],b=l[v+1];d.push(n(y,b,c,f,h))}return d},a=function(l){for(var c=[],f=0;f<l.length;f++){var h=l[f];c.push(h.x,h.y)}return c},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},u=function(l,c){Dt(c)&&(c=t[c]),t[l]=qt({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,v,y,b,p){var m=a(i(this.points,v+2*p,y,b)),g=Eo(h,d,m);return g},roughCollide:r,draw:function(h,d,v,y){var b=i(this.points,d,v,y);e.arrowShapeImpl("polygon")(h,b)},spacing:function(h){return 0},gap:o},c)};u("none",{collide:TS,roughCollide:TS,draw:Rk,spacing:R4,gap:R4}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,c,f,h,d){var v=i(this.points,c,f,h),y=this.controlPoint,b=n(y[0],y[1],c,f,h);e.arrowShapeImpl(this.name)(l,v,b)},gap:function(l){return o(l)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,h,d,v,y){var b=a(i(this.points,f+2*y,h,d)),p=a(i(this.pointsTee,f+2*y,h,d)),m=Eo(l,c,b)||Eo(l,c,p);return m},draw:function(l,c,f,h,d){var v=i(this.points,c,f,h),y=i(this.pointsTee,c,f,h);e.arrowShapeImpl(this.name)(l,v,y)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,h,d,v,y){var b=d,p=Math.pow(b.x-l,2)+Math.pow(b.y-c,2)<=Math.pow((f+2*y)*this.radius,2),m=a(i(this.points,f+2*y,h,d));return Eo(l,c,m)||p},draw:function(l,c,f,h,d){var v=i(this.pointsTr,c,f,h);e.arrowShapeImpl(this.name)(l,v,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),h=c/l,d=3,v=5;return f[d]=f[d]-h,f[v]=f[v]-h,f},collide:function(l,c,f,h,d,v,y){var b=a(i(this.points,f+2*y,h,d)),p=a(i(this.crossLinePts(f,v),f+2*y,h,d)),m=Eo(l,c,b)||Eo(l,c,p);return m},draw:function(l,c,f,h,d){var v=i(this.points,c,f,h),y=i(this.crossLinePts(c,d),c,f,h);e.arrowShapeImpl(this.name)(l,v,y)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),u("circle",{radius:.15,collide:function(l,c,f,h,d,v,y){var b=d,p=Math.pow(b.x-l,2)+Math.pow(b.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return p},draw:function(l,c,f,h,d){e.arrowShapeImpl(this.name)(l,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var yv={};yv.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],u=r.pan(),s=r.zoom(),l=((t-i)/o-u.x)/s,c=((e-a)/o-u.y)/s;return[l,c]};yv.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(p){return parseFloat(r.getPropertyValue(p))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,u=t.clientHeight,s=i.left+i.right,l=i.top+i.bottom,c=a.left+a.right,f=e.width/(o+c),h=o-s,d=u-l,v=e.left+i.left+a.left,y=e.top+i.top+a.top;return this.containerBB=[v,y,h,d,f]};yv.invalidateContainerClientCoordsCache=function(){this.containerBB=null};yv.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};yv.findNearestElements=function(t,e,r,n){var i=this,a=this,o=a.getCachedZSortedEles(),u=[],s=a.cy.zoom(),l=a.cy.hasCompoundNodes(),c=(n?24:8)/s,f=(n?8:2)/s,h=(n?8:2)/s,d=1/0,v,y;r&&(o=o.interactive);function b(w,S){if(w.isNode()){if(y)return;y=w,u.push(w)}if(w.isEdge()&&(S==null||S<d))if(v){if(v.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===w.pstyle("z-compound-depth").value){for(var C=0;C<u.length;C++)if(u[C].isEdge()){u[C]=w,v=w,d=S??d;break}}}else u.push(w),v=w,d=S??d}function p(w){var S=w.outerWidth()+2*f,C=w.outerHeight()+2*f,R=S/2,D=C/2,M=w.position(),I=w.pstyle("corner-radius").value==="auto"?"auto":w.pstyle("corner-radius").pfValue,k=w._private.rscratch;if(M.x-R<=t&&t<=M.x+R&&M.y-D<=e&&e<=M.y+D){var U=a.nodeShapes[i.getNodeShape(w)];if(U.checkPoint(t,e,0,S,C,M.x,M.y,I,k))return b(w,0),!0}}function m(w){var S=w._private,C=S.rscratch,R=w.pstyle("width").pfValue,D=w.pstyle("arrow-scale").value,M=R/2+c,I=M*M,k=M*2,z=S.source,H=S.target,U;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){for(var F=C.allpts,B=0;B+3<F.length;B+=2)if(Lne(t,e,F[B],F[B+1],F[B+2],F[B+3],k)&&I>(U=zne(t,e,F[B],F[B+1],F[B+2],F[B+3])))return b(w,U),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){for(var F=C.allpts,B=0;B+5<C.allpts.length;B+=4)if(jne(t,e,F[B],F[B+1],F[B+2],F[B+3],F[B+4],F[B+5],k)&&I>(U=Fne(t,e,F[B],F[B+1],F[B+2],F[B+3],F[B+4],F[B+5])))return b(w,U),!0}for(var z=z||S.source,H=H||S.target,Y=i.getArrowWidth(R,D),W=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}],B=0;B<W.length;B++){var Z=W[B],le=a.arrowShapes[w.pstyle(Z.name+"-arrow-shape").value],ce=w.pstyle("width").pfValue;if(le.roughCollide(t,e,Y,Z.angle,{x:Z.x,y:Z.y},ce,c)&&le.collide(t,e,Y,Z.angle,{x:Z.x,y:Z.y},ce,c))return b(w),!0}l&&u.length>0&&(p(z),p(H))}function g(w,S,C){return wo(w,S,C)}function _(w,S){var C=w._private,R=h,D;S?D=S+"-":D="",w.boundingBox();var M=C.labelBounds[S||"main"],I=w.pstyle(D+"label").value,k=w.pstyle("text-events").strValue==="yes";if(!(!k||!I)){var U=g(C.rscratch,"labelX",S),F=g(C.rscratch,"labelY",S),B=g(C.rscratch,"labelAngle",S),z=w.pstyle(D+"text-margin-x").pfValue,H=w.pstyle(D+"text-margin-y").pfValue,Y=M.x1-R-z,W=M.x2+R-z,Z=M.y1-R-H,le=M.y2+R-H;if(B){var ce=Math.cos(B),ue=Math.sin(B),de=function(pe,_e){return pe=pe-U,_e=_e-F,{x:pe*ce-_e*ue+U,y:pe*ue+_e*ce+F}},he=de(Y,Z),fe=de(Y,le),te=de(W,Z),Q=de(W,le),ee=[he.x+z,he.y+H,te.x+z,te.y+H,Q.x+z,Q.y+H,fe.x+z,fe.y+H];if(Eo(t,e,ee))return b(w),!0}else if(Lf(M,t,e))return b(w),!0}}for(var E=o.length-1;E>=0;E--){var T=o[E];T.isNode()?p(T)||_(T):m(T)||_(T)||_(T,"source")||_(T,"target")}return u};yv.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),o=2/a,u=[],s=Math.min(t,r),l=Math.max(t,r),c=Math.min(e,n),f=Math.max(e,n);t=s,r=l,e=c,n=f;var h=eo({x1:t,y1:e,x2:r,y2:n}),d=[{x:h.x1,y:h.y1},{x:h.x2,y:h.y1},{x:h.x2,y:h.y2},{x:h.x1,y:h.y2}],v=[[d[0],d[1]],[d[1],d[2]],[d[2],d[3]],[d[3],d[0]]];function y(pe,_e,Te){return wo(pe,_e,Te)}function b(pe,_e){var Te=pe._private,Ae=o,be="";pe.boundingBox();var j=Te.labelBounds.main;if(!j)return null;var G=y(Te.rscratch,"labelX",_e),X=y(Te.rscratch,"labelY",_e),ie=y(Te.rscratch,"labelAngle",_e),ve=pe.pstyle(be+"text-margin-x").pfValue,ge=pe.pstyle(be+"text-margin-y").pfValue,Oe=j.x1-Ae-ve,Le=j.x2+Ae-ve,We=j.y1-Ae-ge,ut=j.y2+Ae-ge;if(ie){var Ze=Math.cos(ie),tt=Math.sin(ie),Qe=function(Ie,re){return Ie=Ie-G,re=re-X,{x:Ie*Ze-re*tt+G,y:Ie*tt+re*Ze+X}};return[Qe(Oe,We),Qe(Le,We),Qe(Le,ut),Qe(Oe,ut)]}else return[{x:Oe,y:We},{x:Le,y:We},{x:Le,y:ut},{x:Oe,y:ut}]}function p(pe,_e,Te,Ae){function be(j,G,X){return(X.y-j.y)*(G.x-j.x)>(G.y-j.y)*(X.x-j.x)}return be(pe,Te,Ae)!==be(_e,Te,Ae)&&be(pe,_e,Te)!==be(pe,_e,Ae)}for(var m=0;m<i.length;m++){var g=i[m];if(g.isNode()){var _=g,E=_.pstyle("text-events").strValue==="yes",T=_.pstyle("box-selection").strValue,w=_.pstyle("box-select-labels").strValue==="yes";if(T==="none")continue;var S=(T==="overlap"||w)&&E,C=_.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:S});if(T==="contain"){var R=!1;if(w&&E){var D=b(_);D&&S2(D,d)&&(u.push(_),R=!0)}!R&&IV(h,C)&&u.push(_)}else if(T==="overlap"&&Ik(h,C)){var M=_.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),I=[{x:M.x1,y:M.y1},{x:M.x2,y:M.y1},{x:M.x2,y:M.y2},{x:M.x1,y:M.y2}];if(S2(I,d))u.push(_);else{var k=b(_);k&&S2(k,d)&&u.push(_)}}}else{var U=g,F=U._private,B=F.rscratch,z=U.pstyle("box-selection").strValue;if(z==="none")continue;if(z==="contain"){if(B.startX!=null&&B.startY!=null&&!Lf(h,B.startX,B.startY)||B.endX!=null&&B.endY!=null&&!Lf(h,B.endX,B.endY))continue;if(B.edgeType==="bezier"||B.edgeType==="multibezier"||B.edgeType==="self"||B.edgeType==="compound"||B.edgeType==="segments"||B.edgeType==="haystack"){for(var H=F.rstyle.bezierPts||F.rstyle.linePts||F.rstyle.haystackPts,Y=!0,W=0;W<H.length;W++)if(!N4(h,H[W])){Y=!1;break}Y&&u.push(U)}else B.edgeType==="straight"&&u.push(U)}else if(z==="overlap"){var Z=!1;if(B.startX!=null&&B.startY!=null&&B.endX!=null&&B.endY!=null&&(Lf(h,B.startX,B.startY)||Lf(h,B.endX,B.endY)))u.push(U),Z=!0;else if(!Z&&B.edgeType==="haystack"){for(var le=F.rstyle.haystackPts,ce=0;ce<le.length;ce++)if(N4(h,le[ce])){u.push(U),Z=!0;break}}if(!Z){var ue=F.rstyle.bezierPts||F.rstyle.linePts||F.rstyle.haystackPts;if((!ue||ue.length<2)&&B.edgeType==="straight"&&B.startX!=null&&B.startY!=null&&B.endX!=null&&B.endY!=null&&(ue=[{x:B.startX,y:B.startY},{x:B.endX,y:B.endY}]),!ue||ue.length<2)continue;for(var de=0;de<ue.length-1;de++){for(var he=ue[de],fe=ue[de+1],te=0;te<v.length;te++){var Q=Ci(v[te],2),ee=Q[0],ae=Q[1];if(p(he,fe,ee,ae)){u.push(U),Z=!0;break}}if(Z)break}}}}}return u};var MS={};MS.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",a=e.edgeType==="segments",o=e.edgeType==="compound",u=e.edgeType==="self",s,l,c,f,h,d,p,m;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],h=e.haystackPts[2],d=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,h=e.arrowEndX,d=e.arrowEndY),p=e.midX,m=e.midY,a)s=c-e.segpts[0],l=f-e.segpts[1];else if(i||o||u||n){var v=e.allpts,y=Ki(v[0],v[2],v[4],.1),b=Ki(v[1],v[3],v[5],.1);s=c-y,l=f-b}else s=c-p,l=f-m;e.srcArrowAngle=Sw(s,l);var p=e.midX,m=e.midY;if(r&&(p=(c+h)/2,m=(f+d)/2),s=h-c,l=d-f,a){var v=e.allpts;if(v.length/2%2===0){var g=v.length/2,_=g-2;s=v[g]-v[_],l=v[g+1]-v[_+1]}else if(e.isRound)s=e.midVector[1],l=-e.midVector[0];else{var g=v.length/2-1,_=g-2;s=v[g]-v[_],l=v[g+1]-v[_+1]}}else if(i||o||u){var v=e.allpts,E=e.ctrlpts,T,w,S,C;if(E.length/2%2===0){var R=v.length/2-1,D=R+2,M=D+2;T=Ki(v[R],v[D],v[M],0),w=Ki(v[R+1],v[D+1],v[M+1],0),S=Ki(v[R],v[D],v[M],1e-4),C=Ki(v[R+1],v[D+1],v[M+1],1e-4)}else{var D=v.length/2-1,R=D-2,M=D+2;T=Ki(v[R],v[D],v[M],.4999),w=Ki(v[R+1],v[D+1],v[M+1],.4999),S=Ki(v[R],v[D],v[M],.5),C=Ki(v[R+1],v[D+1],v[M+1],.5)}s=S-T,l=C-w}if(e.midtgtArrowAngle=Sw(s,l),e.midDispX=s,e.midDispY=l,s*=-1,l*=-1,a){var v=e.allpts;if(v.length/2%2!==0){if(!e.isRound){var g=v.length/2-1,I=g+2;s=-(v[I]-v[g]),l=-(v[I+1]-v[g+1])}}}if(e.midsrcArrowAngle=Sw(s,l),a)s=h-e.segpts[e.segpts.length-2],l=d-e.segpts[e.segpts.length-1];else if(i||o||u||n){var v=e.allpts,k=v.length,y=Ki(v[k-6],v[k-4],v[k-2],.9),b=Ki(v[k-5],v[k-3],v[k-1],.9);s=h-y,l=d-b}else s=h-p,l=d-m;e.tgtArrowAngle=Sw(s,l)};MS.getArrowWidth=MS.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var gI,yI,el={},Pu={},gB,yB,Ld,IE,zl,wd,Pd,Hs,jp,Dw,CH,AH,mI,bI,mB,bB=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},nue=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},iue=function(e,r,n,i,a){if(e!==mB?bB(r,e,el):nue(Pu,el),bB(r,n,Pu),gB=el.nx*Pu.ny-el.ny*Pu.nx,yB=el.nx*Pu.nx-el.ny*-Pu.ny,zl=Math.asin(Math.max(-1,Math.min(1,gB))),Math.abs(zl)<1e-6){gI=r.x,yI=r.y,Pd=jp=0;return}Ld=1,IE=!1,yB<0?zl<0?zl=Math.PI+zl:(zl=Math.PI-zl,Ld=-1,IE=!0):zl>0&&(Ld=-1,IE=!0),r.radius!==void 0?jp=r.radius:jp=i,wd=zl/2,Dw=Math.min(el.len/2,Pu.len/2),a?(Hs=Math.abs(Math.cos(wd)*jp/Math.sin(wd)),Hs>Dw?(Hs=Dw,Pd=Math.abs(Hs*Math.sin(wd)/Math.cos(wd))):Pd=jp):(Hs=Math.min(Dw,jp),Pd=Math.abs(Hs*Math.sin(wd)/Math.cos(wd))),mI=r.x+Pu.nx*Hs,bI=r.y+Pu.ny*Hs,gI=mI-Pu.ny*Pd*Ld,yI=bI+Pu.nx*Pd*Ld,CH=r.x+el.nx*Hs,AH=r.y+el.ny*Hs,mB=r};function RH(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function Hk(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(iue(t,e,r,n,i),{cx:gI,cy:yI,radius:Pd,startX:CH,startY:AH,stopX:mI,stopY:bI,startAngle:el.ang+Math.PI/2*Ld,endAngle:Pu.ang-Math.PI/2*Ld,counterClockwise:IE})}var Yb=.01,aue=Math.sqrt(2*Yb),La={};La.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,a,o=t.pstyle("source-endpoint"),u=t.pstyle("target-endpoint"),s=o.units!=null&&u.units!=null,l=function(E,T,w,S){var C=S-T,R=w-E,D=Math.sqrt(R*R+C*C);return{x:-C/D,y:R/D}},c=t.pstyle("edge-distances").value;switch(c){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(s){var f=this.manualEndptToPx(t.source()[0],o),h=Ci(f,2),d=h[0],v=h[1],y=this.manualEndptToPx(t.target()[0],u),b=Ci(y,2),p=b[0],m=b[1],g={x1:d,y1:v,x2:p,y2:m};i=l(d,v,p,m),a=g}else ln("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}};La.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,u=n.target,s=o.position(),l=u.position(),c=o.width(),f=u.width(),h=o.height(),d=u.height(),v=r.pstyle("haystack-radius").value,y=v/2;i.haystackPts=i.allpts=[i.source.x*c*y+s.x,i.source.y*h*y+s.y,i.target.x*f*y+l.x,i.target.y*d*y+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};La.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),o=t.pstyle("radius-type"),u=Math.min(n.pfValue.length,i.pfValue.length),s=a.pfValue[a.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<u;c++){var f=n.pfValue[c],h=i.pfValue[c],d=1-f,v=f,y=this.findMidptPtsEtc(t,e),b=y.midptPts,p=y.vectorNormInverse,m={x:b.x1*d+b.x2*v,y:b.y1*d+b.y2*v};r.segpts.push(m.x+p.x*h,m.y+p.y*h),r.radii.push(a.pfValue[c]!==void 0?a.pfValue[c]:s),r.isArcRadius.push((o.pfValue[c]!==void 0?o.pfValue[c]:l)==="arc-radius")}};La.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,a=e.dirCounts,o=e.srcPos,u=t.pstyle("control-point-distances"),s=u?u.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=r,d=f;n&&(h=0,d=s);var v=l-Math.PI/2,y=v-c/2,b=v+c/2,p=l+"_"+c;h=a[p]===void 0?a[p]=0:++a[p],i.ctrlpts=[o.x+Math.cos(y)*1.4*d*(h/3+1),o.y+Math.sin(y)*1.4*d*(h/3+1),o.x+Math.cos(b)*1.4*d*(h/3+1),o.y+Math.sin(b)*1.4*d*(h/3+1)]};La.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var a=e.srcPos,o=e.tgtPos,u=e.srcW,s=e.srcH,l=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,v=r,y=f;n&&(v=0,y=d);var b=50,p={x:a.x-u/2,y:a.y-s/2},m={x:o.x-l/2,y:o.y-c/2},g={x:Math.min(p.x,m.x),y:Math.min(p.y,m.y)},_=.5,E=Math.max(_,Math.log(u*Yb)),T=Math.max(_,Math.log(l*Yb));i.ctrlpts=[g.x,g.y-(1+Math.pow(b,1.12)/100)*y*(v/3+1)*E,g.x-(1+Math.pow(b,1.12)/100)*y*(v/3+1)*T,g.y]};La.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};La.findBezierPoints=function(t,e,r,n,i){var a=t._private.rscratch,o=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),s=t.pstyle("control-point-weights"),l=u&&s?Math.min(u.value.length,s.value.length):1,c=u?u.pfValue[0]:void 0,f=s.value[0],h=n;a.edgeType=h?"multibezier":"bezier",a.ctrlpts=[];for(var d=0;d<l;d++){var v=(.5-e.eles.length/2+r)*o*(i?-1:1),y=void 0,b=Mk(v);h&&(c=u?u.pfValue[d]:o,f=s.value[d]),n?y=c:y=c!==void 0?b*c:void 0;var p=y!==void 0?y:v,m=1-f,g=f,_=this.findMidptPtsEtc(t,e),E=_.midptPts,T=_.vectorNormInverse,w={x:E.x1*m+E.x2*g,y:E.y1*m+E.y2*g};a.ctrlpts.push(w.x+T.x*p,w.y+T.y*p)}};La.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",u="downward",s="upward",l="auto",c=e.posPts,f=e.srcW,h=e.srcH,d=e.tgtW,v=e.tgtH,y=t.pstyle("edge-distances").value,b=y!=="node-position",p=t.pstyle("taxi-direction").value,m=p,g=t.pstyle("taxi-turn"),_=g.units==="%",E=g.pfValue,T=E<0,w=t.pstyle("taxi-turn-min-distance").pfValue,S=b?(f+d)/2:0,C=b?(h+v)/2:0,R=c.x2-c.x1,D=c.y2-c.y1,M=function(re,Ee){return re>0?Math.max(re-Ee,0):Math.min(re+Ee,0)},I=M(R,S),k=M(D,C),U=!1;m===l?p=Math.abs(I)>Math.abs(k)?i:n:m===s||m===u?(p=n,U=!0):(m===a||m===o)&&(p=i,U=!0);var F=p===n,B=F?k:I,z=F?D:R,H=Mk(z),Y=!1;!(U&&(_||T))&&(m===u&&z<0||m===s&&z>0||m===a&&z>0||m===o&&z<0)&&(H*=-1,B=H*Math.abs(B),Y=!0);var W;if(_){var Z=E<0?1+E:E;W=Z*B}else{var le=E<0?B:0;W=le+E*H}var ce=function(re){return Math.abs(re)<w||Math.abs(re)>=Math.abs(B)},ue=ce(W),de=ce(Math.abs(B)-Math.abs(W)),he=ue||de;if(he&&!Y)if(F){var fe=Math.abs(z)<=h/2,te=Math.abs(R)<=d/2;if(fe){var Q=(c.x1+c.x2)/2,ee=c.y1,ae=c.y2;r.segpts=[Q,ee,Q,ae]}else if(te){var pe=(c.y1+c.y2)/2,_e=c.x1,Te=c.x2;r.segpts=[_e,pe,Te,pe]}else r.segpts=[c.x1,c.y2]}else{var Ae=Math.abs(z)<=f/2,be=Math.abs(D)<=v/2;if(Ae){var j=(c.y1+c.y2)/2,G=c.x1,X=c.x2;r.segpts=[G,j,X,j]}else if(be){var ie=(c.x1+c.x2)/2,ve=c.y1,ge=c.y2;r.segpts=[ie,ve,ie,ge]}else r.segpts=[c.x2,c.y1]}else if(F){var Oe=c.y1+W+(b?h/2*H:0),Le=c.x1,We=c.x2;r.segpts=[Le,Oe,We,Oe]}else{var ut=c.x1+W+(b?f/2*H:0),Ze=c.y1,tt=c.y2;r.segpts=[ut,Ze,ut,tt]}if(r.isRound){var Qe=t.pstyle("taxi-radius").value,$e=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Qe),r.isArcRadius=new Array(r.segpts.length/2).fill($e)}};La.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,a=e.srcW,o=e.srcH,u=e.tgtW,s=e.tgtH,l=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,h=e.tgtCornerRadius,d=e.srcRs,v=e.tgtRs,y=!st(r.startX)||!st(r.startY),b=!st(r.arrowStartX)||!st(r.arrowStartY),p=!st(r.endX)||!st(r.endY),m=!st(r.arrowEndX)||!st(r.arrowEndY),g=3,_=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=g*_,T=tv({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),w=T<E,S=tv({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),C=S<E,R=!1;if(y||b||w){R=!0;var D={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},M=Math.sqrt(D.x*D.x+D.y*D.y),I={x:D.x/M,y:D.y/M},k=Math.max(a,o),U={x:r.ctrlpts[0]+I.x*2*k,y:r.ctrlpts[1]+I.y*2*k},F=l.intersectLine(n.x,n.y,a,o,U.x,U.y,0,f,d);w?(r.ctrlpts[0]=r.ctrlpts[0]+I.x*(E-T),r.ctrlpts[1]=r.ctrlpts[1]+I.y*(E-T)):(r.ctrlpts[0]=F[0]+I.x*E,r.ctrlpts[1]=F[1]+I.y*E)}if(p||m||C){R=!0;var B={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},z=Math.sqrt(B.x*B.x+B.y*B.y),H={x:B.x/z,y:B.y/z},Y=Math.max(a,o),W={x:r.ctrlpts[0]+H.x*2*Y,y:r.ctrlpts[1]+H.y*2*Y},Z=c.intersectLine(i.x,i.y,u,s,W.x,W.y,0,h,v);C?(r.ctrlpts[0]=r.ctrlpts[0]+H.x*(E-S),r.ctrlpts[1]=r.ctrlpts[1]+H.y*(E-S)):(r.ctrlpts[0]=Z[0]+H.x*E,r.ctrlpts[1]=Z[1]+H.y*E)}R&&this.findEndpoints(t)}};La.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Ki(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Ki(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var o=e.radii[a/2-1],u=e.isArcRadius[a/2-1];e.roundCorners.push(Hk({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:o},{x:e.allpts[a+2],y:e.allpts[a+3]},o,u))}}if(e.segpts.length%4===0){var s=e.segpts.length/2,l=s-2;e.midX=(e.segpts[l]+e.segpts[s])/2,e.midY=(e.segpts[l+1]+e.segpts[s+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},h=e.roundCorners[c/2];if(h.radius===0){var d={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-d.y,d.x-f.x]}else{var v=[f.x-h.cx,f.y-h.cy],y=h.radius/Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2));v=v.map(function(b){return b*y}),e.midX=h.cx+v[0],e.midY=h.cy+v[1],e.midVector=v}}}}};La.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||st(e.startX)&&st(e.startY)&&st(e.endX)&&st(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,ln("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};La.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a=new ec,o=function(C,R){return[].concat(ES(C),[R?1:0]).join("-")},u=[],s=[],l=0;l<t.length;l++){var c=t[l],f=c._private,h=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(h==="haystack"){s.push(c);continue}var d=h==="unbundled-bezier"||kf(h,"segments")||h==="straight"||h==="straight-triangle"||kf(h,"taxi"),v=h==="unbundled-bezier"||h==="bezier",y=f.source,b=f.target,p=y.poolIndex(),m=b.poolIndex(),g=[p,m].sort(),_=o(g,d),E=a.get(_);E==null&&(E={eles:[]},u.push({pairId:g,edgeIsUnbundled:d}),a.set(_,E)),E.eles.push(c),d&&(E.hasUnbundled=!0),v&&(E.hasBezier=!0)}}for(var T=function(){var C=u[w],R=C.pairId,D=C.edgeIsUnbundled,M=o(R,D),I=a.get(M),k;if(!I.hasUnbundled){var U=I.eles[0].parallelEdges().filter(function($e){return $e.isBundledBezier()});Pk(I.eles),U.forEach(function($e){return I.eles.push($e)}),I.eles.sort(function($e,Ie){return $e.poolIndex()-Ie.poolIndex()})}var F=I.eles[0],B=F.source(),z=F.target();if(B.poolIndex()>z.poolIndex()){var H=B;B=z,z=H}var Y=I.srcPos=B.position(),W=I.tgtPos=z.position(),Z=I.srcW=B.outerWidth(),le=I.srcH=B.outerHeight(),ce=I.tgtW=z.outerWidth(),ue=I.tgtH=z.outerHeight(),de=I.srcShape=r.nodeShapes[e.getNodeShape(B)],he=I.tgtShape=r.nodeShapes[e.getNodeShape(z)],fe=I.srcCornerRadius=B.pstyle("corner-radius").value==="auto"?"auto":B.pstyle("corner-radius").pfValue,te=I.tgtCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,Q=I.tgtRs=z._private.rscratch,ee=I.srcRs=B._private.rscratch;I.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ae=0;ae<I.eles.length;ae++){var pe=I.eles[ae],_e=pe[0]._private.rscratch,Te=pe.pstyle("curve-style").value,Ae=Te==="unbundled-bezier"||kf(Te,"segments")||kf(Te,"taxi"),be=!B.same(pe.source());if(!I.calculatedIntersection&&B!==z&&(I.hasBezier||I.hasUnbundled)){I.calculatedIntersection=!0;var j=de.intersectLine(Y.x,Y.y,Z,le,W.x,W.y,0,fe,ee),G=I.srcIntn=j,X=he.intersectLine(W.x,W.y,ce,ue,Y.x,Y.y,0,te,Q),ie=I.tgtIntn=X,ve=I.intersectionPts={x1:j[0],x2:X[0],y1:j[1],y2:X[1]},ge=I.posPts={x1:Y.x,x2:W.x,y1:Y.y,y2:W.y},Oe=X[1]-j[1],Le=X[0]-j[0],We=Math.sqrt(Le*Le+Oe*Oe);st(We)&&We>=aue||(We=Math.sqrt(Math.max(Le*Le,Yb)+Math.max(Oe*Oe,Yb)));var ut=I.vector={x:Le,y:Oe},Ze=I.vectorNorm={x:ut.x/We,y:ut.y/We},tt={x:-Ze.y,y:Ze.x};I.nodesOverlap=!st(We)||he.checkPoint(j[0],j[1],0,ce,ue,W.x,W.y,te,Q)||de.checkPoint(X[0],X[1],0,Z,le,Y.x,Y.y,fe,ee),I.vectorNormInverse=tt,k={nodesOverlap:I.nodesOverlap,dirCounts:I.dirCounts,calculatedIntersection:!0,hasBezier:I.hasBezier,hasUnbundled:I.hasUnbundled,eles:I.eles,srcPos:W,srcRs:Q,tgtPos:Y,tgtRs:ee,srcW:ce,srcH:ue,tgtW:Z,tgtH:le,srcIntn:ie,tgtIntn:G,srcShape:he,tgtShape:de,posPts:{x1:ge.x2,y1:ge.y2,x2:ge.x1,y2:ge.y1},intersectionPts:{x1:ve.x2,y1:ve.y2,x2:ve.x1,y2:ve.y1},vector:{x:-ut.x,y:-ut.y},vectorNorm:{x:-Ze.x,y:-Ze.y},vectorNormInverse:{x:-tt.x,y:-tt.y}}}var Qe=be?k:I;_e.nodesOverlap=Qe.nodesOverlap,_e.srcIntn=Qe.srcIntn,_e.tgtIntn=Qe.tgtIntn,_e.isRound=Te.startsWith("round"),i&&(B.isParent()||B.isChild()||z.isParent()||z.isChild())&&(B.parents().anySame(z)||z.parents().anySame(B)||B.same(z)&&B.isParent())?e.findCompoundLoopPoints(pe,Qe,ae,Ae):B===z?e.findLoopPoints(pe,Qe,ae,Ae):Te.endsWith("segments")?e.findSegmentsPoints(pe,Qe):Te.endsWith("taxi")?e.findTaxiPoints(pe,Qe):Te==="straight"||!Ae&&I.eles.length%2===1&&ae===Math.floor(I.eles.length/2)?e.findStraightEdgePoints(pe):e.findBezierPoints(pe,Qe,ae,Ae,be),e.findEndpoints(pe),e.tryToCorrectInvalidPoints(pe,Qe),e.checkForInvalidEdgeWarning(pe),e.storeAllpts(pe),e.storeEdgeProjections(pe),e.calculateArrowAngles(pe),e.recalculateEdgeLabelProjections(pe),e.calculateLabelAngles(pe)}},w=0;w<u.length;w++)T();this.findHaystackPoints(s)}};function PH(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}La.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return PH(e.segpts)};La.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return PH(e.ctrlpts)};La.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var x_={};x_.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),a=t.outerHeight(),o=t._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*i),e.units[1]==="%"&&(u[1]=u[1]*a),u[0]+=n.x,u[1]+=n.y,u}else{var s=e.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(i,a),c=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,a,c[0],c[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,o)}};x_.findEndpoints=function(t){var e,r,n,i,a=this,o,u=t.source()[0],s=t.target()[0],l=u.position(),c=s.position(),f=t.pstyle("target-arrow-shape").value,h=t.pstyle("source-arrow-shape").value,d=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,y=u._private.rscratch,b=s._private.rscratch,p=t.pstyle("curve-style").value,m=t._private.rscratch,g=m.edgeType,_=kf(p,"taxi"),E=g==="self"||g==="compound",T=g==="bezier"||g==="multibezier"||E,w=g!=="bezier",S=g==="straight"||g==="segments",C=g==="segments",R=T||w||S,D=E||_,M=t.pstyle("source-endpoint"),I=D?"outside-to-node":M.value,k=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue,U=t.pstyle("target-endpoint"),F=D?"outside-to-node":U.value,B=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue;m.srcManEndpt=M,m.tgtManEndpt=U;var z,H,Y,W,Z=(e=(U==null||(r=U.pfValue)===null||r===void 0?void 0:r.length)===2?U.pfValue:null)!==null&&e!==void 0?e:[0,0],le=(n=(M==null||(i=M.pfValue)===null||i===void 0?void 0:i.length)===2?M.pfValue:null)!==null&&n!==void 0?n:[0,0];if(T){var ce=[m.ctrlpts[0],m.ctrlpts[1]],ue=w?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:ce;z=ue,H=ce}else if(S){var de=C?m.segpts.slice(0,2):[c.x+Z[0],c.y+Z[1]],he=C?m.segpts.slice(m.segpts.length-2):[l.x+le[0],l.y+le[1]];z=he,H=de}if(F==="inside-to-node")o=[c.x,c.y];else if(U.units)o=this.manualEndptToPx(s,U);else if(F==="outside-to-line")o=m.tgtIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?Y=z:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(Y=[l.x,l.y]),o=a.nodeShapes[this.getNodeShape(s)].intersectLine(c.x,c.y,s.outerWidth(),s.outerHeight(),Y[0],Y[1],0,B,b),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var fe=s._private.rscratch,te=fe.labelWidth,Q=fe.labelHeight,ee=fe.labelX,ae=fe.labelY,pe=te/2,_e=Q/2,Te=s.pstyle("text-valign").value;Te==="top"?ae-=_e:Te==="bottom"&&(ae+=_e);var Ae=s.pstyle("text-halign").value;Ae==="left"?ee-=pe:Ae==="right"&&(ee+=pe);var be=zb(Y[0],Y[1],[ee-pe,ae-_e,ee+pe,ae-_e,ee+pe,ae+_e,ee-pe,ae+_e],c.x,c.y);if(be.length>0){var j=l,G=Rd(j,gg(o)),X=Rd(j,gg(be)),ie=G;if(X<G&&(o=be,ie=X),be.length>2){var ve=Rd(j,{x:be[2],y:be[3]});ve<ie&&(o=[be[2],be[3]])}}}var ge=Ow(o,z,a.arrowShapes[f].spacing(t)+d),Oe=Ow(o,z,a.arrowShapes[f].gap(t)+d);if(m.endX=Oe[0],m.endY=Oe[1],m.arrowEndX=ge[0],m.arrowEndY=ge[1],I==="inside-to-node")o=[l.x,l.y];else if(M.units)o=this.manualEndptToPx(u,M);else if(I==="outside-to-line")o=m.srcIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?W=H:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(W=[c.x,c.y]),o=a.nodeShapes[this.getNodeShape(u)].intersectLine(l.x,l.y,u.outerWidth(),u.outerHeight(),W[0],W[1],0,k,y),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var Le=u._private.rscratch,We=Le.labelWidth,ut=Le.labelHeight,Ze=Le.labelX,tt=Le.labelY,Qe=We/2,$e=ut/2,Ie=u.pstyle("text-valign").value;Ie==="top"?tt-=$e:Ie==="bottom"&&(tt+=$e);var re=u.pstyle("text-halign").value;re==="left"?Ze-=Qe:re==="right"&&(Ze+=Qe);var Ee=zb(W[0],W[1],[Ze-Qe,tt-$e,Ze+Qe,tt-$e,Ze+Qe,tt+$e,Ze-Qe,tt+$e],l.x,l.y);if(Ee.length>0){var Pe=c,Me=Rd(Pe,gg(o)),Ne=Rd(Pe,gg(Ee)),at=Me;if(Ne<Me&&(o=[Ee[0],Ee[1]],at=Ne),Ee.length>2){var je=Rd(Pe,{x:Ee[2],y:Ee[3]});je<at&&(o=[Ee[2],Ee[3]])}}}var ft=Ow(o,H,a.arrowShapes[h].spacing(t)+v),nt=Ow(o,H,a.arrowShapes[h].gap(t)+v);m.startX=nt[0],m.startY=nt[1],m.arrowStartX=ft[0],m.arrowStartY=ft[1],R&&(!st(m.startX)||!st(m.startY)||!st(m.endX)||!st(m.endY)?m.badLine=!0:m.badLine=!1)};x_.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};x_.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Yk={};function oue(t,e,r){for(var n=function(l,c,f,h){return Ki(l,c,f,h)},i=e._private,a=i.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var u=t.bezierProjPcts[o];a.push({x:n(r[0],r[2],r[4],u),y:n(r[1],r[3],r[5],u)})}}Yk.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)oue(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Yk.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pl={};pl.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!ch(e)){var r,n,i=t._private,a=t.width(),o=t.height(),u=t.padding(),s=t.position(),l=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=i.rscratch,h=i.rstyle;switch(l){case"left":r=s.x-a/2-u;break;case"right":r=s.x+a/2+u;break;default:r=s.x}switch(c){case"top":n=s.y-o/2-u;break;case"bottom":n=s.y+o/2+u;break;default:n=s.y}f.labelX=r,f.labelY=n,h.labelX=r,h.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var DH=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},MH=function(e,r){var n=r.x-e.x,i=r.y-e.y;return DH(n,i)},uue=function(e,r,n,i){var a=Fb(0,i-.001,1),o=Fb(0,i+.001,1),u=Pg(e,r,n,a),s=Pg(e,r,n,o);return MH(u,s)};pl.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:n.midX,y:n.midY};var o=function(f,h,d){Xl(r.rscratch,f,h,d),Xl(r.rstyle,f,h,d)};o("labelX",null,e.x),o("labelY",null,e.y);var u=DH(n.midDispX,n.midDispY);o("labelAutoAngle",null,u);var s=function(){if(s.cache)return s.cache;for(var f=[],h=0;h+5<n.allpts.length;h+=4){var d={x:n.allpts[h],y:n.allpts[h+1]},v={x:n.allpts[h+2],y:n.allpts[h+3]},y={x:n.allpts[h+4],y:n.allpts[h+5]};f.push({p0:d,p1:v,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,p=i.bezierProjPcts.length;function m(w,S,C,R,D){var M=tv(S,C),I=w.segments[w.segments.length-1],k={p0:S,p1:C,t0:R,t1:D,startDist:I?I.startDist+I.length:0,length:M};w.segments.push(k),w.length+=M}for(var g=0;g<f.length;g++){var _=f[g],E=f[g-1];E&&(_.startDist=E.startDist+E.length),m(_,_.p0,b[g*p],0,i.bezierProjPcts[0]);for(var T=0;T<p-1;T++)m(_,b[g*p+T],b[g*p+T+1],i.bezierProjPcts[T],i.bezierProjPcts[T+1]);m(_,b[g*p+p-1],_.p2,i.bezierProjPcts[p-1],1)}return s.cache=f},l=function(f){var h,d=f==="source";if(a[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=s(),b,p=0,m=0,g=0;g<y.length;g++){for(var _=y[d?g:y.length-1-g],E=0;E<_.segments.length;E++){var T=_.segments[d?E:_.segments.length-1-E],w=g===y.length-1&&E===_.segments.length-1;if(p=m,m+=T.length,m>=v||w){b={cp:_,segment:T};break}}if(b)break}var S=b.cp,C=b.segment,R=(v-p)/C.length,D=C.t1-C.t0,M=d?C.t0+D*R:C.t1-D*R;M=Fb(0,M,1),e=Pg(S.p0,S.p1,S.p2,M),h=uue(S.p0,S.p1,S.p2,M);break}case"straight":case"segments":case"haystack":{for(var I=0,k,U,F,B,z=n.allpts.length,H=0;H+3<z&&(d?(F={x:n.allpts[H],y:n.allpts[H+1]},B={x:n.allpts[H+2],y:n.allpts[H+3]}):(F={x:n.allpts[z-2-H],y:n.allpts[z-1-H]},B={x:n.allpts[z-4-H],y:n.allpts[z-3-H]}),k=tv(F,B),U=I,I+=k,!(I>=v));H+=2);var Y=v-U,W=Y/k;W=Fb(0,W,1),e=Rne(F,B,W),h=MH(F,B);break}}o("labelX",f,e.x),o("labelY",f,e.y),o("labelAutoAngle",f,h)}};l("source"),l("target"),this.applyLabelDimensions(t)}};pl.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};pl.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=ev(n,t._private.labelDimsKey);if(wo(r.rscratch,"prefixedLabelDimsKey",e)!==i){Xl(r.rscratch,"prefixedLabelDimsKey",e,i);var a=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,u=t.pstyle("text-wrap").strValue,s=wo(r.rscratch,"labelWrapCachedLines",e)||[],l=u!=="wrap"?1:Math.max(s.length,1),c=a.height/l,f=c*o,h=a.width,d=a.height+(l-1)*(o-1)*c;Xl(r.rstyle,"labelWidth",e,h),Xl(r.rscratch,"labelWidth",e,h),Xl(r.rstyle,"labelHeight",e,d),Xl(r.rscratch,"labelHeight",e,d),Xl(r.rscratch,"labelLineHeight",e,f)}};pl.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,a=t.pstyle("text-transform").value,o=function(le,ce){return ce?(Xl(r.rscratch,le,e,ce),ce):wo(r.rscratch,le,e)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var u=t.pstyle("text-wrap").value;if(u==="wrap"){var s=o("labelKey");if(s!=null&&o("labelWrapKey")===s)return o("labelWrapCachedText");for(var l="",c=i.split(`
`),f=t.pstyle("text-max-width").pfValue,h=t.pstyle("text-overflow-wrap").value,d=h==="anywhere",v=[],y=/[\s\u200b]+|$/g,b=0;b<c.length;b++){var p=c[b],m=this.calculateLabelDimensions(t,p),g=m.width;if(d){var _=p.split("").join(l);p=_}if(g>f){var E=p.matchAll(y),T="",w=0,S=Oo(E),C;try{for(S.s();!(C=S.n()).done;){var R=C.value,D=R[0],M=p.substring(w,R.index);w=R.index+D.length;var I=T.length===0?M:T+M+D,k=this.calculateLabelDimensions(t,I),U=k.width;U<=f?T+=M+D:(T&&v.push(T),T=M+D)}}catch(Z){S.e(Z)}finally{S.f()}T.match(/^[\s\u200b]+$/)||v.push(T)}else v.push(p)}o("labelWrapCachedLines",v),i=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",s)}else if(u==="ellipsis"){var F=t.pstyle("text-max-width").pfValue,B="",z="",H=!1;if(this.calculateLabelDimensions(t,i).width<F)return i;for(var Y=0;Y<i.length;Y++){var W=this.calculateLabelDimensions(t,B+i[Y]+z).width;if(W>F)break;B+=i[Y],Y===i.length-1&&(H=!0)}return H||(B+=z),B}return i};pl.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};pl.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,a=0,o=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,s=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}f.font="".concat(o," ").concat(l," ").concat(u,"px ").concat(s);for(var d=0,v=0,y=e.split(`
`),b=0;b<y.length;b++){var p=y[b],m=f.measureText(p),g=Math.ceil(m.width),_=u;d=Math.max(g,d),v+=_}return d+=a,v+=a,{width:d,height:v}};pl.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),a=e?e+"-":"",o=t.pstyle(a+"text-rotation"),u=o.strValue;return u==="none"?0:i&&u==="autorotate"?n.labelAutoAngle:u==="autorotate"?0:o.pfValue};pl.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var IH={},_B=28,wB=!1;IH.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<_B||t.height()<_B))return wB||(ln("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),wB=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var jO={};jO.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),u)for(var s=0;s<o.length;s++){var l=o[s],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var u=o.target;n(u)}).on("style.* background.*",function(o){var u=o.target;n(u,!1)});var i=function(o){if(o){var u=r.onUpdateEleCalcsFns;e.cleanStyle();for(var s=0;s<e.length;s++){var l=e[s],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(u)for(var f=0;f<u.length;f++){var h=u[f];h(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};jO.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};jO.recalculateRenderedStyle=function(t,e){var r=function(_){return _._private.rstyle.cleanConnected};if(t.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var o=t[a],u=o._private,s=u.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(s.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(g){return!g._private.rstyle.clean&&g.isBundledBezier()})&&(s.clean=!1),!(e&&s.clean||o.removed())&&o.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(o):n.push(o),s.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],f=c._private,h=f.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var y=n[v],b=y._private,p=b.rstyle,m=b.rscratch;p.srcX=m.arrowStartX,p.srcY=m.arrowStartY,p.tgtX=m.arrowEndX,p.tgtY=m.arrowEndY,p.midX=m.midX,p.midY=m.midY,p.labelAngle=m.labelAngle,p.sourceLabelAngle=m.sourceLabelAngle,p.targetLabelAngle=m.targetLabelAngle}}}};var BO={};BO.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};BO.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};BO.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(vH),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var NH={};[yv,MS,La,x_,Yk,pl,IH,jO,BO].forEach(function(t){qt(NH,t)});var kH={};kH.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[t]=i[t]||{};var o=a.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var u="data:",s=t.substring(0,u.length).toLowerCase()===u;return s||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var Ey={};Ey.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],o=0;o<t.length;o++){var u=t[o];if(u!==void 0){var s=this.binder(u);a.push(s.on.apply(s,i))}}return a}var s=this.binder(t);return s.on.apply(s,i)};Ey.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||bre(t);if(e.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=i}var o=function(s,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Ey.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Ey.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Ey.load=function(){var t=this,e=t.cy.window(),r=function(re){return re.selected()},n=function(re){var Ee=re.getRootNode();if(Ee&&Ee.nodeType===11&&Ee.host!==void 0)return Ee},i=function(re,Ee,Pe,Me){re==null&&(re=t.cy);for(var Ne=0;Ne<Ee.length;Ne++){var at=Ee[Ne];re.emit({originalEvent:Pe,type:at,position:Me})}},a=function(re){return re.shiftKey||re.metaKey||re.ctrlKey},o=function(re,Ee){var Pe=!0;if(t.cy.hasCompoundNodes()&&re&&re.pannable())for(var Me=0;Ee&&Me<Ee.length;Me++){var re=Ee[Me];if(re.isNode()&&re.isParent()&&!re.pannable()){Pe=!1;break}}else Pe=!0;return Pe},u=function(re){re[0]._private.grabbed=!0},s=function(re){re[0]._private.grabbed=!1},l=function(re){re[0]._private.rscratch.inDragLayer=!0},c=function(re){re[0]._private.rscratch.inDragLayer=!1},f=function(re){re[0]._private.rscratch.isGrabTarget=!0},h=function(re){re[0]._private.rscratch.isGrabTarget=!1},d=function(re,Ee){var Pe=Ee.addToList,Me=Pe.has(re);!Me&&re.grabbable()&&!re.locked()&&(Pe.merge(re),u(re))},v=function(re,Ee){if(re.cy().hasCompoundNodes()&&!(Ee.inDragLayer==null&&Ee.addToList==null)){var Pe=re.descendants();Ee.inDragLayer&&(Pe.forEach(l),Pe.connectedEdges().forEach(l)),Ee.addToList&&d(Pe,Ee)}},y=function(re,Ee){Ee=Ee||{};var Pe=re.cy().hasCompoundNodes();Ee.inDragLayer&&(re.forEach(l),re.neighborhood().stdFilter(function(Me){return!Pe||Me.isEdge()}).forEach(l)),Ee.addToList&&re.forEach(function(Me){d(Me,Ee)}),v(re,Ee),m(re,{inDragLayer:Ee.inDragLayer}),t.updateCachedGrabbedEles()},b=y,p=function(re){re&&(t.getCachedZSortedEles().forEach(function(Ee){s(Ee),c(Ee),h(Ee)}),t.updateCachedGrabbedEles())},m=function(re,Ee){if(!(Ee.inDragLayer==null&&Ee.addToList==null)&&re.cy().hasCompoundNodes()){var Pe=re.ancestors().orphans();if(!Pe.same(re)){var Me=Pe.descendants().spawnSelf().merge(Pe).unmerge(re).unmerge(re.descendants()),Ne=Me.connectedEdges();Ee.inDragLayer&&(Ne.forEach(l),Me.forEach(l)),Ee.addToList&&Me.forEach(function(at){d(at,Ee)})}}},g=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},_=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";_?(t.removeObserver=new MutationObserver(function(Ie){for(var re=0;re<Ie.length;re++){var Ee=Ie[re],Pe=Ee.removedNodes;if(Pe)for(var Me=0;Me<Pe.length;Me++){var Ne=Pe[Me];if(Ne===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Ie){t.destroy()});var T=E_(function(){t.cy.resize()},100);_&&(t.styleObserver=new MutationObserver(T),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",T),E&&(t.resizeObserver=new ResizeObserver(T),t.resizeObserver.observe(t.container));var w=function(re,Ee){for(;re!=null;)Ee(re),re=re.parentNode},S=function(){t.invalidateContainerClientCoordsCache()};w(t.container,function(Ie){t.registerBinding(Ie,"transitionend",S),t.registerBinding(Ie,"animationend",S),t.registerBinding(Ie,"scroll",S)}),t.registerBinding(t.container,"contextmenu",function(Ie){Ie.preventDefault()});var C=function(){return t.selection[4]!==0},R=function(re){for(var Ee=t.findContainerClientCoords(),Pe=Ee[0],Me=Ee[1],Ne=Ee[2],at=Ee[3],je=re.touches?re.touches:[re],ft=!1,nt=0;nt<je.length;nt++){var vt=je[nt];if(Pe<=vt.clientX&&vt.clientX<=Pe+Ne&&Me<=vt.clientY&&vt.clientY<=Me+at){ft=!0;break}}if(!ft)return!1;for(var Mt=t.container,Rt=re.target,lt=Rt.parentNode,It=!1;lt;){if(lt===Mt){It=!0;break}lt=lt.parentNode}return!!It};t.registerBinding(t.container,"mousedown",function(re){if(R(re)&&!(t.hoverData.which===1&&re.which!==1)){re.preventDefault(),g(),t.hoverData.capture=!0,t.hoverData.which=re.which;var Ee=t.cy,Pe=[re.clientX,re.clientY],Me=t.projectIntoViewport(Pe[0],Pe[1]),Ne=t.selection,at=t.findNearestElements(Me[0],Me[1],!0,!1),je=at[0],ft=t.dragData.possibleDragElements;t.hoverData.mdownPos=Me,t.hoverData.mdownGPos=Pe;var nt=function(rt){return{originalEvent:re,type:rt,position:{x:Me[0],y:Me[1]}}},vt=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var rt=t.hoverData.down;rt?rt.emit(nt("taphold")):Ee.emit(nt("taphold"))}},t.tapholdDuration)};if(re.which==3){t.hoverData.cxtStarted=!0;var Mt={originalEvent:re,type:"cxttapstart",position:{x:Me[0],y:Me[1]}};je?(je.activate(),je.emit(Mt),t.hoverData.down=je):Ee.emit(Mt),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(re.which==1){je&&je.activate();{if(je!=null&&t.nodeIsGrabbable(je)){var Rt=function(rt){rt.emit(nt("grab"))};if(f(je),!je.selected())ft=t.dragData.possibleDragElements=Ee.collection(),b(je,{addToList:ft}),je.emit(nt("grabon")).emit(nt("grab"));else{ft=t.dragData.possibleDragElements=Ee.collection();var lt=Ee.$(function(It){return It.isNode()&&It.selected()&&t.nodeIsGrabbable(It)});y(lt,{addToList:ft}),je.emit(nt("grabon")),lt.forEach(Rt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=je,t.hoverData.downs=at,t.hoverData.downTime=new Date().getTime()}i(je,["mousedown","tapstart","vmousedown"],re,{x:Me[0],y:Me[1]}),je==null?(Ne[4]=1,t.data.bgActivePosistion={x:Me[0],y:Me[1]},t.redrawHint("select",!0),t.redraw()):je.pannable()&&(Ne[4]=1),vt()}Ne[0]=Ne[2]=Me[0],Ne[1]=Ne[3]=Me[1]}},!1);var D=n(t.container);t.registerBinding([e,D],"mousemove",function(re){var Ee=t.hoverData.capture;if(!(!Ee&&!R(re))){var Pe=!1,Me=t.cy,Ne=Me.zoom(),at=[re.clientX,re.clientY],je=t.projectIntoViewport(at[0],at[1]),ft=t.hoverData.mdownPos,nt=t.hoverData.mdownGPos,vt=t.selection,Mt=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Mt=t.findNearestElement(je[0],je[1],!0,!1));var Rt=t.hoverData.last,lt=t.hoverData.down,It=[je[0]-vt[2],je[1]-vt[3]],rt=t.dragData.possibleDragElements,Lt;if(nt){var Gt=at[0]-nt[0],wt=Gt*Gt,mt=at[1]-nt[1],ir=mt*mt,Bt=wt+ir;t.hoverData.isOverThresholdDrag=Lt=Bt>=t.desktopTapThreshold2}var ar=a(re);Lt&&(t.hoverData.tapholdCancelled=!0);var Qt=function(){var $r=t.hoverData.dragDelta=t.hoverData.dragDelta||[];$r.length===0?($r.push(It[0]),$r.push(It[1])):($r[0]+=It[0],$r[1]+=It[1])};Pe=!0,i(Mt,["mousemove","vmousemove","tapdrag"],re,{x:je[0],y:je[1]});var fr=function($r){return{originalEvent:re,type:$r,position:{x:je[0],y:je[1]}}},Mr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||Me.emit(fr("boxstart")),vt[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Lt){var Xr=fr("cxtdrag");lt?lt.emit(Xr):Me.emit(Xr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Mt!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(fr("cxtdragout")),t.hoverData.cxtOver=Mt,Mt&&Mt.emit(fr("cxtdragover")))}}else if(t.hoverData.dragging){if(Pe=!0,Me.panningEnabled()&&Me.userPanningEnabled()){var vn;if(t.hoverData.justStartedPan){var Pi=t.hoverData.mdownPos;vn={x:(je[0]-Pi[0])*Ne,y:(je[1]-Pi[1])*Ne},t.hoverData.justStartedPan=!1}else vn={x:It[0]*Ne,y:It[1]*Ne};Me.panBy(vn),Me.emit(fr("dragpan")),t.hoverData.dragged=!0}je=t.projectIntoViewport(re.clientX,re.clientY)}else if(vt[4]==1&&(lt==null||lt.pannable())){if(Lt){if(!t.hoverData.dragging&&Me.boxSelectionEnabled()&&(ar||!Me.panningEnabled()||!Me.userPanningEnabled()))Mr();else if(!t.hoverData.selecting&&Me.panningEnabled()&&Me.userPanningEnabled()){var pn=o(lt,t.hoverData.downs);pn&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,vt[4]=0,t.data.bgActivePosistion=gg(ft),t.redrawHint("select",!0),t.redraw())}lt&&lt.pannable()&&lt.active()&&lt.unactivate()}}else{if(lt&&lt.pannable()&&lt.active()&&lt.unactivate(),(!lt||!lt.grabbed())&&Mt!=Rt&&(Rt&&i(Rt,["mouseout","tapdragout"],re,{x:je[0],y:je[1]}),Mt&&i(Mt,["mouseover","tapdragover"],re,{x:je[0],y:je[1]}),t.hoverData.last=Mt),lt)if(Lt){if(Me.boxSelectionEnabled()&&ar)lt&&lt.grabbed()&&(p(rt),lt.emit(fr("freeon")),rt.emit(fr("free")),t.dragData.didDrag&&(lt.emit(fr("dragfreeon")),rt.emit(fr("dragfree")))),Mr();else if(lt&&lt.grabbed()&&t.nodeIsDraggable(lt)){var bt=!t.dragData.didDrag;bt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(rt,{inDragLayer:!0});var rr={x:0,y:0};if(st(It[0])&&st(It[1])&&(rr.x+=It[0],rr.y+=It[1],bt)){var Er=t.hoverData.dragDelta;Er&&st(Er[0])&&st(Er[1])&&(rr.x+=Er[0],rr.y+=Er[1])}t.hoverData.draggingEles=!0,rt.silentShift(rr).emit(fr("position")).emit(fr("drag")),t.redrawHint("drag",!0),t.redraw()}}else Qt();Pe=!0}if(vt[2]=je[0],vt[3]=je[1],Pe)return re.stopPropagation&&re.stopPropagation(),re.preventDefault&&re.preventDefault(),!1}},!1);var M,I,k;t.registerBinding(e,"mouseup",function(re){if(!(t.hoverData.which===1&&re.which!==1&&t.hoverData.capture)){var Ee=t.hoverData.capture;if(Ee){t.hoverData.capture=!1;var Pe=t.cy,Me=t.projectIntoViewport(re.clientX,re.clientY),Ne=t.selection,at=t.findNearestElement(Me[0],Me[1],!0,!1),je=t.dragData.possibleDragElements,ft=t.hoverData.down,nt=a(re);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,ft&&ft.unactivate();var vt=function(Gt){return{originalEvent:re,type:Gt,position:{x:Me[0],y:Me[1]}}};if(t.hoverData.which===3){var Mt=vt("cxttapend");if(ft?ft.emit(Mt):Pe.emit(Mt),!t.hoverData.cxtDragged){var Rt=vt("cxttap");ft?ft.emit(Rt):Pe.emit(Rt)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(at,["mouseup","tapend","vmouseup"],re,{x:Me[0],y:Me[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(ft,["click","tap","vclick"],re,{x:Me[0],y:Me[1]}),I=!1,re.timeStamp-k<=Pe.multiClickDebounceTime()?(M&&clearTimeout(M),I=!0,k=null,i(ft,["dblclick","dbltap","vdblclick"],re,{x:Me[0],y:Me[1]})):(M=setTimeout(function(){I||i(ft,["oneclick","onetap","voneclick"],re,{x:Me[0],y:Me[1]})},Pe.multiClickDebounceTime()),k=re.timeStamp)),ft==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(re)&&(Pe.$(r).unselect(["tapunselect"]),je.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=je=Pe.collection()),at==ft&&!t.dragData.didDrag&&!t.hoverData.selecting&&at!=null&&at._private.selectable&&(t.hoverData.dragging||(Pe.selectionType()==="additive"||nt?at.selected()?at.unselect(["tapunselect"]):at.select(["tapselect"]):nt||(Pe.$(r).unmerge(at).unselect(["tapunselect"]),at.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var lt=Pe.collection(t.getAllInBox(Ne[0],Ne[1],Ne[2],Ne[3]));t.redrawHint("select",!0),lt.length>0&&t.redrawHint("eles",!0),Pe.emit(vt("boxend"));var It=function(Gt){return Gt.selectable()&&!Gt.selected()};Pe.selectionType()==="additive"||nt||Pe.$(r).unmerge(lt).unselect(),lt.emit(vt("box")).stdFilter(It).select().emit(vt("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Ne[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var rt=ft&&ft.grabbed();p(je),rt&&(ft.emit(vt("freeon")),je.emit(vt("free")),t.dragData.didDrag&&(ft.emit(vt("dragfreeon")),je.emit(vt("dragfree"))))}}Ne[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var U=[],F=4,B,z=1e5,H=function(re,Ee){for(var Pe=0;Pe<re.length;Pe++)if(re[Pe]%Ee!==0)return!1;return!0},Y=function(re){for(var Ee=Math.abs(re[0]),Pe=1;Pe<re.length;Pe++)if(Math.abs(re[Pe])!==Ee)return!1;return!0},W=function(re){var Ee=!1,Pe=re.deltaY;if(Pe==null&&(re.wheelDeltaY!=null?Pe=re.wheelDeltaY/4:re.wheelDelta!=null&&(Pe=re.wheelDelta/4)),Pe!==0){if(B==null)if(U.length>=F){var Me=U;if(B=H(Me,5),!B){var Ne=Math.abs(Me[0]);B=Y(Me)&&Ne>5}if(B)for(var at=0;at<Me.length;at++)z=Math.min(Math.abs(Me[at]),z)}else U.push(Pe),Ee=!0;else B&&(z=Math.min(Math.abs(Pe),z));if(!t.scrollingPage){var je=t.cy,ft=je.zoom(),nt=je.pan(),vt=t.projectIntoViewport(re.clientX,re.clientY),Mt=[vt[0]*ft+nt.x,vt[1]*ft+nt.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||C()){re.preventDefault();return}if(je.panningEnabled()&&je.userPanningEnabled()&&je.zoomingEnabled()&&je.userZoomingEnabled()){re.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Rt;Ee&&Math.abs(Pe)>5&&(Pe=Mk(Pe)*5),Rt=Pe/-250,B&&(Rt/=z,Rt*=3),Rt=Rt*t.wheelSensitivity;var lt=re.deltaMode===1;lt&&(Rt*=33);var It=je.zoom()*Math.pow(10,Rt);re.type==="gesturechange"&&(It=t.gestureStartZoom*re.scale),je.zoom({level:It,renderedPosition:{x:Mt[0],y:Mt[1]}}),je.emit({type:re.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:re,position:{x:vt[0],y:vt[1]}})}}}};t.registerBinding(t.container,"wheel",W,!0),t.registerBinding(e,"scroll",function(re){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(re){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||re.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Ie){t.hasTouchStarted||W(Ie)},!0),t.registerBinding(t.container,"mouseout",function(re){var Ee=t.projectIntoViewport(re.clientX,re.clientY);t.cy.emit({originalEvent:re,type:"mouseout",position:{x:Ee[0],y:Ee[1]}})},!1),t.registerBinding(t.container,"mouseover",function(re){var Ee=t.projectIntoViewport(re.clientX,re.clientY);t.cy.emit({originalEvent:re,type:"mouseover",position:{x:Ee[0],y:Ee[1]}})},!1);var Z,le,ce,ue,de,he,fe,te,Q,ee,ae,pe,_e,Te=function(re,Ee,Pe,Me){return Math.sqrt((Pe-re)*(Pe-re)+(Me-Ee)*(Me-Ee))},Ae=function(re,Ee,Pe,Me){return(Pe-re)*(Pe-re)+(Me-Ee)*(Me-Ee)},be;t.registerBinding(t.container,"touchstart",be=function(re){if(t.hasTouchStarted=!0,!!R(re)){g(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var Ee=t.cy,Pe=t.touchData.now,Me=t.touchData.earlier;if(re.touches[0]){var Ne=t.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Pe[0]=Ne[0],Pe[1]=Ne[1]}if(re.touches[1]){var Ne=t.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);Pe[2]=Ne[0],Pe[3]=Ne[1]}if(re.touches[2]){var Ne=t.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);Pe[4]=Ne[0],Pe[5]=Ne[1]}var at=function(ar){return{originalEvent:re,type:ar,position:{x:Pe[0],y:Pe[1]}}};if(re.touches[1]){t.touchData.singleTouchMoved=!0,p(t.dragData.touchDragEles);var je=t.findContainerClientCoords();Q=je[0],ee=je[1],ae=je[2],pe=je[3],Z=re.touches[0].clientX-Q,le=re.touches[0].clientY-ee,ce=re.touches[1].clientX-Q,ue=re.touches[1].clientY-ee,_e=0<=Z&&Z<=ae&&0<=ce&&ce<=ae&&0<=le&&le<=pe&&0<=ue&&ue<=pe;var ft=Ee.pan(),nt=Ee.zoom();de=Te(Z,le,ce,ue),he=Ae(Z,le,ce,ue),fe=[(Z+ce)/2,(le+ue)/2],te=[(fe[0]-ft.x)/nt,(fe[1]-ft.y)/nt];var vt=200,Mt=vt*vt;if(he<Mt&&!re.touches[2]){var Rt=t.findNearestElement(Pe[0],Pe[1],!0,!0),lt=t.findNearestElement(Pe[2],Pe[3],!0,!0);Rt&&Rt.isNode()?(Rt.activate().emit(at("cxttapstart")),t.touchData.start=Rt):lt&&lt.isNode()?(lt.activate().emit(at("cxttapstart")),t.touchData.start=lt):Ee.emit(at("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(re.touches[2])Ee.boxSelectionEnabled()&&re.preventDefault();else if(!re.touches[1]){if(re.touches[0]){var It=t.findNearestElements(Pe[0],Pe[1],!0,!0),rt=It[0];if(rt!=null&&(rt.activate(),t.touchData.start=rt,t.touchData.starts=It,t.nodeIsGrabbable(rt))){var Lt=t.dragData.touchDragEles=Ee.collection(),Gt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),rt.selected()?(Gt=Ee.$(function(Bt){return Bt.selected()&&t.nodeIsGrabbable(Bt)}),y(Gt,{addToList:Lt})):b(rt,{addToList:Lt}),f(rt),rt.emit(at("grabon")),Gt?Gt.forEach(function(Bt){Bt.emit(at("grab"))}):rt.emit(at("grab"))}i(rt,["touchstart","tapstart","vmousedown"],re,{x:Pe[0],y:Pe[1]}),rt==null&&(t.data.bgActivePosistion={x:Ne[0],y:Ne[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],re,{x:Pe[0],y:Pe[1]})},t.tapholdDuration)}}if(re.touches.length>=1){for(var wt=t.touchData.startPosition=[null,null,null,null,null,null],mt=0;mt<Pe.length;mt++)wt[mt]=Me[mt]=Pe[mt];var ir=re.touches[0];t.touchData.startGPosition=[ir.clientX,ir.clientY]}}},!1);var j;t.registerBinding(e,"touchmove",j=function(re){var Ee=t.touchData.capture;if(!(!Ee&&!R(re))){var Pe=t.selection,Me=t.cy,Ne=t.touchData.now,at=t.touchData.earlier,je=Me.zoom();if(re.touches[0]){var ft=t.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Ne[0]=ft[0],Ne[1]=ft[1]}if(re.touches[1]){var ft=t.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);Ne[2]=ft[0],Ne[3]=ft[1]}if(re.touches[2]){var ft=t.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);Ne[4]=ft[0],Ne[5]=ft[1]}var nt=function(li){return{originalEvent:re,type:li,position:{x:Ne[0],y:Ne[1]}}},vt=t.touchData.startGPosition,Mt;if(Ee&&re.touches[0]&&vt){for(var Rt=[],lt=0;lt<Ne.length;lt++)Rt[lt]=Ne[lt]-at[lt];var It=re.touches[0].clientX-vt[0],rt=It*It,Lt=re.touches[0].clientY-vt[1],Gt=Lt*Lt,wt=rt+Gt;Mt=wt>=t.touchTapThreshold2}if(Ee&&t.touchData.cxt){re.preventDefault();var mt=re.touches[0].clientX-Q,ir=re.touches[0].clientY-ee,Bt=re.touches[1].clientX-Q,ar=re.touches[1].clientY-ee,Qt=Ae(mt,ir,Bt,ar),fr=Qt/he,Mr=150,Xr=Mr*Mr,vn=1.5,Pi=vn*vn;if(fr>=Pi||Qt>=Xr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var pn=nt("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(pn),t.touchData.start=null):Me.emit(pn)}}if(Ee&&t.touchData.cxt){var pn=nt("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(pn):Me.emit(pn),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var bt=t.findNearestElement(Ne[0],Ne[1],!0,!0);(!t.touchData.cxtOver||bt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(nt("cxtdragout")),t.touchData.cxtOver=bt,bt&&bt.emit(nt("cxtdragover")))}else if(Ee&&re.touches[2]&&Me.boxSelectionEnabled())re.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||Me.emit(nt("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,Pe[4]=1,!Pe||Pe.length===0||Pe[0]===void 0?(Pe[0]=(Ne[0]+Ne[2]+Ne[4])/3,Pe[1]=(Ne[1]+Ne[3]+Ne[5])/3,Pe[2]=(Ne[0]+Ne[2]+Ne[4])/3+1,Pe[3]=(Ne[1]+Ne[3]+Ne[5])/3+1):(Pe[2]=(Ne[0]+Ne[2]+Ne[4])/3,Pe[3]=(Ne[1]+Ne[3]+Ne[5])/3),t.redrawHint("select",!0),t.redraw();else if(Ee&&re.touches[1]&&!t.touchData.didSelect&&Me.zoomingEnabled()&&Me.panningEnabled()&&Me.userZoomingEnabled()&&Me.userPanningEnabled()){re.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var rr=t.dragData.touchDragEles;if(rr){t.redrawHint("drag",!0);for(var Er=0;Er<rr.length;Er++){var Ir=rr[Er]._private;Ir.grabbed=!1,Ir.rscratch.inDragLayer=!1}}var $r=t.touchData.start,mt=re.touches[0].clientX-Q,ir=re.touches[0].clientY-ee,Bt=re.touches[1].clientX-Q,ar=re.touches[1].clientY-ee,Nr=Te(mt,ir,Bt,ar),bn=Nr/de;if(_e){var Cr=mt-Z,zi=ir-le,_i=Bt-ce,Oa=ar-ue,cu=(Cr+_i)/2,Xu=(zi+Oa)/2,Ta=Me.zoom(),Vt=Ta*bn,$t=Me.pan(),Do=te[0]*Ta+$t.x,Mo=te[1]*Ta+$t.y,Os={x:-Vt/Ta*(Do-$t.x-cu)+Do,y:-Vt/Ta*(Mo-$t.y-Xu)+Mo};if($r&&$r.active()){var rr=t.dragData.touchDragEles;p(rr),t.redrawHint("drag",!0),t.redrawHint("eles",!0),$r.unactivate().emit(nt("freeon")),rr.emit(nt("free")),t.dragData.didDrag&&($r.emit(nt("dragfreeon")),rr.emit(nt("dragfree")))}Me.viewport({zoom:Vt,pan:Os,cancelOnFailedZoom:!0}),Me.emit(nt("pinchzoom")),de=Nr,Z=mt,le=ir,ce=Bt,ue=ar,t.pinching=!0}if(re.touches[0]){var ft=t.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Ne[0]=ft[0],Ne[1]=ft[1]}if(re.touches[1]){var ft=t.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);Ne[2]=ft[0],Ne[3]=ft[1]}if(re.touches[2]){var ft=t.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);Ne[4]=ft[0],Ne[5]=ft[1]}}else if(re.touches[0]&&!t.touchData.didSelect){var si=t.touchData.start,Io=t.touchData.last,bt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(bt=t.findNearestElement(Ne[0],Ne[1],!0,!0)),Ee&&si!=null&&re.preventDefault(),Ee&&si!=null&&t.nodeIsDraggable(si))if(Mt){var rr=t.dragData.touchDragEles,Kr=!t.dragData.didDrag;Kr&&y(rr,{inDragLayer:!0}),t.dragData.didDrag=!0;var No={x:0,y:0};if(st(Rt[0])&&st(Rt[1])&&(No.x+=Rt[0],No.y+=Rt[1],Kr)){t.redrawHint("eles",!0);var Wn=t.touchData.dragDelta;Wn&&st(Wn[0])&&st(Wn[1])&&(No.x+=Wn[0],No.y+=Wn[1])}t.hoverData.draggingEles=!0,rr.silentShift(No).emit(nt("position")).emit(nt("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==at[0]&&t.touchData.startPosition[1]==at[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Wn=t.touchData.dragDelta=t.touchData.dragDelta||[];Wn.length===0?(Wn.push(Rt[0]),Wn.push(Rt[1])):(Wn[0]+=Rt[0],Wn[1]+=Rt[1])}if(i(si||bt,["touchmove","tapdrag","vmousemove"],re,{x:Ne[0],y:Ne[1]}),(!si||!si.grabbed())&&bt!=Io&&(Io&&Io.emit(nt("tapdragout")),bt&&bt.emit(nt("tapdragover"))),t.touchData.last=bt,Ee)for(var Er=0;Er<Ne.length;Er++)Ne[Er]&&t.touchData.startPosition[Er]&&Mt&&(t.touchData.singleTouchMoved=!0);if(Ee&&(si==null||si.pannable())&&Me.panningEnabled()&&Me.userPanningEnabled()){var Tc=o(si,t.touchData.starts);Tc&&(re.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=gg(t.touchData.startPosition)),t.swipePanning?(Me.panBy({x:Rt[0]*je,y:Rt[1]*je}),Me.emit(nt("dragpan"))):Mt&&(t.swipePanning=!0,Me.panBy({x:It*je,y:Lt*je}),Me.emit(nt("dragpan")),si&&(si.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var ft=t.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);Ne[0]=ft[0],Ne[1]=ft[1]}}for(var lt=0;lt<Ne.length;lt++)at[lt]=Ne[lt];Ee&&re.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var G;t.registerBinding(e,"touchcancel",G=function(re){var Ee=t.touchData.start;t.touchData.capture=!1,Ee&&Ee.unactivate()});var X,ie,ve,ge;if(t.registerBinding(e,"touchend",X=function(re){var Ee=t.touchData.start,Pe=t.touchData.capture;if(Pe)re.touches.length===0&&(t.touchData.capture=!1),re.preventDefault();else return;var Me=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Ne=t.cy,at=Ne.zoom(),je=t.touchData.now,ft=t.touchData.earlier;if(re.touches[0]){var nt=t.projectIntoViewport(re.touches[0].clientX,re.touches[0].clientY);je[0]=nt[0],je[1]=nt[1]}if(re.touches[1]){var nt=t.projectIntoViewport(re.touches[1].clientX,re.touches[1].clientY);je[2]=nt[0],je[3]=nt[1]}if(re.touches[2]){var nt=t.projectIntoViewport(re.touches[2].clientX,re.touches[2].clientY);je[4]=nt[0],je[5]=nt[1]}var vt=function(Xr){return{originalEvent:re,type:Xr,position:{x:je[0],y:je[1]}}};Ee&&Ee.unactivate();var Mt;if(t.touchData.cxt){if(Mt=vt("cxttapend"),Ee?Ee.emit(Mt):Ne.emit(Mt),!t.touchData.cxtDragged){var Rt=vt("cxttap");Ee?Ee.emit(Rt):Ne.emit(Rt)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!re.touches[2]&&Ne.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var lt=Ne.collection(t.getAllInBox(Me[0],Me[1],Me[2],Me[3]));Me[0]=void 0,Me[1]=void 0,Me[2]=void 0,Me[3]=void 0,Me[4]=0,t.redrawHint("select",!0),Ne.emit(vt("boxend"));var It=function(Xr){return Xr.selectable()&&!Xr.selected()};lt.emit(vt("box")).stdFilter(It).select().emit(vt("boxselect")),lt.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(Ee!=null&&Ee.unactivate(),re.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!re.touches[1]){if(!re.touches[0]){if(!re.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var rt=t.dragData.touchDragEles;if(Ee!=null){var Lt=Ee._private.grabbed;p(rt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Lt&&(Ee.emit(vt("freeon")),rt.emit(vt("free")),t.dragData.didDrag&&(Ee.emit(vt("dragfreeon")),rt.emit(vt("dragfree")))),i(Ee,["touchend","tapend","vmouseup","tapdragout"],re,{x:je[0],y:je[1]}),Ee.unactivate(),t.touchData.start=null}else{var Gt=t.findNearestElement(je[0],je[1],!0,!0);i(Gt,["touchend","tapend","vmouseup","tapdragout"],re,{x:je[0],y:je[1]})}var wt=t.touchData.startPosition[0]-je[0],mt=wt*wt,ir=t.touchData.startPosition[1]-je[1],Bt=ir*ir,ar=mt+Bt,Qt=ar*at*at;t.touchData.singleTouchMoved||(Ee||Ne.$(":selected").unselect(["tapunselect"]),i(Ee,["tap","vclick"],re,{x:je[0],y:je[1]}),ie=!1,re.timeStamp-ge<=Ne.multiClickDebounceTime()?(ve&&clearTimeout(ve),ie=!0,ge=null,i(Ee,["dbltap","vdblclick"],re,{x:je[0],y:je[1]})):(ve=setTimeout(function(){ie||i(Ee,["onetap","voneclick"],re,{x:je[0],y:je[1]})},Ne.multiClickDebounceTime()),ge=re.timeStamp)),Ee!=null&&!t.dragData.didDrag&&Ee._private.selectable&&Qt<t.touchTapThreshold2&&!t.pinching&&(Ne.selectionType()==="single"?(Ne.$(r).unmerge(Ee).unselect(["tapunselect"]),Ee.select(["tapselect"])):Ee.selected()?Ee.unselect(["tapunselect"]):Ee.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var fr=0;fr<je.length;fr++)ft[fr]=je[fr];t.dragData.didDrag=!1,re.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),re.touches.length<2&&(re.touches.length===1&&(t.touchData.startGPosition=[re.touches[0].clientX,re.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Oe=[],Le=function(re){return{clientX:re.clientX,clientY:re.clientY,force:1,identifier:re.pointerId,pageX:re.pageX,pageY:re.pageY,radiusX:re.width/2,radiusY:re.height/2,screenX:re.screenX,screenY:re.screenY,target:re.target}},We=function(re){return{event:re,touch:Le(re)}},ut=function(re){Oe.push(We(re))},Ze=function(re){for(var Ee=0;Ee<Oe.length;Ee++){var Pe=Oe[Ee];if(Pe.event.pointerId===re.pointerId){Oe.splice(Ee,1);return}}},tt=function(re){var Ee=Oe.filter(function(Pe){return Pe.event.pointerId===re.pointerId})[0];Ee.event=re,Ee.touch=Le(re)},Qe=function(re){re.touches=Oe.map(function(Ee){return Ee.touch})},$e=function(re){return re.pointerType==="mouse"||re.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Ie){$e(Ie)||(Ie.preventDefault(),ut(Ie),Qe(Ie),be(Ie))}),t.registerBinding(t.container,"pointerup",function(Ie){$e(Ie)||(Ze(Ie),Qe(Ie),X(Ie))}),t.registerBinding(t.container,"pointercancel",function(Ie){$e(Ie)||(Ze(Ie),Qe(Ie),G(Ie))}),t.registerBinding(t.container,"pointermove",function(Ie){$e(Ie)||(Ie.preventDefault(),tt(Ie),Qe(Ie),j(Ie))})}};var Ec={};Ec.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,a,o,u,s){this.renderer.nodeShapeImpl("polygon",n,i,a,o,u,this.points)},intersectLine:function(n,i,a,o,u,s,l,c){return zb(u,s,this.points,n,i,a/2,o/2,l)},checkPoint:function(n,i,a,o,u,s,l,c){return yc(n,i,this.points,s,l,o,u,[0,-1],a)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,i,a,o,u,s){return kne(this.points,n,i,a,o,u)}}};Ec.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,o,u,s){return Gne(a,o,e,r,n/2+u,i/2+u)},checkPoint:function(e,r,n,i,a,o,u,s){return jd(e,r,i,a,o,u,n)}}};Ec.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,a,o,u,s,l){if(s[l]!==void 0&&s[l+"-cx"]===n&&s[l+"-cy"]===i)return s[l];s[l]=new Array(e.length/2),s[l+"-cx"]=n,s[l+"-cy"]=i;var c=a/2,f=o/2;u=u==="auto"?LV(a,o):u;for(var h=new Array(e.length/2),d=0;d<e.length/2;d++)h[d]={x:n+c*e[d*2],y:i+f*e[d*2+1]};var v,y,b,p,m=h.length;for(y=h[m-1],v=0;v<m;v++)b=h[v%m],p=h[(v+1)%m],s[l][v]=Hk(y,b,p,u),y=b,b=p;return s[l]},draw:function(n,i,a,o,u,s,l){this.renderer.nodeShapeImpl("round-polygon",n,i,a,o,u,this.points,this.getOrCreateCorners(i,a,o,u,s,l,"drawCorners"))},intersectLine:function(n,i,a,o,u,s,l,c,f){return Hne(u,s,this.points,n,i,a,o,l,this.getOrCreateCorners(n,i,a,o,c,f,"corners"))},checkPoint:function(n,i,a,o,u,s,l,c,f){return qne(n,i,this.points,s,l,o,u,this.getOrCreateCorners(s,l,o,u,c,f,"corners"))}}};Ec.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ka(4,0),draw:function(e,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,o)},intersectLine:function(e,r,n,i,a,o,u,s){return NV(a,o,e,r,n,i,u,s)},checkPoint:function(e,r,n,i,a,o,u,s){var l=i/2,c=a/2;s=s==="auto"?hh(i,a):s,s=Math.min(l,c,s);var f=s*2;return!!(yc(e,r,this.points,o,u,i,a-f,[0,-1],n)||yc(e,r,this.points,o,u,i-f,a,[0,-1],n)||jd(e,r,f,f,o-l+s,u-c+s,n)||jd(e,r,f,f,o+l-s,u-c+s,n)||jd(e,r,f,f,o+l-s,u+c-s,n)||jd(e,r,f,f,o-l+s,u+c-s,n))}}};Ec.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Nk(),points:Ka(4,0),draw:function(e,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,null,o)},generateCutTrianglePts:function(e,r,n,i,a){var o=a==="auto"?this.cornerLength:a,u=r/2,s=e/2,l=n-s,c=n+s,f=i-u,h=i+u;return{topLeft:[l,f+o,l+o,f,l+o,f+o],topRight:[c-o,f,c,f+o,c-o,f+o],bottomRight:[c,h-o,c-o,h,c-o,h-o],bottomLeft:[l+o,h,l,h-o,l+o,h-o]}},intersectLine:function(e,r,n,i,a,o,u,s){var l=this.generateCutTrianglePts(n+2*u,i+2*u,e,r,s),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return zb(a,o,c,e,r)},checkPoint:function(e,r,n,i,a,o,u,s){var l=s==="auto"?this.cornerLength:s;if(yc(e,r,this.points,o,u,i,a-2*l,[0,-1],n)||yc(e,r,this.points,o,u,i-2*l,a,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,a,o,u);return Eo(e,r,c.topLeft)||Eo(e,r,c.topRight)||Eo(e,r,c.bottomRight)||Eo(e,r,c.bottomLeft)}}};Ec.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ka(4,0),draw:function(e,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a)},intersectLine:function(e,r,n,i,a,o,u,s){var l=.15,c=.5,f=.85,h=this.generateBarrelBezierPts(n+2*u,i+2*u,e,r),d=function(b){var p=Pg({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},l),m=Pg({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},c),g=Pg({x:b[0],y:b[1]},{x:b[2],y:b[3]},{x:b[4],y:b[5]},f);return[b[0],b[1],p.x,p.y,m.x,m.y,g.x,g.y,b[4],b[5]]},v=[].concat(d(h.topLeft),d(h.topRight),d(h.bottomRight),d(h.bottomLeft));return zb(a,o,v,e,r)},generateBarrelBezierPts:function(e,r,n,i){var a=r/2,o=e/2,u=n-o,s=n+o,l=i-a,c=i+a,f=uI(e,r),h=f.heightOffset,d=f.widthOffset,v=f.ctrlPtOffsetPct*e,y={topLeft:[u,l+h,u+v,l,u+d,l],topRight:[s-d,l,s-v,l,s,l+h],bottomRight:[s,c-h,s-v,c,s-d,c],bottomLeft:[u+d,c,u+v,c,u,c-h]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,r,n,i,a,o,u,s){var l=uI(i,a),c=l.heightOffset,f=l.widthOffset;if(yc(e,r,this.points,o,u,i,a-2*c,[0,-1],n)||yc(e,r,this.points,o,u,i-2*f,a,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(i,a,o,u),d=function(S,C,R){var D=R[4],M=R[2],I=R[0],k=R[5],U=R[1],F=Math.min(D,I),B=Math.max(D,I),z=Math.min(k,U),H=Math.max(k,U);if(F<=S&&S<=B&&z<=C&&C<=H){var Y=Yne(D,M,I),W=Bne(Y[0],Y[1],Y[2],S),Z=W.filter(function(le){return 0<=le&&le<=1});if(Z.length>0)return Z[0]}return null},v=Object.keys(h),y=0;y<v.length;y++){var b=v[y],p=h[b],m=d(e,r,p);if(m!=null){var g=p[5],_=p[3],E=p[1],T=Ki(g,_,E,m);if(p.isTop&&T<=r||p.isBottom&&r<=T)return!0}}return!1}}};Ec.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ka(4,0),draw:function(e,r,n,i,a,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,a,this.points,o)},intersectLine:function(e,r,n,i,a,o,u,s){var l=e-(n/2+u),c=r-(i/2+u),f=c,h=e+(n/2+u),d=jf(a,o,e,r,l,c,h,f,!1);return d.length>0?d:NV(a,o,e,r,n,i,u,s)},checkPoint:function(e,r,n,i,a,o,u,s){s=s==="auto"?hh(i,a):s;var l=2*s;if(yc(e,r,this.points,o,u,i,a-l,[0,-1],n)||yc(e,r,this.points,o,u,i-l,a,[0,-1],n))return!0;var c=i/2+2*n,f=a/2+2*n,h=[o-c,u-f,o-c,u,o+c,u,o+c,u-f];return!!(Eo(e,r,h)||jd(e,r,l,l,o+i/2-s,u+a/2-s,n)||jd(e,r,l,l,o-i/2+s,u+a/2-s,n))}}};Ec.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ka(3,0)),this.generateRoundPolygon("round-triangle",Ka(3,0)),this.generatePolygon("rectangle",Ka(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Ka(5,0)),this.generateRoundPolygon("round-pentagon",Ka(5,0)),this.generatePolygon("hexagon",Ka(6,0)),this.generateRoundPolygon("round-hexagon",Ka(6,0)),this.generatePolygon("heptagon",Ka(7,0)),this.generateRoundPolygon("round-heptagon",Ka(7,0)),this.generatePolygon("octagon",Ka(8,0)),this.generateRoundPolygon("round-octagon",Ka(8,0));var n=new Array(20);{var i=oI(5,0),a=oI(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var u=0;u<a.length/2;u++)a[u*2]*=o,a[u*2+1]*=o;for(var u=0;u<20/4;u++)n[u*4]=i[u*2],n[u*4+1]=i[u*2+1],n[u*4+2]=a[u*2],n[u*4+3]=a[u*2+1]}n=kV(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var s=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",s),this.generateRoundPolygon("round-tag",s)}t.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,h;return(h=this[f])?h:e.generatePolygon(f,l)}};var C_={};C_.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};C_.redraw=function(t){t=t||PV();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};C_.beforeRender=function(t,e){if(!this.destroyed){e==null&&Vn("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var EB=function(e,r,n){for(var i=e.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(r,n)};C_.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){EB(t,!0,i);var a=gc();t.render(t.renderOptions);var o=t.lastDrawTime=gc();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-a),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var u=o-a;t.redrawTotalTime+=u,t.lastRedrawTime=u,t.averageRedrawTime=t.averageRedrawTime/2+u/2,t.requestedFrame=!1}else EB(t,!1,i);t.skipFrame=!1,OS(r)}};OS(r)}};var sue=function(e){this.init(e)},LH=sue,Sy=LH.prototype;Sy.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Sy.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",u="__________cytoscape_container",s=i.getElementById(o)!=null;if(r.className.indexOf(u)<0&&(r.className=(r.className||"")+" "+u),!s){var l=i.createElement("style");l.id=o,l.textContent="."+u+" { position: relative; }",a.insertBefore(l,a.children[0])}var c=n.getComputedStyle(r),f=c.getPropertyValue("position");f==="static"&&ln("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=st(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Sy.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Sy.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Sy.isHeadless=function(){return!1};[Vk,NH,kH,Ey,Ec,C_].forEach(function(t){qt(Sy,t)});var xC=1e3/60,jH={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var a=E_(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),o=function(l,c){var f=gc(),h=i.averageRedrawTime,d=i.lastRedrawTime,v=[],y=i.cy.extent(),b=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var p=gc(),m=p-f,g=p-c;if(d<xC){var _=xC-(l?h:0);if(g>=e.deqFastCost*_)break}else if(l){if(m>=e.deqCost*d||m>=e.deqAvgCost*h)break}else if(g>=e.deqNoDrawCost*xC)break;var E=e.deq(n,b,y);if(E.length>0)for(var T=0;T<E.length;T++)v.push(E[T]);else break}v.length>0&&(e.onDeqd(n,v),!l&&e.shouldRedraw(n,v,b,y)&&a())},u=e.priority||Rk;i.beforeRender(o,u(n))}}}},lue=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TS;Sh(this,t),this.idsByKey=new ec,this.keyForId=new ec,this.cachesByLvl=new ec,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Oh(t,[{key:"getIdsFor",value:function(r){r==null&&Vn("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new my,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(a,n),this.keyForId.set(n,a)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),a=this.getKey(r);return i!==a}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,a=n.get(r);return a||(a=new ec,n.set(r,a),i.push(r)),a}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),a=this.getCache(i,n);return a!=null&&this.updateKeyMappingFor(r),a}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),a=this.getCache(i,n);return a}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var a=this.getKey(r);this.setCache(a,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var a=this.doesEleInvalidateKey(r);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}])}(),SB=25,Mw=50,NE=-4,_I=3,BH=7.99,cue=8,fue=1024,hue=1024,due=1024,vue=.2,pue=.8,gue=10,yue=.15,mue=.1,bue=.9,_ue=.9,wue=100,Eue=1,mg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Sue=Ea({getKey:null,doesEleInvalidateKey:TS,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:CV,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),h0=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=Sue(r);qt(n,i),n.lookup=new lue(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Fi=h0.prototype;Fi.reasons=mg;Fi.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Fi.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Fi.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new S_(function(r,n){return n.reqs-r.reqs});return e};Fi.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Fi.getElement=function(t,e,r,n,i){var a=this,o=this.renderer,u=o.cy.zoom(),s=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Dk(u*r))),n<NE)n=NE;else if(u>=BH||n>_I)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,h=o.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,h))return null;var d=s.get(t,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=SB?v=SB:c<=Mw?v=Mw:v=Math.ceil(c/Mw)*Mw,c>due||f>hue)return null;var y=a.getTextureQueue(v),b=y[y.length-2],p=function(){return a.recycleTexture(v,f)||a.addTexture(v,f)};b||(b=y[y.length-1]),b||(b=p()),b.width-b.usedWidth<f&&(b=p());for(var m=function(F){return F&&F.scaledLabelShown===h},g=i&&i===mg.dequeue,_=i&&i===mg.highQuality,E=i&&i===mg.downscale,T,w=n+1;w<=_I;w++){var S=s.get(t,w);if(S){T=S;break}}var C=T&&T.level===n+1?T:null,R=function(){b.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,b.usedWidth,0,f,c)};if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,f,v),m(C))R();else if(m(T))if(_){for(var D=T.level;D>n;D--)C=a.getElement(t,e,r,D,mg.downscale);R()}else return a.queueElement(t,T.level-1),T;else{var M;if(!g&&!_&&!E)for(var I=n-1;I>=NE;I--){var k=s.get(t,I);if(k){M=k;break}}if(m(M))return a.queueElement(t,n),M;b.context.translate(b.usedWidth,0),b.context.scale(l,l),this.drawElement(b.context,t,e,h,!1),b.context.scale(1/l,1/l),b.context.translate(-b.usedWidth,0)}return d={x:b.usedWidth,texture:b,level:n,scale:l,width:f,height:c,scaledLabelShown:h},b.usedWidth+=Math.ceil(f+cue),b.eleCaches.push(d),s.set(t,n,d),a.checkTextureFullness(b),d};Fi.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Fi.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var a=NE;a<=_I;a++){var o=r.getForCachedKey(t,a);o&&n.push(o)}var u=r.invalidate(t);if(u)for(var s=0;s<n.length;s++){var l=n[s],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};Fi.checkTextureUtility=function(t){t.invalidatedWidth>=vue*t.width&&this.retireTexture(t)};Fi.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>pue&&t.fullnessChecks>=gue?fh(r,t):t.fullnessChecks++};Fi.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;fh(n,t),t.retired=!0;for(var a=t.eleCaches,o=0;o<a.length;o++){var u=a[o];i.deleteCache(u.key,u.level)}Pk(a);var s=e.getRetiredTextureQueue(r);s.push(t)};Fi.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(fue,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Fi.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),a=0;a<i.length;a++){var o=i[a];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Pk(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),fh(i,o),n.push(o),o}};Fi.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(t),o=i[a];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var u={eles:t.spawn().merge(t),level:e,reqs:1,key:a};n.push(u),i[a]=u}};Fi.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],a=e.lookup,o=0;o<Eue&&r.size()>0;o++){var u=r.pop(),s=u.key,l=u.eles[0],c=a.hasCache(l,u.level);if(n[s]=null,c)continue;i.push(u);var f=e.getBoundingBox(l);e.getElement(l,f,t,u.level,mg.dequeue)}return i};Fi.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=Ak,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(t))};Fi.onDequeue=function(t){this.onDequeues.push(t)};Fi.offDequeue=function(t){fh(this.onDequeues,t)};Fi.setupDequeueing=jH.setupDequeueing({deqRedrawThreshold:wue,deqCost:yue,deqAvgCost:mue,deqNoDrawCost:bue,deqFastCost:_ue,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var a=0;a<r.length;a++)for(var o=r[a].eles,u=0;u<o.length;u++){var s=o[u].boundingBox();if(Ik(s,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Oue=1,q0=-4,IS=2,Tue=3.99,xue=50,Cue=50,Aue=.15,Rue=.1,Pue=.9,Due=.9,Mue=1,OB=250,Iue=4e3*4e3,TB=32767,Nue=!0,UH=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=gc()-2*OB,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=E_(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},Cue),n.beforeRender(function(o,u){u-r.lastInvalidationTime<=OB?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var a=function(u,s){return s.reqs-u.reqs};r.layersQueue=new S_(a),r.setupDequeueing()},Sa=UH.prototype,xB=0,kue=Math.pow(2,53)-1;Sa.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:xB=++xB%kue,bb:t,level:e,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=o.context,s=-o.bb.x1,l=-o.bb.y1;return u.scale(r,r),u.translate(s,l),o};Sa.getLayers=function(t,e,r){var n=this,i=n.renderer,a=i.cy,o=a.zoom(),u=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Dk(o*e)),r<q0)r=q0;else if(o>=Tue||r>IS)return null}n.validateLayersElesOrdering(r,t);var s=n.layersByLevel,l=Math.pow(2,r),c=s[r]=s[r]||[],f,h=n.levelIsComplete(r,t),d,v=function(){var R=function(U){if(n.validateLayersElesOrdering(U,t),n.levelIsComplete(U,t))return d=s[U],!0},D=function(U){if(!d)for(var F=r+U;q0<=F&&F<=IS&&!R(F);F+=U);};D(1),D(-1);for(var M=c.length-1;M>=0;M--){var I=c[M];I.invalid&&fh(c,I)}};if(!h)v();else return c;var y=function(){if(!f){f=eo();for(var R=0;R<t.length;R++)Mne(f,t[R].boundingBox())}return f},b=function(R){R=R||{};var D=R.after;y();var M=Math.ceil(f.w*l),I=Math.ceil(f.h*l);if(M>TB||I>TB)return null;var k=M*I;if(k>Iue)return null;var U=n.makeLayer(f,r);if(D!=null){var F=c.indexOf(D)+1;c.splice(F,0,U)}else(R.insert===void 0||R.insert)&&c.unshift(U);return U};if(n.skipping&&!u)return null;for(var p=null,m=t.length/Oue,g=!u,_=0;_<t.length;_++){var E=t[_],T=E._private.rscratch,w=T.imgLayerCaches=T.imgLayerCaches||{},S=w[r];if(S){p=S;continue}if((!p||p.eles.length>=m||!IV(p.bb,E.boundingBox()))&&(p=b({insert:!0,after:p}),!p))return null;d||g?n.queueLayer(p,E):n.drawEleInLayer(p,E,r,e),p.eles.push(E),w[r]=p}return d||(g?null:c)};Sa.getEleLevelForLayerLevel=function(t,e){return t};Sa.drawEleInLayer=function(t,e,r,n){var i=this,a=this.renderer,o=t.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(o,!1),a.drawCachedElement(o,e,null,null,r,Nue),a.setImgSmoothing(o,!0))};Sa.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0||o.invalid)return!1;i+=o.eles.length}return i===e.length};Sa.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<e.length;o++)if(i.eles[0]===e[o]){a=o;break}if(a<0){this.invalidateLayer(i);continue}for(var u=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==e[u+o]){this.invalidateLayer(i);break}}};Sa.updateElementsInLayers=function(t,e){for(var r=this,n=m_(t[0]),i=0;i<t.length;i++)for(var a=n?null:t[i],o=n?t[i]:t[i].ele,u=o._private.rscratch,s=u.imgLayerCaches=u.imgLayerCaches||{},l=q0;l<=IS;l++){var c=s[l];c&&(a&&r.getEleLevelForLayerLevel(c.level)!==a.level||e(c,o,a))}};Sa.haveLayers=function(){for(var t=this,e=!1,r=q0;r<=IS;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Sa.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=gc(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,a){e.invalidateLayer(n)}))};Sa.invalidateLayer=function(t){if(this.lastInvalidationTime=gc(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];fh(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Sa.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,a){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var u=0;u<o.eles.length;u++)e.queueLayer(o,o.eles[u])})};Sa.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Sa.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,a=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;i.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Sa.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<Mue&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var o=a.elesQueue.shift();o&&(e.drawEleInLayer(a,o,a.level,t),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return n};Sa.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var a=0;a<t.eles.length;a++){var o=t.eles[a]._private,u=o.imgLayerCaches=o.imgLayerCaches||{};u&&(u[t.level]=t)}e.requestRedraw()}};Sa.requestRedraw=E_(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Sa.setupDequeueing=jH.setupDequeueing({deqRedrawThreshold:xue,deqCost:Aue,deqAvgCost:Rue,deqNoDrawCost:Pue,deqFastCost:Due,deq:function(e,r){return e.dequeue(r)},onDeqd:Rk,shouldRedraw:CV,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var FH={},CB;function Lue(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function jue(t,e,r){for(var n,i=0;i<e.length;i++){var a=e[i];i===0&&(n=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function AB(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var a=n[i];t.lineTo(a.x,a.y)}var o=r,u=r[0];t.moveTo(u.x,u.y);for(var i=1;i<o.length;i++){var a=o[i];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function Bue(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var a=e,o=a[0];t.moveTo(o.x,o.y);for(var u=0;u<a.length;u++){var s=a[u];t.lineTo(s.x,s.y)}t.closePath&&t.closePath()}function Uue(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}FH.arrowShapeImpl=function(t){return(CB||(CB={polygon:Lue,"triangle-backcurve":jue,"triangle-tee":AB,"circle-triangle":Bue,"triangle-cross":AB,circle:Uue}))[t]};var gl={};gl.drawElement=function(t,e,r,n,i,a){var o=this;e.isNode()?o.drawNode(t,e,r,n,i,a):o.drawEdge(t,e,r,n,i,a)};gl.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};gl.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};gl.drawCachedElementPortion=function(t,e,r,n,i,a,o,u){var s=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=r.getElement(e,l,n,i,a);if(c!=null){var f=u(s,e);if(f===0)return;var h=o(s,e),d=l.x1,v=l.y1,y=l.w,b=l.h,p,m,g,_,E;if(h!==0){var T=r.getRotationPoint(e);g=T.x,_=T.y,t.translate(g,_),t.rotate(h),E=s.getImgSmoothing(t),E||s.setImgSmoothing(t,!0);var w=r.getRotationOffset(e);p=w.x,m=w.y}else p=d,m=v;var S;f!==1&&(S=t.globalAlpha,t.globalAlpha=S*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,p,m,y,b),f!==1&&(t.globalAlpha=S),h!==0&&(t.rotate(-h),t.translate(-g,-_),E||s.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var Fue=function(){return 0},zue=function(e,r){return e.getTextAngle(r,null)},que=function(e,r){return e.getTextAngle(r,"source")},Gue=function(e,r){return e.getTextAngle(r,"target")},Vue=function(e,r){return r.effectiveOpacity()},CC=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};gl.drawCachedElement=function(t,e,r,n,i,a){var o=this,u=o.data,s=u.eleTxrCache,l=u.lblTxrCache,c=u.slbTxrCache,f=u.tlbTxrCache,h=e.boundingBox(),d=a===!0?s.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||Ik(h,n))){var v=e.isEdge(),y=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,s,r,i,d,Fue,Vue),(!v||!y)&&o.drawCachedElementPortion(t,e,l,r,i,d,zue,CC),v&&!y&&(o.drawCachedElementPortion(t,e,c,r,i,d,que,CC),o.drawCachedElementPortion(t,e,f,r,i,d,Gue,CC)),o.drawElementOverlay(t,e)}};gl.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};gl.drawCachedElements=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];i.drawCachedElement(t,o,r,n)}};gl.drawCachedNodes=function(t,e,r,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];o.isNode()&&i.drawCachedElement(t,o,r,n)}};gl.drawLayeredElements=function(t,e,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(e,r);if(a)for(var o=0;o<a.length;o++){var u=a[o],s=u.bb;s.w===0||s.h===0||t.drawImage(u.canvas,s.x1,s.y1,s.w,s.h)}else i.drawCachedElements(t,e,r,n)};var Sc={};Sc.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,u=e._private.rscratch;if(!(a&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var s;r&&(s=r,t.translate(-s.x1,-s.y1));var l=a?e.pstyle("opacity").value:1,c=a?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,b=e.pstyle("line-outline-color").value,p=l*c,m=l*c,g=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;f==="straight-triangle"?(o.eleStrokeStyle(t,e,U),o.drawEdgeTrianglePath(e,t,u.allpts)):(t.lineWidth=d,t.lineCap=v,o.eleStrokeStyle(t,e,U),o.drawEdgePath(e,t,u.allpts,h),t.lineCap="butt")},_=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p;if(t.lineWidth=d+y,t.lineCap=v,y>0)o.colorStrokeStyle(t,b[0],b[1],b[2],U);else{t.lineCap="butt";return}f==="straight-triangle"?o.drawEdgeTrianglePath(e,t,u.allpts):(o.drawEdgePath(e,t,u.allpts,h),t.lineCap="butt")},E=function(){i&&o.drawEdgeOverlay(t,e)},T=function(){i&&o.drawEdgeUnderlay(t,e)},w=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;o.drawArrowheads(t,e,U)},S=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var C=e.pstyle("ghost").value==="yes";if(C){var R=e.pstyle("ghost-offset-x").pfValue,D=e.pstyle("ghost-offset-y").pfValue,M=e.pstyle("ghost-opacity").value,I=p*M;t.translate(R,D),g(I),w(I),t.translate(-R,-D)}else _();T(),g(),w(),E(),S(),r&&t.translate(s.x1,s.y1)}};var zH=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var a=this,o=a.usePaths(),u=n._private.rscratch,s=n.pstyle("".concat(e,"-padding")).pfValue,l=2*s,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,u.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",a.colorStrokeStyle(r,c[0],c[1],c[2],i),a.drawEdgePath(n,r,u.allpts,"solid")}}}};Sc.drawEdgeOverlay=zH("overlay");Sc.drawEdgeUnderlay=zH("underlay");Sc.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,a=e,o,u=!1,s=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(s){var f=r.join("$"),h=i.pathCacheKey&&i.pathCacheKey===f;h?(o=e=i.pathCache,u=!0):(o=e=new Path2D,i.pathCacheKey=f,i.pathCache=o)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(l),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!u&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)e.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break;case"segments":if(i.isRound){var y=Oo(i.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var p=b.value;RH(e,p)}}catch(g){y.e(g)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var m=2;m+1<r.length;m+=2)e.lineTo(r[m],r[m+1]);break}e=a,s?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Sc.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),u=[a[1]/o,-a[0]/o],s=[u[0]*n/2,u[1]*n/2];e.beginPath(),e.moveTo(r[i]-s[0],r[i+1]-s[1]),e.lineTo(r[i]+s[0],r[i+1]+s[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Sc.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Sc.drawArrowhead=function(t,e,r,n,i,a,o){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var u=this,s=e.pstyle(r+"-arrow-shape").value;if(s!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,h=e.pstyle(r+"-arrow-width"),d=h.value==="match-line"?f:h.pfValue;h.units==="%"&&(d*=f);var v=e.pstyle("opacity").value;o===void 0&&(o=v);var y=t.globalCompositeOperation;(o!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",u.colorFillStyle(t,255,255,255,1),u.colorStrokeStyle(t,255,255,255,1),u.drawArrowShape(e,t,l,f,s,d,n,i,a),t.globalCompositeOperation=y);var b=e.pstyle(r+"-arrow-color").value;u.colorFillStyle(t,b[0],b[1],b[2],o),u.colorStrokeStyle(t,b[0],b[1],b[2],o),u.drawArrowShape(e,t,c,f,s,d,n,i,a)}}};Sc.drawArrowShape=function(t,e,r,n,i,a,o,u,s){var l=this,c=this.usePaths()&&i!=="triangle-cross",f=!1,h,d=e,v={x:o,y:u},y=t.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),p=l.arrowShapes[i];if(c){var m=l.arrowPathCache=l.arrowPathCache||[],g=ev(i),_=m[g];_!=null?(h=e=_,f=!0):(h=e=new Path2D,m[g]=h)}f||(e.beginPath&&e.beginPath(),c?p.draw(e,1,0,{x:0,y:0},1):p.draw(e,b,s,v,n),e.closePath&&e.closePath()),e=d,c&&(e.translate(o,u),e.rotate(s),e.scale(b,b)),(r==="filled"||r==="both")&&(c?e.fill(h):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(c?b:1),e.lineJoin="miter",c?e.stroke(h):e.stroke()),c&&(e.scale(1/b,1/b),e.rotate(-s),e.translate(-o,-u))};var Wk={};Wk.safeDrawImage=function(t,e,r,n,i,a,o,u,s,l){if(!(i<=0||a<=0||s<=0||l<=0))try{t.drawImage(e,r,n,i,a,o,u,s,l)}catch(c){ln(c)}};Wk.drawInscribedImage=function(t,e,r,n,i){var a=this,o=r.position(),u=o.x,s=o.y,l=r.cy().style(),c=l.getIndexedStyle.bind(l),f=c(r,"background-fit","value",n),h=c(r,"background-repeat","value",n),d=r.width(),v=r.height(),y=r.padding()*2,b=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:y),p=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:y),m=r._private.rscratch,g=c(r,"background-clip","value",n),_=g==="node",E=c(r,"background-image-opacity","value",n)*i,T=c(r,"background-image-smoothing","value",n),w=r.pstyle("corner-radius").value;w!=="auto"&&(w=r.pstyle("corner-radius").pfValue);var S=e.width||e.cachedW,C=e.height||e.cachedH;(S==null||C==null)&&(document.body.appendChild(e),S=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var R=S,D=C;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?R=c(r,"background-width","pfValue",n)*b:R=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?D=c(r,"background-height","pfValue",n)*p:D=c(r,"background-height","pfValue",n)),!(R===0||D===0)){if(f==="contain"){var M=Math.min(b/R,p/D);R*=M,D*=M}else if(f==="cover"){var M=Math.max(b/R,p/D);R*=M,D*=M}var I=u-b/2,k=c(r,"background-position-x","units",n),U=c(r,"background-position-x","pfValue",n);k==="%"?I+=(b-R)*U:I+=U;var F=c(r,"background-offset-x","units",n),B=c(r,"background-offset-x","pfValue",n);F==="%"?I+=(b-R)*B:I+=B;var z=s-p/2,H=c(r,"background-position-y","units",n),Y=c(r,"background-position-y","pfValue",n);H==="%"?z+=(p-D)*Y:z+=Y;var W=c(r,"background-offset-y","units",n),Z=c(r,"background-offset-y","pfValue",n);W==="%"?z+=(p-D)*Z:z+=Z,m.pathCache&&(I-=u,z-=s,u=0,s=0);var le=t.globalAlpha;t.globalAlpha=E;var ce=a.getImgSmoothing(t),ue=!1;if(T==="no"&&ce?(a.setImgSmoothing(t,!1),ue=!0):T==="yes"&&!ce&&(a.setImgSmoothing(t,!0),ue=!0),h==="no-repeat")_&&(t.save(),m.pathCache?t.clip(m.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,u,s,b,p,w,m),t.clip())),a.safeDrawImage(t,e,0,0,S,C,I,z,R,D),_&&t.restore();else{var de=t.createPattern(e,h);t.fillStyle=de,a.nodeShapes[a.getNodeShape(r)].draw(t,u,s,b,p,w,m),t.translate(I,z),t.fill(),t.translate(-I,-z)}t.globalAlpha=le,ue&&a.setImgSmoothing(t,ce)}};var mv={};mv.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(Dk(r*n));e=Math.pow(2,i)}var a=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};mv.drawElementText=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(a&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var s=o.getLabelJustification(e);t.textAlign=s,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),h=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var d=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),i==null?(o.drawText(t,e,null,d,a),e.isEdge()&&(o.drawText(t,e,"source",d,a),o.drawText(t,e,"target",d,a))):o.drawText(t,e,i,d,a),r&&t.translate(v.x1,v.y1)};mv.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};mv.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,u=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,s=e.pstyle("text-outline-opacity").value*u,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+i+" "+a,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],u),this.colorStrokeStyle(t,c[0],c[1],c[2],s)};function Hue(t,e,r,n,i){var a=Math.min(n,i),o=a/2,u=e+n/2,s=r+i/2;t.beginPath(),t.arc(u,s,o,0,Math.PI*2),t.closePath()}function RB(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=Math.min(a,n/2,i/2);t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+i-o),t.quadraticCurveTo(e+n,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.quadraticCurveTo(e,r+i,e,r+i-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath()}mv.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,a=e?e+"-":"",o=t.pstyle(a+"text-rotation");if(o.strValue==="autorotate"){var u=wo(i,"labelAngle",e);r=t.isEdge()?u:0}else o.strValue==="none"?r=0:r=o.pfValue;return r};mv.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,o=a.rscratch,u=i?e.effectiveOpacity():1;if(!(i&&(u===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var s=wo(o,"labelX",r),l=wo(o,"labelY",r),c,f,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(s)&&!isNaN(l)){this.setupTextStyle(t,e,i);var d=r?r+"-":"",v=wo(o,"labelWidth",r),y=wo(o,"labelHeight",r),b=e.pstyle(d+"text-margin-x").pfValue,p=e.pstyle(d+"text-margin-y").pfValue,m=e.isEdge(),g=e.pstyle("text-halign").value,_=e.pstyle("text-valign").value;m&&(g="center",_="center"),s+=b,l+=p;var E;switch(n?E=this.getTextAngle(e,r):E=0,E!==0&&(c=s,f=l,t.translate(c,f),t.rotate(E),s=0,l=0),_){case"top":break;case"center":l+=y/2;break;case"bottom":l+=y;break}var T=e.pstyle("text-background-opacity").value,w=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,C=e.pstyle("text-background-padding").pfValue,R=e.pstyle("text-background-shape").strValue,D=R==="round-rectangle"||R==="roundrectangle",M=R==="circle",I=2;if(T>0||S>0&&w>0){var k=t.fillStyle,U=t.strokeStyle,F=t.lineWidth,B=e.pstyle("text-background-color").value,z=e.pstyle("text-border-color").value,H=e.pstyle("text-border-style").value,Y=T>0,W=S>0&&w>0,Z=s-C;switch(g){case"left":Z-=v;break;case"center":Z-=v/2;break}var le=l-y-C,ce=v+2*C,ue=y+2*C;if(Y&&(t.fillStyle="rgba(".concat(B[0],",").concat(B[1],",").concat(B[2],",").concat(T*u,")")),W&&(t.strokeStyle="rgba(".concat(z[0],",").concat(z[1],",").concat(z[2],",").concat(w*u,")"),t.lineWidth=S,t.setLineDash))switch(H){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=S/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(D?(t.beginPath(),RB(t,Z,le,ce,ue,I)):M?(t.beginPath(),Hue(t,Z,le,ce,ue)):(t.beginPath(),t.rect(Z,le,ce,ue)),Y&&t.fill(),W&&t.stroke(),W&&H==="double"){var de=S/2;t.beginPath(),D?RB(t,Z+de,le+de,ce-2*de,ue-2*de,I):t.rect(Z+de,le+de,ce-2*de,ue-2*de),t.stroke()}t.fillStyle=k,t.strokeStyle=U,t.lineWidth=F,t.setLineDash&&t.setLineDash([])}var he=2*e.pstyle("text-outline-width").pfValue;if(he>0&&(t.lineWidth=he),e.pstyle("text-wrap").value==="wrap"){var fe=wo(o,"labelWrapCachedLines",r),te=wo(o,"labelLineHeight",r),Q=v/2,ee=this.getLabelJustification(e);switch(ee==="auto"||(g==="left"?ee==="left"?s+=-v:ee==="center"&&(s+=-Q):g==="center"?ee==="left"?s+=-Q:ee==="right"&&(s+=Q):g==="right"&&(ee==="center"?s+=Q:ee==="right"&&(s+=v))),_){case"top":l-=(fe.length-1)*te;break;case"center":case"bottom":l-=(fe.length-1)*te;break}for(var ae=0;ae<fe.length;ae++)he>0&&t.strokeText(fe[ae],s,l),t.fillText(fe[ae],s,l),l+=te}else he>0&&t.strokeText(h,s,l),t.fillText(h,s,l);E!==0&&(t.rotate(-E),t.translate(-c,-f))}}};var xh={};xh.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,u,s,l=e._private,c=l.rscratch,f=e.position();if(!(!st(f.x)||!st(f.y))&&!(a&&!e.visible())){var h=a?e.effectiveOpacity():1,d=o.usePaths(),v,y=!1,b=e.padding();u=e.width()+2*b,s=e.height()+2*b;var p;r&&(p=r,t.translate(-p.x1,-p.y1));for(var m=e.pstyle("background-image"),g=m.value,_=new Array(g.length),E=new Array(g.length),T=0,w=0;w<g.length;w++){var S=g[w],C=_[w]=S!=null&&S!=="none";if(C){var R=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",w);T++,E[w]=o.getCachedImage(S,R,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var D=e.pstyle("background-blacken").value,M=e.pstyle("border-width").pfValue,I=e.pstyle("background-opacity").value*h,k=e.pstyle("border-color").value,U=e.pstyle("border-style").value,F=e.pstyle("border-join").value,B=e.pstyle("border-cap").value,z=e.pstyle("border-position").value,H=e.pstyle("border-dash-pattern").pfValue,Y=e.pstyle("border-dash-offset").pfValue,W=e.pstyle("border-opacity").value*h,Z=e.pstyle("outline-width").pfValue,le=e.pstyle("outline-color").value,ce=e.pstyle("outline-style").value,ue=e.pstyle("outline-opacity").value*h,de=e.pstyle("outline-offset").value,he=e.pstyle("corner-radius").value;he!=="auto"&&(he=e.pstyle("corner-radius").pfValue);var fe=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;o.eleFillStyle(t,e,$e)},te=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;o.colorStrokeStyle(t,k[0],k[1],k[2],$e)},Q=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ue;o.colorStrokeStyle(t,le[0],le[1],le[2],$e)},ee=function($e,Ie,re,Ee){var Pe=o.nodePathCache=o.nodePathCache||[],Me=xV(re==="polygon"?re+","+Ee.join(","):re,""+Ie,""+$e,""+he),Ne=Pe[Me],at,je=!1;return Ne!=null?(at=Ne,je=!0,c.pathCache=at):(at=new Path2D,Pe[Me]=c.pathCache=at),{path:at,cacheHit:je}},ae=e.pstyle("shape").strValue,pe=e.pstyle("shape-polygon-points").pfValue;if(d){t.translate(f.x,f.y);var _e=ee(u,s,ae,pe);v=_e.path,y=_e.cacheHit}var Te=function(){if(!y){var $e=f;d&&($e={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(v||t,$e.x,$e.y,u,s,he,c)}d?t.fill(v):t.fill()},Ae=function(){for(var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,re=l.backgrounding,Ee=0,Pe=0;Pe<E.length;Pe++){var Me=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Pe);if(Ie&&Me==="over"||!Ie&&Me==="inside"){Ee++;continue}_[Pe]&&E[Pe].complete&&!E[Pe].error&&(Ee++,o.drawInscribedImage(t,E[Pe],e,Pe,$e))}l.backgrounding=Ee!==T,re!==l.backgrounding&&e.updateStyle(!1)},be=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;o.hasPie(e)&&(o.drawPie(t,e,Ie),$e&&(d||o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,u,s,he,c)))},j=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;o.hasStripe(e)&&(t.save(),d?t.clip(c.pathCache):(o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,u,s,he,c),t.clip()),o.drawStripe(t,e,Ie),t.restore(),$e&&(d||o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,u,s,he,c)))},G=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,Ie=(D>0?D:-D)*$e,re=D>0?0:255;D!==0&&(o.colorFillStyle(t,re,re,re,Ie),d?t.fill(v):t.fill())},X=function(){if(M>0){if(t.lineWidth=M,t.lineCap=B,t.lineJoin=F,t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(H),t.lineDashOffset=Y;break;case"solid":case"double":t.setLineDash([]);break}if(z!=="center"){if(t.save(),t.lineWidth*=2,z==="inside")d?t.clip(v):t.clip();else{var $e=new Path2D;$e.rect(-u/2-M,-s/2-M,u+2*M,s+2*M),$e.addPath(v),t.clip($e,"evenodd")}d?t.stroke(v):t.stroke(),t.restore()}else d?t.stroke(v):t.stroke();if(U==="double"){t.lineWidth=M/3;var Ie=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(v):t.stroke(),t.globalCompositeOperation=Ie}t.setLineDash&&t.setLineDash([])}},ie=function(){if(Z>0){if(t.lineWidth=Z,t.lineCap="butt",t.setLineDash)switch(ce){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var $e=f;d&&($e={x:0,y:0});var Ie=o.getNodeShape(e),re=M;z==="inside"&&(re=0),z==="outside"&&(re*=2);var Ee=(u+re+(Z+de))/u,Pe=(s+re+(Z+de))/s,Me=u*Ee,Ne=s*Pe,at=o.nodeShapes[Ie].points,je;if(d){var ft=ee(Me,Ne,Ie,at);je=ft.path}if(Ie==="ellipse")o.drawEllipsePath(je||t,$e.x,$e.y,Me,Ne);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ie)){var nt=0,vt=0,Mt=0;Ie==="round-diamond"?nt=(re+de+Z)*1.4:Ie==="round-heptagon"?(nt=(re+de+Z)*1.075,Mt=-(re/2+de+Z)/35):Ie==="round-hexagon"?nt=(re+de+Z)*1.12:Ie==="round-pentagon"?(nt=(re+de+Z)*1.13,Mt=-(re/2+de+Z)/15):Ie==="round-tag"?(nt=(re+de+Z)*1.12,vt=(re/2+Z+de)*.07):Ie==="round-triangle"&&(nt=(re+de+Z)*(Math.PI/2),Mt=-(re+de/2+Z)/Math.PI),nt!==0&&(Ee=(u+nt)/u,Me=u*Ee,["round-hexagon","round-tag"].includes(Ie)||(Pe=(s+nt)/s,Ne=s*Pe)),he=he==="auto"?LV(Me,Ne):he;for(var Rt=Me/2,lt=Ne/2,It=he+(re+Z+de)/2,rt=new Array(at.length/2),Lt=new Array(at.length/2),Gt=0;Gt<at.length/2;Gt++)rt[Gt]={x:$e.x+vt+Rt*at[Gt*2],y:$e.y+Mt+lt*at[Gt*2+1]};var wt,mt,ir,Bt,ar=rt.length;for(mt=rt[ar-1],wt=0;wt<ar;wt++)ir=rt[wt%ar],Bt=rt[(wt+1)%ar],Lt[wt]=Hk(mt,ir,Bt,It),mt=ir,ir=Bt;o.drawRoundPolygonPath(je||t,$e.x+vt,$e.y+Mt,u*Ee,s*Pe,at,Lt)}else if(["roundrectangle","round-rectangle"].includes(Ie))he=he==="auto"?hh(Me,Ne):he,o.drawRoundRectanglePath(je||t,$e.x,$e.y,Me,Ne,he+(re+Z+de)/2);else if(["cutrectangle","cut-rectangle"].includes(Ie))he=he==="auto"?Nk():he,o.drawCutRectanglePath(je||t,$e.x,$e.y,Me,Ne,null,he+(re+Z+de)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ie))he=he==="auto"?hh(Me,Ne):he,o.drawBottomRoundRectanglePath(je||t,$e.x,$e.y,Me,Ne,he+(re+Z+de)/2);else if(Ie==="barrel")o.drawBarrelPath(je||t,$e.x,$e.y,Me,Ne);else if(Ie.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ie)){var Qt=(re+Z+de)/u;at=xS(CS(at,Qt)),o.drawPolygonPath(je||t,$e.x,$e.y,u,s,at)}else{var fr=(re+Z+de)/u;at=xS(CS(at,-fr)),o.drawPolygonPath(je||t,$e.x,$e.y,u,s,at)}if(d?t.stroke(je):t.stroke(),ce==="double"){t.lineWidth=re/3;var Mr=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(je):t.stroke(),t.globalCompositeOperation=Mr}t.setLineDash&&t.setLineDash([])}},ve=function(){i&&o.drawNodeOverlay(t,e,f,u,s)},ge=function(){i&&o.drawNodeUnderlay(t,e,f,u,s)},Oe=function(){o.drawElementText(t,e,null,n)},Le=e.pstyle("ghost").value==="yes";if(Le){var We=e.pstyle("ghost-offset-x").pfValue,ut=e.pstyle("ghost-offset-y").pfValue,Ze=e.pstyle("ghost-opacity").value,tt=Ze*h;t.translate(We,ut),Q(),ie(),fe(Ze*I),Te(),Ae(tt,!0),te(Ze*W),X(),be(D!==0||M!==0),j(D!==0||M!==0),Ae(tt,!1),G(tt),t.translate(-We,-ut)}d&&t.translate(-f.x,-f.y),ge(),d&&t.translate(f.x,f.y),Q(),ie(),fe(),Te(),Ae(h,!0),te(),X(),be(D!==0||M!==0),j(D!==0||M!==0),Ae(h,!1),G(),d&&t.translate(-f.x,-f.y),Oe(),ve(),r&&t.translate(p.x1,p.y1)}};var qH=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,a,o){var u=this;if(n.visible()){var s=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,h=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(i=i||n.position(),a==null||o==null){var d=n.padding();a=n.width()+2*d,o=n.height()+2*d}u.colorFillStyle(r,c[0],c[1],c[2],l),u.nodeShapes[f].draw(r,i.x,i.y,a+s*2,o+s*2,h),r.fill()}}}};xh.drawNodeOverlay=qH("overlay");xh.drawNodeUnderlay=qH("underlay");xh.hasPie=function(t){return t=t[0],t._private.hasPie};xh.hasStripe=function(t){return t=t[0],t._private.hasStripe};xh.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=e.pstyle("pie-size"),o=e.pstyle("pie-hole"),u=e.pstyle("pie-start-angle").pfValue,s=n.x,l=n.y,c=e.width(),f=e.height(),h=Math.min(c,f)/2,d,v=0,y=this.usePaths();if(y&&(s=0,l=0),a.units==="%"?h=h*a.pfValue:a.pfValue!==void 0&&(h=a.pfValue/2),o.units==="%"?d=h*o.pfValue:o.pfValue!==void 0&&(d=o.pfValue/2),!(d>=h))for(var b=1;b<=i.pieBackgroundN;b++){var p=e.pstyle("pie-"+b+"-background-size").value,m=e.pstyle("pie-"+b+"-background-color").value,g=e.pstyle("pie-"+b+"-background-opacity").value*r,_=p/100;_+v>1&&(_=1-v);var E=1.5*Math.PI+2*Math.PI*v;E+=u;var T=2*Math.PI*_,w=E+T;p===0||v>=1||v+_>1||(d===0?(t.beginPath(),t.moveTo(s,l),t.arc(s,l,h,E,w),t.closePath()):(t.beginPath(),t.arc(s,l,h,E,w),t.arc(s,l,d,w,E,!0),t.closePath()),this.colorFillStyle(t,m[0],m[1],m[2],g),t.fill(),v+=_)}};xh.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),a=n.x,o=n.y,u=e.width(),s=e.height(),l=0,c=this.usePaths();t.save();var f=e.pstyle("stripe-direction").value,h=e.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var d=u,v=s;h.units==="%"?(d=d*h.pfValue,v=v*h.pfValue):h.pfValue!==void 0&&(d=h.pfValue,v=h.pfValue),c&&(a=0,o=0),o-=d/2,a-=v/2;for(var y=1;y<=i.stripeBackgroundN;y++){var b=e.pstyle("stripe-"+y+"-background-size").value,p=e.pstyle("stripe-"+y+"-background-color").value,m=e.pstyle("stripe-"+y+"-background-opacity").value*r,g=b/100;g+l>1&&(g=1-l),!(b===0||l>=1||l+g>1)&&(t.beginPath(),t.rect(a,o+v*l,d,v*g),t.closePath(),this.colorFillStyle(t,p[0],p[1],p[2],m),t.fill(),l+=g)}t.restore()};var ro={},Yue=100;ro.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};ro.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};ro.createGradientStyleFor=function(t,e,r,n,i){var a,o=this.usePaths(),u=r.pstyle(e+"-gradient-stop-colors").value,s=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),h=tv(l,f),d=tv(c,f);a=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var v=o?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();a=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(y,b))}else if(r.isEdge()){var p=r.sourceEndpoint(),m=r.targetEndpoint();a=t.createLinearGradient(p.x,p.y,m.x,m.y)}else{var g=o?{x:0,y:0}:r.position(),_=r.paddedWidth(),E=r.paddedHeight(),T=_/2,w=E/2,S=r.pstyle("background-gradient-direction").value;switch(S){case"to-bottom":a=t.createLinearGradient(g.x,g.y-w,g.x,g.y+w);break;case"to-top":a=t.createLinearGradient(g.x,g.y+w,g.x,g.y-w);break;case"to-left":a=t.createLinearGradient(g.x+T,g.y,g.x-T,g.y);break;case"to-right":a=t.createLinearGradient(g.x-T,g.y,g.x+T,g.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(g.x-T,g.y-w,g.x+T,g.y+w);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(g.x-T,g.y+w,g.x+T,g.y-w);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(g.x+T,g.y-w,g.x-T,g.y+w);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(g.x+T,g.y+w,g.x-T,g.y-w);break}}if(!a)return null;for(var C=s.length===u.length,R=u.length,D=0;D<R;D++)a.addColorStop(C?s[D]:D/(R-1),"rgba("+u[D][0]+","+u[D][1]+","+u[D][2]+","+i+")");return a};ro.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};ro.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};ro.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};ro.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};ro.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};ro.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};ro.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],a=n[3],o=e.getPixelRatio(),u=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=u);var s=i*o,l=a*o,c;if(!(s===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=i+"px",f.style.height=a+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)c=r.canvases[h],c.width=s,c.height=l,c.style.width=i+"px",c.style.height=a+"px";for(var h=0;h<e.BUFFER_COUNT;h++)c=r.bufferCanvases[h],c.width=s,c.height=l,c.style.width=i+"px",c.style.height=a+"px";e.textureMult=1,o<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=s*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=s,e.canvasHeight=l,e.pixelRatio=o}};ro.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};ro.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};ro.render=function(t){var e=this;t=t||PV();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,a=t.drawOnlyNodeLayer,o=t.forcedZoom,u=t.forcedPan,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=e.data,c=l.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),h=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,d=e.motionBlurPxRatio,v=r.hasCompoundNodes(),y=e.hoverData.draggingEles,b=!!(e.hoverData.selecting||e.touchData.selecting);h=h&&!n&&e.motionBlurEnabled&&!b;var p=h;n||(e.prevPxRatio!==s&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=s),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),h&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(p=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var m=r.style(),g=r.zoom(),_=o!==void 0?o:g,E=r.pan(),T={x:E.x,y:E.y},w={zoom:g,pan:{x:E.x,y:E.y}},S=e.prevViewport,C=S===void 0||w.zoom!==S.zoom||w.pan.x!==S.pan.x||w.pan.y!==S.pan.y;!C&&!(y&&!v)&&(e.motionBlurPxRatio=1),u&&(T=u),_*=s,T.x*=s,T.y*=s;var R=e.getCachedZSortedEles();function D(te,Q,ee,ae,pe){var _e=te.globalCompositeOperation;te.globalCompositeOperation="destination-out",e.colorFillStyle(te,255,255,255,e.motionBlurTransparency),te.fillRect(Q,ee,ae,pe),te.globalCompositeOperation=_e}function M(te,Q){var ee,ae,pe,_e;!e.clearingMotionBlur&&(te===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||te===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(ee={x:E.x*d,y:E.y*d},ae=g*d,pe=e.canvasWidth*d,_e=e.canvasHeight*d):(ee=T,ae=_,pe=e.canvasWidth,_e=e.canvasHeight),te.setTransform(1,0,0,1,0,0),Q==="motionBlur"?D(te,0,0,pe,_e):!n&&(Q===void 0||Q)&&te.clearRect(0,0,pe,_e),i||(te.translate(ee.x,ee.y),te.scale(ae,ae)),u&&te.translate(u.x,u.y),o&&te.scale(o,o)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var I=e.data.bufferContexts[e.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:s*e.textureMult});var w=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};w.mpan={x:(0-w.pan.x)/w.zoom,y:(0-w.pan.y)/w.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var k=l.contexts[e.NODE],U=e.textureCache.texture,w=e.textureCache.viewport;k.setTransform(1,0,0,1,0,0),h?D(k,0,0,w.width,w.height):k.clearRect(0,0,w.width,w.height);var F=m.core("outside-texture-bg-color").value,B=m.core("outside-texture-bg-opacity").value;e.colorFillStyle(k,F[0],F[1],F[2],B),k.fillRect(0,0,w.width,w.height);var g=r.zoom();M(k,!1),k.clearRect(w.mpan.x,w.mpan.y,w.width/w.zoom/s,w.height/w.zoom/s),k.drawImage(U,w.mpan.x,w.mpan.y,w.width/w.zoom/s,w.height/w.zoom/s)}else e.textureOnViewport&&!n&&(e.textureCache=null);var z=r.extent(),H=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),Y=e.hideEdgesOnViewport&&H,W=[];if(W[e.NODE]=!c[e.NODE]&&h&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,W[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),W[e.DRAG]=!c[e.DRAG]&&h&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,W[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||i||a||W[e.NODE]){var Z=h&&!W[e.NODE]&&d!==1,k=n||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),le=h&&!Z?"motionBlur":void 0;M(k,le),Y?e.drawCachedNodes(k,R.nondrag,s,z):e.drawLayeredElements(k,R.nondrag,s,z),e.debug&&e.drawDebugPoints(k,R.nondrag),!i&&!h&&(c[e.NODE]=!1)}if(!a&&(c[e.DRAG]||i||W[e.DRAG])){var Z=h&&!W[e.DRAG]&&d!==1,k=n||(Z?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);M(k,h&&!Z?"motionBlur":void 0),Y?e.drawCachedNodes(k,R.drag,s,z):e.drawCachedElements(k,R.drag,s,z),e.debug&&e.drawDebugPoints(k,R.drag),!i&&!h&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,M),h&&d!==1){var ce=l.contexts[e.NODE],ue=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],de=l.contexts[e.DRAG],he=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],fe=function(Q,ee,ae){Q.setTransform(1,0,0,1,0,0),ae||!p?Q.clearRect(0,0,e.canvasWidth,e.canvasHeight):D(Q,0,0,e.canvasWidth,e.canvasHeight);var pe=d;Q.drawImage(ee,0,0,e.canvasWidth*pe,e.canvasHeight*pe,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||W[e.NODE])&&(fe(ce,ue,W[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||W[e.DRAG])&&(fe(de,he,W[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=w,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),h&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},Yue)),n||r.emit("render")};var Vm;ro.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,a=n.style(),o=t.drawOnlyNodeLayer,u=t.drawAllLayers,s=i.canvasNeedsRedraw,l=t.forcedContext;if(r.showFps||!o&&s[r.SELECT_BOX]&&!u){var c=l||i.contexts[r.SELECT_BOX];if(e(c),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var f=r.cy.zoom(),h=a.core("selection-box-border-width").value/f;c.lineWidth=h,c.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",c.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),h>0&&(c.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",c.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var f=r.cy.zoom(),d=i.bgActivePosistion;c.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",c.beginPath(),c.arc(d.x,d.y,a.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var v=r.lastRedrawTime;if(r.showFps&&v){v=Math.round(v);var y=Math.round(1e3/v),b="1 frame = "+v+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!Vm){var p=c.measureText(b);Vm=p.actualBoundingBoxAscent}c.fillText(b,0,Vm);var m=60;c.strokeRect(0,Vm+10,250,20),c.fillRect(0,Vm+10,250*Math.min(y/m,1),20)}u||(s[r.SELECT_BOX]=!1)}};function PB(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function Wue(t,e,r){var n=PB(t,t.VERTEX_SHADER,e),i=PB(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,n),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function Xue(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function Xk(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function $ue(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function Kue(t,e,r,n,i){var a=n*r+e.x,o=i*r+e.y;return o=Math.round(t.canvasHeight-o),[a,o]}function Zue(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function Que(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ed(t,e,r){var n=t[0]/255,i=t[1]/255,a=t[2]/255,o=e,u=r||new Array(4);return u[0]=n*o,u[1]=i*o,u[2]=a*o,u[3]=o,u}function Bp(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function Jue(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function ese(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function GH(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function VH(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function tse(t,e,r,n,i,a){switch(e){case t.FLOAT:return new Float32Array(r.buffer,a*n,i);case t.INT:return new Int32Array(r.buffer,a*n,i)}}function rse(t,e,r,n){var i=GH(t,e),a=Ci(i,2),o=a[0],u=a[1],s=VH(t,u,n),l=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW),u===t.FLOAT?t.vertexAttribPointer(r,o,u,!1,0,0):u===t.INT&&t.vertexAttribIPointer(r,o,u,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),l}function Ys(t,e,r,n){var i=GH(t,r),a=Ci(i,3),o=a[0],u=a[1],s=a[2],l=VH(t,u,e*o),c=o*s,f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,e*c,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),u===t.FLOAT?t.vertexAttribPointer(n,o,u,!1,c,0):u===t.INT&&t.vertexAttribIPointer(n,o,u,c,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var h=new Array(e),d=0;d<e;d++)h[d]=tse(t,u,l,c,o,d);return f.dataArray=l,f.stride=c,f.size=o,f.getView=function(v){return h[v]},f.setPoint=function(v,y,b){var p=h[v];p[0]=y,p[1]=b},f.bufferSubData=function(v){t.bindBuffer(t.ARRAY_BUFFER,f),v?t.bufferSubData(t.ARRAY_BUFFER,0,l,0,v*o):t.bufferSubData(t.ARRAY_BUFFER,0,l)},f}function nse(t,e,r){for(var n=9,i=new Float32Array(e*n),a=new Array(e),o=0;o<e;o++){var u=o*n*4;a[o]=new Float32Array(i.buffer,u,n)}var s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,i.byteLength,t.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=r+l;t.enableVertexAttribArray(c),t.vertexAttribPointer(c,3,t.FLOAT,!1,3*12,l*12),t.vertexAttribDivisor(c,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),s.getMatrixView=function(f){return a[f]},s.setData=function(f,h){a[h].set(f,0)},s.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferSubData(t.ARRAY_BUFFER,0,i)},s}function ise(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var DB=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function AC(){var t=new DB(9);return DB!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function MB(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ase(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1],v=r[2],y=r[3],b=r[4],p=r[5],m=r[6],g=r[7],_=r[8];return t[0]=h*n+d*o+v*l,t[1]=h*i+d*u+v*c,t[2]=h*a+d*s+v*f,t[3]=y*n+b*o+p*l,t[4]=y*i+b*u+p*c,t[5]=y*a+b*s+p*f,t[6]=m*n+g*o+_*l,t[7]=m*i+g*u+_*c,t[8]=m*a+g*s+_*f,t}function kE(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t[6]=h*n+d*o+l,t[7]=h*i+d*u+c,t[8]=h*a+d*s+f,t}function IB(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*i+h*u,t[2]=d*a+h*s,t[3]=d*o-h*n,t[4]=d*u-h*i,t[5]=d*s-h*a,t[6]=l,t[7]=c,t[8]=f,t}function wI(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function ose(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var use=function(){function t(e,r,n,i){Sh(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,r,r),this.scratch=i(e,r,this.texHeight,"scratch")}return Oh(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,a=this.texHeight,o=this.texSize,u=a/i,s=n*u,l=i*u;return s>o&&(u=o/n,s=n*u,l=i*u),{scale:u,texW:s,texH:l}}},{key:"draw",value:function(r,n,i){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,u=this.texRows,s=this.texHeight,l=this.getScale(n),c=l.scale,f=l.texW,h=l.texH,d=function(g,_){if(i&&_){var E=_.context,T=g.x,w=g.row,S=T,C=s*w;E.save(),E.translate(S,C),E.scale(c,c),i(E,n),E.restore()}},v=[null,null],y=function(){d(a.freePointer,a.canvas),v[0]={x:a.freePointer.x,y:a.freePointer.row*s,w:f,h},v[1]={x:a.freePointer.x+f,y:a.freePointer.row*s,w:0,h},a.freePointer.x+=f,a.freePointer.x==o&&(a.freePointer.x=0,a.freePointer.row++)},b=function(){var g=a.scratch,_=a.canvas;g.clear(),d({x:0,row:0},g);var E=o-a.freePointer.x,T=f-E,w=s;{var S=a.freePointer.x,C=a.freePointer.row*s,R=E;_.context.drawImage(g,0,0,R,w,S,C,R,w),v[0]={x:S,y:C,w:R,h}}{var D=E,M=(a.freePointer.row+1)*s,I=T;_&&_.context.drawImage(g,D,0,I,w,0,M,I,w),v[1]={x:0,y:M,w:I,h}}a.freePointer.x=T,a.freePointer.row++},p=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+f<=o)y();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===o?(p(),y()):this.enableWrapping?b():(p(),y())}return this.keyToLocation.set(r,v),this.needsBuffer=!0,v}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,i=this.texRows,a=this.getScale(r),o=a.texW;return this.freePointer.x+o>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=ese(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),sse=function(){function t(e,r,n,i){Sh(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Oh(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas;return new use(r,n,i,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,i=this.texRows,a=this.createTextureCanvas,o=Math.floor(n/i);this.scratch=a(r,n,o,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i){var a=this.styleKeyToAtlas.get(r);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(n))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(r,n,i),this.styleKeyToAtlas.set(r,a)),a}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],a=new Map,o=null,u=Oo(this.atlases),s;try{var l=function(){var f=s.value,h=f.getKeys(),d=lse(n,h);if(d.size===0)return i.push(f),h.forEach(function(E){return a.set(E,f)}),1;o||(o=r._createAtlas(),i.push(o));var v=Oo(h),y;try{for(v.s();!(y=v.n()).done;){var b=y.value;if(!d.has(b)){var p=f.getOffsets(b),m=Ci(p,2),g=m[0],_=m[1];o.canFit({w:g.w+_.w,h:g.h})||(o.lock(),o=r._createAtlas(),i.push(o)),f.canvas&&(r._copyTextureToNewAtlas(b,f,o),a.set(b,o))}}}catch(E){v.e(E)}finally{v.f()}f.dispose()};for(u.s();!(s=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}this.atlases=i,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var a=n.getOffsets(r),o=Ci(a,2),u=o[0],s=o[1];if(s.w===0)i.draw(r,u,function(h){h.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),l.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,u.w,0,s.w,s.h);var c=u.w+s.w,f=u.h;i.draw(r,{w:c,h:f},function(h){h.drawImage(l,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function lse(t,e){return t.intersection?t.intersection(e):new Set(ES(t).filter(function(r){return e.has(r)}))}var cse=function(){function t(e,r){Sh(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Oh(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var i=this.globalOptions,a=i.webglTexSize,o=i.createTextureCanvas,u=n.texRows,s=this._cacheScratchCanvas(o),l=new sse(this.r,a,u,s);this.collections.set(r,l)}},{key:"addRenderType",value:function(r,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var a=this.collections.get(i),o=qt({type:r,atlasCollection:a},n);this.renderTypes.set(r,o)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,a=null;return function(o,u,s,l){return l?((!a||u!=n||s!=i)&&(n=u,i=s,a=r(o,u,s)),a):r(o,u,s)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=i.forceRedraw,o=a===void 0?!1:a,u=i.filterEle,s=u===void 0?function(){return!0}:u,l=i.filterType,c=l===void 0?function(){return!0}:l,f=!1,h=!1,d=Oo(r),v;try{for(d.s();!(v=d.n()).done;){var y=v.value;if(s(y)){var b=Oo(this.renderTypes.values()),p;try{var m=function(){var _=p.value,E=_.type;if(c(E)){var T=n.collections.get(_.collection),w=_.getKey(y),S=Array.isArray(w)?w:[w];if(o)S.forEach(function(M){return T.markKeyForGC(M)}),h=!0;else{var C=_.getID?_.getID(y):y.id(),R=n._key(E,C),D=n.typeAndIdToKey.get(R);D!==void 0&&!Que(S,D)&&(f=!0,n.typeAndIdToKey.delete(R),D.forEach(function(M){return T.markKeyForGC(M)}))}}};for(b.s();!(p=b.n()).done;)m()}catch(g){b.e(g)}finally{b.f()}}}}catch(g){d.e(g)}finally{d.f()}return h&&(this.gc(),f=!1),f}},{key:"gc",value:function(){var r=Oo(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.gc()}}catch(a){r.e(a)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,i,a){var o=this.renderTypes.get(n),u=this.collections.get(o.collection),s=!1,l=u.draw(a,i,function(h){o.drawClipped?(h.save(),h.beginPath(),h.rect(0,0,i.w,i.h),h.clip(),o.drawElement(h,r,i,!0,!0),h.restore()):o.drawElement(h,r,i,!0,!0),s=!0});if(s){var c=o.getID?o.getID(r):r.id(),f=this._key(n,c);this.typeAndIdToKey.has(f)?this.typeAndIdToKey.get(f).push(a):this.typeAndIdToKey.set(f,[a])}return l}},{key:"getAtlasInfo",value:function(r,n){var i=this,a=this.renderTypes.get(n),o=a.getKey(r),u=Array.isArray(o)?o:[o];return u.map(function(s){var l=a.getBoundingBox(r,s),c=i.getOrCreateAtlas(r,n,l,s),f=c.getOffsets(s),h=Ci(f,2),d=h[0],v=h[1];return{atlas:c,tex:d,tex1:d,tex2:v,bb:l}})}},{key:"getDebugInfo",value:function(){var r=[],n=Oo(this.collections),i;try{for(n.s();!(i=n.n()).done;){var a=Ci(i.value,2),o=a[0],u=a[1],s=u.getCounts(),l=s.keyCount,c=s.atlasCount;r.push({type:o,keyCount:l,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return r}}])}(),fse=function(){function t(e){Sh(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Oh(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])}(),hse=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,dse=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,vse=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,pse=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,G0={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},NS={IGNORE:1,USE_BB:2},RC=0,NB=1,kB=2,PC=3,Up=4,Iw=5,Hm=6,Ym=7,gse=function(){function t(e,r,n){Sh(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=Xue,this.atlasManager=new cse(e,n),this.batchManager=new fse(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(G0.SCREEN),this.pickingProgram=this._createShaderProgram(G0.PICKING),this.vao=this._createVAO()}return Oh(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,a=this.atlasManager;return i?a.invalidate(r,{filterType:function(u){return u===i},forceRedraw:!0}):a.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(RC,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Up," || aVertType == ").concat(Ym,` 
             || aVertType == `).concat(Iw," || aVertType == ").concat(Hm,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(NB,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(kB,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(PC,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),a=this.batchManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(a.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(hse,`
      `).concat(dse,`
      `).concat(vse,`
      `).concat(pse,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(RC,`) {
          // look up the texel from the texture unit
          `).concat(a.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(PC,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Up,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Up," || vVertType == ").concat(Ym,` 
          || vVertType == `).concat(Iw," || vVertType == ").concat(Hm,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Up,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Ym,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Ym,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=Wue(n,i,o);u.aPosition=n.getAttribLocation(u,"aPosition"),u.aIndex=n.getAttribLocation(u,"aIndex"),u.aVertType=n.getAttribLocation(u,"aVertType"),u.aTransform=n.getAttribLocation(u,"aTransform"),u.aAtlasId=n.getAttribLocation(u,"aAtlasId"),u.aTex=n.getAttribLocation(u,"aTex"),u.aPointAPointB=n.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=n.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=n.getAttribLocation(u,"aLineWidth"),u.aColor=n.getAttribLocation(u,"aColor"),u.aCornerRadius=n.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=n.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=n.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=n.getUniformLocation(u,"uAtlasSize"),u.uBGColor=n.getUniformLocation(u,"uBGColor"),u.uZoom=n.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var s=0;s<this.batchManager.getMaxAtlasesPerBatch();s++)u.uTextures.push(n.getUniformLocation(u,"uTexture".concat(s)));return u}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,i=this.gl,a=this.program,o=i.createVertexArray();return i.bindVertexArray(o),rse(i,"vec2",a.aPosition,r),this.transformBuffer=nse(i,n,a.aTransform),this.indexBuffer=Ys(i,n,"vec4",a.aIndex),this.vertTypeBuffer=Ys(i,n,"int",a.aVertType),this.atlasIdBuffer=Ys(i,n,"int",a.aAtlasId),this.texBuffer=Ys(i,n,"vec4",a.aTex),this.pointAPointBBuffer=Ys(i,n,"vec4",a.aPointAPointB),this.pointCPointDBuffer=Ys(i,n,"vec4",a.aPointCPointD),this.lineWidthBuffer=Ys(i,n,"vec2",a.aLineWidth),this.colorBuffer=Ys(i,n,"vec4",a.aColor),this.cornerRadiusBuffer=Ys(i,n,"vec4",a.aCornerRadius),this.borderColorBuffer=Ys(i,n,"vec4",a.aBorderColor),i.bindVertexArray(null),o}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return kf(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G0.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,i){var a=this.atlasManager,o=this.batchManager,u=a.getRenderTypeOpts(i);if(this._isVisible(r,u)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&u.getTexPickingMode){var s=u.getTexPickingMode(r);if(s===NS.IGNORE)return;if(s==NS.USE_BB){this.drawPickingRectangle(r,n,i);return}}var l=a.getAtlasInfo(r,i),c=Oo(l),f;try{for(c.s();!(f=c.n()).done;){var h=f.value,d=h.atlas,v=h.tex1,y=h.tex2;o.canAddToCurrentBatch(d)||this.endBatch();for(var b=o.getAtlasIndexForBatch(d),p=0,m=[[v,!0],[y,!1]];p<m.length;p++){var g=Ci(m[p],2),_=g[0],E=g[1];if(_.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=RC;var w=this.indexBuffer.getView(T);Bp(n,w);var S=this.atlasIdBuffer.getView(T);S[0]=b;var C=this.texBuffer.getView(T);C[0]=_.x,C[1]=_.y,C[2]=_.w,C[3]=_.h;var R=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(r,R,u,h,E),this.instanceCount++,E||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(D){c.e(D)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(r,n,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(i.shapeProps&&i.shapeProps.padding&&(u=r.pstyle(i.shapeProps.padding).pfValue),a){var s=a.bb,l=a.tex1,c=a.tex2,f=l.w/(l.w+c.w);o||(f=1-f);var h=this._getAdjustedBB(s,u,o,f);this._applyTransformMatrix(n,h,i,r)}else{var d=i.getBoundingBox(r),v=this._getAdjustedBB(d,u,!0,1);this._applyTransformMatrix(n,v,i,r)}}},{key:"_applyTransformMatrix",value:function(r,n,i,a){var o,u;MB(r);var s=i.getRotation?i.getRotation(a):0;if(s!==0){var l=i.getRotationPoint(a),c=l.x,f=l.y;kE(r,r,[c,f]),IB(r,r,s);var h=i.getRotationOffset(a);o=h.x+(n.xOffset||0),u=h.y+(n.yOffset||0)}else o=n.x1,u=n.y1;kE(r,r,[o,u]),wI(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,i,a){var o=r.x1,u=r.y1,s=r.w,l=r.h,c=r.yOffset;n&&(o-=n,u-=n,s+=2*n,l+=2*n);var f=0,h=s*a;return i&&a<1?s=h:!i&&a<1&&(f=s-h,o+=f,s=h),{x1:o,y1:u,w:s,h:l,xOffset:f,yOffset:c}}},{key:"drawPickingRectangle",value:function(r,n,i){var a=this.atlasManager.getRenderTypeOpts(i),o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=Up;var u=this.indexBuffer.getView(o);Bp(n,u);var s=this.colorBuffer.getView(o);Ed([0,0,0],1,s);var l=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(r,l,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,i){var a=this.simpleShapeOptions.get(i);if(this._isVisible(r,a)){var o=a.shapeProps,u=this._getVertTypeForShape(r,o.shape);if(u===void 0||a.isSimple&&!a.isSimple(r)){this.drawTexture(r,n,i);return}var s=this.instanceCount;if(this.vertTypeBuffer.getView(s)[0]=u,u===Iw||u===Hm){var l=a.getBoundingBox(r),c=this._getCornerRadius(r,o.radius,l),f=this.cornerRadiusBuffer.getView(s);f[0]=c,f[1]=c,f[2]=c,f[3]=c,u===Hm&&(f[0]=0,f[2]=0)}var h=this.indexBuffer.getView(s);Bp(n,h);var d=r.pstyle(o.color).value,v=r.pstyle(o.opacity).value,y=this.colorBuffer.getView(s);Ed(d,v,y);var b=this.lineWidthBuffer.getView(s);if(b[0]=0,b[1]=0,o.border){var p=r.pstyle("border-width").value;if(p>0){var m=r.pstyle("border-color").value,g=r.pstyle("border-opacity").value,_=this.borderColorBuffer.getView(s);Ed(m,g,_);var E=r.pstyle("border-position").value;if(E==="inside")b[0]=0,b[1]=-p;else if(E==="outside")b[0]=p,b[1]=0;else{var T=p/2;b[0]=T,b[1]=-T}}}var w=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,w,a),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var i=r.pstyle(n).value;switch(i){case"rectangle":return Up;case"ellipse":return Ym;case"roundrectangle":case"round-rectangle":return Iw;case"bottom-round-rectangle":return Hm;default:return}}},{key:"_getCornerRadius",value:function(r,n,i){var a=i.w,o=i.h;if(r.pstyle(n).value==="auto")return hh(a,o);var u=r.pstyle(n).pfValue,s=a/2,l=o/2;return Math.min(u,l,s)}},{key:"drawEdgeArrow",value:function(r,n,i){if(r.visible()){var a=r._private.rscratch,o,u,s;if(i==="source"?(o=a.arrowStartX,u=a.arrowStartY,s=a.srcArrowAngle):(o=a.arrowEndX,u=a.arrowEndY,s=a.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(u)||u==null||isNaN(s)||s==null)){var l=r.pstyle(i+"-arrow-shape").value;if(l!=="none"){var c=r.pstyle(i+"-arrow-color").value,f=r.pstyle("opacity").value,h=r.pstyle("line-opacity").value,d=f*h,v=r.pstyle("width").pfValue,y=r.pstyle("arrow-scale").value,b=this.r.getArrowWidth(v,y),p=this.instanceCount,m=this.transformBuffer.getMatrixView(p);MB(m),kE(m,m,[o,u]),wI(m,m,[b,b]),IB(m,m,s),this.vertTypeBuffer.getView(p)[0]=PC;var g=this.indexBuffer.getView(p);Bp(n,g);var _=this.colorBuffer.getView(p);Ed(c,d,_),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var i=this._getEdgePoints(r);if(i){var a=r.pstyle("opacity").value,o=r.pstyle("line-opacity").value,u=r.pstyle("width").pfValue,s=r.pstyle("line-color").value,l=a*o;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=NB;var f=this.indexBuffer.getView(c);Bp(n,f);var h=this.colorBuffer.getView(c);Ed(s,l,h);var d=this.lineWidthBuffer.getView(c);d[0]=u;var v=this.pointAPointBBuffer.getView(c);v[0]=i[0],v[1]=i[1],v[2]=i[2],v[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<i.length-2;y+=2){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=kB;var p=this.indexBuffer.getView(b);Bp(n,p);var m=this.colorBuffer.getView(b);Ed(s,l,m);var g=this.lineWidthBuffer.getView(b);g[0]=u;var _=i[y-2],E=i[y-1],T=i[y],w=i[y+1],S=i[y+2],C=i[y+3],R=i[y+4],D=i[y+5];y==0&&(_=2*T-S+.001,E=2*w-C+.001),y==i.length-4&&(R=2*S-T+.001,D=2*C-w+.001);var M=this.pointAPointBBuffer.getView(b);M[0]=_,M[1]=E,M[2]=T,M[3]=w;var I=this.pointCPointDBuffer.getView(b);I[0]=S,I[1]=C,I[2]=R,I[3]=D,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var i=n.allpts;if(i.length==4)return i;var a=this._getNumSegments(r);return this._getCurveSegmentPoints(i,a)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),a=0;a<=n;a++)if(a==0)i[0]=r[0],i[1]=r[1];else if(a==n)i[a*2]=r[r.length-2],i[a*2+1]=r[r.length-1];else{var o=a/n;this._setCurvePoint(r,o,i,a*2)}return i}},{key:"_setCurvePoint",value:function(r,n,i,a){if(r.length<=2)i[a]=r[0],i[a+1]=r[1];else{for(var o=Array(r.length-2),u=0;u<o.length;u+=2){var s=(1-n)*r[u]+n*r[u+2],l=(1-n)*r[u+1]+n*r[u+3];o[u]=s,o[u+1]=l}return this._setCurvePoint(o,n,i,a)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,a=this.instanceCount;if(a!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(o),r.bindVertexArray(n);var u=Oo(this.buffers),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;l.bufferSubData(a)}}catch(v){u.e(v)}finally{u.f()}for(var c=this.batchManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(r);for(var h=0;h<c.length;h++)r.activeTexture(r.TEXTURE0+h),r.bindTexture(r.TEXTURE_2D,c[h].texture),r.uniform1i(o.uTextures[h],h);r.uniform1f(o.uZoom,$ue(this.r)),r.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(o.uAtlasSize,this.batchManager.getAtlasSize());var d=Ed(this.bgColor,1);r.uniform4fv(o.uBGColor,d),r.drawArraysInstanced(r.TRIANGLES,0,i,a),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(o,u){return o+u.atlasCount},0),i=this.batchDebugInfo,a=i.reduce(function(o,u){return o+u.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:a}}}])}(),HH={};HH.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=yse(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=ise(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new gse(r,n,t);var i=function(f){return function(h){return r.getTextAngle(h,f)}},a=function(f){return function(h){var d=h.pstyle(f);return d&&d.value}},o=function(f){return function(h){return h.pstyle("".concat(f,"-opacity")).value>0}},u=function(f){var h=f.pstyle("text-events").strValue==="yes";return h?NS.USE_BB:NS.IGNORE},s=function(f){var h=f.position(),d=h.x,v=h.y,y=f.outerWidth(),b=f.outerHeight();return{w:y,h:b,x1:d-y/2,y1:v-b/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:s,isSimple:Zue,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:s,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:s,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:DC(e.getLabelKey,null),getBoundingBox:MC(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:DC(e.getSourceLabelKey,"source"),getBoundingBox:MC(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:DC(e.getTargetLabelKey,"target"),getBoundingBox:MC(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:a("target-label")});var l=E_(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,f){var h=!1;f&&f.length>0&&(h|=r.drawing.invalidate(f)),h&&l()}),mse(r)};function yse(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return bV(r)}function YH(t,e){var r=t._private.rscratch;return wo(r,"labelWrapCachedLines",e)||[]}var DC=function(e,r){return function(n){var i=e(n),a=YH(n,r);return a.length>1?a.map(function(o,u){return"".concat(i,"_").concat(u)}):i}},MC=function(e,r){return function(n,i){var a=e(n);if(typeof i=="string"){var o=i.indexOf("_");if(o>0){var u=Number(i.substring(o+1)),s=YH(n,r),l=a.h/s.length,c=l*u,f=a.y1+c;return{x1:a.x1,w:a.w,y1:f,h:l,yOffset:c}}}return a}};function mse(t){{var e=t.render;t.render=function(a){a=a||{};var o=t.cy;t.webgl&&(o.zoom()>BH?(bse(t),e.call(t,a)):(_se(t),XH(t,a,G0.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(a){r.call(t,a),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(a,o,u,s){return xse(t,a,o)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(a,o){i.call(t,a,o),a==="viewport"||a==="bounds"?t.pickingFrameBuffer.needsDraw=!0:a==="background"&&t.drawing.invalidate(o,{type:"node-body"})}}}function bse(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function _se(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function wse(t){var e=t.canvasWidth,r=t.canvasHeight,n=Xk(t),i=n.pan,a=n.zoom,o=AC();kE(o,o,[i.x,i.y]),wI(o,o,[a,a]);var u=AC();ose(u,e,r);var s=AC();return ase(s,u,o),s}function WH(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=Xk(t),a=i.pan,o=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(a.x,a.y),e.scale(o,o)}function Ese(t,e){t.drawSelectionRectangle(e,function(r){return WH(t,r)})}function Sse(t){var e=t.data.contexts[t.NODE];e.save(),WH(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function Ose(t){var e=function(i,a,o){for(var u=i.atlasManager.getAtlasCollection(a),s=t.data.contexts[t.NODE],l=u.atlases,c=0;c<l.length;c++){var f=l[c],h=f.canvas;if(h){var d=h.width,v=h.height,y=d*c,b=h.height*o,p=.4;s.save(),s.scale(p,p),s.drawImage(h,y,b),s.strokeStyle="black",s.rect(y,b,d,v),s.stroke(),s.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function Tse(t,e,r,n,i){var a,o,u,s,l=Xk(t),c=l.pan,f=l.zoom;{var h=Kue(t,c,f,e,r),d=Ci(h,2),v=d[0],y=d[1],b=6;a=v-b/2,o=y-b/2,u=b,s=b}if(u===0||s===0)return[];var p=t.data.contexts[t.WEBGL];p.bindFramebuffer(p.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(p.viewport(0,0,p.canvas.width,p.canvas.height),XH(t,null,G0.PICKING),t.pickingFrameBuffer.needsDraw=!1);var m=u*s,g=new Uint8Array(m*4);p.readPixels(a,o,u,s,p.RGBA,p.UNSIGNED_BYTE,g),p.bindFramebuffer(p.FRAMEBUFFER,null);for(var _=new Set,E=0;E<m;E++){var T=g.slice(E*4,E*4+4),w=Jue(T)-1;w>=0&&_.add(w)}return _}function xse(t,e,r){var n=Tse(t,e,r),i=t.getCachedZSortedEles(),a,o,u=Oo(n),s;try{for(u.s();!(s=u.n()).done;){var l=s.value,c=i[l];if(!a&&c.isNode()&&(a=c),!o&&c.isEdge()&&(o=c),a&&o)break}}catch(f){u.e(f)}finally{u.f()}return[a,o].filter(Boolean)}function IC(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function XH(t,e,r){var n;t.webglDebug&&(n=performance.now());var i=t.drawing,a=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&Ese(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var o=t.data.contexts[t.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var u=wse(t),s=t.getCachedZSortedEles();if(a=s.length,i.startFrame(u,r),r.screen){for(var l=0;l<s.nondrag.length;l++)IC(t,l,s.nondrag[l]);for(var c=0;c<s.drag.length;c++)IC(t,c,s.drag[c])}else if(r.picking)for(var f=0;f<s.length;f++)IC(t,f,s[f]);i.endFrame(),r.screen&&t.webglDebugShowAtlases&&(Sse(t),Ose(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var h=performance.now(),d=!1,v=Math.ceil(h-n),y=i.getDebugInfo(),b=["".concat(a," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(d)console.log("WebGL (".concat(r.name,") - time ").concat(v,"ms, ").concat(b));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(v,"ms")),console.log("Totals:"),console.log("  ".concat(b)),console.log("Texture Atlases Used:");var p=y.atlasInfo,m=Oo(p),g;try{for(m.s();!(g=m.n()).done;){var _=g.value;console.log("  ".concat(_.type,": ").concat(_.keyCount," keys, ").concat(_.atlasCount," atlases"))}}catch(E){m.e(E)}finally{m.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,i.gc())}var Ch={};Ch.drawPolygonPath=function(t,e,r,n,i,a){var o=n/2,u=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*a[0],r+u*a[1]);for(var s=1;s<a.length/2;s++)t.lineTo(e+o*a[s*2],r+u*a[s*2+1]);t.closePath()};Ch.drawRoundPolygonPath=function(t,e,r,n,i,a,o){o.forEach(function(u){return RH(t,u)}),t.closePath()};Ch.drawRoundRectanglePath=function(t,e,r,n,i,a){var o=n/2,u=i/2,s=a==="auto"?hh(n,i):Math.min(a,u,o);t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.arcTo(e+o,r-u,e+o,r,s),t.arcTo(e+o,r+u,e,r+u,s),t.arcTo(e-o,r+u,e-o,r,s),t.arcTo(e-o,r-u,e,r-u,s),t.lineTo(e,r-u),t.closePath()};Ch.drawBottomRoundRectanglePath=function(t,e,r,n,i,a){var o=n/2,u=i/2,s=a==="auto"?hh(n,i):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.lineTo(e+o,r-u),t.lineTo(e+o,r),t.arcTo(e+o,r+u,e,r+u,s),t.arcTo(e-o,r+u,e-o,r,s),t.lineTo(e-o,r-u),t.lineTo(e,r-u),t.closePath()};Ch.drawCutRectanglePath=function(t,e,r,n,i,a,o){var u=n/2,s=i/2,l=o==="auto"?Nk():o;t.beginPath&&t.beginPath(),t.moveTo(e-u+l,r-s),t.lineTo(e+u-l,r-s),t.lineTo(e+u,r-s+l),t.lineTo(e+u,r+s-l),t.lineTo(e+u-l,r+s),t.lineTo(e-u+l,r+s),t.lineTo(e-u,r+s-l),t.lineTo(e-u,r-s+l),t.closePath()};Ch.drawBarrelPath=function(t,e,r,n,i){var a=n/2,o=i/2,u=e-a,s=e+a,l=r-o,c=r+o,f=uI(n,i),h=f.widthOffset,d=f.heightOffset,v=f.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(u,l+d),t.lineTo(u,c-d),t.quadraticCurveTo(u+v,c,u+h,c),t.lineTo(s-h,c),t.quadraticCurveTo(s-v,c,s,c-d),t.lineTo(s,l+d),t.quadraticCurveTo(s-v,l,s-h,l),t.lineTo(u+h,l),t.quadraticCurveTo(u+v,l,u,l+d),t.closePath()};var LB=Math.sin(0),jB=Math.cos(0),EI={},SI={},$H=Math.PI/40;for(var Fp=0*Math.PI;Fp<2*Math.PI;Fp+=$H)EI[Fp]=Math.sin(Fp),SI[Fp]=Math.cos(Fp);Ch.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,u=n/2,s=i/2,l=0*Math.PI;l<2*Math.PI;l+=$H)a=e-u*EI[l]*LB+u*SI[l]*jB,o=r+s*SI[l]*LB+s*EI[l]*jB,l===0?t.moveTo(a,o):t.lineTo(a,o);t.closePath()};var A_={};A_.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};A_.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=t.full?Math.ceil(n.w):i[2],o=t.full?Math.ceil(n.h):i[3],u=st(t.maxWidth)||st(t.maxHeight),s=this.getPixelRatio(),l=1;if(t.scale!==void 0)a*=t.scale,o*=t.scale,l=t.scale;else if(u){var c=1/0,f=1/0;st(t.maxWidth)&&(c=l*t.maxWidth/a),st(t.maxHeight)&&(f=l*t.maxHeight/o),l=Math.min(c,f),a*=l,o*=l}u||(a*=s,o*=s,l*=s);var h=document.createElement("canvas");h.width=a,h.height=o,h.style.width=a+"px",h.style.height=o+"px";var d=h.getContext("2d");if(a>0&&o>0){d.clearRect(0,0,a,o),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,v),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var y=e.pan(),b={x:y.x*l,y:y.y*l};l*=e.zoom(),d.translate(b.x,b.y),d.scale(l,l),this.drawElements(d,v),d.scale(1/l,1/l),d.translate(-b.x,-b.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,a,o),d.fill())}return h};function Cse(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:e})}function BB(t){var e=t.indexOf(",");return t.substr(e+1)}function KH(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new by(function(i,a){try{e.toBlob(function(o){o!=null?i(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){a(o)}});case"blob":return Cse(BB(n()),r);case"base64":return BB(n());case"base64uri":default:return n()}}A_.png=function(t){return KH(t,this.bufferCanvasImage(t),"image/png")};A_.jpg=function(t){return KH(t,this.bufferCanvasImage(t),"image/jpeg")};var ZH={};ZH.nodeShapeImpl=function(t,e,r,n,i,a,o,u){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,a);case"polygon":return this.drawPolygonPath(e,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,a,o,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,a,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,a,o,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,a,u);case"barrel":return this.drawBarrelPath(e,r,n,i,a)}};var Ase=QH,Sr=QH.prototype;Sr.CANVAS_LAYERS=3;Sr.SELECT_BOX=0;Sr.DRAG=1;Sr.NODE=2;Sr.WEBGL=3;Sr.CANVAS_TYPES=["2d","2d","2d","webgl2"];Sr.BUFFER_COUNT=3;Sr.TEXTURE_BUFFER=0;Sr.MOTIONBLUR_BUFFER_NODE=1;Sr.MOTIONBLUR_BUFFER_DRAG=2;function QH(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Sr.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Sr.CANVAS_LAYERS),contexts:new Array(Sr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Sr.CANVAS_LAYERS),bufferCanvases:new Array(Sr.BUFFER_COUNT),bufferContexts:new Array(Sr.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var o=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var u=t.cy.container();u.appendChild(e.data.canvasContainer),u.style[i]=a;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Ere()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<Sr.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=n.createElement("canvas"),f=Sr.CANVAS_TYPES[l];e.data.contexts[l]=c.getContext(f),e.data.contexts[l]||Vn("Could not create canvas of type "+f),Object.keys(s).forEach(function(te){c.style[te]=s[te]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(Sr.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Sr.NODE].setAttribute("data-id","layer"+Sr.NODE+"-node"),e.data.canvases[Sr.SELECT_BOX].setAttribute("data-id","layer"+Sr.SELECT_BOX+"-selectbox"),e.data.canvases[Sr.DRAG].setAttribute("data-id","layer"+Sr.DRAG+"-drag"),e.data.canvases[Sr.WEBGL]&&e.data.canvases[Sr.WEBGL].setAttribute("data-id","layer"+Sr.WEBGL+"-webgl");for(var l=0;l<Sr.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var h=eo(),d=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},v=function(Q){return{x:-Q.w/2,y:-Q.h/2}},y=function(Q){var ee=Q[0]._private,ae=ee.oldBackgroundTimestamp===ee.backgroundTimestamp;return!ae},b=function(Q){return Q[0]._private.nodeKey},p=function(Q){return Q[0]._private.labelStyleKey},m=function(Q){return Q[0]._private.sourceLabelStyleKey},g=function(Q){return Q[0]._private.targetLabelStyleKey},_=function(Q,ee,ae,pe,_e){return e.drawElement(Q,ee,ae,!1,!1,_e)},E=function(Q,ee,ae,pe,_e){return e.drawElementText(Q,ee,ae,pe,"main",_e)},T=function(Q,ee,ae,pe,_e){return e.drawElementText(Q,ee,ae,pe,"source",_e)},w=function(Q,ee,ae,pe,_e){return e.drawElementText(Q,ee,ae,pe,"target",_e)},S=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},C=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||h},R=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||h},D=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||h},M=function(Q,ee){return ee},I=function(Q){return d(S(Q))},k=function(Q,ee,ae){var pe=Q?Q+"-":"";return{x:ee.x+ae.pstyle(pe+"text-margin-x").pfValue,y:ee.y+ae.pstyle(pe+"text-margin-y").pfValue}},U=function(Q,ee,ae){var pe=Q[0]._private.rscratch;return{x:pe[ee],y:pe[ae]}},F=function(Q){return k("",U(Q,"labelX","labelY"),Q)},B=function(Q){return k("source",U(Q,"sourceLabelX","sourceLabelY"),Q)},z=function(Q){return k("target",U(Q,"targetLabelX","targetLabelY"),Q)},H=function(Q){return v(S(Q))},Y=function(Q){return v(R(Q))},W=function(Q){return v(D(Q))},Z=function(Q){var ee=C(Q),ae=v(C(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":ae.x=-ee.w-(ee.leftPad||0);break;case"right":ae.x=-(ee.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":ae.y=-ee.h-(ee.topPad||0);break;case"bottom":ae.y=-(ee.botPad||0);break}}return ae},le=e.data.eleTxrCache=new h0(e,{getKey:b,doesEleInvalidateKey:y,drawElement:_,getBoundingBox:S,getRotationPoint:I,getRotationOffset:H,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ce=e.data.lblTxrCache=new h0(e,{getKey:p,drawElement:E,getBoundingBox:C,getRotationPoint:F,getRotationOffset:Z,isVisible:M}),ue=e.data.slbTxrCache=new h0(e,{getKey:m,drawElement:T,getBoundingBox:R,getRotationPoint:B,getRotationOffset:Y,isVisible:M}),de=e.data.tlbTxrCache=new h0(e,{getKey:g,drawElement:w,getBoundingBox:D,getRotationPoint:z,getRotationOffset:W,isVisible:M}),he=e.data.lyrTxrCache=new UH(e);e.onUpdateEleCalcs(function(Q,ee){le.invalidateElements(ee),ce.invalidateElements(ee),ue.invalidateElements(ee),de.invalidateElements(ee),he.invalidateElements(ee);for(var ae=0;ae<ee.length;ae++){var pe=ee[ae]._private;pe.oldBackgroundTimestamp=pe.backgroundTimestamp}});var fe=function(Q){for(var ee=0;ee<Q.length;ee++)he.enqueueElementRefinement(Q[ee].ele)};le.onDequeue(fe),ce.onDequeue(fe),ue.onDequeue(fe),de.onDequeue(fe),t.webgl&&e.initWebgl(t,{getStyleKey:b,getLabelKey:p,getSourceLabelKey:m,getTargetLabelKey:g,drawElement:_,drawLabel:E,drawSourceLabel:T,drawTargetLabel:w,getElementBox:S,getLabelBox:C,getSourceLabelBox:R,getTargetLabelBox:D,getElementRotationPoint:I,getElementRotationOffset:H,getLabelRotationPoint:F,getSourceLabelRotationPoint:B,getTargetLabelRotationPoint:z,getLabelRotationOffset:Z,getSourceLabelRotationOffset:Y,getTargetLabelRotationOffset:W})}Sr.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Sr.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Sr.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Sr.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var Rse=typeof Path2D<"u";Sr.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Sr.usePaths=function(){return Rse&&this.pathsEnabled};Sr.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Sr.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Sr.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Ui(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[FH,gl,Sc,Wk,mv,xh,ro,HH,Ch,A_,ZH].forEach(function(t){qt(Sr,t)});var Pse=[{name:"null",impl:xH},{name:"base",impl:LH},{name:"canvas",impl:Ase}],Dse=[{type:"layout",extensions:rue},{type:"renderer",extensions:Pse}],JH={},eY={};function tY(t,e,r){var n=r,i=function(S){ln("Can not register `"+e+"` for `"+t+"` since `"+S+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Hb.prototype[e])return i(e);Hb.prototype[e]=r}else if(t==="collection"){if(ba.prototype[e])return i(e);ba.prototype[e]=r}else if(t==="layout"){for(var a=function(S){this.options=S,r.call(this,S),Wr(this._private)||(this._private={}),this._private.cy=S.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),u=[],s=0;s<u.length;s++){var l=u[s];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var w=this.options;if(w&&w.animate){var S=this.animations;if(S)for(var C=0;C<S.length;C++)S[C].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var f=function(S){return S._private.cy},h={addEventFields:function(S,C){C.layout=S,C.cy=f(S),C.target=S},bubble:function(){return!0},parent:function(S){return f(S)}};qt(o,{createEmitter:function(){return this._private.emitter=new DO(h,this),this},emitter:function(){return this._private.emitter},on:function(S,C){return this.emitter().on(S,C),this},one:function(S,C){return this.emitter().one(S,C),this},once:function(S,C){return this.emitter().one(S,C),this},removeListener:function(S,C){return this.emitter().removeListener(S,C),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(S,C){return this.emitter().emit(S,C),this}}),sn.eventAliasesOn(o),n=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var d=rY("renderer","base"),v=d.prototype,y=r,b=r.prototype,p=function(){d.apply(this,arguments),y.apply(this,arguments)},m=p.prototype;for(var g in v){var _=v[g],E=b[g]!=null;if(E)return i(g);m[g]=_}for(var T in b)m[T]=b[T];v.clientFunctions.forEach(function(w){m[w]=m[w]||function(){Vn("Renderer does not implement `renderer."+w+"()` on its prototype")}}),n=p}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Vn(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return _V({map:JH,keys:[t,e],value:n})}function rY(t,e){return wV({map:JH,keys:[t,e]})}function Mse(t,e,r,n,i){return _V({map:eY,keys:[t,e,r,n],value:i})}function Ise(t,e,r,n){return wV({map:eY,keys:[t,e,r,n]})}var OI=function(){if(arguments.length===2)return rY.apply(null,arguments);if(arguments.length===3)return tY.apply(null,arguments);if(arguments.length===4)return Ise.apply(null,arguments);if(arguments.length===5)return Mse.apply(null,arguments);Vn("Invalid extension access syntax")};Hb.prototype.extension=OI;Dse.forEach(function(t){t.extensions.forEach(function(e){tY(t.type,e.name,e.impl)})});var kS=function(){if(!(this instanceof kS))return new kS;this.length=0},iv=kS.prototype;iv.instanceString=function(){return"stylesheet"};iv.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};iv.css=function(t,e){var r=this.length-1;if(Dt(t))this[r].properties.push({name:t,value:e});else if(Wr(t))for(var n=t,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],u=n[o];if(u!=null){var s=ea.properties[o]||ea.properties[wO(o)];if(s!=null){var l=s.name,c=u;this[r].properties.push({name:l,value:c})}}}return this};iv.style=iv.css;iv.generateStyle=function(t){var e=new ea(t);return this.appendToStyle(e)};iv.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var a=0;a<i.length;a++){var o=i[a];t.css(o.name,o.value)}}return t};var Nse="3.33.1",gh=function(e){if(e===void 0&&(e={}),Wr(e))return new Hb(e);if(Dt(e))return OI.apply(OI,arguments)};gh.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(gh),t.apply(null,e),this};gh.warnings=function(t){return AV(t)};gh.version=Nse;gh.stylesheet=gh.Stylesheet=kS;var nY={exports:{}},NC={exports:{}},kC={exports:{}},UB;function kse(){return UB||(UB=1,function(t,e){(function(n,i){t.exports=i()})(qr,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,o,u){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:u})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=26)}([function(r,n,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){var a=i(2),o=i(8),u=i(9);function s(c,f,h){a.call(this,h),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=h,this.bendpoints=[],this.source=c,this.target=f}s.prototype=Object.create(a.prototype);for(var l in a)s[l]=a[l];s.prototype.getSource=function(){return this.source},s.prototype.getTarget=function(){return this.target},s.prototype.isInterGraph=function(){return this.isInterGraph},s.prototype.getLength=function(){return this.length},s.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},s.prototype.getBendpoints=function(){return this.bendpoints},s.prototype.getLca=function(){return this.lca},s.prototype.getSourceInLca=function(){return this.sourceInLca},s.prototype.getTargetInLca=function(){return this.targetInLca},s.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},s.prototype.getOtherEndInGraph=function(c,f){for(var h=this.getOtherEnd(c),d=f.getGraphManager().getRoot();;){if(h.getOwner()==f)return h;if(h.getOwner()==d)break;h=h.getOwner().getParent()}return null},s.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},s.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=s},function(r,n,i){function a(o){this.vGraphObject=o}r.exports=a},function(r,n,i){var a=i(2),o=i(10),u=i(13),s=i(0),l=i(16),c=i(4);function f(d,v,y,b){y==null&&b==null&&(b=v),a.call(this,b),d.graphManager!=null&&(d=d.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=d,y!=null&&v!=null?this.rect=new u(v.x,v.y,y.width,y.height):this.rect=new u}f.prototype=Object.create(a.prototype);for(var h in a)f[h]=a[h];f.prototype.getEdges=function(){return this.edges},f.prototype.getChild=function(){return this.child},f.prototype.getOwner=function(){return this.owner},f.prototype.getWidth=function(){return this.rect.width},f.prototype.setWidth=function(d){this.rect.width=d},f.prototype.getHeight=function(){return this.rect.height},f.prototype.setHeight=function(d){this.rect.height=d},f.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},f.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},f.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},f.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},f.prototype.getRect=function(){return this.rect},f.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},f.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},f.prototype.setRect=function(d,v){this.rect.x=d.x,this.rect.y=d.y,this.rect.width=v.width,this.rect.height=v.height},f.prototype.setCenter=function(d,v){this.rect.x=d-this.rect.width/2,this.rect.y=v-this.rect.height/2},f.prototype.setLocation=function(d,v){this.rect.x=d,this.rect.y=v},f.prototype.moveBy=function(d,v){this.rect.x+=d,this.rect.y+=v},f.prototype.getEdgeListToNode=function(d){var v=[],y=this;return y.edges.forEach(function(b){if(b.target==d){if(b.source!=y)throw"Incorrect edge source!";v.push(b)}}),v},f.prototype.getEdgesBetween=function(d){var v=[],y=this;return y.edges.forEach(function(b){if(!(b.source==y||b.target==y))throw"Incorrect edge source and/or target";(b.target==d||b.source==d)&&v.push(b)}),v},f.prototype.getNeighborsList=function(){var d=new Set,v=this;return v.edges.forEach(function(y){if(y.source==v)d.add(y.target);else{if(y.target!=v)throw"Incorrect incidency!";d.add(y.source)}}),d},f.prototype.withChildren=function(){var d=new Set,v,y;if(d.add(this),this.child!=null)for(var b=this.child.getNodes(),p=0;p<b.length;p++)v=b[p],y=v.withChildren(),y.forEach(function(m){d.add(m)});return d},f.prototype.getNoOfChildren=function(){var d=0,v;if(this.child==null)d=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)v=y[b],d+=v.getNoOfChildren();return d==0&&(d=1),d},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},f.prototype.scatter=function(){var d,v,y=-s.INITIAL_WORLD_BOUNDARY,b=s.INITIAL_WORLD_BOUNDARY;d=s.WORLD_CENTER_X+l.nextDouble()*(b-y)+y;var p=-s.INITIAL_WORLD_BOUNDARY,m=s.INITIAL_WORLD_BOUNDARY;v=s.WORLD_CENTER_Y+l.nextDouble()*(m-p)+p,this.rect.x=d,this.rect.y=v},f.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var d=this.getChild();if(d.updateBounds(!0),this.rect.x=d.getLeft(),this.rect.y=d.getTop(),this.setWidth(d.getRight()-d.getLeft()),this.setHeight(d.getBottom()-d.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var v=d.getRight()-d.getLeft(),y=d.getBottom()-d.getTop();this.labelWidth>v&&(this.rect.x-=(this.labelWidth-v)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},f.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},f.prototype.transform=function(d){var v=this.rect.x;v>s.WORLD_BOUNDARY?v=s.WORLD_BOUNDARY:v<-s.WORLD_BOUNDARY&&(v=-s.WORLD_BOUNDARY);var y=this.rect.y;y>s.WORLD_BOUNDARY?y=s.WORLD_BOUNDARY:y<-s.WORLD_BOUNDARY&&(y=-s.WORLD_BOUNDARY);var b=new c(v,y),p=d.inverseTransformPoint(b);this.setLocation(p.x,p.y)},f.prototype.getLeft=function(){return this.rect.x},f.prototype.getRight=function(){return this.rect.x+this.rect.width},f.prototype.getTop=function(){return this.rect.y},f.prototype.getBottom=function(){return this.rect.y+this.rect.height},f.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=f},function(r,n,i){function a(o,u){o==null&&u==null?(this.x=0,this.y=0):(this.x=o,this.y=u)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(o){this.x=o},a.prototype.setY=function(o){this.y=o},a.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},r.exports=a},function(r,n,i){var a=i(2),o=i(10),u=i(0),s=i(6),l=i(3),c=i(1),f=i(13),h=i(12),d=i(11);function v(b,p,m){a.call(this,m),this.estimatedSize=o.MIN_VALUE,this.margin=u.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,p!=null&&p instanceof s?this.graphManager=p:p!=null&&p instanceof Layout&&(this.graphManager=p.graphManager)}v.prototype=Object.create(a.prototype);for(var y in a)v[y]=a[y];v.prototype.getNodes=function(){return this.nodes},v.prototype.getEdges=function(){return this.edges},v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getParent=function(){return this.parent},v.prototype.getLeft=function(){return this.left},v.prototype.getRight=function(){return this.right},v.prototype.getTop=function(){return this.top},v.prototype.getBottom=function(){return this.bottom},v.prototype.isConnected=function(){return this.isConnected},v.prototype.add=function(b,p,m){if(p==null&&m==null){var g=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(g)>-1)throw"Node already in graph!";return g.owner=this,this.getNodes().push(g),g}else{var _=b;if(!(this.getNodes().indexOf(p)>-1&&this.getNodes().indexOf(m)>-1))throw"Source or target not in graph!";if(!(p.owner==m.owner&&p.owner==this))throw"Both owners must be this graph!";return p.owner!=m.owner?null:(_.source=p,_.target=m,_.isInterGraph=!1,this.getEdges().push(_),p.edges.push(_),m!=p&&m.edges.push(_),_)}},v.prototype.remove=function(b){var p=b;if(b instanceof l){if(p==null)throw"Node is null!";if(!(p.owner!=null&&p.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var m=p.edges.slice(),g,_=m.length,E=0;E<_;E++)g=m[E],g.isInterGraph?this.graphManager.remove(g):g.source.owner.remove(g);var T=this.nodes.indexOf(p);if(T==-1)throw"Node not in owner node list!";this.nodes.splice(T,1)}else if(b instanceof c){var g=b;if(g==null)throw"Edge is null!";if(!(g.source!=null&&g.target!=null))throw"Source and/or target is null!";if(!(g.source.owner!=null&&g.target.owner!=null&&g.source.owner==this&&g.target.owner==this))throw"Source and/or target owner is invalid!";var w=g.source.edges.indexOf(g),S=g.target.edges.indexOf(g);if(!(w>-1&&S>-1))throw"Source and/or target doesn't know this edge!";g.source.edges.splice(w,1),g.target!=g.source&&g.target.edges.splice(S,1);var T=g.source.owner.getEdges().indexOf(g);if(T==-1)throw"Not in owner's edge list!";g.source.owner.getEdges().splice(T,1)}},v.prototype.updateLeftTop=function(){for(var b=o.MAX_VALUE,p=o.MAX_VALUE,m,g,_,E=this.getNodes(),T=E.length,w=0;w<T;w++){var S=E[w];m=S.getTop(),g=S.getLeft(),b>m&&(b=m),p>g&&(p=g)}return b==o.MAX_VALUE?null:(E[0].getParent().paddingLeft!=null?_=E[0].getParent().paddingLeft:_=this.margin,this.left=p-_,this.top=b-_,new h(this.left,this.top))},v.prototype.updateBounds=function(b){for(var p=o.MAX_VALUE,m=-o.MAX_VALUE,g=o.MAX_VALUE,_=-o.MAX_VALUE,E,T,w,S,C,R=this.nodes,D=R.length,M=0;M<D;M++){var I=R[M];b&&I.child!=null&&I.updateBounds(),E=I.getLeft(),T=I.getRight(),w=I.getTop(),S=I.getBottom(),p>E&&(p=E),m<T&&(m=T),g>w&&(g=w),_<S&&(_=S)}var k=new f(p,g,m-p,_-g);p==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),R[0].getParent().paddingLeft!=null?C=R[0].getParent().paddingLeft:C=this.margin,this.left=k.x-C,this.right=k.x+k.width+C,this.top=k.y-C,this.bottom=k.y+k.height+C},v.calculateBounds=function(b){for(var p=o.MAX_VALUE,m=-o.MAX_VALUE,g=o.MAX_VALUE,_=-o.MAX_VALUE,E,T,w,S,C=b.length,R=0;R<C;R++){var D=b[R];E=D.getLeft(),T=D.getRight(),w=D.getTop(),S=D.getBottom(),p>E&&(p=E),m<T&&(m=T),g>w&&(g=w),_<S&&(_=S)}var M=new f(p,g,m-p,_-g);return M},v.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},v.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},v.prototype.calcEstimatedSize=function(){for(var b=0,p=this.nodes,m=p.length,g=0;g<m;g++){var _=p[g];b+=_.calcEstimatedSize()}return b==0?this.estimatedSize=u.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},v.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var p=new d,m=new Set,g=this.nodes[0],_,E,T=g.withChildren();for(T.forEach(function(M){p.push(M),m.add(M)});p.length!==0;){g=p.shift(),_=g.getEdges();for(var w=_.length,S=0;S<w;S++){var C=_[S];if(E=C.getOtherEndInGraph(g,this),E!=null&&!m.has(E)){var R=E.withChildren();R.forEach(function(M){p.push(M),m.add(M)})}}}if(this.isConnected=!1,m.size>=this.nodes.length){var D=0;m.forEach(function(M){M.owner==b&&D++}),D==this.nodes.length&&(this.isConnected=!0)}},r.exports=v},function(r,n,i){var a,o=i(1);function u(s){a=i(5),this.layout=s,this.graphs=[],this.edges=[]}u.prototype.addRoot=function(){var s=this.layout.newGraph(),l=this.layout.newNode(null),c=this.add(s,l);return this.setRootGraph(c),this.rootGraph},u.prototype.add=function(s,l,c,f,h){if(c==null&&f==null&&h==null){if(s==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(s)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(s),s.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return s.parent=l,l.child=s,s}else{h=c,f=l,c=s;var d=f.getOwner(),v=h.getOwner();if(!(d!=null&&d.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(v!=null&&v.getGraphManager()==this))throw"Target not in this graph mgr!";if(d==v)return c.isInterGraph=!1,d.add(c,f,h);if(c.isInterGraph=!0,c.source=f,c.target=h,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},u.prototype.remove=function(s){if(s instanceof a){var l=s;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(l.getEdges());for(var f,h=c.length,d=0;d<h;d++)f=c[d],l.remove(f);var v=[];v=v.concat(l.getNodes());var y;h=v.length;for(var d=0;d<h;d++)y=v[d],l.remove(y);l==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(l);this.graphs.splice(b,1),l.parent=null}else if(s instanceof o){if(f=s,f==null)throw"Edge is null!";if(!f.isInterGraph)throw"Not an inter-graph edge!";if(!(f.source!=null&&f.target!=null))throw"Source and/or target is null!";if(!(f.source.edges.indexOf(f)!=-1&&f.target.edges.indexOf(f)!=-1))throw"Source and/or target doesn't know this edge!";var b=f.source.edges.indexOf(f);if(f.source.edges.splice(b,1),b=f.target.edges.indexOf(f),f.target.edges.splice(b,1),!(f.source.owner!=null&&f.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(f.source.owner.getGraphManager().edges.indexOf(f)==-1)throw"Not in owner graph manager's edge list!";var b=f.source.owner.getGraphManager().edges.indexOf(f);f.source.owner.getGraphManager().edges.splice(b,1)}},u.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},u.prototype.getGraphs=function(){return this.graphs},u.prototype.getAllNodes=function(){if(this.allNodes==null){for(var s=[],l=this.getGraphs(),c=l.length,f=0;f<c;f++)s=s.concat(l[f].getNodes());this.allNodes=s}return this.allNodes},u.prototype.resetAllNodes=function(){this.allNodes=null},u.prototype.resetAllEdges=function(){this.allEdges=null},u.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},u.prototype.getAllEdges=function(){if(this.allEdges==null){var s=[],l=this.getGraphs();l.length;for(var c=0;c<l.length;c++)s=s.concat(l[c].getEdges());s=s.concat(this.edges),this.allEdges=s}return this.allEdges},u.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},u.prototype.setAllNodesToApplyGravitation=function(s){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=s},u.prototype.getRoot=function(){return this.rootGraph},u.prototype.setRootGraph=function(s){if(s.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=s,s.parent==null&&(s.parent=this.layout.newNode("Root node"))},u.prototype.getLayout=function(){return this.layout},u.prototype.isOneAncestorOfOther=function(s,l){if(!(s!=null&&l!=null))throw"assert failed";if(s==l)return!0;var c=s.getOwner(),f;do{if(f=c.getParent(),f==null)break;if(f==l)return!0;if(c=f.getOwner(),c==null)break}while(!0);c=l.getOwner();do{if(f=c.getParent(),f==null)break;if(f==s)return!0;if(c=f.getOwner(),c==null)break}while(!0);return!1},u.prototype.calcLowestCommonAncestors=function(){for(var s,l,c,f,h,d=this.getAllEdges(),v=d.length,y=0;y<v;y++){if(s=d[y],l=s.source,c=s.target,s.lca=null,s.sourceInLca=l,s.targetInLca=c,l==c){s.lca=l.getOwner();continue}for(f=l.getOwner();s.lca==null;){for(s.targetInLca=c,h=c.getOwner();s.lca==null;){if(h==f){s.lca=h;break}if(h==this.rootGraph)break;if(s.lca!=null)throw"assert failed";s.targetInLca=h.getParent(),h=s.targetInLca.getOwner()}if(f==this.rootGraph)break;s.lca==null&&(s.sourceInLca=f.getParent(),f=s.sourceInLca.getOwner())}if(s.lca==null)throw"assert failed"}},u.prototype.calcLowestCommonAncestor=function(s,l){if(s==l)return s.getOwner();var c=s.getOwner();do{if(c==null)break;var f=l.getOwner();do{if(f==null)break;if(f==c)return f;f=f.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},u.prototype.calcInclusionTreeDepths=function(s,l){s==null&&l==null&&(s=this.rootGraph,l=1);for(var c,f=s.getNodes(),h=f.length,d=0;d<h;d++)c=f[d],c.inclusionTreeDepth=l,c.child!=null&&this.calcInclusionTreeDepths(c.child,l+1)},u.prototype.includesInvalidEdge=function(){for(var s,l=this.edges.length,c=0;c<l;c++)if(s=this.edges[c],this.isOneAncestorOfOther(s.source,s.target))return!0;return!1},r.exports=u},function(r,n,i){var a=i(0);function o(){}for(var u in a)o[u]=a[u];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,o.MAX_NODE_DISPLACEMENT=o.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=o},function(r,n,i){var a=i(12);function o(){}o.calcSeparationAmount=function(u,s,l,c){if(!u.intersects(s))throw"assert failed";var f=new Array(2);this.decideDirectionsForOverlappingNodes(u,s,f),l[0]=Math.min(u.getRight(),s.getRight())-Math.max(u.x,s.x),l[1]=Math.min(u.getBottom(),s.getBottom())-Math.max(u.y,s.y),u.getX()<=s.getX()&&u.getRight()>=s.getRight()?l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight()):s.getX()<=u.getX()&&s.getRight()>=u.getRight()&&(l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight())),u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()?l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()):s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()&&(l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()));var h=Math.abs((s.getCenterY()-u.getCenterY())/(s.getCenterX()-u.getCenterX()));s.getCenterY()===u.getCenterY()&&s.getCenterX()===u.getCenterX()&&(h=1);var d=h*l[0],v=l[1]/h;l[0]<v?v=l[0]:d=l[1],l[0]=-1*f[0]*(v/2+c),l[1]=-1*f[1]*(d/2+c)},o.decideDirectionsForOverlappingNodes=function(u,s,l){u.getCenterX()<s.getCenterX()?l[0]=-1:l[0]=1,u.getCenterY()<s.getCenterY()?l[1]=-1:l[1]=1},o.getIntersection2=function(u,s,l){var c=u.getCenterX(),f=u.getCenterY(),h=s.getCenterX(),d=s.getCenterY();if(u.intersects(s))return l[0]=c,l[1]=f,l[2]=h,l[3]=d,!0;var v=u.getX(),y=u.getY(),b=u.getRight(),p=u.getX(),m=u.getBottom(),g=u.getRight(),_=u.getWidthHalf(),E=u.getHeightHalf(),T=s.getX(),w=s.getY(),S=s.getRight(),C=s.getX(),R=s.getBottom(),D=s.getRight(),M=s.getWidthHalf(),I=s.getHeightHalf(),k=!1,U=!1;if(c===h){if(f>d)return l[0]=c,l[1]=y,l[2]=h,l[3]=R,!1;if(f<d)return l[0]=c,l[1]=m,l[2]=h,l[3]=w,!1}else if(f===d){if(c>h)return l[0]=v,l[1]=f,l[2]=S,l[3]=d,!1;if(c<h)return l[0]=b,l[1]=f,l[2]=T,l[3]=d,!1}else{var F=u.height/u.width,B=s.height/s.width,z=(d-f)/(h-c),H=void 0,Y=void 0,W=void 0,Z=void 0,le=void 0,ce=void 0;if(-F===z?c>h?(l[0]=p,l[1]=m,k=!0):(l[0]=b,l[1]=y,k=!0):F===z&&(c>h?(l[0]=v,l[1]=y,k=!0):(l[0]=g,l[1]=m,k=!0)),-B===z?h>c?(l[2]=C,l[3]=R,U=!0):(l[2]=S,l[3]=w,U=!0):B===z&&(h>c?(l[2]=T,l[3]=w,U=!0):(l[2]=D,l[3]=R,U=!0)),k&&U)return!1;if(c>h?f>d?(H=this.getCardinalDirection(F,z,4),Y=this.getCardinalDirection(B,z,2)):(H=this.getCardinalDirection(-F,z,3),Y=this.getCardinalDirection(-B,z,1)):f>d?(H=this.getCardinalDirection(-F,z,1),Y=this.getCardinalDirection(-B,z,3)):(H=this.getCardinalDirection(F,z,2),Y=this.getCardinalDirection(B,z,4)),!k)switch(H){case 1:Z=y,W=c+-E/z,l[0]=W,l[1]=Z;break;case 2:W=g,Z=f+_*z,l[0]=W,l[1]=Z;break;case 3:Z=m,W=c+E/z,l[0]=W,l[1]=Z;break;case 4:W=p,Z=f+-_*z,l[0]=W,l[1]=Z;break}if(!U)switch(Y){case 1:ce=w,le=h+-I/z,l[2]=le,l[3]=ce;break;case 2:le=D,ce=d+M*z,l[2]=le,l[3]=ce;break;case 3:ce=R,le=h+I/z,l[2]=le,l[3]=ce;break;case 4:le=C,ce=d+-M*z,l[2]=le,l[3]=ce;break}}return!1},o.getCardinalDirection=function(u,s,l){return u>s?l:1+l%4},o.getIntersection=function(u,s,l,c){if(c==null)return this.getIntersection2(u,s,l);var f=u.x,h=u.y,d=s.x,v=s.y,y=l.x,b=l.y,p=c.x,m=c.y,g=void 0,_=void 0,E=void 0,T=void 0,w=void 0,S=void 0,C=void 0,R=void 0,D=void 0;return E=v-h,w=f-d,C=d*h-f*v,T=m-b,S=y-p,R=p*b-y*m,D=E*S-T*w,D===0?null:(g=(w*R-S*C)/D,_=(T*C-E*R)/D,new a(g,_))},o.angleOfVector=function(u,s,l,c){var f=void 0;return u!==l?(f=Math.atan((c-s)/(l-u)),l<u?f+=Math.PI:c<s&&(f+=this.TWO_PI)):c<s?f=this.ONE_AND_HALF_PI:f=this.HALF_PI,f},o.doIntersect=function(u,s,l,c){var f=u.x,h=u.y,d=s.x,v=s.y,y=l.x,b=l.y,p=c.x,m=c.y,g=(d-f)*(m-b)-(p-y)*(v-h);if(g===0)return!1;var _=((m-b)*(p-f)+(y-p)*(m-h))/g,E=((h-v)*(p-f)+(d-f)*(m-h))/g;return 0<_&&_<1&&0<E&&E<1},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,r.exports=o},function(r,n,i){function a(){}a.sign=function(o){return o>0?1:o<0?-1:0},a.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},a.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},r.exports=a},function(r,n,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){var a=function(){function f(h,d){for(var v=0;v<d.length;v++){var y=d[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,d,v){return d&&f(h.prototype,d),v&&f(h,v),h}}();function o(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function(h){return{value:h,next:null,prev:null}},s=function(h,d,v,y){return h!==null?h.next=d:y.head=d,v!==null?v.prev=d:y.tail=d,d.prev=h,d.next=v,y.length++,d},l=function(h,d){var v=h.prev,y=h.next;return v!==null?v.next=y:d.head=y,y!==null?y.prev=v:d.tail=v,h.prev=h.next=null,d.length--,h},c=function(){function f(h){var d=this;o(this,f),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(v){return d.push(v)})}return a(f,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(d,v){return s(v.prev,u(d),v,this)}},{key:"insertAfter",value:function(d,v){return s(v,u(d),v.next,this)}},{key:"insertNodeBefore",value:function(d,v){return s(v.prev,d,v,this)}},{key:"insertNodeAfter",value:function(d,v){return s(v,d,v.next,this)}},{key:"push",value:function(d){return s(this.tail,u(d),null,this)}},{key:"unshift",value:function(d){return s(null,u(d),this.head,this)}},{key:"remove",value:function(d){return l(d,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(d){if(d<=this.length()){for(var v=1,y=this.head;v<d;)y=y.next,v++;return y.value}}},{key:"set_object_at",value:function(d,v){if(d<=this.length()){for(var y=1,b=this.head;y<d;)b=b.next,y++;b.value=v}}}]),f}();r.exports=c},function(r,n,i){function a(o,u,s){this.x=null,this.y=null,o==null&&u==null&&s==null?(this.x=0,this.y=0):typeof o=="number"&&typeof u=="number"&&s==null?(this.x=o,this.y=u):o.constructor.name=="Point"&&u==null&&s==null&&(s=o,this.x=s.x,this.y=s.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(o,u,s){o.constructor.name=="Point"&&u==null&&s==null?(s=o,this.setLocation(s.x,s.y)):typeof o=="number"&&typeof u=="number"&&s==null&&(parseInt(o)==o&&parseInt(u)==u?this.move(o,u):(this.x=Math.floor(o+.5),this.y=Math.floor(u+.5)))},a.prototype.move=function(o,u){this.x=o,this.y=u},a.prototype.translate=function(o,u){this.x+=o,this.y+=u},a.prototype.equals=function(o){if(o.constructor.name=="Point"){var u=o;return this.x==u.x&&this.y==u.y}return this==o},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){function a(o,u,s,l){this.x=0,this.y=0,this.width=0,this.height=0,o!=null&&u!=null&&s!=null&&l!=null&&(this.x=o,this.y=u,this.width=s,this.height=l)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(o){this.x=o},a.prototype.getY=function(){return this.y},a.prototype.setY=function(o){this.y=o},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(o){this.width=o},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(o){this.height=o},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function o(){}o.lastID=0,o.createID=function(u){return o.isPrimitive(u)?u:(u.uniqueID!=null||(u.uniqueID=o.getString(),o.lastID++),u.uniqueID)},o.getString=function(u){return u==null&&(u=o.lastID),"Object#"+u},o.isPrimitive=function(u){var s=typeof u>"u"?"undefined":a(u);return u==null||s!="object"&&s!="function"},r.exports=o},function(r,n,i){function a(y){if(Array.isArray(y)){for(var b=0,p=Array(y.length);b<y.length;b++)p[b]=y[b];return p}else return Array.from(y)}var o=i(0),u=i(6),s=i(3),l=i(1),c=i(5),f=i(4),h=i(17),d=i(27);function v(y){d.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new u(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}v.RANDOM_SEED=1,v.prototype=Object.create(d.prototype),v.prototype.getGraphManager=function(){return this.graphManager},v.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},v.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},v.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},v.prototype.newGraphManager=function(){var y=new u(this);return this.graphManager=y,y},v.prototype.newGraph=function(y){return new c(null,this.graphManager,y)},v.prototype.newNode=function(y){return new s(this.graphManager,y)},v.prototype.newEdge=function(y){return new l(null,null,y)},v.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},v.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),o.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},v.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},v.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),b=0;b<y.length;b++)y[b];for(var p=this.graphManager.getRoot().getNodes(),b=0;b<p.length;b++)p[b];this.update(this.graphManager.getRoot())}},v.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof s){var b=y;if(b.getChild()!=null)for(var p=b.getChild().getNodes(),m=0;m<p.length;m++)update(p[m]);if(b.vGraphObject!=null){var g=b.vGraphObject;g.update(b)}}else if(y instanceof l){var _=y;if(_.vGraphObject!=null){var E=_.vGraphObject;E.update(_)}}else if(y instanceof c){var T=y;if(T.vGraphObject!=null){var w=T.vGraphObject;w.update(T)}}},v.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},v.prototype.transform=function(y){if(y==null)this.transform(new f(0,0));else{var b=new h,p=this.graphManager.getRoot().updateLeftTop();if(p!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(p.x),b.setDeviceOrgY(p.y);for(var m=this.getAllNodes(),g,_=0;_<m.length;_++)g=m[_],g.transform(b)}}},v.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,p,m=y.getNodes(),g=0;g<m.length;g++)b=m[g],p=b.getChild(),p==null||p.getNodes().length==0?b.scatter():(this.positionNodesRandomly(p),b.updateBounds())},v.prototype.getFlatForest=function(){for(var y=[],b=!0,p=this.graphManager.getRoot().getNodes(),m=!0,g=0;g<p.length;g++)p[g].getChild()!=null&&(m=!1);if(!m)return y;var _=new Set,E=[],T=new Map,w=[];for(w=w.concat(p);w.length>0&&b;){for(E.push(w[0]);E.length>0&&b;){var S=E[0];E.splice(0,1),_.add(S);for(var C=S.getEdges(),g=0;g<C.length;g++){var R=C[g].getOtherEnd(S);if(T.get(S)!=R)if(!_.has(R))E.push(R),T.set(R,S);else{b=!1;break}}}if(!b)y=[];else{var D=[].concat(a(_));y.push(D);for(var g=0;g<D.length;g++){var M=D[g],I=w.indexOf(M);I>-1&&w.splice(I,1)}_=new Set,T=new Map}}return y},v.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],p=y.source,m=this.graphManager.calcLowestCommonAncestor(y.source,y.target),g=0;g<y.bendpoints.length;g++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),m.add(_);var E=this.newEdge(null);this.graphManager.add(E,p,_),b.add(_),p=_}var E=this.newEdge(null);return this.graphManager.add(E,p,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):m.remove(y),b},v.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var p=y[b];if(p.bendpoints.length>0){for(var m=this.edgeToDummyNodes.get(p),g=0;g<m.length;g++){var _=m[g],E=new f(_.getCenterX(),_.getCenterY()),T=p.bendpoints.get(g);T.x=E.x,T.y=E.y,_.getOwner().remove(_)}this.graphManager.add(p,p.source,p.target)}}},v.transform=function(y,b,p,m){if(p!=null&&m!=null){var g=b;if(y<=50){var _=b/p;g-=(b-_)/50*(50-y)}else{var E=b*m;g+=(E-b)/50*(y-50)}return g}else{var T,w;return y<=50?(T=9*b/500,w=b/10):(T=9*b/50,w=-8*b),T*y+w}},v.findCenterOfTree=function(y){var b=[];b=b.concat(y);var p=[],m=new Map,g=!1,_=null;(b.length==1||b.length==2)&&(g=!0,_=b[0]);for(var E=0;E<b.length;E++){var T=b[E],w=T.getNeighborsList().size;m.set(T,T.getNeighborsList().size),w==1&&p.push(T)}var S=[];for(S=S.concat(p);!g;){var C=[];C=C.concat(S),S=[];for(var E=0;E<b.length;E++){var T=b[E],R=b.indexOf(T);R>=0&&b.splice(R,1);var D=T.getNeighborsList();D.forEach(function(k){if(p.indexOf(k)<0){var U=m.get(k),F=U-1;F==1&&S.push(k),m.set(k,F)}})}p=p.concat(S),(b.length==1||b.length==2)&&(g=!0,_=b[0])}return _},v.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=v},function(r,n,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){var a=i(4);function o(u,s){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(u){this.lworldOrgX=u},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(u){this.lworldOrgY=u},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(u){this.lworldExtX=u},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(u){this.lworldExtY=u},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(u){this.ldeviceOrgX=u},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(u){this.ldeviceOrgY=u},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(u){this.ldeviceExtX=u},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(u){this.ldeviceExtY=u},o.prototype.transformX=function(u){var s=0,l=this.lworldExtX;return l!=0&&(s=this.ldeviceOrgX+(u-this.lworldOrgX)*this.ldeviceExtX/l),s},o.prototype.transformY=function(u){var s=0,l=this.lworldExtY;return l!=0&&(s=this.ldeviceOrgY+(u-this.lworldOrgY)*this.ldeviceExtY/l),s},o.prototype.inverseTransformX=function(u){var s=0,l=this.ldeviceExtX;return l!=0&&(s=this.lworldOrgX+(u-this.ldeviceOrgX)*this.lworldExtX/l),s},o.prototype.inverseTransformY=function(u){var s=0,l=this.ldeviceExtY;return l!=0&&(s=this.lworldOrgY+(u-this.ldeviceOrgY)*this.lworldExtY/l),s},o.prototype.inverseTransformPoint=function(u){var s=new a(this.inverseTransformX(u.x),this.inverseTransformY(u.y));return s},r.exports=o},function(r,n,i){function a(d){if(Array.isArray(d)){for(var v=0,y=Array(d.length);v<d.length;v++)y[v]=d[v];return y}else return Array.from(d)}var o=i(15),u=i(7),s=i(0),l=i(8),c=i(9);function f(){o.call(this),this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.springConstant=u.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=u.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=u.MAX_ITERATIONS}f.prototype=Object.create(o.prototype);for(var h in o)f[h]=o[h];f.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=u.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},f.prototype.calcIdealEdgeLengths=function(){for(var d,v,y,b,p,m,g=this.getGraphManager().getAllEdges(),_=0;_<g.length;_++)d=g[_],d.idealLength=this.idealEdgeLength,d.isInterGraph&&(y=d.getSource(),b=d.getTarget(),p=d.getSourceInLca().getEstimatedSize(),m=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=p+m-2*s.SIMPLE_NODE_SIZE),v=d.getLca().getInclusionTreeDepth(),d.idealLength+=u.DEFAULT_EDGE_LENGTH*u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*v))},f.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>u.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*u.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-u.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>u.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(u.COOLING_ADAPTATION_FACTOR,1-(d-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*(1-u.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},f.prototype.calcSpringForces=function(){for(var d=this.getAllEdges(),v,y=0;y<d.length;y++)v=d[y],this.calcSpringForce(v,v.idealLength)},f.prototype.calcRepulsionForces=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,p,m,g=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&d&&this.updateGrid(),_=new Set,y=0;y<g.length;y++)p=g[y],this.calculateRepulsionForceOfANode(p,_,d,v),_.add(p);else for(y=0;y<g.length;y++)for(p=g[y],b=y+1;b<g.length;b++)m=g[b],p.getOwner()==m.getOwner()&&this.calcRepulsionForce(p,m)},f.prototype.calcGravitationalForces=function(){for(var d,v=this.getAllNodesToApplyGravitation(),y=0;y<v.length;y++)d=v[y],this.calcGravitationalForce(d)},f.prototype.moveNodes=function(){for(var d=this.getAllNodes(),v,y=0;y<d.length;y++)v=d[y],v.move()},f.prototype.calcSpringForce=function(d,v){var y=d.getSource(),b=d.getTarget(),p,m,g,_;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;p=d.getLength(),p!=0&&(m=this.springConstant*(p-v),g=m*(d.lengthX/p),_=m*(d.lengthY/p),y.springForceX+=g,y.springForceY+=_,b.springForceX-=g,b.springForceY-=_)},f.prototype.calcRepulsionForce=function(d,v){var y=d.getRect(),b=v.getRect(),p=new Array(2),m=new Array(4),g,_,E,T,w,S,C;if(y.intersects(b)){l.calcSeparationAmount(y,b,p,u.DEFAULT_EDGE_LENGTH/2),S=2*p[0],C=2*p[1];var R=d.noOfChildren*v.noOfChildren/(d.noOfChildren+v.noOfChildren);d.repulsionForceX-=R*S,d.repulsionForceY-=R*C,v.repulsionForceX+=R*S,v.repulsionForceY+=R*C}else this.uniformLeafNodeSizes&&d.getChild()==null&&v.getChild()==null?(g=b.getCenterX()-y.getCenterX(),_=b.getCenterY()-y.getCenterY()):(l.getIntersection(y,b,m),g=m[2]-m[0],_=m[3]-m[1]),Math.abs(g)<u.MIN_REPULSION_DIST&&(g=c.sign(g)*u.MIN_REPULSION_DIST),Math.abs(_)<u.MIN_REPULSION_DIST&&(_=c.sign(_)*u.MIN_REPULSION_DIST),E=g*g+_*_,T=Math.sqrt(E),w=this.repulsionConstant*d.noOfChildren*v.noOfChildren/E,S=w*g/T,C=w*_/T,d.repulsionForceX-=S,d.repulsionForceY-=C,v.repulsionForceX+=S,v.repulsionForceY+=C},f.prototype.calcGravitationalForce=function(d){var v,y,b,p,m,g,_,E;v=d.getOwner(),y=(v.getRight()+v.getLeft())/2,b=(v.getTop()+v.getBottom())/2,p=d.getCenterX()-y,m=d.getCenterY()-b,g=Math.abs(p)+d.getWidth()/2,_=Math.abs(m)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(E=v.getEstimatedSize()*this.gravityRangeFactor,(g>E||_>E)&&(d.gravitationForceX=-this.gravityConstant*p,d.gravitationForceY=-this.gravityConstant*m)):(E=v.getEstimatedSize()*this.compoundGravityRangeFactor,(g>E||_>E)&&(d.gravitationForceX=-this.gravityConstant*p*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*m*this.compoundGravityConstant))},f.prototype.isConverged=function(){var d,v=!1;return this.totalIterations>this.maxIterations/3&&(v=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||v},f.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},f.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,v=this.graphManager.getAllNodes(),y=0;y<v.length;y++)d=v[y],d.noOfChildren=d.getNoOfChildren()},f.prototype.calcGrid=function(d){var v=0,y=0;v=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var b=new Array(v),p=0;p<v;p++)b[p]=new Array(y);for(var p=0;p<v;p++)for(var m=0;m<y;m++)b[p][m]=new Array;return b},f.prototype.addNodeToGrid=function(d,v,y){var b=0,p=0,m=0,g=0;b=parseInt(Math.floor((d.getRect().x-v)/this.repulsionRange)),p=parseInt(Math.floor((d.getRect().width+d.getRect().x-v)/this.repulsionRange)),m=parseInt(Math.floor((d.getRect().y-y)/this.repulsionRange)),g=parseInt(Math.floor((d.getRect().height+d.getRect().y-y)/this.repulsionRange));for(var _=b;_<=p;_++)for(var E=m;E<=g;E++)this.grid[_][E].push(d),d.setGridCoordinates(b,p,m,g)},f.prototype.updateGrid=function(){var d,v,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<y.length;d++)v=y[d],this.addNodeToGrid(v,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},f.prototype.calculateRepulsionForceOfANode=function(d,v,y,b){if(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var p=new Set;d.surrounding=new Array;for(var m,g=this.grid,_=d.startX-1;_<d.finishX+2;_++)for(var E=d.startY-1;E<d.finishY+2;E++)if(!(_<0||E<0||_>=g.length||E>=g[0].length)){for(var T=0;T<g[_][E].length;T++)if(m=g[_][E][T],!(d.getOwner()!=m.getOwner()||d==m)&&!v.has(m)&&!p.has(m)){var w=Math.abs(d.getCenterX()-m.getCenterX())-(d.getWidth()/2+m.getWidth()/2),S=Math.abs(d.getCenterY()-m.getCenterY())-(d.getHeight()/2+m.getHeight()/2);w<=this.repulsionRange&&S<=this.repulsionRange&&p.add(m)}}d.surrounding=[].concat(a(p))}for(_=0;_<d.surrounding.length;_++)this.calcRepulsionForce(d,d.surrounding[_])},f.prototype.calcRepulsionRange=function(){return 0},r.exports=f},function(r,n,i){var a=i(1),o=i(7);function u(l,c,f){a.call(this,l,c,f),this.idealLength=o.DEFAULT_EDGE_LENGTH}u.prototype=Object.create(a.prototype);for(var s in a)u[s]=a[s];r.exports=u},function(r,n,i){var a=i(3);function o(s,l,c,f){a.call(this,s,l,c,f),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];o.prototype.setGridCoordinates=function(s,l,c,f){this.startX=s,this.finishX=l,this.startY=c,this.finishY=f},r.exports=o},function(r,n,i){function a(o,u){this.width=0,this.height=0,o!==null&&u!==null&&(this.height=u,this.width=o)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(o){this.width=o},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(o){this.height=o},r.exports=a},function(r,n,i){var a=i(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(u,s){var l=a.createID(u);this.contains(l)||(this.map[l]=s,this.keys.push(u))},o.prototype.contains=function(u){return a.createID(u),this.map[u]!=null},o.prototype.get=function(u){var s=a.createID(u);return this.map[s]},o.prototype.keySet=function(){return this.keys},r.exports=o},function(r,n,i){var a=i(14);function o(){this.set={}}o.prototype.add=function(u){var s=a.createID(u);this.contains(s)||(this.set[s]=u)},o.prototype.remove=function(u){delete this.set[a.createID(u)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(u){return this.set[a.createID(u)]==u},o.prototype.isEmpty=function(){return this.size()===0},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(u){for(var s=Object.keys(this.set),l=s.length,c=0;c<l;c++)u.push(this.set[s[c]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(u){for(var s=u.length,l=0;l<s;l++){var c=u[l];this.add(c)}},r.exports=o},function(r,n,i){var a=function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var u=i(11),s=function(){function l(c,f){o(this,l),(f!==null||f!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var h=void 0;c instanceof u?h=c.size():h=c.length,this._quicksort(c,0,h-1)}return a(l,[{key:"_quicksort",value:function(f,h,d){if(h<d){var v=this._partition(f,h,d);this._quicksort(f,h,v),this._quicksort(f,v+1,d)}}},{key:"_partition",value:function(f,h,d){for(var v=this._get(f,h),y=h,b=d;;){for(;this.compareFunction(v,this._get(f,b));)b--;for(;this.compareFunction(this._get(f,y),v);)y++;if(y<b)this._swap(f,y,b),y++,b--;else return b}}},{key:"_get",value:function(f,h){return f instanceof u?f.get_object_at(h):f[h]}},{key:"_set",value:function(f,h,d){f instanceof u?f.set_object_at(h,d):f[h]=d}},{key:"_swap",value:function(f,h,d){var v=this._get(f,h);this._set(f,h,this._get(f,d)),this._set(f,d,v)}},{key:"_defaultCompareFunction",value:function(f,h){return h>f}}]),l}();r.exports=s},function(r,n,i){var a=function(){function s(l,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,f){return c&&s(l.prototype,c),f&&s(l,f),l}}();function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var u=function(){function s(l,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;o(this,s),this.sequence1=l,this.sequence2=c,this.match_score=f,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=l.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.grid[v]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[v][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var p=0;p<this.jMax;p++)this.tracebackGrid[b][p]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(s,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var f=1;f<this.iMax;f++)this.grid[f][0]=this.grid[f-1][0]+this.gap_penalty,this.tracebackGrid[f][0]=[!1,!0,!1];for(var h=1;h<this.iMax;h++)for(var d=1;d<this.jMax;d++){var v=void 0;this.sequence1[h-1]===this.sequence2[d-1]?v=this.grid[h-1][d-1]+this.match_score:v=this.grid[h-1][d-1]+this.mismatch_penalty;var y=this.grid[h-1][d]+this.gap_penalty,b=this.grid[h][d-1]+this.gap_penalty,p=[v,y,b],m=this.arrayAllMaxIndexes(p);this.grid[h][d]=p[m[0]],this.tracebackGrid[h][d]=[m.includes(0),m.includes(1),m.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var f=c[0],h=this.tracebackGrid[f.pos[0]][f.pos[1]];h[0]&&c.push({pos:[f.pos[0]-1,f.pos[1]-1],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),h[1]&&c.push({pos:[f.pos[0]-1,f.pos[1]],seq1:this.sequence1[f.pos[0]-1]+f.seq1,seq2:"-"+f.seq2}),h[2]&&c.push({pos:[f.pos[0],f.pos[1]-1],seq1:"-"+f.seq1,seq2:this.sequence2[f.pos[1]-1]+f.seq2}),f.pos[0]===0&&f.pos[1]===0&&this.alignments.push({sequence1:f.seq1,sequence2:f.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,f){for(var h=[],d=-1;(d=c.indexOf(f,d+1))!==-1;)h.push(d);return h}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),s}();r.exports=u},function(r,n,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){function a(){this.listeners=[]}var o=a.prototype;o.addListener=function(u,s){this.listeners.push({event:u,callback:s})},o.removeListener=function(u,s){for(var l=this.listeners.length;l>=0;l--){var c=this.listeners[l];c.event===u&&c.callback===s&&this.listeners.splice(l,1)}},o.emit=function(u,s){for(var l=0;l<this.listeners.length;l++){var c=this.listeners[l];u===c.event&&c.callback(s)}},r.exports=a}])})}(kC)),kC.exports}var FB;function Lse(){return FB||(FB=1,function(t,e){(function(n,i){t.exports=i(kse())})(qr,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var u=i[o]={i:o,l:!1,exports:{}};return n[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=n,a.c=i,a.i=function(o){return o},a.d=function(o,u,s){a.o(o,u)||Object.defineProperty(o,u,{configurable:!1,enumerable:!0,get:s})},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){var o=a(0).FDLayoutConstants;function u(){}for(var s in o)u[s]=o[s];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,u.DEFAULT_RADIAL_SEPARATION=o.DEFAULT_EDGE_LENGTH,u.DEFAULT_COMPONENT_SEPERATION=60,u.TILE=!0,u.TILING_PADDING_VERTICAL=10,u.TILING_PADDING_HORIZONTAL=10,u.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=u},function(n,i,a){var o=a(0).FDLayoutEdge;function u(l,c,f){o.call(this,l,c,f)}u.prototype=Object.create(o.prototype);for(var s in o)u[s]=o[s];n.exports=u},function(n,i,a){var o=a(0).LGraph;function u(l,c,f){o.call(this,l,c,f)}u.prototype=Object.create(o.prototype);for(var s in o)u[s]=o[s];n.exports=u},function(n,i,a){var o=a(0).LGraphManager;function u(l){o.call(this,l)}u.prototype=Object.create(o.prototype);for(var s in o)u[s]=o[s];n.exports=u},function(n,i,a){var o=a(0).FDLayoutNode,u=a(0).IMath;function s(c,f,h,d){o.call(this,c,f,h,d)}s.prototype=Object.create(o.prototype);for(var l in o)s[l]=o[l];s.prototype.move=function(){var c=this.graphManager.getLayout();this.displacementX=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementX=c.coolingFactor*c.maxNodeDisplacement*u.sign(this.displacementX)),Math.abs(this.displacementY)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementY=c.coolingFactor*c.maxNodeDisplacement*u.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),c.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},s.prototype.propogateDisplacementToChildren=function(c,f){for(var h=this.getChild().getNodes(),d,v=0;v<h.length;v++)d=h[v],d.getChild()==null?(d.moveBy(c,f),d.displacementX+=c,d.displacementY+=f):d.propogateDisplacementToChildren(c,f)},s.prototype.setPred1=function(c){this.pred1=c},s.prototype.getPred1=function(){return pred1},s.prototype.getPred2=function(){return pred2},s.prototype.setNext=function(c){this.next=c},s.prototype.getNext=function(){return next},s.prototype.setProcessed=function(c){this.processed=c},s.prototype.isProcessed=function(){return processed},n.exports=s},function(n,i,a){var o=a(0).FDLayout,u=a(4),s=a(3),l=a(5),c=a(2),f=a(1),h=a(0).FDLayoutConstants,d=a(0).LayoutConstants,v=a(0).Point,y=a(0).PointD,b=a(0).Layout,p=a(0).Integer,m=a(0).IGeometry,g=a(0).LGraph,_=a(0).Transform;function E(){o.call(this),this.toBeTiled={}}E.prototype=Object.create(o.prototype);for(var T in o)E[T]=o[T];E.prototype.newGraphManager=function(){var w=new u(this);return this.graphManager=w,w},E.prototype.newGraph=function(w){return new s(null,this.graphManager,w)},E.prototype.newNode=function(w){return new l(this.graphManager,w)},E.prototype.newEdge=function(w){return new c(null,null,w)},E.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.isSubLayout||(f.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=f.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=f.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=h.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=h.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=h.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=h.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=h.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/h.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=h.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},E.prototype.layout=function(){var w=d.DEFAULT_CREATE_BENDS_AS_NEEDED;return w&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},E.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(f.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(M){return S.has(M)});this.graphManager.setAllNodesToApplyGravitation(C)}}else{var w=this.getFlatForest();if(w.length>0)this.positionNodesRadially(w);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(R){return S.has(R)});this.graphManager.setAllNodesToApplyGravitation(C),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},E.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%h.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),S=this.nodesWithGravity.filter(function(D){return w.has(D)});this.graphManager.setAllNodesToApplyGravitation(S),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=h.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var C=!this.isTreeGrowing&&!this.isGrowthFinished,R=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(C,R),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},E.prototype.getPositionsData=function(){for(var w=this.graphManager.getAllNodes(),S={},C=0;C<w.length;C++){var R=w[C].rect,D=w[C].id;S[D]={id:D,x:R.getCenterX(),y:R.getCenterY(),w:R.width,h:R.height}}return S},E.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var w=!1;if(h.ANIMATE==="during")this.emit("layoutstarted");else{for(;!w;)w=this.tick();this.graphManager.updateBounds()}},E.prototype.calculateNodesToApplyGravitationTo=function(){var w=[],S,C=this.graphManager.getGraphs(),R=C.length,D;for(D=0;D<R;D++)S=C[D],S.updateConnected(),S.isConnected||(w=w.concat(S.getNodes()));return w},E.prototype.createBendpoints=function(){var w=[];w=w.concat(this.graphManager.getAllEdges());var S=new Set,C;for(C=0;C<w.length;C++){var R=w[C];if(!S.has(R)){var D=R.getSource(),M=R.getTarget();if(D==M)R.getBendpoints().push(new y),R.getBendpoints().push(new y),this.createDummyNodesForBendpoints(R),S.add(R);else{var I=[];if(I=I.concat(D.getEdgeListToNode(M)),I=I.concat(M.getEdgeListToNode(D)),!S.has(I[0])){if(I.length>1){var k;for(k=0;k<I.length;k++){var U=I[k];U.getBendpoints().push(new y),this.createDummyNodesForBendpoints(U)}}I.forEach(function(F){S.add(F)})}}}if(S.size==w.length)break}},E.prototype.positionNodesRadially=function(w){for(var S=new v(0,0),C=Math.ceil(Math.sqrt(w.length)),R=0,D=0,M=0,I=new y(0,0),k=0;k<w.length;k++){k%C==0&&(M=0,D=R,k!=0&&(D+=f.DEFAULT_COMPONENT_SEPERATION),R=0);var U=w[k],F=b.findCenterOfTree(U);S.x=M,S.y=D,I=E.radialLayout(U,F,S),I.y>R&&(R=Math.floor(I.y)),M=Math.floor(I.x+f.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(d.WORLD_CENTER_X-I.x/2,d.WORLD_CENTER_Y-I.y/2))},E.radialLayout=function(w,S,C){var R=Math.max(this.maxDiagonalInTree(w),f.DEFAULT_RADIAL_SEPARATION);E.branchRadialLayout(S,null,0,359,0,R);var D=g.calculateBounds(w),M=new _;M.setDeviceOrgX(D.getMinX()),M.setDeviceOrgY(D.getMinY()),M.setWorldOrgX(C.x),M.setWorldOrgY(C.y);for(var I=0;I<w.length;I++){var k=w[I];k.transform(M)}var U=new y(D.getMaxX(),D.getMaxY());return M.inverseTransformPoint(U)},E.branchRadialLayout=function(w,S,C,R,D,M){var I=(R-C+1)/2;I<0&&(I+=180);var k=(I+C)%360,U=k*m.TWO_PI/360,F=D*Math.cos(U),B=D*Math.sin(U);w.setCenter(F,B);var z=[];z=z.concat(w.getEdges());var H=z.length;S!=null&&H--;for(var Y=0,W=z.length,Z,le=w.getEdgesBetween(S);le.length>1;){var ce=le[0];le.splice(0,1);var ue=z.indexOf(ce);ue>=0&&z.splice(ue,1),W--,H--}S!=null?Z=(z.indexOf(le[0])+1)%W:Z=0;for(var de=Math.abs(R-C)/H,he=Z;Y!=H;he=++he%W){var fe=z[he].getOtherEnd(w);if(fe!=S){var te=(C+Y*de)%360,Q=(te+de)%360;E.branchRadialLayout(fe,w,te,Q,D+M,M),Y++}}},E.maxDiagonalInTree=function(w){for(var S=p.MIN_VALUE,C=0;C<w.length;C++){var R=w[C],D=R.getDiagonal();D>S&&(S=D)}return S},E.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},E.prototype.groupZeroDegreeMembers=function(){var w=this,S={};this.memberGroups={},this.idToDummyNode={};for(var C=[],R=this.graphManager.getAllNodes(),D=0;D<R.length;D++){var M=R[D],I=M.getParent();this.getNodeDegreeWithChildren(M)===0&&(I.id==null||!this.getToBeTiled(I))&&C.push(M)}for(var D=0;D<C.length;D++){var M=C[D],k=M.getParent().id;typeof S[k]>"u"&&(S[k]=[]),S[k]=S[k].concat(M)}Object.keys(S).forEach(function(U){if(S[U].length>1){var F="DummyCompound_"+U;w.memberGroups[F]=S[U];var B=S[U][0].getParent(),z=new l(w.graphManager);z.id=F,z.paddingLeft=B.paddingLeft||0,z.paddingRight=B.paddingRight||0,z.paddingBottom=B.paddingBottom||0,z.paddingTop=B.paddingTop||0,w.idToDummyNode[F]=z;var H=w.getGraphManager().add(w.newGraph(),z),Y=B.getChild();Y.add(z);for(var W=0;W<S[U].length;W++){var Z=S[U][W];Y.remove(Z),H.add(Z)}}})},E.prototype.clearCompounds=function(){var w={},S={};this.performDFSOnCompounds();for(var C=0;C<this.compoundOrder.length;C++)S[this.compoundOrder[C].id]=this.compoundOrder[C],w[this.compoundOrder[C].id]=[].concat(this.compoundOrder[C].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[C].getChild()),this.compoundOrder[C].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(w,S)},E.prototype.clearZeroDegreeMembers=function(){var w=this,S=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(C){var R=w.idToDummyNode[C];S[C]=w.tileNodes(w.memberGroups[C],R.paddingLeft+R.paddingRight),R.rect.width=S[C].width,R.rect.height=S[C].height})},E.prototype.repopulateCompounds=function(){for(var w=this.compoundOrder.length-1;w>=0;w--){var S=this.compoundOrder[w],C=S.id,R=S.paddingLeft,D=S.paddingTop;this.adjustLocations(this.tiledMemberPack[C],S.rect.x,S.rect.y,R,D)}},E.prototype.repopulateZeroDegreeMembers=function(){var w=this,S=this.tiledZeroDegreePack;Object.keys(S).forEach(function(C){var R=w.idToDummyNode[C],D=R.paddingLeft,M=R.paddingTop;w.adjustLocations(S[C],R.rect.x,R.rect.y,D,M)})},E.prototype.getToBeTiled=function(w){var S=w.id;if(this.toBeTiled[S]!=null)return this.toBeTiled[S];var C=w.getChild();if(C==null)return this.toBeTiled[S]=!1,!1;for(var R=C.getNodes(),D=0;D<R.length;D++){var M=R[D];if(this.getNodeDegree(M)>0)return this.toBeTiled[S]=!1,!1;if(M.getChild()==null){this.toBeTiled[M.id]=!1;continue}if(!this.getToBeTiled(M))return this.toBeTiled[S]=!1,!1}return this.toBeTiled[S]=!0,!0},E.prototype.getNodeDegree=function(w){w.id;for(var S=w.getEdges(),C=0,R=0;R<S.length;R++){var D=S[R];D.getSource().id!==D.getTarget().id&&(C=C+1)}return C},E.prototype.getNodeDegreeWithChildren=function(w){var S=this.getNodeDegree(w);if(w.getChild()==null)return S;for(var C=w.getChild().getNodes(),R=0;R<C.length;R++){var D=C[R];S+=this.getNodeDegreeWithChildren(D)}return S},E.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},E.prototype.fillCompexOrderByDFS=function(w){for(var S=0;S<w.length;S++){var C=w[S];C.getChild()!=null&&this.fillCompexOrderByDFS(C.getChild().getNodes()),this.getToBeTiled(C)&&this.compoundOrder.push(C)}},E.prototype.adjustLocations=function(w,S,C,R,D){S+=R,C+=D;for(var M=S,I=0;I<w.rows.length;I++){var k=w.rows[I];S=M;for(var U=0,F=0;F<k.length;F++){var B=k[F];B.rect.x=S,B.rect.y=C,S+=B.rect.width+w.horizontalPadding,B.rect.height>U&&(U=B.rect.height)}C+=U+w.verticalPadding}},E.prototype.tileCompoundMembers=function(w,S){var C=this;this.tiledMemberPack=[],Object.keys(w).forEach(function(R){var D=S[R];C.tiledMemberPack[R]=C.tileNodes(w[R],D.paddingLeft+D.paddingRight),D.rect.width=C.tiledMemberPack[R].width,D.rect.height=C.tiledMemberPack[R].height})},E.prototype.tileNodes=function(w,S){var C=f.TILING_PADDING_VERTICAL,R=f.TILING_PADDING_HORIZONTAL,D={rows:[],rowWidth:[],rowHeight:[],width:0,height:S,verticalPadding:C,horizontalPadding:R};w.sort(function(k,U){return k.rect.width*k.rect.height>U.rect.width*U.rect.height?-1:k.rect.width*k.rect.height<U.rect.width*U.rect.height?1:0});for(var M=0;M<w.length;M++){var I=w[M];D.rows.length==0?this.insertNodeToRow(D,I,0,S):this.canAddHorizontal(D,I.rect.width,I.rect.height)?this.insertNodeToRow(D,I,this.getShortestRowIndex(D),S):this.insertNodeToRow(D,I,D.rows.length,S),this.shiftToLastRow(D)}return D},E.prototype.insertNodeToRow=function(w,S,C,R){var D=R;if(C==w.rows.length){var M=[];w.rows.push(M),w.rowWidth.push(D),w.rowHeight.push(0)}var I=w.rowWidth[C]+S.rect.width;w.rows[C].length>0&&(I+=w.horizontalPadding),w.rowWidth[C]=I,w.width<I&&(w.width=I);var k=S.rect.height;C>0&&(k+=w.verticalPadding);var U=0;k>w.rowHeight[C]&&(U=w.rowHeight[C],w.rowHeight[C]=k,U=w.rowHeight[C]-U),w.height+=U,w.rows[C].push(S)},E.prototype.getShortestRowIndex=function(w){for(var S=-1,C=Number.MAX_VALUE,R=0;R<w.rows.length;R++)w.rowWidth[R]<C&&(S=R,C=w.rowWidth[R]);return S},E.prototype.getLongestRowIndex=function(w){for(var S=-1,C=Number.MIN_VALUE,R=0;R<w.rows.length;R++)w.rowWidth[R]>C&&(S=R,C=w.rowWidth[R]);return S},E.prototype.canAddHorizontal=function(w,S,C){var R=this.getShortestRowIndex(w);if(R<0)return!0;var D=w.rowWidth[R];if(D+w.horizontalPadding+S<=w.width)return!0;var M=0;w.rowHeight[R]<C&&R>0&&(M=C+w.verticalPadding-w.rowHeight[R]);var I;w.width-D>=S+w.horizontalPadding?I=(w.height+M)/(D+S+w.horizontalPadding):I=(w.height+M)/w.width,M=C+w.verticalPadding;var k;return w.width<S?k=(w.height+M)/S:k=(w.height+M)/w.width,k<1&&(k=1/k),I<1&&(I=1/I),I<k},E.prototype.shiftToLastRow=function(w){var S=this.getLongestRowIndex(w),C=w.rowWidth.length-1,R=w.rows[S],D=R[R.length-1],M=D.width+w.horizontalPadding;if(w.width-w.rowWidth[C]>M&&S!=C){R.splice(-1,1),w.rows[C].push(D),w.rowWidth[S]=w.rowWidth[S]-M,w.rowWidth[C]=w.rowWidth[C]+M,w.width=w.rowWidth[instance.getLongestRowIndex(w)];for(var I=Number.MIN_VALUE,k=0;k<R.length;k++)R[k].height>I&&(I=R[k].height);S>0&&(I+=w.verticalPadding);var U=w.rowHeight[S]+w.rowHeight[C];w.rowHeight[S]=I,w.rowHeight[C]<D.height+w.verticalPadding&&(w.rowHeight[C]=D.height+w.verticalPadding);var F=w.rowHeight[S]+w.rowHeight[C];w.height+=F-U,this.shiftToLastRow(w)}},E.prototype.tilingPreLayout=function(){f.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},E.prototype.tilingPostLayout=function(){f.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},E.prototype.reduceTrees=function(){for(var w=[],S=!0,C;S;){var R=this.graphManager.getAllNodes(),D=[];S=!1;for(var M=0;M<R.length;M++)C=R[M],C.getEdges().length==1&&!C.getEdges()[0].isInterGraph&&C.getChild()==null&&(D.push([C,C.getEdges()[0],C.getOwner()]),S=!0);if(S==!0){for(var I=[],k=0;k<D.length;k++)D[k][0].getEdges().length==1&&(I.push(D[k]),D[k][0].getOwner().remove(D[k][0]));w.push(I),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=w},E.prototype.growTree=function(w){for(var S=w.length,C=w[S-1],R,D=0;D<C.length;D++)R=C[D],this.findPlaceforPrunedNode(R),R[2].add(R[0]),R[2].add(R[1],R[1].source,R[1].target);w.splice(w.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},E.prototype.findPlaceforPrunedNode=function(w){var S,C,R=w[0];R==w[1].source?C=w[1].target:C=w[1].source;var D=C.startX,M=C.finishX,I=C.startY,k=C.finishY,U=0,F=0,B=0,z=0,H=[U,B,F,z];if(I>0)for(var Y=D;Y<=M;Y++)H[0]+=this.grid[Y][I-1].length+this.grid[Y][I].length-1;if(M<this.grid.length-1)for(var Y=I;Y<=k;Y++)H[1]+=this.grid[M+1][Y].length+this.grid[M][Y].length-1;if(k<this.grid[0].length-1)for(var Y=D;Y<=M;Y++)H[2]+=this.grid[Y][k+1].length+this.grid[Y][k].length-1;if(D>0)for(var Y=I;Y<=k;Y++)H[3]+=this.grid[D-1][Y].length+this.grid[D][Y].length-1;for(var W=p.MAX_VALUE,Z,le,ce=0;ce<H.length;ce++)H[ce]<W?(W=H[ce],Z=1,le=ce):H[ce]==W&&Z++;if(Z==3&&W==0)H[0]==0&&H[1]==0&&H[2]==0?S=1:H[0]==0&&H[1]==0&&H[3]==0?S=0:H[0]==0&&H[2]==0&&H[3]==0?S=3:H[1]==0&&H[2]==0&&H[3]==0&&(S=2);else if(Z==2&&W==0){var ue=Math.floor(Math.random()*2);H[0]==0&&H[1]==0?ue==0?S=0:S=1:H[0]==0&&H[2]==0?ue==0?S=0:S=2:H[0]==0&&H[3]==0?ue==0?S=0:S=3:H[1]==0&&H[2]==0?ue==0?S=1:S=2:H[1]==0&&H[3]==0?ue==0?S=1:S=3:ue==0?S=2:S=3}else if(Z==4&&W==0){var ue=Math.floor(Math.random()*4);S=ue}else S=le;S==0?R.setCenter(C.getCenterX(),C.getCenterY()-C.getHeight()/2-h.DEFAULT_EDGE_LENGTH-R.getHeight()/2):S==1?R.setCenter(C.getCenterX()+C.getWidth()/2+h.DEFAULT_EDGE_LENGTH+R.getWidth()/2,C.getCenterY()):S==2?R.setCenter(C.getCenterX(),C.getCenterY()+C.getHeight()/2+h.DEFAULT_EDGE_LENGTH+R.getHeight()/2):R.setCenter(C.getCenterX()-C.getWidth()/2-h.DEFAULT_EDGE_LENGTH-R.getWidth()/2,C.getCenterY())},n.exports=E},function(n,i,a){var o={};o.layoutBase=a(0),o.CoSEConstants=a(1),o.CoSEEdge=a(2),o.CoSEGraph=a(3),o.CoSEGraphManager=a(4),o.CoSELayout=a(6),o.CoSENode=a(5),n.exports=o}])})}(NC)),NC.exports}(function(t,e){(function(n,i){t.exports=i(Lse())})(qr,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var u=i[o]={i:o,l:!1,exports:{}};return n[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=n,a.c=i,a.i=function(o){return o},a.d=function(o,u,s){a.o(o,u)||Object.defineProperty(o,u,{configurable:!1,enumerable:!0,get:s})},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){var o=a(0).layoutBase.LayoutConstants,u=a(0).layoutBase.FDLayoutConstants,s=a(0).CoSEConstants,l=a(0).CoSELayout,c=a(0).CoSENode,f=a(0).layoutBase.PointD,h=a(0).layoutBase.DimensionD,d={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function v(m,g){var _={};for(var E in m)_[E]=m[E];for(var E in g)_[E]=g[E];return _}function y(m){this.options=v(d,m),b(this.options)}var b=function(g){g.nodeRepulsion!=null&&(s.DEFAULT_REPULSION_STRENGTH=u.DEFAULT_REPULSION_STRENGTH=g.nodeRepulsion),g.idealEdgeLength!=null&&(s.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=g.idealEdgeLength),g.edgeElasticity!=null&&(s.DEFAULT_SPRING_STRENGTH=u.DEFAULT_SPRING_STRENGTH=g.edgeElasticity),g.nestingFactor!=null&&(s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=g.nestingFactor),g.gravity!=null&&(s.DEFAULT_GRAVITY_STRENGTH=u.DEFAULT_GRAVITY_STRENGTH=g.gravity),g.numIter!=null&&(s.MAX_ITERATIONS=u.MAX_ITERATIONS=g.numIter),g.gravityRange!=null&&(s.DEFAULT_GRAVITY_RANGE_FACTOR=u.DEFAULT_GRAVITY_RANGE_FACTOR=g.gravityRange),g.gravityCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=g.gravityCompound),g.gravityRangeCompound!=null&&(s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=g.gravityRangeCompound),g.initialEnergyOnIncremental!=null&&(s.DEFAULT_COOLING_FACTOR_INCREMENTAL=u.DEFAULT_COOLING_FACTOR_INCREMENTAL=g.initialEnergyOnIncremental),g.quality=="draft"?o.QUALITY=0:g.quality=="proof"?o.QUALITY=2:o.QUALITY=1,s.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=g.nodeDimensionsIncludeLabels,s.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=!g.randomize,s.ANIMATE=u.ANIMATE=o.ANIMATE=g.animate,s.TILE=g.tile,s.TILING_PADDING_VERTICAL=typeof g.tilingPaddingVertical=="function"?g.tilingPaddingVertical.call():g.tilingPaddingVertical,s.TILING_PADDING_HORIZONTAL=typeof g.tilingPaddingHorizontal=="function"?g.tilingPaddingHorizontal.call():g.tilingPaddingHorizontal};y.prototype.run=function(){var m,g,_=this.options;this.idToLNode={};var E=this.layout=new l,T=this;T.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var w=E.newGraphManager();this.gm=w;var S=this.options.eles.nodes(),C=this.options.eles.edges();this.root=w.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(S),E);for(var R=0;R<C.length;R++){var D=C[R],M=this.idToLNode[D.data("source")],I=this.idToLNode[D.data("target")];if(M!==I&&M.getEdgesBetween(I).length==0){var k=w.add(E.newEdge(),M,I);k.id=D.id()}}var U=function(z,H){typeof z=="number"&&(z=H);var Y=z.data("id"),W=T.idToLNode[Y];return{x:W.getRect().getCenterX(),y:W.getRect().getCenterY()}},F=function B(){for(var z=function(){_.fit&&_.cy.fit(_.eles,_.padding),m||(m=!0,T.cy.one("layoutready",_.ready),T.cy.trigger({type:"layoutready",layout:T}))},H=T.options.refresh,Y,W=0;W<H&&!Y;W++)Y=T.stopped||T.layout.tick();if(Y){E.checkLayoutSuccess()&&!E.isSubLayout&&E.doPostLayout(),E.tilingPostLayout&&E.tilingPostLayout(),E.isLayoutFinished=!0,T.options.eles.nodes().positions(U),z(),T.cy.one("layoutstop",T.options.stop),T.cy.trigger({type:"layoutstop",layout:T}),g&&cancelAnimationFrame(g),m=!1;return}var Z=T.layout.getPositionsData();_.eles.nodes().positions(function(le,ce){if(typeof le=="number"&&(le=ce),!le.isParent()){for(var ue=le.id(),de=Z[ue],he=le;de==null&&(de=Z[he.data("parent")]||Z["DummyCompound_"+he.data("parent")],Z[ue]=de,he=he.parent()[0],he!=null););return de!=null?{x:de.x,y:de.y}:{x:le.position("x"),y:le.position("y")}}}),z(),g=requestAnimationFrame(B)};return E.addListener("layoutstarted",function(){T.options.animate==="during"&&(g=requestAnimationFrame(F))}),E.runLayout(),this.options.animate!=="during"&&(T.options.eles.nodes().not(":parent").layoutPositions(T,T.options,U),m=!1),this},y.prototype.getTopMostNodes=function(m){for(var g={},_=0;_<m.length;_++)g[m[_].id()]=!0;var E=m.filter(function(T,w){typeof T=="number"&&(T=w);for(var S=T.parent()[0];S!=null;){if(g[S.id()])return!1;S=S.parent()[0]}return!0});return E},y.prototype.processChildrenList=function(m,g,_){for(var E=g.length,T=0;T<E;T++){var w=g[T],S=w.children(),C,R=w.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(w.outerWidth()!=null&&w.outerHeight()!=null?C=m.add(new c(_.graphManager,new f(w.position("x")-R.w/2,w.position("y")-R.h/2),new h(parseFloat(R.w),parseFloat(R.h)))):C=m.add(new c(this.graphManager)),C.id=w.data("id"),C.paddingLeft=parseInt(w.css("padding")),C.paddingTop=parseInt(w.css("padding")),C.paddingRight=parseInt(w.css("padding")),C.paddingBottom=parseInt(w.css("padding")),this.options.nodeDimensionsIncludeLabels&&w.isParent()){var D=w.boundingBox({includeLabels:!0,includeNodes:!1}).w,M=w.boundingBox({includeLabels:!0,includeNodes:!1}).h,I=w.css("text-halign");C.labelWidth=D,C.labelHeight=M,C.labelPos=I}if(this.idToLNode[w.data("id")]=C,isNaN(C.rect.x)&&(C.rect.x=0),isNaN(C.rect.y)&&(C.rect.y=0),S!=null&&S.length>0){var k;k=_.getGraphManager().add(_.newGraph(),C),this.processChildrenList(k,S,_)}}},y.prototype.stop=function(){return this.stopped=!0,this};var p=function(g){g("layout","cose-bilkent",y)};typeof cytoscape<"u"&&p(cytoscape),n.exports=p}])})})(nY);var jse=nY.exports;const Bse=ly(jse);gh.use(Bse);const Use="cose-bilkent",Fse=(t,e)=>{const r=gh({headless:!0,styleEnabled:!1});r.add(t);const n={};return r.layout({name:Use,animate:!1,spacingFactor:e,quality:"default",tile:!1,randomize:!0,stop:()=>{r.nodes().forEach(a=>{n[a.id()]={...a.position()}})}}).run(),{positions:n}};class zse{start(){}postMessage(e){const{elements:r,spacingFactor:n}=e,i=Fse(r,n);this.onmessage({data:i})}onmessage(){}close(){}}const qse={port:new zse},Gse=()=>new SharedWorker(new URL("/teste-neo4j-nvl/assets/CoseBilkentLayout.worker-BhgoYVHw.js",import.meta.url),{type:"module",name:"CoseBilkentLayout"});function Vse(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var LC,zB;function Hse(){if(zB)return LC;zB=1;function t(){this.__data__=[],this.size=0}return LC=t,LC}var jC,qB;function $k(){if(qB)return jC;qB=1;function t(e,r){return e===r||e!==e&&r!==r}return jC=t,jC}var BC,GB;function UO(){if(GB)return BC;GB=1;var t=$k();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return BC=e,BC}var UC,VB;function Yse(){if(VB)return UC;VB=1;var t=UO(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return UC=n,UC}var FC,HB;function Wse(){if(HB)return FC;HB=1;var t=UO();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return FC=e,FC}var zC,YB;function Xse(){if(YB)return zC;YB=1;var t=UO();function e(r){return t(this.__data__,r)>-1}return zC=e,zC}var qC,WB;function $se(){if(WB)return qC;WB=1;var t=UO();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return qC=e,qC}var GC,XB;function FO(){if(XB)return GC;XB=1;var t=Hse(),e=Yse(),r=Wse(),n=Xse(),i=$se();function a(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,GC=a,GC}var VC,$B;function Kse(){if($B)return VC;$B=1;var t=FO();function e(){this.__data__=new t,this.size=0}return VC=e,VC}var HC,KB;function Zse(){if(KB)return HC;KB=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return HC=t,HC}var YC,ZB;function Qse(){if(ZB)return YC;ZB=1;function t(e){return this.__data__.get(e)}return YC=t,YC}var WC,QB;function Jse(){if(QB)return WC;QB=1;function t(e){return this.__data__.has(e)}return WC=t,WC}var XC,JB;function iY(){if(JB)return XC;JB=1;var t=typeof qr=="object"&&qr&&qr.Object===Object&&qr;return XC=t,XC}var $C,eU;function yl(){if(eU)return $C;eU=1;var t=iY(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return $C=r,$C}var KC,tU;function Oy(){if(tU)return KC;tU=1;var t=yl(),e=t.Symbol;return KC=e,KC}var ZC,rU;function ele(){if(rU)return ZC;rU=1;var t=Oy(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),s=o[i];try{o[i]=void 0;var l=!0}catch{}var c=n.call(o);return l&&(u?o[i]=s:delete o[i]),c}return ZC=a,ZC}var QC,nU;function tle(){if(nU)return QC;nU=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return QC=r,QC}var JC,iU;function Ty(){if(iU)return JC;iU=1;var t=Oy(),e=ele(),r=tle(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return JC=o,JC}var eA,aU;function bv(){if(aU)return eA;aU=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return eA=t,eA}var tA,oU;function zO(){if(oU)return tA;oU=1;var t=Ty(),e=bv(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var s=t(u);return s==n||s==i||s==r||s==a}return tA=o,tA}var rA,uU;function rle(){if(uU)return rA;uU=1;var t=yl(),e=t["__core-js_shared__"];return rA=e,rA}var nA,sU;function nle(){if(sU)return nA;sU=1;var t=rle(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return nA=r,nA}var iA,lU;function aY(){if(lU)return iA;lU=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return iA=r,iA}var aA,cU;function ile(){if(cU)return aA;cU=1;var t=zO(),e=nle(),r=bv(),n=aY(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,s=o.toString,l=u.hasOwnProperty,c=RegExp("^"+s.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||e(h))return!1;var d=t(h)?c:a;return d.test(n(h))}return aA=f,aA}var oA,fU;function ale(){if(fU)return oA;fU=1;function t(e,r){return e==null?void 0:e[r]}return oA=t,oA}var uA,hU;function _v(){if(hU)return uA;hU=1;var t=ile(),e=ale();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return uA=r,uA}var sA,dU;function Kk(){if(dU)return sA;dU=1;var t=_v(),e=yl(),r=t(e,"Map");return sA=r,sA}var lA,vU;function qO(){if(vU)return lA;vU=1;var t=_v(),e=t(Object,"create");return lA=e,lA}var cA,pU;function ole(){if(pU)return cA;pU=1;var t=qO();function e(){this.__data__=t?t(null):{},this.size=0}return cA=e,cA}var fA,gU;function ule(){if(gU)return fA;gU=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return fA=t,fA}var hA,yU;function sle(){if(yU)return hA;yU=1;var t=qO(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return hA=i,hA}var dA,mU;function lle(){if(mU)return dA;mU=1;var t=qO(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return dA=n,dA}var vA,bU;function cle(){if(bU)return vA;bU=1;var t=qO(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return vA=r,vA}var pA,_U;function fle(){if(_U)return pA;_U=1;var t=ole(),e=ule(),r=sle(),n=lle(),i=cle();function a(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,pA=a,pA}var gA,wU;function hle(){if(wU)return gA;wU=1;var t=fle(),e=FO(),r=Kk();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return gA=n,gA}var yA,EU;function dle(){if(EU)return yA;EU=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return yA=t,yA}var mA,SU;function GO(){if(SU)return mA;SU=1;var t=dle();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return mA=e,mA}var bA,OU;function vle(){if(OU)return bA;OU=1;var t=GO();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return bA=e,bA}var _A,TU;function ple(){if(TU)return _A;TU=1;var t=GO();function e(r){return t(this,r).get(r)}return _A=e,_A}var wA,xU;function gle(){if(xU)return wA;xU=1;var t=GO();function e(r){return t(this,r).has(r)}return wA=e,wA}var EA,CU;function yle(){if(CU)return EA;CU=1;var t=GO();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return EA=e,EA}var SA,AU;function Zk(){if(AU)return SA;AU=1;var t=hle(),e=vle(),r=ple(),n=gle(),i=yle();function a(o){var u=-1,s=o==null?0:o.length;for(this.clear();++u<s;){var l=o[u];this.set(l[0],l[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,SA=a,SA}var OA,RU;function mle(){if(RU)return OA;RU=1;var t=FO(),e=Kk(),r=Zk(),n=200;function i(a,o){var u=this.__data__;if(u instanceof t){var s=u.__data__;if(!e||s.length<n-1)return s.push([a,o]),this.size=++u.size,this;u=this.__data__=new r(s)}return u.set(a,o),this.size=u.size,this}return OA=i,OA}var TA,PU;function Qk(){if(PU)return TA;PU=1;var t=FO(),e=Kse(),r=Zse(),n=Qse(),i=Jse(),a=mle();function o(u){var s=this.__data__=new t(u);this.size=s.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,TA=o,TA}var xA,DU;function Jk(){if(DU)return xA;DU=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return xA=t,xA}var CA,MU;function oY(){if(MU)return CA;MU=1;var t=_v(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return CA=e,CA}var AA,IU;function uY(){if(IU)return AA;IU=1;var t=oY();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return AA=e,AA}var RA,NU;function sY(){if(NU)return RA;NU=1;var t=uY(),e=$k(),r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u){var s=a[o];(!(n.call(a,o)&&e(s,u))||u===void 0&&!(o in a))&&t(a,o,u)}return RA=i,RA}var PA,kU;function VO(){if(kU)return PA;kU=1;var t=sY(),e=uY();function r(n,i,a,o){var u=!a;a||(a={});for(var s=-1,l=i.length;++s<l;){var c=i[s],f=o?o(a[c],n[c],c,a,n):void 0;f===void 0&&(f=n[c]),u?e(a,c,f):t(a,c,f)}return a}return PA=r,PA}var DA,LU;function ble(){if(LU)return DA;LU=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return DA=t,DA}var MA,jU;function Oc(){if(jU)return MA;jU=1;function t(e){return e!=null&&typeof e=="object"}return MA=t,MA}var IA,BU;function _le(){if(BU)return IA;BU=1;var t=Ty(),e=Oc(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return IA=n,IA}var NA,UU;function HO(){if(UU)return NA;UU=1;var t=_le(),e=Oc(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return NA=a,NA}var kA,FU;function ra(){if(FU)return kA;FU=1;var t=Array.isArray;return kA=t,kA}var d0={exports:{}},LA,zU;function wle(){if(zU)return LA;zU=1;function t(){return!1}return LA=t,LA}d0.exports;var qU;function R_(){return qU||(qU=1,function(t,e){var r=yl(),n=wle(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?r.Buffer:void 0,s=u?u.isBuffer:void 0,l=s||n;t.exports=l}(d0,d0.exports)),d0.exports}var jA,GU;function lY(){if(GU)return jA;GU=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return jA=r,jA}var BA,VU;function eL(){if(VU)return BA;VU=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return BA=e,BA}var UA,HU;function Ele(){if(HU)return UA;HU=1;var t=Ty(),e=eL(),r=Oc(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",s="[object Function]",l="[object Map]",c="[object Number]",f="[object Object]",h="[object RegExp]",d="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",p="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",w="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",D={};D[m]=D[g]=D[_]=D[E]=D[T]=D[w]=D[S]=D[C]=D[R]=!0,D[n]=D[i]=D[b]=D[a]=D[p]=D[o]=D[u]=D[s]=D[l]=D[c]=D[f]=D[h]=D[d]=D[v]=D[y]=!1;function M(I){return r(I)&&e(I.length)&&!!D[t(I)]}return UA=M,UA}var FA,YU;function tL(){if(YU)return FA;YU=1;function t(e){return function(r){return e(r)}}return FA=t,FA}var v0={exports:{}};v0.exports;var WU;function rL(){return WU||(WU=1,function(t,e){var r=iY(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,u=function(){try{var s=i&&i.require&&i.require("util").types;return s||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u}(v0,v0.exports)),v0.exports}var zA,XU;function YO(){if(XU)return zA;XU=1;var t=Ele(),e=tL(),r=rL(),n=r&&r.isTypedArray,i=n?e(n):t;return zA=i,zA}var qA,$U;function cY(){if($U)return qA;$U=1;var t=ble(),e=HO(),r=ra(),n=R_(),i=lY(),a=YO(),o=Object.prototype,u=o.hasOwnProperty;function s(l,c){var f=r(l),h=!f&&e(l),d=!f&&!h&&n(l),v=!f&&!h&&!d&&a(l),y=f||h||d||v,b=y?t(l.length,String):[],p=b.length;for(var m in l)(c||u.call(l,m))&&!(y&&(m=="length"||d&&(m=="offset"||m=="parent")||v&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,p)))&&b.push(m);return b}return qA=s,qA}var GA,KU;function WO(){if(KU)return GA;KU=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return GA=e,GA}var VA,ZU;function fY(){if(ZU)return VA;ZU=1;function t(e,r){return function(n){return e(r(n))}}return VA=t,VA}var HA,QU;function Sle(){if(QU)return HA;QU=1;var t=fY(),e=t(Object.keys,Object);return HA=e,HA}var YA,JU;function nL(){if(JU)return YA;JU=1;var t=WO(),e=Sle(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&o.push(u);return o}return YA=i,YA}var WA,e6;function wv(){if(e6)return WA;e6=1;var t=zO(),e=eL();function r(n){return n!=null&&e(n.length)&&!t(n)}return WA=r,WA}var XA,t6;function Ev(){if(t6)return XA;t6=1;var t=cY(),e=nL(),r=wv();function n(i){return r(i)?t(i):e(i)}return XA=n,XA}var $A,r6;function Ole(){if(r6)return $A;r6=1;var t=VO(),e=Ev();function r(n,i){return n&&t(i,e(i),n)}return $A=r,$A}var KA,n6;function Tle(){if(n6)return KA;n6=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return KA=t,KA}var ZA,i6;function xle(){if(i6)return ZA;i6=1;var t=bv(),e=WO(),r=Tle(),n=Object.prototype,i=n.hasOwnProperty;function a(o){if(!t(o))return r(o);var u=e(o),s=[];for(var l in o)l=="constructor"&&(u||!i.call(o,l))||s.push(l);return s}return ZA=a,ZA}var QA,a6;function iL(){if(a6)return QA;a6=1;var t=cY(),e=xle(),r=wv();function n(i){return r(i)?t(i,!0):e(i)}return QA=n,QA}var JA,o6;function Cle(){if(o6)return JA;o6=1;var t=VO(),e=iL();function r(n,i){return n&&t(i,e(i),n)}return JA=r,JA}var p0={exports:{}};p0.exports;var u6;function Ale(){return u6||(u6=1,function(t,e){var r=yl(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,u=o?o.allocUnsafe:void 0;function s(l,c){if(c)return l.slice();var f=l.length,h=u?u(f):new l.constructor(f);return l.copy(h),h}t.exports=s}(p0,p0.exports)),p0.exports}var eR,s6;function Rle(){if(s6)return eR;s6=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return eR=t,eR}var tR,l6;function hY(){if(l6)return tR;l6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[a++]=u)}return o}return tR=t,tR}var rR,c6;function dY(){if(c6)return rR;c6=1;function t(){return[]}return rR=t,rR}var nR,f6;function aL(){if(f6)return nR;f6=1;var t=hY(),e=dY(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return nR=a,nR}var iR,h6;function Ple(){if(h6)return iR;h6=1;var t=VO(),e=aL();function r(n,i){return t(n,e(n),i)}return iR=r,iR}var aR,d6;function oL(){if(d6)return aR;d6=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return aR=t,aR}var oR,v6;function uL(){if(v6)return oR;v6=1;var t=fY(),e=t(Object.getPrototypeOf,Object);return oR=e,oR}var uR,p6;function vY(){if(p6)return uR;p6=1;var t=oL(),e=uL(),r=aL(),n=dY(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var u=[];o;)t(u,r(o)),o=e(o);return u}:n;return uR=a,uR}var sR,g6;function Dle(){if(g6)return sR;g6=1;var t=VO(),e=vY();function r(n,i){return t(n,e(n),i)}return sR=r,sR}var lR,y6;function pY(){if(y6)return lR;y6=1;var t=oL(),e=ra();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return lR=r,lR}var cR,m6;function gY(){if(m6)return cR;m6=1;var t=pY(),e=aL(),r=Ev();function n(i){return t(i,r,e)}return cR=n,cR}var fR,b6;function Mle(){if(b6)return fR;b6=1;var t=pY(),e=vY(),r=iL();function n(i){return t(i,r,e)}return fR=n,fR}var hR,_6;function Ile(){if(_6)return hR;_6=1;var t=_v(),e=yl(),r=t(e,"DataView");return hR=r,hR}var dR,w6;function Nle(){if(w6)return dR;w6=1;var t=_v(),e=yl(),r=t(e,"Promise");return dR=r,dR}var vR,E6;function yY(){if(E6)return vR;E6=1;var t=_v(),e=yl(),r=t(e,"Set");return vR=r,vR}var pR,S6;function kle(){if(S6)return pR;S6=1;var t=_v(),e=yl(),r=t(e,"WeakMap");return pR=r,pR}var gR,O6;function xy(){if(O6)return gR;O6=1;var t=Ile(),e=Kk(),r=Nle(),n=yY(),i=kle(),a=Ty(),o=aY(),u="[object Map]",s="[object Object]",l="[object Promise]",c="[object Set]",f="[object WeakMap]",h="[object DataView]",d=o(t),v=o(e),y=o(r),b=o(n),p=o(i),m=a;return(t&&m(new t(new ArrayBuffer(1)))!=h||e&&m(new e)!=u||r&&m(r.resolve())!=l||n&&m(new n)!=c||i&&m(new i)!=f)&&(m=function(g){var _=a(g),E=_==s?g.constructor:void 0,T=E?o(E):"";if(T)switch(T){case d:return h;case v:return u;case y:return l;case b:return c;case p:return f}return _}),gR=m,gR}var yR,T6;function Lle(){if(T6)return yR;T6=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return yR=r,yR}var mR,x6;function mY(){if(x6)return mR;x6=1;var t=yl(),e=t.Uint8Array;return mR=e,mR}var bR,C6;function sL(){if(C6)return bR;C6=1;var t=mY();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return bR=e,bR}var _R,A6;function jle(){if(A6)return _R;A6=1;var t=sL();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return _R=e,_R}var wR,R6;function Ble(){if(R6)return wR;R6=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return wR=e,wR}var ER,P6;function Ule(){if(P6)return ER;P6=1;var t=Oy(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return ER=n,ER}var SR,D6;function Fle(){if(D6)return SR;D6=1;var t=sL();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return SR=e,SR}var OR,M6;function zle(){if(M6)return OR;M6=1;var t=sL(),e=jle(),r=Ble(),n=Ule(),i=Fle(),a="[object Boolean]",o="[object Date]",u="[object Map]",s="[object Number]",l="[object RegExp]",c="[object Set]",f="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",p="[object Int8Array]",m="[object Int16Array]",g="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",w="[object Uint32Array]";function S(C,R,D){var M=C.constructor;switch(R){case d:return t(C);case a:case o:return new M(+C);case v:return e(C,D);case y:case b:case p:case m:case g:case _:case E:case T:case w:return i(C,D);case u:return new M;case s:case f:return new M(C);case l:return r(C);case c:return new M;case h:return n(C)}}return OR=S,OR}var TR,I6;function bY(){if(I6)return TR;I6=1;var t=bv(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}}();return TR=r,TR}var xR,N6;function qle(){if(N6)return xR;N6=1;var t=bY(),e=uL(),r=WO();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return xR=n,xR}var CR,k6;function Gle(){if(k6)return CR;k6=1;var t=xy(),e=Oc(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return CR=n,CR}var AR,L6;function Vle(){if(L6)return AR;L6=1;var t=Gle(),e=tL(),r=rL(),n=r&&r.isMap,i=n?e(n):t;return AR=i,AR}var RR,j6;function Hle(){if(j6)return RR;j6=1;var t=xy(),e=Oc(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return RR=n,RR}var PR,B6;function Yle(){if(B6)return PR;B6=1;var t=Hle(),e=tL(),r=rL(),n=r&&r.isSet,i=n?e(n):t;return PR=i,PR}var DR,U6;function Wle(){if(U6)return DR;U6=1;var t=Qk(),e=Jk(),r=sY(),n=Ole(),i=Cle(),a=Ale(),o=Rle(),u=Ple(),s=Dle(),l=gY(),c=Mle(),f=xy(),h=Lle(),d=zle(),v=qle(),y=ra(),b=R_(),p=Vle(),m=bv(),g=Yle(),_=Ev(),E=iL(),T=1,w=2,S=4,C="[object Arguments]",R="[object Array]",D="[object Boolean]",M="[object Date]",I="[object Error]",k="[object Function]",U="[object GeneratorFunction]",F="[object Map]",B="[object Number]",z="[object Object]",H="[object RegExp]",Y="[object Set]",W="[object String]",Z="[object Symbol]",le="[object WeakMap]",ce="[object ArrayBuffer]",ue="[object DataView]",de="[object Float32Array]",he="[object Float64Array]",fe="[object Int8Array]",te="[object Int16Array]",Q="[object Int32Array]",ee="[object Uint8Array]",ae="[object Uint8ClampedArray]",pe="[object Uint16Array]",_e="[object Uint32Array]",Te={};Te[C]=Te[R]=Te[ce]=Te[ue]=Te[D]=Te[M]=Te[de]=Te[he]=Te[fe]=Te[te]=Te[Q]=Te[F]=Te[B]=Te[z]=Te[H]=Te[Y]=Te[W]=Te[Z]=Te[ee]=Te[ae]=Te[pe]=Te[_e]=!0,Te[I]=Te[k]=Te[le]=!1;function Ae(be,j,G,X,ie,ve){var ge,Oe=j&T,Le=j&w,We=j&S;if(G&&(ge=ie?G(be,X,ie,ve):G(be)),ge!==void 0)return ge;if(!m(be))return be;var ut=y(be);if(ut){if(ge=h(be),!Oe)return o(be,ge)}else{var Ze=f(be),tt=Ze==k||Ze==U;if(b(be))return a(be,Oe);if(Ze==z||Ze==C||tt&&!ie){if(ge=Le||tt?{}:v(be),!Oe)return Le?s(be,i(ge,be)):u(be,n(ge,be))}else{if(!Te[Ze])return ie?be:{};ge=d(be,Ze,Oe)}}ve||(ve=new t);var Qe=ve.get(be);if(Qe)return Qe;ve.set(be,ge),g(be)?be.forEach(function(re){ge.add(Ae(re,j,G,re,be,ve))}):p(be)&&be.forEach(function(re,Ee){ge.set(Ee,Ae(re,j,G,Ee,be,ve))});var $e=We?Le?c:l:Le?E:_,Ie=ut?void 0:$e(be);return e(Ie||be,function(re,Ee){Ie&&(Ee=re,re=be[Ee]),r(ge,Ee,Ae(re,j,G,Ee,be,ve))}),ge}return DR=Ae,DR}var MR,F6;function Xle(){if(F6)return MR;F6=1;var t=Wle(),e=4;function r(n){return t(n,e)}return MR=r,MR}var IR,z6;function _Y(){if(z6)return IR;z6=1;function t(e){return function(){return e}}return IR=t,IR}var NR,q6;function $le(){if(q6)return NR;q6=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),u=i(r),s=u.length;s--;){var l=u[e?s:++a];if(n(o[l],l,o)===!1)break}return r}}return NR=t,NR}var kR,G6;function Kle(){if(G6)return kR;G6=1;var t=$le(),e=t();return kR=e,kR}var LR,V6;function wY(){if(V6)return LR;V6=1;var t=Kle(),e=Ev();function r(n,i){return n&&t(n,i,e)}return LR=r,LR}var jR,H6;function Zle(){if(H6)return jR;H6=1;var t=wv();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,u=n?o:-1,s=Object(i);(n?u--:++u<o)&&a(s[u],u,s)!==!1;);return i}}return jR=e,jR}var BR,Y6;function XO(){if(Y6)return BR;Y6=1;var t=wY(),e=Zle(),r=e(t);return BR=r,BR}var UR,W6;function $O(){if(W6)return UR;W6=1;function t(e){return e}return UR=t,UR}var FR,X6;function Qle(){if(X6)return FR;X6=1;var t=$O();function e(r){return typeof r=="function"?r:t}return FR=e,FR}var zR,$6;function Jle(){if($6)return zR;$6=1;var t=Jk(),e=XO(),r=Qle(),n=ra();function i(a,o){var u=n(a)?t:e;return u(a,r(o))}return zR=i,zR}var qR,K6;function ece(){return K6||(K6=1,qR=Jle()),qR}var GR,Z6;function tce(){if(Z6)return GR;Z6=1;var t=XO();function e(r,n){var i=[];return t(r,function(a,o,u){n(a,o,u)&&i.push(a)}),i}return GR=e,GR}var VR,Q6;function rce(){if(Q6)return VR;Q6=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return VR=e,VR}var HR,J6;function nce(){if(J6)return HR;J6=1;function t(e){return this.__data__.has(e)}return HR=t,HR}var YR,eF;function EY(){if(eF)return YR;eF=1;var t=Zk(),e=rce(),r=nce();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,YR=n,YR}var WR,tF;function ice(){if(tF)return WR;tF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return WR=t,WR}var XR,rF;function SY(){if(rF)return XR;rF=1;function t(e,r){return e.has(r)}return XR=t,XR}var $R,nF;function OY(){if(nF)return $R;nF=1;var t=EY(),e=ice(),r=SY(),n=1,i=2;function a(o,u,s,l,c,f){var h=s&n,d=o.length,v=u.length;if(d!=v&&!(h&&v>d))return!1;var y=f.get(o),b=f.get(u);if(y&&b)return y==u&&b==o;var p=-1,m=!0,g=s&i?new t:void 0;for(f.set(o,u),f.set(u,o);++p<d;){var _=o[p],E=u[p];if(l)var T=h?l(E,_,p,u,o,f):l(_,E,p,o,u,f);if(T!==void 0){if(T)continue;m=!1;break}if(g){if(!e(u,function(w,S){if(!r(g,S)&&(_===w||c(_,w,s,l,f)))return g.push(S)})){m=!1;break}}else if(!(_===E||c(_,E,s,l,f))){m=!1;break}}return f.delete(o),f.delete(u),m}return $R=a,$R}var KR,iF;function ace(){if(iF)return KR;iF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return KR=t,KR}var ZR,aF;function lL(){if(aF)return ZR;aF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ZR=t,ZR}var QR,oF;function oce(){if(oF)return QR;oF=1;var t=Oy(),e=mY(),r=$k(),n=OY(),i=ace(),a=lL(),o=1,u=2,s="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Map]",h="[object Number]",d="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",g=t?t.prototype:void 0,_=g?g.valueOf:void 0;function E(T,w,S,C,R,D,M){switch(S){case m:if(T.byteLength!=w.byteLength||T.byteOffset!=w.byteOffset)return!1;T=T.buffer,w=w.buffer;case p:return!(T.byteLength!=w.byteLength||!D(new e(T),new e(w)));case s:case l:case h:return r(+T,+w);case c:return T.name==w.name&&T.message==w.message;case d:case y:return T==w+"";case f:var I=i;case v:var k=C&o;if(I||(I=a),T.size!=w.size&&!k)return!1;var U=M.get(T);if(U)return U==w;C|=u,M.set(T,w);var F=n(I(T),I(w),C,R,D,M);return M.delete(T),F;case b:if(_)return _.call(T)==_.call(w)}return!1}return QR=E,QR}var JR,uF;function uce(){if(uF)return JR;uF=1;var t=gY(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u,s,l,c){var f=u&e,h=t(a),d=h.length,v=t(o),y=v.length;if(d!=y&&!f)return!1;for(var b=d;b--;){var p=h[b];if(!(f?p in o:n.call(o,p)))return!1}var m=c.get(a),g=c.get(o);if(m&&g)return m==o&&g==a;var _=!0;c.set(a,o),c.set(o,a);for(var E=f;++b<d;){p=h[b];var T=a[p],w=o[p];if(s)var S=f?s(w,T,p,o,a,c):s(T,w,p,a,o,c);if(!(S===void 0?T===w||l(T,w,u,s,c):S)){_=!1;break}E||(E=p=="constructor")}if(_&&!E){var C=a.constructor,R=o.constructor;C!=R&&"constructor"in a&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof R=="function"&&R instanceof R)&&(_=!1)}return c.delete(a),c.delete(o),_}return JR=i,JR}var eP,sF;function sce(){if(sF)return eP;sF=1;var t=Qk(),e=OY(),r=oce(),n=uce(),i=xy(),a=ra(),o=R_(),u=YO(),s=1,l="[object Arguments]",c="[object Array]",f="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function v(y,b,p,m,g,_){var E=a(y),T=a(b),w=E?c:i(y),S=T?c:i(b);w=w==l?f:w,S=S==l?f:S;var C=w==f,R=S==f,D=w==S;if(D&&o(y)){if(!o(b))return!1;E=!0,C=!1}if(D&&!C)return _||(_=new t),E||u(y)?e(y,b,p,m,g,_):r(y,b,w,p,m,g,_);if(!(p&s)){var M=C&&d.call(y,"__wrapped__"),I=R&&d.call(b,"__wrapped__");if(M||I){var k=M?y.value():y,U=I?b.value():b;return _||(_=new t),g(k,U,p,m,_)}}return D?(_||(_=new t),n(y,b,p,m,g,_)):!1}return eP=v,eP}var tP,lF;function TY(){if(lF)return tP;lF=1;var t=sce(),e=Oc();function r(n,i,a,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,u)}return tP=r,tP}var rP,cF;function lce(){if(cF)return rP;cF=1;var t=Qk(),e=TY(),r=1,n=2;function i(a,o,u,s){var l=u.length,c=l,f=!s;if(a==null)return!c;for(a=Object(a);l--;){var h=u[l];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++l<c;){h=u[l];var d=h[0],v=a[d],y=h[1];if(f&&h[2]){if(v===void 0&&!(d in a))return!1}else{var b=new t;if(s)var p=s(v,y,d,a,o,b);if(!(p===void 0?e(y,v,r|n,s,b):p))return!1}}return!0}return rP=i,rP}var nP,fF;function xY(){if(fF)return nP;fF=1;var t=bv();function e(r){return r===r&&!t(r)}return nP=e,nP}var iP,hF;function cce(){if(hF)return iP;hF=1;var t=xY(),e=Ev();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],u=n[o];i[a]=[o,u,t(u)]}return i}return iP=r,iP}var aP,dF;function CY(){if(dF)return aP;dF=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return aP=t,aP}var oP,vF;function fce(){if(vF)return oP;vF=1;var t=lce(),e=cce(),r=CY();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return oP=n,oP}var uP,pF;function cL(){if(pF)return uP;pF=1;var t=Ty(),e=Oc(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return uP=n,uP}var sP,gF;function fL(){if(gF)return sP;gF=1;var t=ra(),e=cL(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return sP=i,sP}var lP,yF;function hce(){if(yF)return lP;yF=1;var t=Zk(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],s=a.cache;if(s.has(u))return s.get(u);var l=n.apply(this,o);return a.cache=s.set(u,l)||s,l};return a.cache=new(r.Cache||t),a}return r.Cache=t,lP=r,lP}var cP,mF;function dce(){if(mF)return cP;mF=1;var t=hce(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return cP=r,cP}var fP,bF;function vce(){if(bF)return fP;bF=1;var t=dce(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,s,l){a.push(s?l.replace(r,"$1"):u||o)}),a});return fP=n,fP}var hP,_F;function hL(){if(_F)return hP;_F=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return hP=t,hP}var dP,wF;function pce(){if(wF)return dP;wF=1;var t=Oy(),e=hL(),r=ra(),n=cL(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}return dP=o,dP}var vP,EF;function gce(){if(EF)return vP;EF=1;var t=pce();function e(r){return r==null?"":t(r)}return vP=e,vP}var pP,SF;function AY(){if(SF)return pP;SF=1;var t=ra(),e=fL(),r=vce(),n=gce();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return pP=i,pP}var gP,OF;function KO(){if(OF)return gP;OF=1;var t=cL();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return gP=e,gP}var yP,TF;function RY(){if(TF)return yP;TF=1;var t=AY(),e=KO();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return yP=r,yP}var mP,xF;function yce(){if(xF)return mP;xF=1;var t=RY();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return mP=e,mP}var bP,CF;function mce(){if(CF)return bP;CF=1;function t(e,r){return e!=null&&r in Object(e)}return bP=t,bP}var _P,AF;function PY(){if(AF)return _P;AF=1;var t=AY(),e=HO(),r=ra(),n=lY(),i=eL(),a=KO();function o(u,s,l){s=t(s,u);for(var c=-1,f=s.length,h=!1;++c<f;){var d=a(s[c]);if(!(h=u!=null&&l(u,d)))break;u=u[d]}return h||++c!=f?h:(f=u==null?0:u.length,!!f&&i(f)&&n(d,f)&&(r(u)||e(u)))}return _P=o,_P}var wP,RF;function bce(){if(RF)return wP;RF=1;var t=mce(),e=PY();function r(n,i){return n!=null&&e(n,i,t)}return wP=r,wP}var EP,PF;function _ce(){if(PF)return EP;PF=1;var t=TY(),e=yce(),r=bce(),n=fL(),i=xY(),a=CY(),o=KO(),u=1,s=2;function l(c,f){return n(c)&&i(f)?a(o(c),f):function(h){var d=e(h,c);return d===void 0&&d===f?r(h,c):t(f,d,u|s)}}return EP=l,EP}var SP,DF;function DY(){if(DF)return SP;DF=1;function t(e){return function(r){return r==null?void 0:r[e]}}return SP=t,SP}var OP,MF;function wce(){if(MF)return OP;MF=1;var t=RY();function e(r){return function(n){return t(n,r)}}return OP=e,OP}var TP,IF;function Ece(){if(IF)return TP;IF=1;var t=DY(),e=wce(),r=fL(),n=KO();function i(a){return r(a)?t(n(a)):e(a)}return TP=i,TP}var xP,NF;function ZO(){if(NF)return xP;NF=1;var t=fce(),e=_ce(),r=$O(),n=ra(),i=Ece();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return xP=a,xP}var CP,kF;function Sce(){if(kF)return CP;kF=1;var t=hY(),e=tce(),r=ZO(),n=ra();function i(a,o){var u=n(a)?t:e;return u(a,r(o,3))}return CP=i,CP}var AP,LF;function Oce(){if(LF)return AP;LF=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return AP=r,AP}var RP,jF;function Tce(){if(jF)return RP;jF=1;var t=Oce(),e=PY();function r(n,i){return n!=null&&e(n,i,t)}return RP=r,RP}var PP,BF;function xce(){if(BF)return PP;BF=1;var t=nL(),e=xy(),r=HO(),n=ra(),i=wv(),a=R_(),o=WO(),u=YO(),s="[object Map]",l="[object Set]",c=Object.prototype,f=c.hasOwnProperty;function h(d){if(d==null)return!0;if(i(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||a(d)||u(d)||r(d)))return!d.length;var v=e(d);if(v==s||v==l)return!d.size;if(o(d))return!t(d).length;for(var y in d)if(f.call(d,y))return!1;return!0}return PP=h,PP}var DP,UF;function Cce(){if(UF)return DP;UF=1;function t(e){return e===void 0}return DP=t,DP}var MP,FF;function Ace(){if(FF)return MP;FF=1;var t=XO(),e=wv();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(u,s,l){o[++a]=i(u,s,l)}),o}return MP=r,MP}var IP,zF;function Rce(){if(zF)return IP;zF=1;var t=hL(),e=ZO(),r=Ace(),n=ra();function i(a,o){var u=n(a)?t:r;return u(a,e(o,3))}return IP=i,IP}var NP,qF;function Pce(){if(qF)return NP;qF=1;function t(e,r,n,i){var a=-1,o=e==null?0:e.length;for(i&&o&&(n=e[++a]);++a<o;)n=r(n,e[a],a,e);return n}return NP=t,NP}var kP,GF;function Dce(){if(GF)return kP;GF=1;function t(e,r,n,i,a){return a(e,function(o,u,s){n=i?(i=!1,o):r(n,o,u,s)}),n}return kP=t,kP}var LP,VF;function Mce(){if(VF)return LP;VF=1;var t=Pce(),e=XO(),r=ZO(),n=Dce(),i=ra();function a(o,u,s){var l=i(o)?t:n,c=arguments.length<3;return l(o,r(u,4),s,c,e)}return LP=a,LP}var jP,HF;function Ice(){if(HF)return jP;HF=1;var t=Ty(),e=ra(),r=Oc(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return jP=i,jP}var BP,YF;function Nce(){if(YF)return BP;YF=1;var t=DY(),e=t("length");return BP=e,BP}var UP,WF;function kce(){if(WF)return UP;WF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function s(l){return u.test(l)}return UP=s,UP}var FP,XF;function Lce(){if(XF)return FP;XF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",s="\\ud83c[\\udffb-\\udfff]",l="(?:"+u+"|"+s+")",c="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",v=l+"?",y="["+a+"]?",b="(?:"+d+"(?:"+[c,f,h].join("|")+")"+y+v+")*",p=y+v+b,m="(?:"+[c+u+"?",u,f,h,o].join("|")+")",g=RegExp(s+"(?="+s+")|"+m+p,"g");function _(E){for(var T=g.lastIndex=0;g.test(E);)++T;return T}return FP=_,FP}var zP,$F;function jce(){if($F)return zP;$F=1;var t=Nce(),e=kce(),r=Lce();function n(i){return e(i)?r(i):t(i)}return zP=n,zP}var qP,KF;function Bce(){if(KF)return qP;KF=1;var t=nL(),e=xy(),r=wv(),n=Ice(),i=jce(),a="[object Map]",o="[object Set]";function u(s){if(s==null)return 0;if(r(s))return n(s)?i(s):s.length;var l=e(s);return l==a||l==o?s.size:t(s).length}return qP=u,qP}var GP,ZF;function Uce(){if(ZF)return GP;ZF=1;var t=Jk(),e=bY(),r=wY(),n=ZO(),i=uL(),a=ra(),o=R_(),u=zO(),s=bv(),l=YO();function c(f,h,d){var v=a(f),y=v||o(f)||l(f);if(h=n(h,4),d==null){var b=f&&f.constructor;y?d=v?new b:[]:s(f)?d=u(b)?e(i(f)):{}:d={}}return(y?t:r)(f,function(p,m,g){return h(d,p,m,g)}),d}return GP=c,GP}var VP,QF;function Fce(){if(QF)return VP;QF=1;var t=Oy(),e=HO(),r=ra(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return VP=i,VP}var HP,JF;function zce(){if(JF)return HP;JF=1;var t=oL(),e=Fce();function r(n,i,a,o,u){var s=-1,l=n.length;for(a||(a=e),u||(u=[]);++s<l;){var c=n[s];i>0&&a(c)?i>1?r(c,i-1,a,o,u):t(u,c):o||(u[u.length]=c)}return u}return HP=r,HP}var YP,e8;function qce(){if(e8)return YP;e8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return YP=t,YP}var WP,t8;function Gce(){if(t8)return WP;t8=1;var t=qce(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,s=e(o.length-i,0),l=Array(s);++u<s;)l[u]=o[i+u];u=-1;for(var c=Array(i+1);++u<i;)c[u]=o[u];return c[i]=a(l),t(n,this,c)}}return WP=r,WP}var XP,r8;function Vce(){if(r8)return XP;r8=1;var t=_Y(),e=oY(),r=$O(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return XP=n,XP}var $P,n8;function Hce(){if(n8)return $P;n8=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var u=r(),s=e-(u-o);if(o=u,s>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return $P=n,$P}var KP,i8;function Yce(){if(i8)return KP;i8=1;var t=Vce(),e=Hce(),r=e(t);return KP=r,KP}var ZP,a8;function Wce(){if(a8)return ZP;a8=1;var t=$O(),e=Gce(),r=Yce();function n(i,a){return r(e(i,a,t),i+"")}return ZP=n,ZP}var QP,o8;function Xce(){if(o8)return QP;o8=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return QP=t,QP}var JP,u8;function $ce(){if(u8)return JP;u8=1;function t(e){return e!==e}return JP=t,JP}var eD,s8;function Kce(){if(s8)return eD;s8=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return eD=t,eD}var tD,l8;function Zce(){if(l8)return tD;l8=1;var t=Xce(),e=$ce(),r=Kce();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return tD=n,tD}var rD,c8;function Qce(){if(c8)return rD;c8=1;var t=Zce();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return rD=e,rD}var nD,f8;function Jce(){if(f8)return nD;f8=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return nD=t,nD}var iD,h8;function efe(){if(h8)return iD;h8=1;function t(){}return iD=t,iD}var aD,d8;function tfe(){if(d8)return aD;d8=1;var t=yY(),e=efe(),r=lL(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return aD=i,aD}var oD,v8;function rfe(){if(v8)return oD;v8=1;var t=EY(),e=Qce(),r=Jce(),n=SY(),i=tfe(),a=lL(),o=200;function u(s,l,c){var f=-1,h=e,d=s.length,v=!0,y=[],b=y;if(c)v=!1,h=r;else if(d>=o){var p=l?null:i(s);if(p)return a(p);v=!1,h=n,b=new t}else b=l?[]:y;e:for(;++f<d;){var m=s[f],g=l?l(m):m;if(m=c||m!==0?m:0,v&&g===g){for(var _=b.length;_--;)if(b[_]===g)continue e;l&&b.push(g),y.push(m)}else h(b,g,c)||(b!==y&&b.push(g),y.push(m))}return y}return oD=u,oD}var uD,p8;function nfe(){if(p8)return uD;p8=1;var t=wv(),e=Oc();function r(n){return e(n)&&t(n)}return uD=r,uD}var sD,g8;function ife(){if(g8)return sD;g8=1;var t=zce(),e=Wce(),r=rfe(),n=nfe(),i=e(function(a){return r(t(a,1,n,!0))});return sD=i,sD}var lD,y8;function afe(){if(y8)return lD;y8=1;var t=hL();function e(r,n){return t(n,function(i){return r[i]})}return lD=e,lD}var cD,m8;function ofe(){if(m8)return cD;m8=1;var t=afe(),e=Ev();function r(n){return n==null?[]:t(n,e(n))}return cD=r,cD}var LS;if(typeof Vse=="function")try{LS={clone:Xle(),constant:_Y(),each:ece(),filter:Sce(),has:Tce(),isArray:ra(),isEmpty:xce(),isFunction:zO(),isUndefined:Cce(),keys:Ev(),map:Rce(),reduce:Mce(),size:Bce(),transform:Uce(),union:ife(),values:ofe()}}catch{}LS||(LS=window._);var Hu=LS,ur=Hu,dL=xr,ufe="\0",av="\0",b8="";function xr(t){this._isDirected=ur.has(t,"directed")?t.directed:!0,this._isMultigraph=ur.has(t,"multigraph")?t.multigraph:!1,this._isCompound=ur.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=ur.constant(void 0),this._defaultEdgeLabelFn=ur.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[av]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}xr.prototype._nodeCount=0;xr.prototype._edgeCount=0;xr.prototype.isDirected=function(){return this._isDirected};xr.prototype.isMultigraph=function(){return this._isMultigraph};xr.prototype.isCompound=function(){return this._isCompound};xr.prototype.setGraph=function(t){return this._label=t,this};xr.prototype.graph=function(){return this._label};xr.prototype.setDefaultNodeLabel=function(t){return ur.isFunction(t)||(t=ur.constant(t)),this._defaultNodeLabelFn=t,this};xr.prototype.nodeCount=function(){return this._nodeCount};xr.prototype.nodes=function(){return ur.keys(this._nodes)};xr.prototype.sources=function(){var t=this;return ur.filter(this.nodes(),function(e){return ur.isEmpty(t._in[e])})};xr.prototype.sinks=function(){var t=this;return ur.filter(this.nodes(),function(e){return ur.isEmpty(t._out[e])})};xr.prototype.setNodes=function(t,e){var r=arguments,n=this;return ur.each(t,function(i){r.length>1?n.setNode(i,e):n.setNode(i)}),this};xr.prototype.setNode=function(t,e){return ur.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=av,this._children[t]={},this._children[av][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)};xr.prototype.node=function(t){return this._nodes[t]};xr.prototype.hasNode=function(t){return ur.has(this._nodes,t)};xr.prototype.removeNode=function(t){var e=this;if(ur.has(this._nodes,t)){var r=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],ur.each(this.children(t),function(n){e.setParent(n)}),delete this._children[t]),ur.each(ur.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],ur.each(ur.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this};xr.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(ur.isUndefined(e))e=av;else{e+="";for(var r=e;!ur.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this};xr.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]};xr.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==av)return e}};xr.prototype.children=function(t){if(ur.isUndefined(t)&&(t=av),this._isCompound){var e=this._children[t];if(e)return ur.keys(e)}else{if(t===av)return this.nodes();if(this.hasNode(t))return[]}};xr.prototype.predecessors=function(t){var e=this._preds[t];if(e)return ur.keys(e)};xr.prototype.successors=function(t){var e=this._sucs[t];if(e)return ur.keys(e)};xr.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return ur.union(e,this.successors(t))};xr.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0};xr.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;ur.each(this._nodes,function(a,o){t(o)&&e.setNode(o,a)}),ur.each(this._edgeObjs,function(a){e.hasNode(a.v)&&e.hasNode(a.w)&&e.setEdge(a,r.edge(a))});var n={};function i(a){var o=r.parent(a);return o===void 0||e.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&ur.each(e.nodes(),function(a){e.setParent(a,i(a))}),e};xr.prototype.setDefaultEdgeLabel=function(t){return ur.isFunction(t)||(t=ur.constant(t)),this._defaultEdgeLabelFn=t,this};xr.prototype.edgeCount=function(){return this._edgeCount};xr.prototype.edges=function(){return ur.values(this._edgeObjs)};xr.prototype.setPath=function(t,e){var r=this,n=arguments;return ur.reduce(t,function(i,a){return n.length>1?r.setEdge(i,a,e):r.setEdge(i,a),a}),this};xr.prototype.setEdge=function(){var t,e,r,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(t=a.v,e=a.w,r=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(t=a,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),t=""+t,e=""+e,ur.isUndefined(r)||(r=""+r);var o=P_(this._isDirected,t,e,r);if(ur.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!ur.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(t,e,r);var u=sfe(this._isDirected,t,e,r);return t=u.v,e=u.w,Object.freeze(u),this._edgeObjs[o]=u,_8(this._preds[e],t),_8(this._sucs[t],e),this._in[e][o]=u,this._out[t][o]=u,this._edgeCount++,this};xr.prototype.edge=function(t,e,r){var n=arguments.length===1?vL(this._isDirected,arguments[0]):P_(this._isDirected,t,e,r);return this._edgeLabels[n]};xr.prototype.hasEdge=function(t,e,r){var n=arguments.length===1?vL(this._isDirected,arguments[0]):P_(this._isDirected,t,e,r);return ur.has(this._edgeLabels,n)};xr.prototype.removeEdge=function(t,e,r){var n=arguments.length===1?vL(this._isDirected,arguments[0]):P_(this._isDirected,t,e,r),i=this._edgeObjs[n];return i&&(t=i.v,e=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],w8(this._preds[e],t),w8(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this};xr.prototype.inEdges=function(t,e){var r=this._in[t];if(r){var n=ur.values(r);return e?ur.filter(n,function(i){return i.v===e}):n}};xr.prototype.outEdges=function(t,e){var r=this._out[t];if(r){var n=ur.values(r);return e?ur.filter(n,function(i){return i.w===e}):n}};xr.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};function _8(t,e){t[e]?t[e]++:t[e]=1}function w8(t,e){--t[e]||delete t[e]}function P_(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var o=i;i=a,a=o}return i+b8+a+b8+(ur.isUndefined(n)?ufe:n)}function sfe(t,e,r,n){var i=""+e,a=""+r;if(!t&&i>a){var o=i;i=a,a=o}var u={v:i,w:a};return n&&(u.name=n),u}function vL(t,e){return P_(t,e.v,e.w,e.name)}var lfe="2.1.8",cfe={Graph:dL,version:lfe},sl=Hu,ffe=dL,hfe={write:dfe,read:gfe};function dfe(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:vfe(t),edges:pfe(t)};return sl.isUndefined(t.graph())||(e.value=sl.clone(t.graph())),e}function vfe(t){return sl.map(t.nodes(),function(e){var r=t.node(e),n=t.parent(e),i={v:e};return sl.isUndefined(r)||(i.value=r),sl.isUndefined(n)||(i.parent=n),i})}function pfe(t){return sl.map(t.edges(),function(e){var r=t.edge(e),n={v:e.v,w:e.w};return sl.isUndefined(e.name)||(n.name=e.name),sl.isUndefined(r)||(n.value=r),n})}function gfe(t){var e=new ffe(t.options).setGraph(t.value);return sl.each(t.nodes,function(r){e.setNode(r.v,r.value),r.parent&&e.setParent(r.v,r.parent)}),sl.each(t.edges,function(r){e.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),e}var Nw=Hu,yfe=mfe;function mfe(t){var e={},r=[],n;function i(a){Nw.has(e,a)||(e[a]=!0,n.push(a),Nw.each(t.successors(a),i),Nw.each(t.predecessors(a),i))}return Nw.each(t.nodes(),function(a){n=[],i(a),n.length&&r.push(n)}),r}var MY=Hu,IY=Yu;function Yu(){this._arr=[],this._keyIndices={}}Yu.prototype.size=function(){return this._arr.length};Yu.prototype.keys=function(){return this._arr.map(function(t){return t.key})};Yu.prototype.has=function(t){return MY.has(this._keyIndices,t)};Yu.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority};Yu.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};Yu.prototype.add=function(t,e){var r=this._keyIndices;if(t=String(t),!MY.has(r,t)){var n=this._arr,i=n.length;return r[t]=i,n.push({key:t,priority:e}),this._decrease(i),!0}return!1};Yu.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key};Yu.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)};Yu.prototype._heapify=function(t){var e=this._arr,r=2*t,n=r+1,i=t;r<e.length&&(i=e[r].priority<e[i].priority?r:i,n<e.length&&(i=e[n].priority<e[i].priority?n:i),i!==t&&(this._swap(t,i),this._heapify(i)))};Yu.prototype._decrease=function(t){for(var e=this._arr,r=e[t].priority,n;t!==0&&(n=t>>1,!(e[n].priority<r));)this._swap(t,n),t=n};Yu.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,i=r[t],a=r[e];r[t]=a,r[e]=i,n[a.key]=t,n[i.key]=e};var bfe=Hu,_fe=IY,NY=Efe,wfe=bfe.constant(1);function Efe(t,e,r,n){return Sfe(t,String(e),r||wfe,n||function(i){return t.outEdges(i)})}function Sfe(t,e,r,n){var i={},a=new _fe,o,u,s=function(l){var c=l.v!==o?l.v:l.w,f=i[c],h=r(l),d=u.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+l+" Weight: "+h);d<f.distance&&(f.distance=d,f.predecessor=o,a.decrease(c,d))};for(t.nodes().forEach(function(l){var c=l===e?0:Number.POSITIVE_INFINITY;i[l]={distance:c},a.add(l,c)});a.size()>0&&(o=a.removeMin(),u=i[o],u.distance!==Number.POSITIVE_INFINITY);)n(o).forEach(s);return i}var Ofe=NY,Tfe=Hu,xfe=Cfe;function Cfe(t,e,r){return Tfe.transform(t.nodes(),function(n,i){n[i]=Ofe(t,i,e,r)},{})}var E8=Hu,kY=Afe;function Afe(t){var e=0,r=[],n={},i=[];function a(o){var u=n[o]={onStack:!0,lowlink:e,index:e++};if(r.push(o),t.successors(o).forEach(function(c){E8.has(n,c)?n[c].onStack&&(u.lowlink=Math.min(u.lowlink,n[c].index)):(a(c),u.lowlink=Math.min(u.lowlink,n[c].lowlink))}),u.lowlink===u.index){var s=[],l;do l=r.pop(),n[l].onStack=!1,s.push(l);while(o!==l);i.push(s)}}return t.nodes().forEach(function(o){E8.has(n,o)||a(o)}),i}var Rfe=Hu,Pfe=kY,Dfe=Mfe;function Mfe(t){return Rfe.filter(Pfe(t),function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var Ife=Hu,Nfe=Lfe,kfe=Ife.constant(1);function Lfe(t,e,r){return jfe(t,e||kfe,r||function(n){return t.outEdges(n)})}function jfe(t,e,r){var n={},i=t.nodes();return i.forEach(function(a){n[a]={},n[a][a]={distance:0},i.forEach(function(o){a!==o&&(n[a][o]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(o){var u=o.v===a?o.w:o.v,s=e(o);n[a][u]={distance:s,predecessor:a}})}),i.forEach(function(a){var o=n[a];i.forEach(function(u){var s=n[u];i.forEach(function(l){var c=s[a],f=o[l],h=s[l],d=c.distance+f.distance;d<h.distance&&(h.distance=d,h.predecessor=f.predecessor)})})}),n}var Wm=Hu,LY=jY;jY.CycleException=jS;function jY(t){var e={},r={},n=[];function i(a){if(Wm.has(r,a))throw new jS;Wm.has(e,a)||(r[a]=!0,e[a]=!0,Wm.each(t.predecessors(a),i),delete r[a],n.push(a))}if(Wm.each(t.sinks(),i),Wm.size(e)!==t.nodeCount())throw new jS;return n}function jS(){}jS.prototype=new Error;var S8=LY,Bfe=Ufe;function Ufe(t){try{S8(t)}catch(e){if(e instanceof S8.CycleException)return!1;throw e}return!0}var BS=Hu,BY=Ffe;function Ffe(t,e,r){BS.isArray(e)||(e=[e]);var n=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return BS.each(e,function(o){if(!t.hasNode(o))throw new Error("Graph does not have node: "+o);UY(t,o,r==="post",a,n,i)}),i}function UY(t,e,r,n,i,a){BS.has(n,e)||(n[e]=!0,r||a.push(e),BS.each(i(e),function(o){UY(t,o,r,n,i,a)}),r&&a.push(e))}var zfe=BY,qfe=Gfe;function Gfe(t,e){return zfe(t,e,"post")}var Vfe=BY,Hfe=Yfe;function Yfe(t,e){return Vfe(t,e,"pre")}var O8=Hu,Wfe=dL,Xfe=IY,$fe=Kfe;function Kfe(t,e){var r=new Wfe,n={},i=new Xfe,a;function o(s){var l=s.v===a?s.w:s.v,c=i.priority(l);if(c!==void 0){var f=e(s);f<c&&(n[l]=a,i.decrease(l,f))}}if(t.nodeCount()===0)return r;O8.each(t.nodes(),function(s){i.add(s,Number.POSITIVE_INFINITY),r.setNode(s)}),i.decrease(t.nodes()[0],0);for(var u=!1;i.size()>0;){if(a=i.removeMin(),O8.has(n,a))r.setEdge(a,n[a]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(a).forEach(o)}return r}var Zfe={components:yfe,dijkstra:NY,dijkstraAll:xfe,findCycles:Dfe,floydWarshall:Nfe,isAcyclic:Bfe,postorder:qfe,preorder:Hfe,prim:$fe,tarjan:kY,topsort:LY},T8=cfe,Wu={Graph:T8.Graph,json:hfe,alg:Zfe,version:T8.version};const Qfe=ly(Wu);var US={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */US.exports;(function(t,e){(function(){var r,n="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,h=2,d=4,v=1,y=2,b=1,p=2,m=4,g=8,_=16,E=32,T=64,w=128,S=256,C=512,R=30,D="...",M=800,I=16,k=1,U=2,F=3,B=1/0,z=9007199254740991,H=17976931348623157e292,Y=NaN,W=4294967295,Z=W-1,le=W>>>1,ce=[["ary",w],["bind",b],["bindKey",p],["curry",g],["curryRight",_],["flip",C],["partial",E],["partialRight",T],["rearg",S]],ue="[object Arguments]",de="[object Array]",he="[object AsyncFunction]",fe="[object Boolean]",te="[object Date]",Q="[object DOMException]",ee="[object Error]",ae="[object Function]",pe="[object GeneratorFunction]",_e="[object Map]",Te="[object Number]",Ae="[object Null]",be="[object Object]",j="[object Promise]",G="[object Proxy]",X="[object RegExp]",ie="[object Set]",ve="[object String]",ge="[object Symbol]",Oe="[object Undefined]",Le="[object WeakMap]",We="[object WeakSet]",ut="[object ArrayBuffer]",Ze="[object DataView]",tt="[object Float32Array]",Qe="[object Float64Array]",$e="[object Int8Array]",Ie="[object Int16Array]",re="[object Int32Array]",Ee="[object Uint8Array]",Pe="[object Uint8ClampedArray]",Me="[object Uint16Array]",Ne="[object Uint32Array]",at=/\b__p \+= '';/g,je=/\b(__p \+=) '' \+/g,ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,Mt=RegExp(nt.source),Rt=RegExp(vt.source),lt=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gt=/^\w*$/,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mt=/[\\^$.*+?()[\]{}|]/g,ir=RegExp(mt.source),Bt=/^\s+/,ar=/\s/,Qt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fr=/\{\n\/\* \[wrapped with (.+)\] \*/,Mr=/,? & /,Xr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vn=/[()=,{}\[\]\/\s]/,Pi=/\\(\\)?/g,pn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bt=/\w*$/,rr=/^[-+]0x[0-9a-f]+$/i,Er=/^0b[01]+$/i,Ir=/^\[object .+?Constructor\]$/,$r=/^0o[0-7]+$/i,Nr=/^(?:0|[1-9]\d*)$/,bn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cr=/($^)/,zi=/['\n\r\u2028\u2029\\]/g,_i="\\ud800-\\udfff",Oa="\\u0300-\\u036f",cu="\\ufe20-\\ufe2f",Xu="\\u20d0-\\u20ff",Ta=Oa+cu+Xu,Vt="\\u2700-\\u27bf",$t="a-z\\xdf-\\xf6\\xf8-\\xff",Do="\\xac\\xb1\\xd7\\xf7",Mo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Os="\\u2000-\\u206f",si=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Io="A-Z\\xc0-\\xd6\\xd8-\\xde",Kr="\\ufe0e\\ufe0f",No=Do+Mo+Os+si,Wn="[']",Tc="["+_i+"]",_l="["+No+"]",li="["+Ta+"]",Rh="\\d+",Rv="["+Vt+"]",Ph="["+$t+"]",Dh="[^"+_i+No+Rh+Vt+$t+Io+"]",xc="\\ud83c[\\udffb-\\udfff]",Pv="(?:"+li+"|"+xc+")",qi="[^"+_i+"]",Mh="(?:\\ud83c[\\udde6-\\uddff]){2}",Gi="[\\ud800-\\udbff][\\udc00-\\udfff]",Ts="["+Io+"]",Ih="\\u200d",ko="(?:"+Ph+"|"+Dh+")",Cc="(?:"+Ts+"|"+Dh+")",Ac="(?:"+Wn+"(?:d|ll|m|re|s|t|ve))?",fn="(?:"+Wn+"(?:D|LL|M|RE|S|T|VE))?",Lo=Pv+"?",Rc="["+Kr+"]?",Dy="(?:"+Ih+"(?:"+[qi,Mh,Gi].join("|")+")"+Rc+Lo+")*",Nh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",My="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kh=Rc+Lo+Dy,Pc="(?:"+[Rv,Mh,Gi].join("|")+")"+kh,xs="(?:"+[qi+li+"?",li,Mh,Gi,Tc].join("|")+")",Iy=RegExp(Wn,"g"),Dv=RegExp(li,"g"),Dc=RegExp(xc+"(?="+xc+")|"+xs+kh,"g"),Lh=RegExp([Ts+"?"+Ph+"+"+Ac+"(?="+[_l,Ts,"$"].join("|")+")",Cc+"+"+fn+"(?="+[_l,Ts+ko,"$"].join("|")+")",Ts+"?"+ko+"+"+Ac,Ts+"+"+fn,My,Nh,Rh,Pc].join("|"),"g"),jh=RegExp("["+Ih+_i+Ta+Kr+"]"),Mv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Uh=-1,an={};an[tt]=an[Qe]=an[$e]=an[Ie]=an[re]=an[Ee]=an[Pe]=an[Me]=an[Ne]=!0,an[ue]=an[de]=an[ut]=an[fe]=an[Ze]=an[te]=an[ee]=an[ae]=an[_e]=an[Te]=an[be]=an[X]=an[ie]=an[ve]=an[Le]=!1;var hr={};hr[ue]=hr[de]=hr[ut]=hr[Ze]=hr[fe]=hr[te]=hr[tt]=hr[Qe]=hr[$e]=hr[Ie]=hr[re]=hr[_e]=hr[Te]=hr[be]=hr[X]=hr[ie]=hr[ve]=hr[ge]=hr[Ee]=hr[Pe]=hr[Me]=hr[Ne]=!0,hr[ee]=hr[ae]=hr[Le]=!1;var Fh={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},wl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Iv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ny=parseFloat,ky=parseInt,kv=typeof qr=="object"&&qr&&qr.Object===Object&&qr,Cs=typeof self=="object"&&self&&self.Object===Object&&self,Xn=kv||Cs||Function("return this")(),Mc=e&&!e.nodeType&&e,Vi=Mc&&!0&&t&&!t.nodeType&&t,El=Vi&&Vi.exports===Mc,zh=El&&kv.process,ci=function(){try{var xe=Vi&&Vi.require&&Vi.require("util").types;return xe||zh&&zh.binding&&zh.binding("util")}catch{}}(),fi=ci&&ci.isArrayBuffer,fu=ci&&ci.isDate,no=ci&&ci.isMap,ja=ci&&ci.isRegExp,De=ci&&ci.isSet,He=ci&&ci.isTypedArray;function Ue(xe,Be,ke){switch(ke.length){case 0:return xe.call(Be);case 1:return xe.call(Be,ke[0]);case 2:return xe.call(Be,ke[0],ke[1]);case 3:return xe.call(Be,ke[0],ke[1],ke[2])}return xe.apply(Be,ke)}function ht(xe,Be,ke,gt){for(var Xt=-1,Ar=xe==null?0:xe.length;++Xt<Ar;){var ti=xe[Xt];Be(gt,ti,ke(ti),xe)}return gt}function Tt(xe,Be){for(var ke=-1,gt=xe==null?0:xe.length;++ke<gt&&Be(xe[ke],ke,xe)!==!1;);return xe}function kr(xe,Be){for(var ke=xe==null?0:xe.length;ke--&&Be(xe[ke],ke,xe)!==!1;);return xe}function Jn(xe,Be){for(var ke=-1,gt=xe==null?0:xe.length;++ke<gt;)if(!Be(xe[ke],ke,xe))return!1;return!0}function Di(xe,Be){for(var ke=-1,gt=xe==null?0:xe.length,Xt=0,Ar=[];++ke<gt;){var ti=xe[ke];Be(ti,ke,xe)&&(Ar[Xt++]=ti)}return Ar}function on(xe,Be){var ke=xe==null?0:xe.length;return!!ke&&$u(xe,Be,0)>-1}function qh(xe,Be,ke){for(var gt=-1,Xt=xe==null?0:xe.length;++gt<Xt;)if(ke(Be,xe[gt]))return!0;return!1}function Tn(xe,Be){for(var ke=-1,gt=xe==null?0:xe.length,Xt=Array(gt);++ke<gt;)Xt[ke]=Be(xe[ke],ke,xe);return Xt}function hi(xe,Be){for(var ke=-1,gt=Be.length,Xt=xe.length;++ke<gt;)xe[Xt+ke]=Be[ke];return xe}function Ic(xe,Be,ke,gt){var Xt=-1,Ar=xe==null?0:xe.length;for(gt&&Ar&&(ke=xe[++Xt]);++Xt<Ar;)ke=Be(ke,xe[Xt],Xt,xe);return ke}function OT(xe,Be,ke,gt){var Xt=xe==null?0:xe.length;for(gt&&Xt&&(ke=xe[--Xt]);Xt--;)ke=Be(ke,xe[Xt],Xt,xe);return ke}function As(xe,Be){for(var ke=-1,gt=xe==null?0:xe.length;++ke<gt;)if(Be(xe[ke],ke,xe))return!0;return!1}var Lv=Nc("length");function jv(xe){return xe.split("")}function Jr(xe){return xe.match(Xr)||[]}function L_(xe,Be,ke){var gt;return ke(xe,function(Xt,Ar,ti){if(Be(Xt,Ar,ti))return gt=Ar,!1}),gt}function Gh(xe,Be,ke,gt){for(var Xt=xe.length,Ar=ke+(gt?1:-1);gt?Ar--:++Ar<Xt;)if(Be(xe[Ar],Ar,xe))return Ar;return-1}function $u(xe,Be,ke){return Be===Be?G_(xe,Be,ke):Gh(xe,j_,ke)}function TT(xe,Be,ke,gt){for(var Xt=ke-1,Ar=xe.length;++Xt<Ar;)if(gt(xe[Xt],Be))return Xt;return-1}function j_(xe){return xe!==xe}function B_(xe,Be){var ke=xe==null?0:xe.length;return ke?kc(xe,Be)/ke:Y}function Nc(xe){return function(Be){return Be==null?r:Be[xe]}}function hu(xe){return function(Be){return xe==null?r:xe[Be]}}function Vh(xe,Be,ke,gt,Xt){return Xt(xe,function(Ar,ti,J){ke=gt?(gt=!1,Ar):Be(ke,Ar,ti,J)}),ke}function U_(xe,Be){var ke=xe.length;for(xe.sort(Be);ke--;)xe[ke]=xe[ke].value;return xe}function kc(xe,Be){for(var ke,gt=-1,Xt=xe.length;++gt<Xt;){var Ar=Be(xe[gt]);Ar!==r&&(ke=ke===r?Ar:ke+Ar)}return ke}function Bv(xe,Be){for(var ke=-1,gt=Array(xe);++ke<xe;)gt[ke]=Be(ke);return gt}function F_(xe,Be){return Tn(Be,function(ke){return[ke,xe[ke]]})}function Hh(xe){return xe&&xe.slice(0,qv(xe)+1).replace(Bt,"")}function xa(xe){return function(Be){return xe(Be)}}function Sl(xe,Be){return Tn(Be,function(ke){return xe[ke]})}function jo(xe,Be){return xe.has(Be)}function Yh(xe,Be){for(var ke=-1,gt=xe.length;++ke<gt&&$u(Be,xe[ke],0)>-1;);return ke}function z_(xe,Be){for(var ke=xe.length;ke--&&$u(Be,xe[ke],0)>-1;);return ke}function xT(xe,Be){for(var ke=xe.length,gt=0;ke--;)xe[ke]===Be&&++gt;return gt}var CT=hu(Fh),Uv=hu(wl);function Fv(xe){return"\\"+Nv[xe]}function Ly(xe,Be){return xe==null?r:xe[Be]}function Lc(xe){return jh.test(xe)}function q_(xe){return Mv.test(xe)}function AT(xe){for(var Be,ke=[];!(Be=xe.next()).done;)ke.push(Be.value);return ke}function jy(xe){var Be=-1,ke=Array(xe.size);return xe.forEach(function(gt,Xt){ke[++Be]=[Xt,gt]}),ke}function ei(xe,Be){return function(ke){return xe(Be(ke))}}function Pn(xe,Be){for(var ke=-1,gt=xe.length,Xt=0,Ar=[];++ke<gt;){var ti=xe[ke];(ti===Be||ti===c)&&(xe[ke]=c,Ar[Xt++]=ke)}return Ar}function zv(xe){var Be=-1,ke=Array(xe.size);return xe.forEach(function(gt){ke[++Be]=gt}),ke}function RT(xe){var Be=-1,ke=Array(xe.size);return xe.forEach(function(gt){ke[++Be]=[gt,gt]}),ke}function G_(xe,Be,ke){for(var gt=ke-1,Xt=xe.length;++gt<Xt;)if(xe[gt]===Be)return gt;return-1}function PT(xe,Be,ke){for(var gt=ke+1;gt--;)if(xe[gt]===Be)return gt;return gt}function Rs(xe){return Lc(xe)?Wh(xe):Lv(xe)}function ia(xe){return Lc(xe)?Xh(xe):jv(xe)}function qv(xe){for(var Be=xe.length;Be--&&ar.test(xe.charAt(Be)););return Be}var jc=hu(Iv);function Wh(xe){for(var Be=Dc.lastIndex=0;Dc.test(xe);)++Be;return Be}function Xh(xe){return xe.match(Dc)||[]}function Gv(xe){return xe.match(Lh)||[]}var Bc=function xe(Be){Be=Be==null?Xn:Uc.defaults(Xn.Object(),Be,Uc.pick(Xn,Bh));var ke=Be.Array,gt=Be.Date,Xt=Be.Error,Ar=Be.Function,ti=Be.Math,J=Be.Object,Ps=Be.RegExp,Vv=Be.String,Dn=Be.TypeError,gr=ke.prototype,Ol=Ar.prototype,Ca=J.prototype,io=Be["__core-js_shared__"],du=Ol.toString,yr=Ca.hasOwnProperty,V_=0,By=function(){var O=/[^.]+$/.exec(io&&io.keys&&io.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""}(),Hv=Ca.toString,DT=du.call(J),Uy=Xn._,$h=Ps("^"+du.call(yr).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tl=El?Be.Buffer:r,Ds=Be.Symbol,Kh=Be.Uint8Array,vu=Tl?Tl.allocUnsafe:r,Fc=ei(J.getPrototypeOf,J),Ms=J.create,Ba=Ca.propertyIsEnumerable,Zh=gr.splice,Fy=Ds?Ds.isConcatSpreadable:r,Ku=Ds?Ds.iterator:r,Aa=Ds?Ds.toStringTag:r,Qh=function(){try{var O=Gs(J,"defineProperty");return O({},"",{}),O}catch{}}(),MT=Be.clearTimeout!==Xn.clearTimeout&&Be.clearTimeout,Yv=gt&&gt.now!==Xn.Date.now&&gt.now,H_=Be.setTimeout!==Xn.setTimeout&&Be.setTimeout,ri=ti.ceil,zc=ti.floor,Wv=J.getOwnPropertySymbols,pu=Tl?Tl.isBuffer:r,Xv=Be.isFinite,$v=gr.join,xl=ei(J.keys,J),ni=ti.max,Zr=ti.min,zy=gt.now,IT=Be.parseInt,Y_=ti.random,qy=gr.reverse,Cl=Gs(Be,"DataView"),qc=Gs(Be,"Map"),Al=Gs(Be,"Promise"),Is=Gs(Be,"Set"),Gc=Gs(Be,"WeakMap"),Vc=Gs(J,"create"),Hc=Gc&&new Gc,Ns={},W_=is(Cl),X_=is(qc),$_=is(Al),Kv=is(Is),K_=is(Gc),Jh=Ds?Ds.prototype:r,Yc=Jh?Jh.valueOf:r,Zv=Jh?Jh.toString:r;function ne(O){if(ii(O)&&!sr(O)&&!(O instanceof Tr)){if(O instanceof Ut)return O;if(yr.call(O,"__wrapped__"))return H1(O)}return new Ut(O)}var ks=function(){function O(){}return function(A){if(!Kn(A))return{};if(Ms)return Ms(A);O.prototype=A;var N=new O;return O.prototype=r,N}}();function Wc(){}function Ut(O,A){this.__wrapped__=O,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=r}ne.templateSettings={escape:lt,evaluate:It,interpolate:rt,variable:"",imports:{_:ne}},ne.prototype=Wc.prototype,ne.prototype.constructor=ne,Ut.prototype=ks(Wc.prototype),Ut.prototype.constructor=Ut;function Tr(O){this.__wrapped__=O,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function NT(){var O=new Tr(this.__wrapped__);return O.__actions__=Ii(this.__actions__),O.__dir__=this.__dir__,O.__filtered__=this.__filtered__,O.__iteratees__=Ii(this.__iteratees__),O.__takeCount__=this.__takeCount__,O.__views__=Ii(this.__views__),O}function ed(){if(this.__filtered__){var O=new Tr(this);O.__dir__=-1,O.__filtered__=!0}else O=this.clone(),O.__dir__*=-1;return O}function Z_(){var O=this.__wrapped__.value(),A=this.__dir__,N=sr(O),q=A<0,$=N?O.length:0,oe=L1(0,$,this.__views__),ye=oe.start,we=oe.end,Ce=we-ye,Fe=q?we:ye-1,Ve=this.__iteratees__,Xe=Ve.length,dt=0,Et=Zr(Ce,this.__takeCount__);if(!N||!q&&$==Ce&&Et==Ce)return m1(O,this.__actions__);var Yt=[];e:for(;Ce--&&dt<Et;){Fe+=A;for(var wr=-1,Wt=O[Fe];++wr<Xe;){var Rr=Ve[wr],Ur=Rr.iteratee,Ho=Rr.type,qa=Ur(Wt);if(Ho==U)Wt=qa;else if(!qa){if(Ho==k)continue e;break e}}Yt[dt++]=Wt}return Yt}Tr.prototype=ks(Wc.prototype),Tr.prototype.constructor=Tr;function Rl(O){var A=-1,N=O==null?0:O.length;for(this.clear();++A<N;){var q=O[A];this.set(q[0],q[1])}}function kT(){this.__data__=Vc?Vc(null):{},this.size=0}function ao(O){var A=this.has(O)&&delete this.__data__[O];return this.size-=A?1:0,A}function LT(O){var A=this.__data__;if(Vc){var N=A[O];return N===s?r:N}return yr.call(A,O)?A[O]:r}function Qv(O){var A=this.__data__;return Vc?A[O]!==r:yr.call(A,O)}function Gy(O,A){var N=this.__data__;return this.size+=this.has(O)?0:1,N[O]=Vc&&A===r?s:A,this}Rl.prototype.clear=kT,Rl.prototype.delete=ao,Rl.prototype.get=LT,Rl.prototype.has=Qv,Rl.prototype.set=Gy;function gu(O){var A=-1,N=O==null?0:O.length;for(this.clear();++A<N;){var q=O[A];this.set(q[0],q[1])}}function Q_(){this.__data__=[],this.size=0}function Ua(O){var A=this.__data__,N=td(A,O);if(N<0)return!1;var q=A.length-1;return N==q?A.pop():Zh.call(A,N,1),--this.size,!0}function Ls(O){var A=this.__data__,N=td(A,O);return N<0?r:A[N][1]}function Vy(O){return td(this.__data__,O)>-1}function J_(O,A){var N=this.__data__,q=td(N,O);return q<0?(++this.size,N.push([O,A])):N[q][1]=A,this}gu.prototype.clear=Q_,gu.prototype.delete=Ua,gu.prototype.get=Ls,gu.prototype.has=Vy,gu.prototype.set=J_;function oo(O){var A=-1,N=O==null?0:O.length;for(this.clear();++A<N;){var q=O[A];this.set(q[0],q[1])}}function e1(){this.size=0,this.__data__={hash:new Rl,map:new(qc||gu),string:new Rl}}function Hy(O){var A=co(this,O).delete(O);return this.size-=A?1:0,A}function t1(O){return co(this,O).get(O)}function Yy(O){return co(this,O).has(O)}function Wy(O,A){var N=co(this,O),q=N.size;return N.set(O,A),this.size+=N.size==q?0:1,this}oo.prototype.clear=e1,oo.prototype.delete=Hy,oo.prototype.get=t1,oo.prototype.has=Yy,oo.prototype.set=Wy;function Ra(O){var A=-1,N=O==null?0:O.length;for(this.__data__=new oo;++A<N;)this.add(O[A])}function jT(O){return this.__data__.set(O,s),this}function js(O){return this.__data__.has(O)}Ra.prototype.add=Ra.prototype.push=jT,Ra.prototype.has=js;function uo(O){var A=this.__data__=new gu(O);this.size=A.size}function r1(){this.__data__=new gu,this.size=0}function Xy(O){var A=this.__data__,N=A.delete(O);return this.size=A.size,N}function n1(O){return this.__data__.get(O)}function i1(O){return this.__data__.has(O)}function a1(O,A){var N=this.__data__;if(N instanceof gu){var q=N.__data__;if(!qc||q.length<i-1)return q.push([O,A]),this.size=++N.size,this;N=this.__data__=new oo(q)}return N.set(O,A),this.size=N.size,this}uo.prototype.clear=r1,uo.prototype.delete=Xy,uo.prototype.get=n1,uo.prototype.has=i1,uo.prototype.set=a1;function $y(O,A){var N=sr(O),q=!N&&bd(O),$=!N&&!q&&af(O),oe=!N&&!q&&!$&&Rp(O),ye=N||q||$||oe,we=ye?Bv(O.length,Vv):[],Ce=we.length;for(var Fe in O)(A||yr.call(O,Fe))&&!(ye&&(Fe=="length"||$&&(Fe=="offset"||Fe=="parent")||oe&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||ns(Fe,Ce)))&&we.push(Fe);return we}function aa(O){var A=O.length;return A?O[am(0,A-1)]:r}function yu(O,A){return md(Ii(O),bu(A,0,O.length))}function Jv(O){return md(Ii(O))}function Bs(O,A,N){(N!==r&&!as(O[A],N)||N===r&&!(A in O))&&mu(O,A,N)}function Xc(O,A,N){var q=O[A];(!(yr.call(O,A)&&as(q,N))||N===r&&!(A in O))&&mu(O,A,N)}function td(O,A){for(var N=O.length;N--;)if(as(O[N][0],A))return N;return-1}function o1(O,A,N,q){return Bo(O,function($,oe,ye){A(q,$,N($),ye)}),q}function Pl(O,A){return O&&zo(A,Xi(A),O)}function rd(O,A){return O&&zo(A,vo(A),O)}function mu(O,A,N){A=="__proto__"&&Qh?Qh(O,A,{configurable:!0,enumerable:!0,value:N,writable:!0}):O[A]=N}function ep(O,A){for(var N=-1,q=A.length,$=ke(q),oe=O==null;++N<q;)$[N]=oe?r:hx(O,A[N]);return $}function bu(O,A,N){return O===O&&(N!==r&&(O=O<=N?O:N),A!==r&&(O=O>=A?O:A)),O}function Fa(O,A,N,q,$,oe){var ye,we=A&f,Ce=A&h,Fe=A&d;if(N&&(ye=$?N(O,q,$,oe):N(O)),ye!==r)return ye;if(!Kn(O))return O;var Ve=sr(O);if(Ve){if(ye=VT(O),!we)return Ii(O,ye)}else{var Xe=Hi(O),dt=Xe==ae||Xe==pe;if(af(O))return w1(O,we);if(Xe==be||Xe==ue||dt&&!$){if(ye=Ce||dt?{}:B1(O),!we)return Ce?dm(O,rd(ye,O)):A1(O,Pl(ye,O))}else{if(!hr[Xe])return $?O:{};ye=HT(O,Xe,we)}}oe||(oe=new uo);var Et=oe.get(O);if(Et)return Et;oe.set(O,ye),E3(O)?O.forEach(function(Wt){ye.add(Fa(Wt,A,N,Wt,O,oe))}):_3(O)&&O.forEach(function(Wt,Rr){ye.set(Rr,Fa(Wt,A,N,Rr,O,oe))});var Yt=Fe?Ce?ua:tf:Ce?vo:Xi,wr=Ve?r:Yt(O);return Tt(wr||O,function(Wt,Rr){wr&&(Rr=Wt,Wt=O[Rr]),Xc(ye,Rr,Fa(Wt,A,N,Rr,O,oe))}),ye}function tp(O){var A=Xi(O);return function(N){return rp(N,O,A)}}function rp(O,A,N){var q=N.length;if(O==null)return!q;for(O=J(O);q--;){var $=N[q],oe=A[$],ye=O[$];if(ye===r&&!($ in O)||!oe(ye))return!1}return!0}function nd(O,A,N){if(typeof O!="function")throw new Dn(o);return yd(function(){O.apply(r,N)},A)}function $c(O,A,N,q){var $=-1,oe=on,ye=!0,we=O.length,Ce=[],Fe=A.length;if(!we)return Ce;N&&(A=Tn(A,xa(N))),q?(oe=qh,ye=!1):A.length>=i&&(oe=jo,ye=!1,A=new Ra(A));e:for(;++$<we;){var Ve=O[$],Xe=N==null?Ve:N(Ve);if(Ve=q||Ve!==0?Ve:0,ye&&Xe===Xe){for(var dt=Fe;dt--;)if(A[dt]===Xe)continue e;Ce.push(Ve)}else oe(A,Xe,q)||Ce.push(Ve)}return Ce}var Bo=R1(Uo),Ky=R1(Fo,!0);function Zy(O,A){var N=!0;return Bo(O,function(q,$,oe){return N=!!A(q,$,oe),N}),N}function np(O,A,N){for(var q=-1,$=O.length;++q<$;){var oe=O[q],ye=A(oe);if(ye!=null&&(we===r?ye===ye&&!Vo(ye):N(ye,we)))var we=ye,Ce=oe}return Ce}function u1(O,A,N,q){var $=O.length;for(N=mr(N),N<0&&(N=-N>$?0:$+N),q=q===r||q>$?$:mr(q),q<0&&(q+=$),q=N>q?0:O3(q);N<q;)O[N++]=A;return O}function _u(O,A){var N=[];return Bo(O,function(q,$,oe){A(q,$,oe)&&N.push(q)}),N}function wi(O,A,N,q,$){var oe=-1,ye=O.length;for(N||(N=mm),$||($=[]);++oe<ye;){var we=O[oe];A>0&&N(we)?A>1?wi(we,A-1,N,q,$):hi($,we):q||($[$.length]=we)}return $}var ip=P1(),s1=P1(!0);function Uo(O,A){return O&&ip(O,A,Xi)}function Fo(O,A){return O&&s1(O,A,Xi)}function Kc(O,A){return Di(A,function(N){return Nl(O[N])})}function Zu(O,A){A=ts(A,O);for(var N=0,q=A.length;O!=null&&N<q;)O=O[Ou(A[N++])];return N&&N==q?O:r}function ap(O,A,N){var q=A(O);return sr(O)?q:hi(q,N(O))}function Ei(O){return O==null?O===r?Oe:Ae:Aa&&Aa in J(O)?fo(O):WT(O)}function Us(O,A){return O>A}function jt(O,A){return O!=null&&yr.call(O,A)}function op(O,A){return O!=null&&A in J(O)}function Qy(O,A,N){return O>=Zr(A,N)&&O<ni(A,N)}function Qu(O,A,N){for(var q=N?qh:on,$=O[0].length,oe=O.length,ye=oe,we=ke(oe),Ce=1/0,Fe=[];ye--;){var Ve=O[ye];ye&&A&&(Ve=Tn(Ve,xa(A))),Ce=Zr(Ve.length,Ce),we[ye]=!N&&(A||$>=120&&Ve.length>=120)?new Ra(ye&&Ve):r}Ve=O[0];var Xe=-1,dt=we[0];e:for(;++Xe<$&&Fe.length<Ce;){var Et=Ve[Xe],Yt=A?A(Et):Et;if(Et=N||Et!==0?Et:0,!(dt?jo(dt,Yt):q(Fe,Yt,N))){for(ye=oe;--ye;){var wr=we[ye];if(!(wr?jo(wr,Yt):q(O[ye],Yt,N)))continue e}dt&&dt.push(Yt),Fe.push(Et)}}return Fe}function Jy(O,A,N,q){return Uo(O,function($,oe,ye){A(q,N($),oe,ye)}),q}function Zc(O,A,N){A=ts(A,O),O=Em(O,A);var q=O==null?O:O[Ou(L(A))];return q==null?r:Ue(q,O,N)}function Mi(O){return ii(O)&&Ei(O)==ue}function l1(O){return ii(O)&&Ei(O)==ut}function c1(O){return ii(O)&&Ei(O)==te}function id(O,A,N,q,$){return O===A?!0:O==null||A==null||!ii(O)&&!ii(A)?O!==O&&A!==A:Ju(O,A,N,q,id,$)}function Ju(O,A,N,q,$,oe){var ye=sr(O),we=sr(A),Ce=ye?de:Hi(O),Fe=we?de:Hi(A);Ce=Ce==ue?be:Ce,Fe=Fe==ue?be:Fe;var Ve=Ce==be,Xe=Fe==be,dt=Ce==Fe;if(dt&&af(O)){if(!af(A))return!1;ye=!0,Ve=!1}if(dt&&!Ve)return oe||(oe=new uo),ye||Rp(O)?pm(O,A,N,q,$,oe):pd(O,A,Ce,N,q,$,oe);if(!(N&v)){var Et=Ve&&yr.call(O,"__wrapped__"),Yt=Xe&&yr.call(A,"__wrapped__");if(Et||Yt){var wr=Et?O.value():O,Wt=Yt?A.value():A;return oe||(oe=new uo),$(wr,Wt,N,q,oe)}}return dt?(oe||(oe=new uo),gm(O,A,N,q,$,oe)):!1}function oa(O){return ii(O)&&Hi(O)==_e}function ad(O,A,N,q){var $=N.length,oe=$,ye=!q;if(O==null)return!oe;for(O=J(O);$--;){var we=N[$];if(ye&&we[2]?we[1]!==O[we[0]]:!(we[0]in O))return!1}for(;++$<oe;){we=N[$];var Ce=we[0],Fe=O[Ce],Ve=we[1];if(ye&&we[2]){if(Fe===r&&!(Ce in O))return!1}else{var Xe=new uo;if(q)var dt=q(Fe,Ve,Ce,O,A,Xe);if(!(dt===r?id(Ve,Fe,v|y,q,Xe):dt))return!1}}return!0}function up(O){if(!Kn(O)||YT(O))return!1;var A=Nl(O)?$h:Ir;return A.test(is(O))}function BT(O){return ii(O)&&Ei(O)==X}function od(O){return ii(O)&&Hi(O)==ie}function f1(O){return ii(O)&&rw(O.length)&&!!an[Ei(O)]}function em(O){return typeof O=="function"?O:O==null?po:typeof O=="object"?sr(O)?lp(O[0],O[1]):Qc(O):k3(O)}function sp(O){if(!gd(O))return xl(O);var A=[];for(var N in J(O))yr.call(O,N)&&N!="constructor"&&A.push(N);return A}function h1(O){if(!Kn(O))return nf(O);var A=gd(O),N=[];for(var q in O)q=="constructor"&&(A||!yr.call(O,q))||N.push(q);return N}function ud(O,A){return O<A}function tm(O,A){var N=-1,q=ho(O)?ke(O.length):[];return Bo(O,function($,oe,ye){q[++N]=A($,oe,ye)}),q}function Qc(O){var A=nr(O);return A.length==1&&A[0][2]?_m(A[0][0],A[0][1]):function(N){return N===O||ad(N,O,A)}}function lp(O,A){return bm(O)&&F1(A)?_m(Ou(O),A):function(N){var q=hx(N,O);return q===r&&q===A?dx(N,O):id(A,q,v|y)}}function sd(O,A,N,q,$){O!==A&&ip(A,function(oe,ye){if($||($=new uo),Kn(oe))d1(O,A,ye,N,sd,q,$);else{var we=q?q(Sm(O,ye),oe,ye+"",O,A,$):r;we===r&&(we=oe),Bs(O,ye,we)}},vo)}function d1(O,A,N,q,$,oe,ye){var we=Sm(O,N),Ce=Sm(A,N),Fe=ye.get(Ce);if(Fe){Bs(O,N,Fe);return}var Ve=oe?oe(we,Ce,N+"",O,A,ye):r,Xe=Ve===r;if(Xe){var dt=sr(Ce),Et=!dt&&af(Ce),Yt=!dt&&!Et&&Rp(Ce);Ve=Ce,dt||Et||Yt?sr(we)?Ve=we:vi(we)?Ve=Ii(we):Et?(Xe=!1,Ve=w1(Ce,!0)):Yt?(Xe=!1,Ve=O1(Ce,!0)):Ve=[]:Mm(Ce)||bd(Ce)?(Ve=we,bd(we)?Ve=T3(we):(!Kn(we)||Nl(we))&&(Ve=B1(Ce))):Xe=!1}Xe&&(ye.set(Ce,Ve),$(Ve,Ce,q,oe,ye),ye.delete(Ce)),Bs(O,N,Ve)}function ld(O,A){var N=O.length;if(N)return A+=A<0?N:0,ns(A,N)?O[A]:r}function cp(O,A,N){A.length?A=Tn(A,function(oe){return sr(oe)?function(ye){return Zu(ye,oe.length===1?oe[0]:oe)}:oe}):A=[po];var q=-1;A=Tn(A,xa(Nt()));var $=tm(O,function(oe,ye,we){var Ce=Tn(A,function(Fe){return Fe(oe)});return{criteria:Ce,index:++q,value:oe}});return U_($,function(oe,ye){return vp(oe,ye,N)})}function rm(O,A){return nm(O,A,function(N,q){return dx(O,q)})}function nm(O,A,N){for(var q=-1,$=A.length,oe={};++q<$;){var ye=A[q],we=Zu(O,ye);N(we,ye)&&Jc(oe,ts(ye,O),we)}return oe}function wu(O){return function(A){return Zu(A,O)}}function es(O,A,N,q){var $=q?TT:$u,oe=-1,ye=A.length,we=O;for(O===A&&(A=Ii(A)),N&&(we=Tn(O,xa(N)));++oe<ye;)for(var Ce=0,Fe=A[oe],Ve=N?N(Fe):Fe;(Ce=$(we,Ve,Ce,q))>-1;)we!==O&&Zh.call(we,Ce,1),Zh.call(O,Ce,1);return O}function im(O,A){for(var N=O?A.length:0,q=N-1;N--;){var $=A[N];if(N==q||$!==oe){var oe=$;ns($)?Zh.call(O,$,1):fd(O,$)}}return O}function am(O,A){return O+zc(Y_()*(A-O+1))}function UT(O,A,N,q){for(var $=-1,oe=ni(ri((A-O)/(N||1)),0),ye=ke(oe);oe--;)ye[q?oe:++$]=O,O+=N;return ye}function om(O,A){var N="";if(!O||A<1||A>z)return N;do A%2&&(N+=O),A=zc(A/2),A&&(O+=O);while(A);return N}function dr(O,A){return Om(wm(O,A,po),O+"")}function v1(O){return aa(Pp(O))}function p1(O,A){var N=Pp(O);return md(N,bu(A,0,N.length))}function Jc(O,A,N,q){if(!Kn(O))return O;A=ts(A,O);for(var $=-1,oe=A.length,ye=oe-1,we=O;we!=null&&++$<oe;){var Ce=Ou(A[$]),Fe=N;if(Ce==="__proto__"||Ce==="constructor"||Ce==="prototype")return O;if($!=ye){var Ve=we[Ce];Fe=q?q(Ve,Ce,we):r,Fe===r&&(Fe=Kn(Ve)?Ve:ns(A[$+1])?[]:{})}Xc(we,Ce,Fe),we=we[Ce]}return O}var g1=Hc?function(O,A){return Hc.set(O,A),O}:po,FT=Qh?function(O,A){return Qh(O,"toString",{configurable:!0,enumerable:!1,value:px(A),writable:!0})}:po;function zT(O){return md(Pp(O))}function Mn(O,A,N){var q=-1,$=O.length;A<0&&(A=-A>$?0:$+A),N=N>$?$:N,N<0&&(N+=$),$=A>N?0:N-A>>>0,A>>>=0;for(var oe=ke($);++q<$;)oe[q]=O[q+A];return oe}function qT(O,A){var N;return Bo(O,function(q,$,oe){return N=A(q,$,oe),!N}),!!N}function cd(O,A,N){var q=0,$=O==null?q:O.length;if(typeof A=="number"&&A===A&&$<=le){for(;q<$;){var oe=q+$>>>1,ye=O[oe];ye!==null&&!Vo(ye)&&(N?ye<=A:ye<A)?q=oe+1:$=oe}return $}return um(O,A,po,N)}function um(O,A,N,q){var $=0,oe=O==null?0:O.length;if(oe===0)return 0;A=N(A);for(var ye=A!==A,we=A===null,Ce=Vo(A),Fe=A===r;$<oe;){var Ve=zc(($+oe)/2),Xe=N(O[Ve]),dt=Xe!==r,Et=Xe===null,Yt=Xe===Xe,wr=Vo(Xe);if(ye)var Wt=q||Yt;else Fe?Wt=Yt&&(q||dt):we?Wt=Yt&&dt&&(q||!Et):Ce?Wt=Yt&&dt&&!Et&&(q||!wr):Et||wr?Wt=!1:Wt=q?Xe<=A:Xe<A;Wt?$=Ve+1:oe=Ve}return Zr(oe,Z)}function fp(O,A){for(var N=-1,q=O.length,$=0,oe=[];++N<q;){var ye=O[N],we=A?A(ye):ye;if(!N||!as(we,Ce)){var Ce=we;oe[$++]=ye===0?0:ye}}return oe}function y1(O){return typeof O=="number"?O:Vo(O)?Y:+O}function za(O){if(typeof O=="string")return O;if(sr(O))return Tn(O,za)+"";if(Vo(O))return Zv?Zv.call(O):"";var A=O+"";return A=="0"&&1/O==-B?"-0":A}function Fs(O,A,N){var q=-1,$=on,oe=O.length,ye=!0,we=[],Ce=we;if(N)ye=!1,$=qh;else if(oe>=i){var Fe=A?null:rs(O);if(Fe)return zv(Fe);ye=!1,$=jo,Ce=new Ra}else Ce=A?[]:we;e:for(;++q<oe;){var Ve=O[q],Xe=A?A(Ve):Ve;if(Ve=N||Ve!==0?Ve:0,ye&&Xe===Xe){for(var dt=Ce.length;dt--;)if(Ce[dt]===Xe)continue e;A&&Ce.push(Xe),we.push(Ve)}else $(Ce,Xe,N)||(Ce!==we&&Ce.push(Xe),we.push(Ve))}return we}function fd(O,A){return A=ts(A,O),O=Em(O,A),O==null||delete O[Ou(L(A))]}function sm(O,A,N,q){return Jc(O,A,N(Zu(O,A)),q)}function hp(O,A,N,q){for(var $=O.length,oe=q?$:-1;(q?oe--:++oe<$)&&A(O[oe],oe,O););return N?Mn(O,q?0:oe,q?oe+1:$):Mn(O,q?oe+1:0,q?$:oe)}function m1(O,A){var N=O;return N instanceof Tr&&(N=N.value()),Ic(A,function(q,$){return $.func.apply($.thisArg,hi([q],$.args))},N)}function lm(O,A,N){var q=O.length;if(q<2)return q?Fs(O[0]):[];for(var $=-1,oe=ke(q);++$<q;)for(var ye=O[$],we=-1;++we<q;)we!=$&&(oe[$]=$c(oe[$]||ye,O[we],A,N));return Fs(wi(oe,1),A,N)}function b1(O,A,N){for(var q=-1,$=O.length,oe=A.length,ye={};++q<$;){var we=q<oe?A[q]:r;N(ye,O[q],we)}return ye}function cm(O){return vi(O)?O:[]}function fm(O){return typeof O=="function"?O:po}function ts(O,A){return sr(O)?O:bm(O,A)?[O]:Tm(un(O))}var dp=dr;function zs(O,A,N){var q=O.length;return N=N===r?q:N,!A&&N>=q?O:Mn(O,A,N)}var _1=MT||function(O){return Xn.clearTimeout(O)};function w1(O,A){if(A)return O.slice();var N=O.length,q=vu?vu(N):new O.constructor(N);return O.copy(q),q}function hm(O){var A=new O.constructor(O.byteLength);return new Kh(A).set(new Kh(O)),A}function E1(O,A){var N=A?hm(O.buffer):O.buffer;return new O.constructor(N,O.byteOffset,O.byteLength)}function S1(O){var A=new O.constructor(O.source,bt.exec(O));return A.lastIndex=O.lastIndex,A}function GT(O){return Yc?J(Yc.call(O)):{}}function O1(O,A){var N=A?hm(O.buffer):O.buffer;return new O.constructor(N,O.byteOffset,O.length)}function T1(O,A){if(O!==A){var N=O!==r,q=O===null,$=O===O,oe=Vo(O),ye=A!==r,we=A===null,Ce=A===A,Fe=Vo(A);if(!we&&!Fe&&!oe&&O>A||oe&&ye&&Ce&&!we&&!Fe||q&&ye&&Ce||!N&&Ce||!$)return 1;if(!q&&!oe&&!Fe&&O<A||Fe&&N&&$&&!q&&!oe||we&&N&&$||!ye&&$||!Ce)return-1}return 0}function vp(O,A,N){for(var q=-1,$=O.criteria,oe=A.criteria,ye=$.length,we=N.length;++q<ye;){var Ce=T1($[q],oe[q]);if(Ce){if(q>=we)return Ce;var Fe=N[q];return Ce*(Fe=="desc"?-1:1)}}return O.index-A.index}function x1(O,A,N,q){for(var $=-1,oe=O.length,ye=N.length,we=-1,Ce=A.length,Fe=ni(oe-ye,0),Ve=ke(Ce+Fe),Xe=!q;++we<Ce;)Ve[we]=A[we];for(;++$<ye;)(Xe||$<oe)&&(Ve[N[$]]=O[$]);for(;Fe--;)Ve[we++]=O[$++];return Ve}function C1(O,A,N,q){for(var $=-1,oe=O.length,ye=-1,we=N.length,Ce=-1,Fe=A.length,Ve=ni(oe-we,0),Xe=ke(Ve+Fe),dt=!q;++$<Ve;)Xe[$]=O[$];for(var Et=$;++Ce<Fe;)Xe[Et+Ce]=A[Ce];for(;++ye<we;)(dt||$<oe)&&(Xe[Et+N[ye]]=O[$++]);return Xe}function Ii(O,A){var N=-1,q=O.length;for(A||(A=ke(q));++N<q;)A[N]=O[N];return A}function zo(O,A,N,q){var $=!N;N||(N={});for(var oe=-1,ye=A.length;++oe<ye;){var we=A[oe],Ce=q?q(N[we],O[we],we,N,O):r;Ce===r&&(Ce=O[we]),$?mu(N,we,Ce):Xc(N,we,Ce)}return N}function A1(O,A){return zo(O,bp(O),A)}function dm(O,A){return zo(O,Gr(O),A)}function hd(O,A){return function(N,q){var $=sr(N)?ht:o1,oe=A?A():{};return $(N,O,Nt(q,2),oe)}}function Dl(O){return dr(function(A,N){var q=-1,$=N.length,oe=$>1?N[$-1]:r,ye=$>2?N[2]:r;for(oe=O.length>3&&typeof oe=="function"?($--,oe):r,ye&&sa(N[0],N[1],ye)&&(oe=$<3?r:oe,$=1),A=J(A);++q<$;){var we=N[q];we&&O(A,we,q,oe)}return A})}function R1(O,A){return function(N,q){if(N==null)return N;if(!ho(N))return O(N,q);for(var $=N.length,oe=A?$:-1,ye=J(N);(A?oe--:++oe<$)&&q(ye[oe],oe,ye)!==!1;);return N}}function P1(O){return function(A,N,q){for(var $=-1,oe=J(A),ye=q(A),we=ye.length;we--;){var Ce=ye[O?we:++$];if(N(oe[Ce],Ce,oe)===!1)break}return A}}function pp(O,A,N){var q=A&b,$=Ml(O);function oe(){var ye=this&&this!==Xn&&this instanceof oe?$:O;return ye.apply(q?N:this,arguments)}return oe}function dd(O){return function(A){A=un(A);var N=Lc(A)?ia(A):r,q=N?N[0]:A.charAt(0),$=N?zs(N,1).join(""):A.slice(1);return q[O]()+$}}function ef(O){return function(A){return Ic(I3(M3(A).replace(Iy,"")),O,"")}}function Ml(O){return function(){var A=arguments;switch(A.length){case 0:return new O;case 1:return new O(A[0]);case 2:return new O(A[0],A[1]);case 3:return new O(A[0],A[1],A[2]);case 4:return new O(A[0],A[1],A[2],A[3]);case 5:return new O(A[0],A[1],A[2],A[3],A[4]);case 6:return new O(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new O(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var N=ks(O.prototype),q=O.apply(N,A);return Kn(q)?q:N}}function D1(O,A,N){var q=Ml(O);function $(){for(var oe=arguments.length,ye=ke(oe),we=oe,Ce=rf($);we--;)ye[we]=arguments[we];var Fe=oe<3&&ye[0]!==Ce&&ye[oe-1]!==Ce?[]:Pn(ye,Ce);if(oe-=Fe.length,oe<N)return N1(O,A,gp,$.placeholder,r,ye,Fe,r,r,N-oe);var Ve=this&&this!==Xn&&this instanceof $?q:O;return Ue(Ve,this,ye)}return $}function M1(O){return function(A,N,q){var $=J(A);if(!ho(A)){var oe=Nt(N,3);A=Xi(A),N=function(we){return oe($[we],we,$)}}var ye=O(A,N,q);return ye>-1?$[oe?A[ye]:ye]:r}}function so(O){return Su(function(A){var N=A.length,q=N,$=Ut.prototype.thru;for(O&&A.reverse();q--;){var oe=A[q];if(typeof oe!="function")throw new Dn(o);if($&&!ye&&mp(oe)=="wrapper")var ye=new Ut([],!0)}for(q=ye?q:N;++q<N;){oe=A[q];var we=mp(oe),Ce=we=="wrapper"?qs(oe):r;Ce&&Yi(Ce[0])&&Ce[1]==(w|g|E|S)&&!Ce[4].length&&Ce[9]==1?ye=ye[mp(Ce[0])].apply(ye,Ce[3]):ye=oe.length==1&&Yi(oe)?ye[we]():ye.thru(oe)}return function(){var Fe=arguments,Ve=Fe[0];if(ye&&Fe.length==1&&sr(Ve))return ye.plant(Ve).value();for(var Xe=0,dt=N?A[Xe].apply(this,Fe):Ve;++Xe<N;)dt=A[Xe].call(this,dt);return dt}})}function gp(O,A,N,q,$,oe,ye,we,Ce,Fe){var Ve=A&w,Xe=A&b,dt=A&p,Et=A&(g|_),Yt=A&C,wr=dt?r:Ml(O);function Wt(){for(var Rr=arguments.length,Ur=ke(Rr),Ho=Rr;Ho--;)Ur[Ho]=arguments[Ho];if(Et)var qa=rf(Wt),Yo=xT(Ur,qa);if(q&&(Ur=x1(Ur,q,$,Et)),oe&&(Ur=C1(Ur,oe,ye,Et)),Rr-=Yo,Et&&Rr<Fe){var pi=Pn(Ur,qa);return N1(O,A,gp,Wt.placeholder,N,Ur,pi,we,Ce,Fe-Rr)}var os=Xe?N:this,Ll=dt?os[O]:O;return Rr=Ur.length,we?Ur=XT(Ur,we):Yt&&Rr>1&&Ur.reverse(),Ve&&Ce<Rr&&(Ur.length=Ce),this&&this!==Xn&&this instanceof Wt&&(Ll=wr||Ml(Ll)),Ll.apply(os,Ur)}return Wt}function I1(O,A){return function(N,q){return Jy(N,O,A(q),{})}}function Eu(O,A){return function(N,q){var $;if(N===r&&q===r)return A;if(N!==r&&($=N),q!==r){if($===r)return q;typeof N=="string"||typeof q=="string"?(N=za(N),q=za(q)):(N=y1(N),q=y1(q)),$=O(N,q)}return $}}function Jt(O){return Su(function(A){return A=Tn(A,xa(Nt())),dr(function(N){var q=this;return O(A,function($){return Ue($,q,N)})})})}function yp(O,A){A=A===r?" ":za(A);var N=A.length;if(N<2)return N?om(A,O):A;var q=om(A,ri(O/Rs(A)));return Lc(A)?zs(ia(q),0,O).join(""):q.slice(0,O)}function Pa(O,A,N,q){var $=A&b,oe=Ml(O);function ye(){for(var we=-1,Ce=arguments.length,Fe=-1,Ve=q.length,Xe=ke(Ve+Ce),dt=this&&this!==Xn&&this instanceof ye?oe:O;++Fe<Ve;)Xe[Fe]=q[Fe];for(;Ce--;)Xe[Fe++]=arguments[++we];return Ue(dt,$?N:this,Xe)}return ye}function Un(O){return function(A,N,q){return q&&typeof q!="number"&&sa(A,N,q)&&(N=q=r),A=kl(A),N===r?(N=A,A=0):N=kl(N),q=q===r?A<N?1:-1:kl(q),UT(A,N,q,O)}}function qo(O){return function(A,N){return typeof A=="string"&&typeof N=="string"||(A=xu(A),N=xu(N)),O(A,N)}}function N1(O,A,N,q,$,oe,ye,we,Ce,Fe){var Ve=A&g,Xe=Ve?ye:r,dt=Ve?r:ye,Et=Ve?oe:r,Yt=Ve?r:oe;A|=Ve?E:T,A&=~(Ve?T:E),A&m||(A&=-4);var wr=[O,A,$,Et,Xe,Yt,dt,we,Ce,Fe],Wt=N.apply(r,wr);return Yi(O)&&G1(Wt,wr),Wt.placeholder=q,V1(Wt,O,A)}function vd(O){var A=ti[O];return function(N,q){if(N=xu(N),q=q==null?0:Zr(mr(q),292),q&&Xv(N)){var $=(un(N)+"e").split("e"),oe=A($[0]+"e"+(+$[1]+q));return $=(un(oe)+"e").split("e"),+($[0]+"e"+(+$[1]-q))}return A(N)}}var rs=Is&&1/zv(new Is([,-0]))[1]==B?function(O){return new Is(O)}:mx;function vm(O){return function(A){var N=Hi(A);return N==_e?jy(A):N==ie?RT(A):F_(A,O(A))}}function lo(O,A,N,q,$,oe,ye,we){var Ce=A&p;if(!Ce&&typeof O!="function")throw new Dn(o);var Fe=q?q.length:0;if(Fe||(A&=-97,q=$=r),ye=ye===r?ye:ni(mr(ye),0),we=we===r?we:mr(we),Fe-=$?$.length:0,A&T){var Ve=q,Xe=$;q=$=r}var dt=Ce?r:qs(O),Et=[O,A,N,q,$,Ve,Xe,oe,ye,we];if(dt&&q1(Et,dt),O=Et[0],A=Et[1],N=Et[2],q=Et[3],$=Et[4],we=Et[9]=Et[9]===r?Ce?0:O.length:ni(Et[9]-Fe,0),!we&&A&(g|_)&&(A&=-25),!A||A==b)var Yt=pp(O,A,N);else A==g||A==_?Yt=D1(O,A,we):(A==E||A==(b|E))&&!$.length?Yt=Pa(O,A,N,q):Yt=gp.apply(r,Et);var wr=dt?g1:G1;return V1(wr(Yt,Et),O,A)}function xn(O,A,N,q){return O===r||as(O,Ca[N])&&!yr.call(q,N)?A:O}function In(O,A,N,q,$,oe){return Kn(O)&&Kn(A)&&(oe.set(A,O),sd(O,A,r,In,oe),oe.delete(A)),O}function k1(O){return Mm(O)?r:O}function pm(O,A,N,q,$,oe){var ye=N&v,we=O.length,Ce=A.length;if(we!=Ce&&!(ye&&Ce>we))return!1;var Fe=oe.get(O),Ve=oe.get(A);if(Fe&&Ve)return Fe==A&&Ve==O;var Xe=-1,dt=!0,Et=N&y?new Ra:r;for(oe.set(O,A),oe.set(A,O);++Xe<we;){var Yt=O[Xe],wr=A[Xe];if(q)var Wt=ye?q(wr,Yt,Xe,A,O,oe):q(Yt,wr,Xe,O,A,oe);if(Wt!==r){if(Wt)continue;dt=!1;break}if(Et){if(!As(A,function(Rr,Ur){if(!jo(Et,Ur)&&(Yt===Rr||$(Yt,Rr,N,q,oe)))return Et.push(Ur)})){dt=!1;break}}else if(!(Yt===wr||$(Yt,wr,N,q,oe))){dt=!1;break}}return oe.delete(O),oe.delete(A),dt}function pd(O,A,N,q,$,oe,ye){switch(N){case Ze:if(O.byteLength!=A.byteLength||O.byteOffset!=A.byteOffset)return!1;O=O.buffer,A=A.buffer;case ut:return!(O.byteLength!=A.byteLength||!oe(new Kh(O),new Kh(A)));case fe:case te:case Te:return as(+O,+A);case ee:return O.name==A.name&&O.message==A.message;case X:case ve:return O==A+"";case _e:var we=jy;case ie:var Ce=q&v;if(we||(we=zv),O.size!=A.size&&!Ce)return!1;var Fe=ye.get(O);if(Fe)return Fe==A;q|=y,ye.set(O,A);var Ve=pm(we(O),we(A),q,$,oe,ye);return ye.delete(O),Ve;case ge:if(Yc)return Yc.call(O)==Yc.call(A)}return!1}function gm(O,A,N,q,$,oe){var ye=N&v,we=tf(O),Ce=we.length,Fe=tf(A),Ve=Fe.length;if(Ce!=Ve&&!ye)return!1;for(var Xe=Ce;Xe--;){var dt=we[Xe];if(!(ye?dt in A:yr.call(A,dt)))return!1}var Et=oe.get(O),Yt=oe.get(A);if(Et&&Yt)return Et==A&&Yt==O;var wr=!0;oe.set(O,A),oe.set(A,O);for(var Wt=ye;++Xe<Ce;){dt=we[Xe];var Rr=O[dt],Ur=A[dt];if(q)var Ho=ye?q(Ur,Rr,dt,A,O,oe):q(Rr,Ur,dt,O,A,oe);if(!(Ho===r?Rr===Ur||$(Rr,Ur,N,q,oe):Ho)){wr=!1;break}Wt||(Wt=dt=="constructor")}if(wr&&!Wt){var qa=O.constructor,Yo=A.constructor;qa!=Yo&&"constructor"in O&&"constructor"in A&&!(typeof qa=="function"&&qa instanceof qa&&typeof Yo=="function"&&Yo instanceof Yo)&&(wr=!1)}return oe.delete(O),oe.delete(A),wr}function Su(O){return Om(wm(O,r,Sp),O+"")}function tf(O){return ap(O,Xi,bp)}function ua(O){return ap(O,vo,Gr)}var qs=Hc?function(O){return Hc.get(O)}:mx;function mp(O){for(var A=O.name+"",N=Ns[A],q=yr.call(Ns,A)?N.length:0;q--;){var $=N[q],oe=$.func;if(oe==null||oe==O)return $.name}return A}function rf(O){var A=yr.call(ne,"placeholder")?ne:O;return A.placeholder}function Nt(){var O=ne.iteratee||gx;return O=O===gx?em:O,arguments.length?O(arguments[0],arguments[1]):O}function co(O,A){var N=O.__data__;return Si(A)?N[typeof A=="string"?"string":"hash"]:N.map}function nr(O){for(var A=Xi(O),N=A.length;N--;){var q=A[N],$=O[q];A[N]=[q,$,F1($)]}return A}function Gs(O,A){var N=Ly(O,A);return up(N)?N:r}function fo(O){var A=yr.call(O,Aa),N=O[Aa];try{O[Aa]=r;var q=!0}catch{}var $=Hv.call(O);return q&&(A?O[Aa]=N:delete O[Aa]),$}var bp=Wv?function(O){return O==null?[]:(O=J(O),Di(Wv(O),function(A){return Ba.call(O,A)}))}:bx,Gr=Wv?function(O){for(var A=[];O;)hi(A,bp(O)),O=Fc(O);return A}:bx,Hi=Ei;(Cl&&Hi(new Cl(new ArrayBuffer(1)))!=Ze||qc&&Hi(new qc)!=_e||Al&&Hi(Al.resolve())!=j||Is&&Hi(new Is)!=ie||Gc&&Hi(new Gc)!=Le)&&(Hi=function(O){var A=Ei(O),N=A==be?O.constructor:r,q=N?is(N):"";if(q)switch(q){case W_:return Ze;case X_:return _e;case $_:return j;case Kv:return ie;case K_:return Le}return A});function L1(O,A,N){for(var q=-1,$=N.length;++q<$;){var oe=N[q],ye=oe.size;switch(oe.type){case"drop":O+=ye;break;case"dropRight":A-=ye;break;case"take":A=Zr(A,O+ye);break;case"takeRight":O=ni(O,A-ye);break}}return{start:O,end:A}}function _p(O){var A=O.match(fr);return A?A[1].split(Mr):[]}function j1(O,A,N){A=ts(A,O);for(var q=-1,$=A.length,oe=!1;++q<$;){var ye=Ou(A[q]);if(!(oe=O!=null&&N(O,ye)))break;O=O[ye]}return oe||++q!=$?oe:($=O==null?0:O.length,!!$&&rw($)&&ns(ye,$)&&(sr(O)||bd(O)))}function VT(O){var A=O.length,N=new O.constructor(A);return A&&typeof O[0]=="string"&&yr.call(O,"index")&&(N.index=O.index,N.input=O.input),N}function B1(O){return typeof O.constructor=="function"&&!gd(O)?ks(Fc(O)):{}}function HT(O,A,N){var q=O.constructor;switch(A){case ut:return hm(O);case fe:case te:return new q(+O);case Ze:return E1(O,N);case tt:case Qe:case $e:case Ie:case re:case Ee:case Pe:case Me:case Ne:return O1(O,N);case _e:return new q;case Te:case ve:return new q(O);case X:return S1(O);case ie:return new q;case ge:return GT(O)}}function ym(O,A){var N=A.length;if(!N)return O;var q=N-1;return A[q]=(N>1?"& ":"")+A[q],A=A.join(N>2?", ":" "),O.replace(Qt,`{
/* [wrapped with `+A+`] */
`)}function mm(O){return sr(O)||bd(O)||!!(Fy&&O&&O[Fy])}function ns(O,A){var N=typeof O;return A=A??z,!!A&&(N=="number"||N!="symbol"&&Nr.test(O))&&O>-1&&O%1==0&&O<A}function sa(O,A,N){if(!Kn(N))return!1;var q=typeof A;return(q=="number"?ho(N)&&ns(A,N.length):q=="string"&&A in N)?as(N[A],O):!1}function bm(O,A){if(sr(O))return!1;var N=typeof O;return N=="number"||N=="symbol"||N=="boolean"||O==null||Vo(O)?!0:Gt.test(O)||!Lt.test(O)||A!=null&&O in J(A)}function Si(O){var A=typeof O;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?O!=="__proto__":O===null}function Yi(O){var A=mp(O),N=ne[A];if(typeof N!="function"||!(A in Tr.prototype))return!1;if(O===N)return!0;var q=qs(N);return!!q&&O===q[0]}function YT(O){return!!By&&By in O}var U1=io?Nl:_x;function gd(O){var A=O&&O.constructor,N=typeof A=="function"&&A.prototype||Ca;return O===N}function F1(O){return O===O&&!Kn(O)}function _m(O,A){return function(N){return N==null?!1:N[O]===A&&(A!==r||O in J(N))}}function z1(O){var A=ew(O,function(q){return N.size===l&&N.clear(),q}),N=A.cache;return A}function q1(O,A){var N=O[1],q=A[1],$=N|q,oe=$<(b|p|w),ye=q==w&&N==g||q==w&&N==S&&O[7].length<=A[8]||q==(w|S)&&A[7].length<=A[8]&&N==g;if(!(oe||ye))return O;q&b&&(O[2]=A[2],$|=N&b?0:m);var we=A[3];if(we){var Ce=O[3];O[3]=Ce?x1(Ce,we,A[4]):we,O[4]=Ce?Pn(O[3],c):A[4]}return we=A[5],we&&(Ce=O[5],O[5]=Ce?C1(Ce,we,A[6]):we,O[6]=Ce?Pn(O[5],c):A[6]),we=A[7],we&&(O[7]=we),q&w&&(O[8]=O[8]==null?A[8]:Zr(O[8],A[8])),O[9]==null&&(O[9]=A[9]),O[0]=A[0],O[1]=$,O}function nf(O){var A=[];if(O!=null)for(var N in J(O))A.push(N);return A}function WT(O){return Hv.call(O)}function wm(O,A,N){return A=ni(A===r?O.length-1:A,0),function(){for(var q=arguments,$=-1,oe=ni(q.length-A,0),ye=ke(oe);++$<oe;)ye[$]=q[A+$];$=-1;for(var we=ke(A+1);++$<A;)we[$]=q[$];return we[A]=N(ye),Ue(O,this,we)}}function Em(O,A){return A.length<2?O:Zu(O,Mn(A,0,-1))}function XT(O,A){for(var N=O.length,q=Zr(A.length,N),$=Ii(O);q--;){var oe=A[q];O[q]=ns(oe,N)?$[oe]:r}return O}function Sm(O,A){if(!(A==="constructor"&&typeof O[A]=="function")&&A!="__proto__")return O[A]}var G1=wp(g1),yd=H_||function(O,A){return Xn.setTimeout(O,A)},Om=wp(FT);function V1(O,A,N){var q=A+"";return Om(O,ym(q,$T(_p(q),N)))}function wp(O){var A=0,N=0;return function(){var q=zy(),$=I-(q-N);if(N=q,$>0){if(++A>=M)return arguments[0]}else A=0;return O.apply(r,arguments)}}function md(O,A){var N=-1,q=O.length,$=q-1;for(A=A===r?q:A;++N<A;){var oe=am(N,$),ye=O[oe];O[oe]=O[N],O[N]=ye}return O.length=A,O}var Tm=z1(function(O){var A=[];return O.charCodeAt(0)===46&&A.push(""),O.replace(wt,function(N,q,$,oe){A.push($?oe.replace(Pi,"$1"):q||N)}),A});function Ou(O){if(typeof O=="string"||Vo(O))return O;var A=O+"";return A=="0"&&1/O==-B?"-0":A}function is(O){if(O!=null){try{return du.call(O)}catch{}try{return O+""}catch{}}return""}function $T(O,A){return Tt(ce,function(N){var q="_."+N[0];A&N[1]&&!on(O,q)&&O.push(q)}),O.sort()}function H1(O){if(O instanceof Tr)return O.clone();var A=new Ut(O.__wrapped__,O.__chain__);return A.__actions__=Ii(O.__actions__),A.__index__=O.__index__,A.__values__=O.__values__,A}function Da(O,A,N){(N?sa(O,A,N):A===r)?A=1:A=ni(mr(A),0);var q=O==null?0:O.length;if(!q||A<1)return[];for(var $=0,oe=0,ye=ke(ri(q/A));$<q;)ye[oe++]=Mn(O,$,$+=A);return ye}function xm(O){for(var A=-1,N=O==null?0:O.length,q=0,$=[];++A<N;){var oe=O[A];oe&&($[q++]=oe)}return $}function KT(){var O=arguments.length;if(!O)return[];for(var A=ke(O-1),N=arguments[0],q=O;q--;)A[q-1]=arguments[q];return hi(sr(N)?Ii(N):[N],wi(A,1))}var ZT=dr(function(O,A){return vi(O)?$c(O,wi(A,1,vi,!0)):[]}),Cm=dr(function(O,A){var N=L(A);return vi(N)&&(N=r),vi(O)?$c(O,wi(A,1,vi,!0),Nt(N,2)):[]}),Am=dr(function(O,A){var N=L(A);return vi(N)&&(N=r),vi(O)?$c(O,wi(A,1,vi,!0),r,N):[]});function QT(O,A,N){var q=O==null?0:O.length;return q?(A=N||A===r?1:mr(A),Mn(O,A<0?0:A,q)):[]}function JT(O,A,N){var q=O==null?0:O.length;return q?(A=N||A===r?1:mr(A),A=q-A,Mn(O,0,A<0?0:A)):[]}function ex(O,A){return O&&O.length?hp(O,Nt(A,3),!0,!0):[]}function Y1(O,A){return O&&O.length?hp(O,Nt(A,3),!0):[]}function tx(O,A,N,q){var $=O==null?0:O.length;return $?(N&&typeof N!="number"&&sa(O,A,N)&&(N=0,q=$),u1(O,A,N,q)):[]}function W1(O,A,N){var q=O==null?0:O.length;if(!q)return-1;var $=N==null?0:mr(N);return $<0&&($=ni(q+$,0)),Gh(O,Nt(A,3),$)}function Ep(O,A,N){var q=O==null?0:O.length;if(!q)return-1;var $=q-1;return N!==r&&($=mr(N),$=N<0?ni(q+$,0):Zr($,q-1)),Gh(O,Nt(A,3),$,!0)}function Sp(O){var A=O==null?0:O.length;return A?wi(O,1):[]}function Rm(O){var A=O==null?0:O.length;return A?wi(O,B):[]}function rx(O,A){var N=O==null?0:O.length;return N?(A=A===r?1:mr(A),wi(O,A)):[]}function nx(O){for(var A=-1,N=O==null?0:O.length,q={};++A<N;){var $=O[A];q[$[0]]=$[1]}return q}function X1(O){return O&&O.length?O[0]:r}function ix(O,A,N){var q=O==null?0:O.length;if(!q)return-1;var $=N==null?0:mr(N);return $<0&&($=ni(q+$,0)),$u(O,A,$)}function ax(O){var A=O==null?0:O.length;return A?Mn(O,0,-1):[]}var ox=dr(function(O){var A=Tn(O,cm);return A.length&&A[0]===O[0]?Qu(A):[]}),ux=dr(function(O){var A=L(O),N=Tn(O,cm);return A===L(N)?A=r:N.pop(),N.length&&N[0]===O[0]?Qu(N,Nt(A,2)):[]}),x=dr(function(O){var A=L(O),N=Tn(O,cm);return A=typeof A=="function"?A:r,A&&N.pop(),N.length&&N[0]===O[0]?Qu(N,r,A):[]});function P(O,A){return O==null?"":$v.call(O,A)}function L(O){var A=O==null?0:O.length;return A?O[A-1]:r}function V(O,A,N){var q=O==null?0:O.length;if(!q)return-1;var $=q;return N!==r&&($=mr(N),$=$<0?ni(q+$,0):Zr($,q-1)),A===A?PT(O,A,$):Gh(O,j_,$,!0)}function K(O,A){return O&&O.length?ld(O,mr(A)):r}var se=dr(me);function me(O,A){return O&&O.length&&A&&A.length?es(O,A):O}function Se(O,A,N){return O&&O.length&&A&&A.length?es(O,A,Nt(N,2)):O}function Re(O,A,N){return O&&O.length&&A&&A.length?es(O,A,r,N):O}var qe=Su(function(O,A){var N=O==null?0:O.length,q=ep(O,A);return im(O,Tn(A,function($){return ns($,N)?+$:$}).sort(T1)),q});function Ge(O,A){var N=[];if(!(O&&O.length))return N;var q=-1,$=[],oe=O.length;for(A=Nt(A,3);++q<oe;){var ye=O[q];A(ye,q,O)&&(N.push(ye),$.push(q))}return im(O,$),N}function Ke(O){return O==null?O:qy.call(O)}function pt(O,A,N){var q=O==null?0:O.length;return q?(N&&typeof N!="number"&&sa(O,A,N)?(A=0,N=q):(A=A==null?0:mr(A),N=N===r?q:mr(N)),Mn(O,A,N)):[]}function _t(O,A){return cd(O,A)}function kt(O,A,N){return um(O,A,Nt(N,2))}function Ye(O,A){var N=O==null?0:O.length;if(N){var q=cd(O,A);if(q<N&&as(O[q],A))return q}return-1}function et(O,A){return cd(O,A,!0)}function Pt(O,A,N){return um(O,A,Nt(N,2),!0)}function ct(O,A){var N=O==null?0:O.length;if(N){var q=cd(O,A,!0)-1;if(as(O[q],A))return q}return-1}function er(O){return O&&O.length?fp(O):[]}function Kt(O,A){return O&&O.length?fp(O,Nt(A,2)):[]}function zr(O){var A=O==null?0:O.length;return A?Mn(O,1,A):[]}function xt(O,A,N){return O&&O.length?(A=N||A===r?1:mr(A),Mn(O,0,A<0?0:A)):[]}function Ft(O,A,N){var q=O==null?0:O.length;return q?(A=N||A===r?1:mr(A),A=q-A,Mn(O,A<0?0:A,q)):[]}function di(O,A){return O&&O.length?hp(O,Nt(A,3),!1,!0):[]}function $n(O,A){return O&&O.length?hp(O,Nt(A,3)):[]}var la=dr(function(O){return Fs(wi(O,1,vi,!0))}),_n=dr(function(O){var A=L(O);return vi(A)&&(A=r),Fs(wi(O,1,vi,!0),Nt(A,2))}),Wi=dr(function(O){var A=L(O);return A=typeof A=="function"?A:r,Fs(wi(O,1,vi,!0),r,A)});function Tu(O){return O&&O.length?Fs(O):[]}function Vs(O,A){return O&&O.length?Fs(O,Nt(A,2)):[]}function Il(O,A){return A=typeof A=="function"?A:r,O&&O.length?Fs(O,r,A):[]}function Go(O){if(!(O&&O.length))return[];var A=0;return O=Di(O,function(N){if(vi(N))return A=ni(N.length,A),!0}),Bv(A,function(N){return Tn(O,Nc(N))})}function Pm(O,A){if(!(O&&O.length))return[];var N=Go(O);return A==null?N:Tn(N,function(q){return Ue(A,r,q)})}var $1=dr(function(O,A){return vi(O)?$c(O,A):[]}),Op=dr(function(O){return lm(Di(O,vi))}),Dm=dr(function(O){var A=L(O);return vi(A)&&(A=r),lm(Di(O,vi),Nt(A,2))}),Tp=dr(function(O){var A=L(O);return A=typeof A=="function"?A:r,lm(Di(O,vi),r,A)}),xp=dr(Go);function K1(O,A){return b1(O||[],A||[],Xc)}function Cp(O,A){return b1(O||[],A||[],Jc)}var Ap=dr(function(O){var A=O.length,N=A>1?O[A-1]:r;return N=typeof N=="function"?(O.pop(),N):r,Pm(O,N)});function l3(O){var A=ne(O);return A.__chain__=!0,A}function X$(O,A){return A(O),O}function Z1(O,A){return A(O)}var $$=Su(function(O){var A=O.length,N=A?O[0]:0,q=this.__wrapped__,$=function(oe){return ep(oe,O)};return A>1||this.__actions__.length||!(q instanceof Tr)||!ns(N)?this.thru($):(q=q.slice(N,+N+(A?1:0)),q.__actions__.push({func:Z1,args:[$],thisArg:r}),new Ut(q,this.__chain__).thru(function(oe){return A&&!oe.length&&oe.push(r),oe}))});function K$(){return l3(this)}function Z$(){return new Ut(this.value(),this.__chain__)}function Q$(){this.__values__===r&&(this.__values__=S3(this.value()));var O=this.__index__>=this.__values__.length,A=O?r:this.__values__[this.__index__++];return{done:O,value:A}}function J$(){return this}function eK(O){for(var A,N=this;N instanceof Wc;){var q=H1(N);q.__index__=0,q.__values__=r,A?$.__wrapped__=q:A=q;var $=q;N=N.__wrapped__}return $.__wrapped__=O,A}function tK(){var O=this.__wrapped__;if(O instanceof Tr){var A=O;return this.__actions__.length&&(A=new Tr(this)),A=A.reverse(),A.__actions__.push({func:Z1,args:[Ke],thisArg:r}),new Ut(A,this.__chain__)}return this.thru(Ke)}function rK(){return m1(this.__wrapped__,this.__actions__)}var nK=hd(function(O,A,N){yr.call(O,N)?++O[N]:mu(O,N,1)});function iK(O,A,N){var q=sr(O)?Jn:Zy;return N&&sa(O,A,N)&&(A=r),q(O,Nt(A,3))}function aK(O,A){var N=sr(O)?Di:_u;return N(O,Nt(A,3))}var oK=M1(W1),uK=M1(Ep);function sK(O,A){return wi(Q1(O,A),1)}function lK(O,A){return wi(Q1(O,A),B)}function cK(O,A,N){return N=N===r?1:mr(N),wi(Q1(O,A),N)}function c3(O,A){var N=sr(O)?Tt:Bo;return N(O,Nt(A,3))}function f3(O,A){var N=sr(O)?kr:Ky;return N(O,Nt(A,3))}var fK=hd(function(O,A,N){yr.call(O,N)?O[N].push(A):mu(O,N,[A])});function hK(O,A,N,q){O=ho(O)?O:Pp(O),N=N&&!q?mr(N):0;var $=O.length;return N<0&&(N=ni($+N,0)),nw(O)?N<=$&&O.indexOf(A,N)>-1:!!$&&$u(O,A,N)>-1}var dK=dr(function(O,A,N){var q=-1,$=typeof A=="function",oe=ho(O)?ke(O.length):[];return Bo(O,function(ye){oe[++q]=$?Ue(A,ye,N):Zc(ye,A,N)}),oe}),vK=hd(function(O,A,N){mu(O,N,A)});function Q1(O,A){var N=sr(O)?Tn:tm;return N(O,Nt(A,3))}function pK(O,A,N,q){return O==null?[]:(sr(A)||(A=A==null?[]:[A]),N=q?r:N,sr(N)||(N=N==null?[]:[N]),cp(O,A,N))}var gK=hd(function(O,A,N){O[N?0:1].push(A)},function(){return[[],[]]});function yK(O,A,N){var q=sr(O)?Ic:Vh,$=arguments.length<3;return q(O,Nt(A,4),N,$,Bo)}function mK(O,A,N){var q=sr(O)?OT:Vh,$=arguments.length<3;return q(O,Nt(A,4),N,$,Ky)}function bK(O,A){var N=sr(O)?Di:_u;return N(O,tw(Nt(A,3)))}function _K(O){var A=sr(O)?aa:v1;return A(O)}function wK(O,A,N){(N?sa(O,A,N):A===r)?A=1:A=mr(A);var q=sr(O)?yu:p1;return q(O,A)}function EK(O){var A=sr(O)?Jv:zT;return A(O)}function SK(O){if(O==null)return 0;if(ho(O))return nw(O)?Rs(O):O.length;var A=Hi(O);return A==_e||A==ie?O.size:sp(O).length}function OK(O,A,N){var q=sr(O)?As:qT;return N&&sa(O,A,N)&&(A=r),q(O,Nt(A,3))}var TK=dr(function(O,A){if(O==null)return[];var N=A.length;return N>1&&sa(O,A[0],A[1])?A=[]:N>2&&sa(A[0],A[1],A[2])&&(A=[A[0]]),cp(O,wi(A,1),[])}),J1=Yv||function(){return Xn.Date.now()};function xK(O,A){if(typeof A!="function")throw new Dn(o);return O=mr(O),function(){if(--O<1)return A.apply(this,arguments)}}function h3(O,A,N){return A=N?r:A,A=O&&A==null?O.length:A,lo(O,w,r,r,r,r,A)}function d3(O,A){var N;if(typeof A!="function")throw new Dn(o);return O=mr(O),function(){return--O>0&&(N=A.apply(this,arguments)),O<=1&&(A=r),N}}var sx=dr(function(O,A,N){var q=b;if(N.length){var $=Pn(N,rf(sx));q|=E}return lo(O,q,A,N,$)}),v3=dr(function(O,A,N){var q=b|p;if(N.length){var $=Pn(N,rf(v3));q|=E}return lo(A,q,O,N,$)});function p3(O,A,N){A=N?r:A;var q=lo(O,g,r,r,r,r,r,A);return q.placeholder=p3.placeholder,q}function g3(O,A,N){A=N?r:A;var q=lo(O,_,r,r,r,r,r,A);return q.placeholder=g3.placeholder,q}function y3(O,A,N){var q,$,oe,ye,we,Ce,Fe=0,Ve=!1,Xe=!1,dt=!0;if(typeof O!="function")throw new Dn(o);A=xu(A)||0,Kn(N)&&(Ve=!!N.leading,Xe="maxWait"in N,oe=Xe?ni(xu(N.maxWait)||0,A):oe,dt="trailing"in N?!!N.trailing:dt);function Et(pi){var os=q,Ll=$;return q=$=r,Fe=pi,ye=O.apply(Ll,os),ye}function Yt(pi){return Fe=pi,we=yd(Rr,A),Ve?Et(pi):ye}function wr(pi){var os=pi-Ce,Ll=pi-Fe,L3=A-os;return Xe?Zr(L3,oe-Ll):L3}function Wt(pi){var os=pi-Ce,Ll=pi-Fe;return Ce===r||os>=A||os<0||Xe&&Ll>=oe}function Rr(){var pi=J1();if(Wt(pi))return Ur(pi);we=yd(Rr,wr(pi))}function Ur(pi){return we=r,dt&&q?Et(pi):(q=$=r,ye)}function Ho(){we!==r&&_1(we),Fe=0,q=Ce=$=we=r}function qa(){return we===r?ye:Ur(J1())}function Yo(){var pi=J1(),os=Wt(pi);if(q=arguments,$=this,Ce=pi,os){if(we===r)return Yt(Ce);if(Xe)return _1(we),we=yd(Rr,A),Et(Ce)}return we===r&&(we=yd(Rr,A)),ye}return Yo.cancel=Ho,Yo.flush=qa,Yo}var CK=dr(function(O,A){return nd(O,1,A)}),AK=dr(function(O,A,N){return nd(O,xu(A)||0,N)});function RK(O){return lo(O,C)}function ew(O,A){if(typeof O!="function"||A!=null&&typeof A!="function")throw new Dn(o);var N=function(){var q=arguments,$=A?A.apply(this,q):q[0],oe=N.cache;if(oe.has($))return oe.get($);var ye=O.apply(this,q);return N.cache=oe.set($,ye)||oe,ye};return N.cache=new(ew.Cache||oo),N}ew.Cache=oo;function tw(O){if(typeof O!="function")throw new Dn(o);return function(){var A=arguments;switch(A.length){case 0:return!O.call(this);case 1:return!O.call(this,A[0]);case 2:return!O.call(this,A[0],A[1]);case 3:return!O.call(this,A[0],A[1],A[2])}return!O.apply(this,A)}}function PK(O){return d3(2,O)}var DK=dp(function(O,A){A=A.length==1&&sr(A[0])?Tn(A[0],xa(Nt())):Tn(wi(A,1),xa(Nt()));var N=A.length;return dr(function(q){for(var $=-1,oe=Zr(q.length,N);++$<oe;)q[$]=A[$].call(this,q[$]);return Ue(O,this,q)})}),lx=dr(function(O,A){var N=Pn(A,rf(lx));return lo(O,E,r,A,N)}),m3=dr(function(O,A){var N=Pn(A,rf(m3));return lo(O,T,r,A,N)}),MK=Su(function(O,A){return lo(O,S,r,r,r,A)});function IK(O,A){if(typeof O!="function")throw new Dn(o);return A=A===r?A:mr(A),dr(O,A)}function NK(O,A){if(typeof O!="function")throw new Dn(o);return A=A==null?0:ni(mr(A),0),dr(function(N){var q=N[A],$=zs(N,0,A);return q&&hi($,q),Ue(O,this,$)})}function kK(O,A,N){var q=!0,$=!0;if(typeof O!="function")throw new Dn(o);return Kn(N)&&(q="leading"in N?!!N.leading:q,$="trailing"in N?!!N.trailing:$),y3(O,A,{leading:q,maxWait:A,trailing:$})}function LK(O){return h3(O,1)}function jK(O,A){return lx(fm(A),O)}function BK(){if(!arguments.length)return[];var O=arguments[0];return sr(O)?O:[O]}function UK(O){return Fa(O,d)}function FK(O,A){return A=typeof A=="function"?A:r,Fa(O,d,A)}function zK(O){return Fa(O,f|d)}function qK(O,A){return A=typeof A=="function"?A:r,Fa(O,f|d,A)}function GK(O,A){return A==null||rp(O,A,Xi(A))}function as(O,A){return O===A||O!==O&&A!==A}var VK=qo(Us),HK=qo(function(O,A){return O>=A}),bd=Mi(function(){return arguments}())?Mi:function(O){return ii(O)&&yr.call(O,"callee")&&!Ba.call(O,"callee")},sr=ke.isArray,YK=fi?xa(fi):l1;function ho(O){return O!=null&&rw(O.length)&&!Nl(O)}function vi(O){return ii(O)&&ho(O)}function WK(O){return O===!0||O===!1||ii(O)&&Ei(O)==fe}var af=pu||_x,XK=fu?xa(fu):c1;function $K(O){return ii(O)&&O.nodeType===1&&!Mm(O)}function KK(O){if(O==null)return!0;if(ho(O)&&(sr(O)||typeof O=="string"||typeof O.splice=="function"||af(O)||Rp(O)||bd(O)))return!O.length;var A=Hi(O);if(A==_e||A==ie)return!O.size;if(gd(O))return!sp(O).length;for(var N in O)if(yr.call(O,N))return!1;return!0}function ZK(O,A){return id(O,A)}function QK(O,A,N){N=typeof N=="function"?N:r;var q=N?N(O,A):r;return q===r?id(O,A,r,N):!!q}function cx(O){if(!ii(O))return!1;var A=Ei(O);return A==ee||A==Q||typeof O.message=="string"&&typeof O.name=="string"&&!Mm(O)}function JK(O){return typeof O=="number"&&Xv(O)}function Nl(O){if(!Kn(O))return!1;var A=Ei(O);return A==ae||A==pe||A==he||A==G}function b3(O){return typeof O=="number"&&O==mr(O)}function rw(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=z}function Kn(O){var A=typeof O;return O!=null&&(A=="object"||A=="function")}function ii(O){return O!=null&&typeof O=="object"}var _3=no?xa(no):oa;function eZ(O,A){return O===A||ad(O,A,nr(A))}function tZ(O,A,N){return N=typeof N=="function"?N:r,ad(O,A,nr(A),N)}function rZ(O){return w3(O)&&O!=+O}function nZ(O){if(U1(O))throw new Xt(a);return up(O)}function iZ(O){return O===null}function aZ(O){return O==null}function w3(O){return typeof O=="number"||ii(O)&&Ei(O)==Te}function Mm(O){if(!ii(O)||Ei(O)!=be)return!1;var A=Fc(O);if(A===null)return!0;var N=yr.call(A,"constructor")&&A.constructor;return typeof N=="function"&&N instanceof N&&du.call(N)==DT}var fx=ja?xa(ja):BT;function oZ(O){return b3(O)&&O>=-z&&O<=z}var E3=De?xa(De):od;function nw(O){return typeof O=="string"||!sr(O)&&ii(O)&&Ei(O)==ve}function Vo(O){return typeof O=="symbol"||ii(O)&&Ei(O)==ge}var Rp=He?xa(He):f1;function uZ(O){return O===r}function sZ(O){return ii(O)&&Hi(O)==Le}function lZ(O){return ii(O)&&Ei(O)==We}var cZ=qo(ud),fZ=qo(function(O,A){return O<=A});function S3(O){if(!O)return[];if(ho(O))return nw(O)?ia(O):Ii(O);if(Ku&&O[Ku])return AT(O[Ku]());var A=Hi(O),N=A==_e?jy:A==ie?zv:Pp;return N(O)}function kl(O){if(!O)return O===0?O:0;if(O=xu(O),O===B||O===-B){var A=O<0?-1:1;return A*H}return O===O?O:0}function mr(O){var A=kl(O),N=A%1;return A===A?N?A-N:A:0}function O3(O){return O?bu(mr(O),0,W):0}function xu(O){if(typeof O=="number")return O;if(Vo(O))return Y;if(Kn(O)){var A=typeof O.valueOf=="function"?O.valueOf():O;O=Kn(A)?A+"":A}if(typeof O!="string")return O===0?O:+O;O=Hh(O);var N=Er.test(O);return N||$r.test(O)?ky(O.slice(2),N?2:8):rr.test(O)?Y:+O}function T3(O){return zo(O,vo(O))}function hZ(O){return O?bu(mr(O),-z,z):O===0?O:0}function un(O){return O==null?"":za(O)}var dZ=Dl(function(O,A){if(gd(A)||ho(A)){zo(A,Xi(A),O);return}for(var N in A)yr.call(A,N)&&Xc(O,N,A[N])}),x3=Dl(function(O,A){zo(A,vo(A),O)}),iw=Dl(function(O,A,N,q){zo(A,vo(A),O,q)}),vZ=Dl(function(O,A,N,q){zo(A,Xi(A),O,q)}),pZ=Su(ep);function gZ(O,A){var N=ks(O);return A==null?N:Pl(N,A)}var yZ=dr(function(O,A){O=J(O);var N=-1,q=A.length,$=q>2?A[2]:r;for($&&sa(A[0],A[1],$)&&(q=1);++N<q;)for(var oe=A[N],ye=vo(oe),we=-1,Ce=ye.length;++we<Ce;){var Fe=ye[we],Ve=O[Fe];(Ve===r||as(Ve,Ca[Fe])&&!yr.call(O,Fe))&&(O[Fe]=oe[Fe])}return O}),mZ=dr(function(O){return O.push(r,In),Ue(C3,r,O)});function bZ(O,A){return L_(O,Nt(A,3),Uo)}function _Z(O,A){return L_(O,Nt(A,3),Fo)}function wZ(O,A){return O==null?O:ip(O,Nt(A,3),vo)}function EZ(O,A){return O==null?O:s1(O,Nt(A,3),vo)}function SZ(O,A){return O&&Uo(O,Nt(A,3))}function OZ(O,A){return O&&Fo(O,Nt(A,3))}function TZ(O){return O==null?[]:Kc(O,Xi(O))}function xZ(O){return O==null?[]:Kc(O,vo(O))}function hx(O,A,N){var q=O==null?r:Zu(O,A);return q===r?N:q}function CZ(O,A){return O!=null&&j1(O,A,jt)}function dx(O,A){return O!=null&&j1(O,A,op)}var AZ=I1(function(O,A,N){A!=null&&typeof A.toString!="function"&&(A=Hv.call(A)),O[A]=N},px(po)),RZ=I1(function(O,A,N){A!=null&&typeof A.toString!="function"&&(A=Hv.call(A)),yr.call(O,A)?O[A].push(N):O[A]=[N]},Nt),PZ=dr(Zc);function Xi(O){return ho(O)?$y(O):sp(O)}function vo(O){return ho(O)?$y(O,!0):h1(O)}function DZ(O,A){var N={};return A=Nt(A,3),Uo(O,function(q,$,oe){mu(N,A(q,$,oe),q)}),N}function MZ(O,A){var N={};return A=Nt(A,3),Uo(O,function(q,$,oe){mu(N,$,A(q,$,oe))}),N}var IZ=Dl(function(O,A,N){sd(O,A,N)}),C3=Dl(function(O,A,N,q){sd(O,A,N,q)}),NZ=Su(function(O,A){var N={};if(O==null)return N;var q=!1;A=Tn(A,function(oe){return oe=ts(oe,O),q||(q=oe.length>1),oe}),zo(O,ua(O),N),q&&(N=Fa(N,f|h|d,k1));for(var $=A.length;$--;)fd(N,A[$]);return N});function kZ(O,A){return A3(O,tw(Nt(A)))}var LZ=Su(function(O,A){return O==null?{}:rm(O,A)});function A3(O,A){if(O==null)return{};var N=Tn(ua(O),function(q){return[q]});return A=Nt(A),nm(O,N,function(q,$){return A(q,$[0])})}function jZ(O,A,N){A=ts(A,O);var q=-1,$=A.length;for($||($=1,O=r);++q<$;){var oe=O==null?r:O[Ou(A[q])];oe===r&&(q=$,oe=N),O=Nl(oe)?oe.call(O):oe}return O}function BZ(O,A,N){return O==null?O:Jc(O,A,N)}function UZ(O,A,N,q){return q=typeof q=="function"?q:r,O==null?O:Jc(O,A,N,q)}var R3=vm(Xi),P3=vm(vo);function FZ(O,A,N){var q=sr(O),$=q||af(O)||Rp(O);if(A=Nt(A,4),N==null){var oe=O&&O.constructor;$?N=q?new oe:[]:Kn(O)?N=Nl(oe)?ks(Fc(O)):{}:N={}}return($?Tt:Uo)(O,function(ye,we,Ce){return A(N,ye,we,Ce)}),N}function zZ(O,A){return O==null?!0:fd(O,A)}function qZ(O,A,N){return O==null?O:sm(O,A,fm(N))}function GZ(O,A,N,q){return q=typeof q=="function"?q:r,O==null?O:sm(O,A,fm(N),q)}function Pp(O){return O==null?[]:Sl(O,Xi(O))}function VZ(O){return O==null?[]:Sl(O,vo(O))}function HZ(O,A,N){return N===r&&(N=A,A=r),N!==r&&(N=xu(N),N=N===N?N:0),A!==r&&(A=xu(A),A=A===A?A:0),bu(xu(O),A,N)}function YZ(O,A,N){return A=kl(A),N===r?(N=A,A=0):N=kl(N),O=xu(O),Qy(O,A,N)}function WZ(O,A,N){if(N&&typeof N!="boolean"&&sa(O,A,N)&&(A=N=r),N===r&&(typeof A=="boolean"?(N=A,A=r):typeof O=="boolean"&&(N=O,O=r)),O===r&&A===r?(O=0,A=1):(O=kl(O),A===r?(A=O,O=0):A=kl(A)),O>A){var q=O;O=A,A=q}if(N||O%1||A%1){var $=Y_();return Zr(O+$*(A-O+Ny("1e-"+(($+"").length-1))),A)}return am(O,A)}var XZ=ef(function(O,A,N){return A=A.toLowerCase(),O+(N?D3(A):A)});function D3(O){return vx(un(O).toLowerCase())}function M3(O){return O=un(O),O&&O.replace(bn,CT).replace(Dv,"")}function $Z(O,A,N){O=un(O),A=za(A);var q=O.length;N=N===r?q:bu(mr(N),0,q);var $=N;return N-=A.length,N>=0&&O.slice(N,$)==A}function KZ(O){return O=un(O),O&&Rt.test(O)?O.replace(vt,Uv):O}function ZZ(O){return O=un(O),O&&ir.test(O)?O.replace(mt,"\\$&"):O}var QZ=ef(function(O,A,N){return O+(N?"-":"")+A.toLowerCase()}),JZ=ef(function(O,A,N){return O+(N?" ":"")+A.toLowerCase()}),eQ=dd("toLowerCase");function tQ(O,A,N){O=un(O),A=mr(A);var q=A?Rs(O):0;if(!A||q>=A)return O;var $=(A-q)/2;return yp(zc($),N)+O+yp(ri($),N)}function rQ(O,A,N){O=un(O),A=mr(A);var q=A?Rs(O):0;return A&&q<A?O+yp(A-q,N):O}function nQ(O,A,N){O=un(O),A=mr(A);var q=A?Rs(O):0;return A&&q<A?yp(A-q,N)+O:O}function iQ(O,A,N){return N||A==null?A=0:A&&(A=+A),IT(un(O).replace(Bt,""),A||0)}function aQ(O,A,N){return(N?sa(O,A,N):A===r)?A=1:A=mr(A),om(un(O),A)}function oQ(){var O=arguments,A=un(O[0]);return O.length<3?A:A.replace(O[1],O[2])}var uQ=ef(function(O,A,N){return O+(N?"_":"")+A.toLowerCase()});function sQ(O,A,N){return N&&typeof N!="number"&&sa(O,A,N)&&(A=N=r),N=N===r?W:N>>>0,N?(O=un(O),O&&(typeof A=="string"||A!=null&&!fx(A))&&(A=za(A),!A&&Lc(O))?zs(ia(O),0,N):O.split(A,N)):[]}var lQ=ef(function(O,A,N){return O+(N?" ":"")+vx(A)});function cQ(O,A,N){return O=un(O),N=N==null?0:bu(mr(N),0,O.length),A=za(A),O.slice(N,N+A.length)==A}function fQ(O,A,N){var q=ne.templateSettings;N&&sa(O,A,N)&&(A=r),O=un(O),A=iw({},A,q,xn);var $=iw({},A.imports,q.imports,xn),oe=Xi($),ye=Sl($,oe),we,Ce,Fe=0,Ve=A.interpolate||Cr,Xe="__p += '",dt=Ps((A.escape||Cr).source+"|"+Ve.source+"|"+(Ve===rt?pn:Cr).source+"|"+(A.evaluate||Cr).source+"|$","g"),Et="//# sourceURL="+(yr.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Uh+"]")+`
`;O.replace(dt,function(Wt,Rr,Ur,Ho,qa,Yo){return Ur||(Ur=Ho),Xe+=O.slice(Fe,Yo).replace(zi,Fv),Rr&&(we=!0,Xe+=`' +
__e(`+Rr+`) +
'`),qa&&(Ce=!0,Xe+=`';
`+qa+`;
__p += '`),Ur&&(Xe+=`' +
((__t = (`+Ur+`)) == null ? '' : __t) +
'`),Fe=Yo+Wt.length,Wt}),Xe+=`';
`;var Yt=yr.call(A,"variable")&&A.variable;if(!Yt)Xe=`with (obj) {
`+Xe+`
}
`;else if(vn.test(Yt))throw new Xt(u);Xe=(Ce?Xe.replace(at,""):Xe).replace(je,"$1").replace(ft,"$1;"),Xe="function("+(Yt||"obj")+`) {
`+(Yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(we?", __e = _.escape":"")+(Ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Xe+`return __p
}`;var wr=N3(function(){return Ar(oe,Et+"return "+Xe).apply(r,ye)});if(wr.source=Xe,cx(wr))throw wr;return wr}function hQ(O){return un(O).toLowerCase()}function dQ(O){return un(O).toUpperCase()}function vQ(O,A,N){if(O=un(O),O&&(N||A===r))return Hh(O);if(!O||!(A=za(A)))return O;var q=ia(O),$=ia(A),oe=Yh(q,$),ye=z_(q,$)+1;return zs(q,oe,ye).join("")}function pQ(O,A,N){if(O=un(O),O&&(N||A===r))return O.slice(0,qv(O)+1);if(!O||!(A=za(A)))return O;var q=ia(O),$=z_(q,ia(A))+1;return zs(q,0,$).join("")}function gQ(O,A,N){if(O=un(O),O&&(N||A===r))return O.replace(Bt,"");if(!O||!(A=za(A)))return O;var q=ia(O),$=Yh(q,ia(A));return zs(q,$).join("")}function yQ(O,A){var N=R,q=D;if(Kn(A)){var $="separator"in A?A.separator:$;N="length"in A?mr(A.length):N,q="omission"in A?za(A.omission):q}O=un(O);var oe=O.length;if(Lc(O)){var ye=ia(O);oe=ye.length}if(N>=oe)return O;var we=N-Rs(q);if(we<1)return q;var Ce=ye?zs(ye,0,we).join(""):O.slice(0,we);if($===r)return Ce+q;if(ye&&(we+=Ce.length-we),fx($)){if(O.slice(we).search($)){var Fe,Ve=Ce;for($.global||($=Ps($.source,un(bt.exec($))+"g")),$.lastIndex=0;Fe=$.exec(Ve);)var Xe=Fe.index;Ce=Ce.slice(0,Xe===r?we:Xe)}}else if(O.indexOf(za($),we)!=we){var dt=Ce.lastIndexOf($);dt>-1&&(Ce=Ce.slice(0,dt))}return Ce+q}function mQ(O){return O=un(O),O&&Mt.test(O)?O.replace(nt,jc):O}var bQ=ef(function(O,A,N){return O+(N?" ":"")+A.toUpperCase()}),vx=dd("toUpperCase");function I3(O,A,N){return O=un(O),A=N?r:A,A===r?q_(O)?Gv(O):Jr(O):O.match(A)||[]}var N3=dr(function(O,A){try{return Ue(O,r,A)}catch(N){return cx(N)?N:new Xt(N)}}),_Q=Su(function(O,A){return Tt(A,function(N){N=Ou(N),mu(O,N,sx(O[N],O))}),O});function wQ(O){var A=O==null?0:O.length,N=Nt();return O=A?Tn(O,function(q){if(typeof q[1]!="function")throw new Dn(o);return[N(q[0]),q[1]]}):[],dr(function(q){for(var $=-1;++$<A;){var oe=O[$];if(Ue(oe[0],this,q))return Ue(oe[1],this,q)}})}function EQ(O){return tp(Fa(O,f))}function px(O){return function(){return O}}function SQ(O,A){return O==null||O!==O?A:O}var OQ=so(),TQ=so(!0);function po(O){return O}function gx(O){return em(typeof O=="function"?O:Fa(O,f))}function xQ(O){return Qc(Fa(O,f))}function CQ(O,A){return lp(O,Fa(A,f))}var AQ=dr(function(O,A){return function(N){return Zc(N,O,A)}}),RQ=dr(function(O,A){return function(N){return Zc(O,N,A)}});function yx(O,A,N){var q=Xi(A),$=Kc(A,q);N==null&&!(Kn(A)&&($.length||!q.length))&&(N=A,A=O,O=this,$=Kc(A,Xi(A)));var oe=!(Kn(N)&&"chain"in N)||!!N.chain,ye=Nl(O);return Tt($,function(we){var Ce=A[we];O[we]=Ce,ye&&(O.prototype[we]=function(){var Fe=this.__chain__;if(oe||Fe){var Ve=O(this.__wrapped__),Xe=Ve.__actions__=Ii(this.__actions__);return Xe.push({func:Ce,args:arguments,thisArg:O}),Ve.__chain__=Fe,Ve}return Ce.apply(O,hi([this.value()],arguments))})}),O}function PQ(){return Xn._===this&&(Xn._=Uy),this}function mx(){}function DQ(O){return O=mr(O),dr(function(A){return ld(A,O)})}var MQ=Jt(Tn),IQ=Jt(Jn),NQ=Jt(As);function k3(O){return bm(O)?Nc(Ou(O)):wu(O)}function kQ(O){return function(A){return O==null?r:Zu(O,A)}}var LQ=Un(),jQ=Un(!0);function bx(){return[]}function _x(){return!1}function BQ(){return{}}function UQ(){return""}function FQ(){return!0}function zQ(O,A){if(O=mr(O),O<1||O>z)return[];var N=W,q=Zr(O,W);A=Nt(A),O-=W;for(var $=Bv(q,A);++N<O;)A(N);return $}function qQ(O){return sr(O)?Tn(O,Ou):Vo(O)?[O]:Ii(Tm(un(O)))}function GQ(O){var A=++V_;return un(O)+A}var VQ=Eu(function(O,A){return O+A},0),HQ=vd("ceil"),YQ=Eu(function(O,A){return O/A},1),WQ=vd("floor");function XQ(O){return O&&O.length?np(O,po,Us):r}function $Q(O,A){return O&&O.length?np(O,Nt(A,2),Us):r}function KQ(O){return B_(O,po)}function ZQ(O,A){return B_(O,Nt(A,2))}function QQ(O){return O&&O.length?np(O,po,ud):r}function JQ(O,A){return O&&O.length?np(O,Nt(A,2),ud):r}var eJ=Eu(function(O,A){return O*A},1),tJ=vd("round"),rJ=Eu(function(O,A){return O-A},0);function nJ(O){return O&&O.length?kc(O,po):0}function iJ(O,A){return O&&O.length?kc(O,Nt(A,2)):0}return ne.after=xK,ne.ary=h3,ne.assign=dZ,ne.assignIn=x3,ne.assignInWith=iw,ne.assignWith=vZ,ne.at=pZ,ne.before=d3,ne.bind=sx,ne.bindAll=_Q,ne.bindKey=v3,ne.castArray=BK,ne.chain=l3,ne.chunk=Da,ne.compact=xm,ne.concat=KT,ne.cond=wQ,ne.conforms=EQ,ne.constant=px,ne.countBy=nK,ne.create=gZ,ne.curry=p3,ne.curryRight=g3,ne.debounce=y3,ne.defaults=yZ,ne.defaultsDeep=mZ,ne.defer=CK,ne.delay=AK,ne.difference=ZT,ne.differenceBy=Cm,ne.differenceWith=Am,ne.drop=QT,ne.dropRight=JT,ne.dropRightWhile=ex,ne.dropWhile=Y1,ne.fill=tx,ne.filter=aK,ne.flatMap=sK,ne.flatMapDeep=lK,ne.flatMapDepth=cK,ne.flatten=Sp,ne.flattenDeep=Rm,ne.flattenDepth=rx,ne.flip=RK,ne.flow=OQ,ne.flowRight=TQ,ne.fromPairs=nx,ne.functions=TZ,ne.functionsIn=xZ,ne.groupBy=fK,ne.initial=ax,ne.intersection=ox,ne.intersectionBy=ux,ne.intersectionWith=x,ne.invert=AZ,ne.invertBy=RZ,ne.invokeMap=dK,ne.iteratee=gx,ne.keyBy=vK,ne.keys=Xi,ne.keysIn=vo,ne.map=Q1,ne.mapKeys=DZ,ne.mapValues=MZ,ne.matches=xQ,ne.matchesProperty=CQ,ne.memoize=ew,ne.merge=IZ,ne.mergeWith=C3,ne.method=AQ,ne.methodOf=RQ,ne.mixin=yx,ne.negate=tw,ne.nthArg=DQ,ne.omit=NZ,ne.omitBy=kZ,ne.once=PK,ne.orderBy=pK,ne.over=MQ,ne.overArgs=DK,ne.overEvery=IQ,ne.overSome=NQ,ne.partial=lx,ne.partialRight=m3,ne.partition=gK,ne.pick=LZ,ne.pickBy=A3,ne.property=k3,ne.propertyOf=kQ,ne.pull=se,ne.pullAll=me,ne.pullAllBy=Se,ne.pullAllWith=Re,ne.pullAt=qe,ne.range=LQ,ne.rangeRight=jQ,ne.rearg=MK,ne.reject=bK,ne.remove=Ge,ne.rest=IK,ne.reverse=Ke,ne.sampleSize=wK,ne.set=BZ,ne.setWith=UZ,ne.shuffle=EK,ne.slice=pt,ne.sortBy=TK,ne.sortedUniq=er,ne.sortedUniqBy=Kt,ne.split=sQ,ne.spread=NK,ne.tail=zr,ne.take=xt,ne.takeRight=Ft,ne.takeRightWhile=di,ne.takeWhile=$n,ne.tap=X$,ne.throttle=kK,ne.thru=Z1,ne.toArray=S3,ne.toPairs=R3,ne.toPairsIn=P3,ne.toPath=qQ,ne.toPlainObject=T3,ne.transform=FZ,ne.unary=LK,ne.union=la,ne.unionBy=_n,ne.unionWith=Wi,ne.uniq=Tu,ne.uniqBy=Vs,ne.uniqWith=Il,ne.unset=zZ,ne.unzip=Go,ne.unzipWith=Pm,ne.update=qZ,ne.updateWith=GZ,ne.values=Pp,ne.valuesIn=VZ,ne.without=$1,ne.words=I3,ne.wrap=jK,ne.xor=Op,ne.xorBy=Dm,ne.xorWith=Tp,ne.zip=xp,ne.zipObject=K1,ne.zipObjectDeep=Cp,ne.zipWith=Ap,ne.entries=R3,ne.entriesIn=P3,ne.extend=x3,ne.extendWith=iw,yx(ne,ne),ne.add=VQ,ne.attempt=N3,ne.camelCase=XZ,ne.capitalize=D3,ne.ceil=HQ,ne.clamp=HZ,ne.clone=UK,ne.cloneDeep=zK,ne.cloneDeepWith=qK,ne.cloneWith=FK,ne.conformsTo=GK,ne.deburr=M3,ne.defaultTo=SQ,ne.divide=YQ,ne.endsWith=$Z,ne.eq=as,ne.escape=KZ,ne.escapeRegExp=ZZ,ne.every=iK,ne.find=oK,ne.findIndex=W1,ne.findKey=bZ,ne.findLast=uK,ne.findLastIndex=Ep,ne.findLastKey=_Z,ne.floor=WQ,ne.forEach=c3,ne.forEachRight=f3,ne.forIn=wZ,ne.forInRight=EZ,ne.forOwn=SZ,ne.forOwnRight=OZ,ne.get=hx,ne.gt=VK,ne.gte=HK,ne.has=CZ,ne.hasIn=dx,ne.head=X1,ne.identity=po,ne.includes=hK,ne.indexOf=ix,ne.inRange=YZ,ne.invoke=PZ,ne.isArguments=bd,ne.isArray=sr,ne.isArrayBuffer=YK,ne.isArrayLike=ho,ne.isArrayLikeObject=vi,ne.isBoolean=WK,ne.isBuffer=af,ne.isDate=XK,ne.isElement=$K,ne.isEmpty=KK,ne.isEqual=ZK,ne.isEqualWith=QK,ne.isError=cx,ne.isFinite=JK,ne.isFunction=Nl,ne.isInteger=b3,ne.isLength=rw,ne.isMap=_3,ne.isMatch=eZ,ne.isMatchWith=tZ,ne.isNaN=rZ,ne.isNative=nZ,ne.isNil=aZ,ne.isNull=iZ,ne.isNumber=w3,ne.isObject=Kn,ne.isObjectLike=ii,ne.isPlainObject=Mm,ne.isRegExp=fx,ne.isSafeInteger=oZ,ne.isSet=E3,ne.isString=nw,ne.isSymbol=Vo,ne.isTypedArray=Rp,ne.isUndefined=uZ,ne.isWeakMap=sZ,ne.isWeakSet=lZ,ne.join=P,ne.kebabCase=QZ,ne.last=L,ne.lastIndexOf=V,ne.lowerCase=JZ,ne.lowerFirst=eQ,ne.lt=cZ,ne.lte=fZ,ne.max=XQ,ne.maxBy=$Q,ne.mean=KQ,ne.meanBy=ZQ,ne.min=QQ,ne.minBy=JQ,ne.stubArray=bx,ne.stubFalse=_x,ne.stubObject=BQ,ne.stubString=UQ,ne.stubTrue=FQ,ne.multiply=eJ,ne.nth=K,ne.noConflict=PQ,ne.noop=mx,ne.now=J1,ne.pad=tQ,ne.padEnd=rQ,ne.padStart=nQ,ne.parseInt=iQ,ne.random=WZ,ne.reduce=yK,ne.reduceRight=mK,ne.repeat=aQ,ne.replace=oQ,ne.result=jZ,ne.round=tJ,ne.runInContext=xe,ne.sample=_K,ne.size=SK,ne.snakeCase=uQ,ne.some=OK,ne.sortedIndex=_t,ne.sortedIndexBy=kt,ne.sortedIndexOf=Ye,ne.sortedLastIndex=et,ne.sortedLastIndexBy=Pt,ne.sortedLastIndexOf=ct,ne.startCase=lQ,ne.startsWith=cQ,ne.subtract=rJ,ne.sum=nJ,ne.sumBy=iJ,ne.template=fQ,ne.times=zQ,ne.toFinite=kl,ne.toInteger=mr,ne.toLength=O3,ne.toLower=hQ,ne.toNumber=xu,ne.toSafeInteger=hZ,ne.toString=un,ne.toUpper=dQ,ne.trim=vQ,ne.trimEnd=pQ,ne.trimStart=gQ,ne.truncate=yQ,ne.unescape=mQ,ne.uniqueId=GQ,ne.upperCase=bQ,ne.upperFirst=vx,ne.each=c3,ne.eachRight=f3,ne.first=X1,yx(ne,function(){var O={};return Uo(ne,function(A,N){yr.call(ne.prototype,N)||(O[N]=A)}),O}(),{chain:!1}),ne.VERSION=n,Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(O){ne[O].placeholder=ne}),Tt(["drop","take"],function(O,A){Tr.prototype[O]=function(N){N=N===r?1:ni(mr(N),0);var q=this.__filtered__&&!A?new Tr(this):this.clone();return q.__filtered__?q.__takeCount__=Zr(N,q.__takeCount__):q.__views__.push({size:Zr(N,W),type:O+(q.__dir__<0?"Right":"")}),q},Tr.prototype[O+"Right"]=function(N){return this.reverse()[O](N).reverse()}}),Tt(["filter","map","takeWhile"],function(O,A){var N=A+1,q=N==k||N==F;Tr.prototype[O]=function($){var oe=this.clone();return oe.__iteratees__.push({iteratee:Nt($,3),type:N}),oe.__filtered__=oe.__filtered__||q,oe}}),Tt(["head","last"],function(O,A){var N="take"+(A?"Right":"");Tr.prototype[O]=function(){return this[N](1).value()[0]}}),Tt(["initial","tail"],function(O,A){var N="drop"+(A?"":"Right");Tr.prototype[O]=function(){return this.__filtered__?new Tr(this):this[N](1)}}),Tr.prototype.compact=function(){return this.filter(po)},Tr.prototype.find=function(O){return this.filter(O).head()},Tr.prototype.findLast=function(O){return this.reverse().find(O)},Tr.prototype.invokeMap=dr(function(O,A){return typeof O=="function"?new Tr(this):this.map(function(N){return Zc(N,O,A)})}),Tr.prototype.reject=function(O){return this.filter(tw(Nt(O)))},Tr.prototype.slice=function(O,A){O=mr(O);var N=this;return N.__filtered__&&(O>0||A<0)?new Tr(N):(O<0?N=N.takeRight(-O):O&&(N=N.drop(O)),A!==r&&(A=mr(A),N=A<0?N.dropRight(-A):N.take(A-O)),N)},Tr.prototype.takeRightWhile=function(O){return this.reverse().takeWhile(O).reverse()},Tr.prototype.toArray=function(){return this.take(W)},Uo(Tr.prototype,function(O,A){var N=/^(?:filter|find|map|reject)|While$/.test(A),q=/^(?:head|last)$/.test(A),$=ne[q?"take"+(A=="last"?"Right":""):A],oe=q||/^find/.test(A);$&&(ne.prototype[A]=function(){var ye=this.__wrapped__,we=q?[1]:arguments,Ce=ye instanceof Tr,Fe=we[0],Ve=Ce||sr(ye),Xe=function(Rr){var Ur=$.apply(ne,hi([Rr],we));return q&&dt?Ur[0]:Ur};Ve&&N&&typeof Fe=="function"&&Fe.length!=1&&(Ce=Ve=!1);var dt=this.__chain__,Et=!!this.__actions__.length,Yt=oe&&!dt,wr=Ce&&!Et;if(!oe&&Ve){ye=wr?ye:new Tr(this);var Wt=O.apply(ye,we);return Wt.__actions__.push({func:Z1,args:[Xe],thisArg:r}),new Ut(Wt,dt)}return Yt&&wr?O.apply(this,we):(Wt=this.thru(Xe),Yt?q?Wt.value()[0]:Wt.value():Wt)})}),Tt(["pop","push","shift","sort","splice","unshift"],function(O){var A=gr[O],N=/^(?:push|sort|unshift)$/.test(O)?"tap":"thru",q=/^(?:pop|shift)$/.test(O);ne.prototype[O]=function(){var $=arguments;if(q&&!this.__chain__){var oe=this.value();return A.apply(sr(oe)?oe:[],$)}return this[N](function(ye){return A.apply(sr(ye)?ye:[],$)})}}),Uo(Tr.prototype,function(O,A){var N=ne[A];if(N){var q=N.name+"";yr.call(Ns,q)||(Ns[q]=[]),Ns[q].push({name:A,func:N})}}),Ns[gp(r,p).name]=[{name:"wrapper",func:r}],Tr.prototype.clone=NT,Tr.prototype.reverse=ed,Tr.prototype.value=Z_,ne.prototype.at=$$,ne.prototype.chain=K$,ne.prototype.commit=Z$,ne.prototype.next=Q$,ne.prototype.plant=eK,ne.prototype.reverse=tK,ne.prototype.toJSON=ne.prototype.valueOf=ne.prototype.value=rK,ne.prototype.first=ne.prototype.head,Ku&&(ne.prototype[Ku]=J$),ne},Uc=Bc();Vi?((Vi.exports=Uc)._=Uc,Mc._=Uc):Xn._=Uc}).call(qr)})(US,US.exports);var lr=US.exports,Jfe=QO;function QO(){var t={};t._next=t._prev=t,this._sentinel=t}QO.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return FY(e),e};QO.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&FY(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};QO.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,ehe)),r=r._prev;return"["+t.join(", ")+"]"};function FY(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function ehe(t,e){if(t!=="_next"&&t!=="_prev")return e}var tc=lr,the=Wu.Graph,rhe=Jfe,nhe=ahe,ihe=tc.constant(1);function ahe(t,e){if(t.nodeCount()<=1)return[];var r=uhe(t,e||ihe),n=ohe(r.graph,r.buckets,r.zeroIdx);return tc.flatten(tc.map(n,function(i){return t.outEdges(i.v,i.w)}),!0)}function ohe(t,e,r){for(var n=[],i=e[e.length-1],a=e[0],o;t.nodeCount();){for(;o=a.dequeue();)fD(t,e,r,o);for(;o=i.dequeue();)fD(t,e,r,o);if(t.nodeCount()){for(var u=e.length-2;u>0;--u)if(o=e[u].dequeue(),o){n=n.concat(fD(t,e,r,o,!0));break}}}return n}function fD(t,e,r,n,i){var a=i?[]:void 0;return tc.forEach(t.inEdges(n.v),function(o){var u=t.edge(o),s=t.node(o.v);i&&a.push({v:o.v,w:o.w}),s.out-=u,TI(e,r,s)}),tc.forEach(t.outEdges(n.v),function(o){var u=t.edge(o),s=o.w,l=t.node(s);l.in-=u,TI(e,r,l)}),t.removeNode(n.v),a}function uhe(t,e){var r=new the,n=0,i=0;tc.forEach(t.nodes(),function(u){r.setNode(u,{v:u,in:0,out:0})}),tc.forEach(t.edges(),function(u){var s=r.edge(u.v,u.w)||0,l=e(u),c=s+l;r.setEdge(u.v,u.w,c),i=Math.max(i,r.node(u.v).out+=l),n=Math.max(n,r.node(u.w).in+=l)});var a=tc.range(i+n+3).map(function(){return new rhe}),o=n+1;return tc.forEach(r.nodes(),function(u){TI(a,o,r.node(u))}),{graph:r,buckets:a,zeroIdx:o}}function TI(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}var Bd=lr,she=nhe,lhe={run:che,undo:hhe};function che(t){var e=t.graph().acyclicer==="greedy"?she(t,r(t)):fhe(t);Bd.forEach(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,Bd.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function fhe(t){var e=[],r={},n={};function i(a){Bd.has(n,a)||(n[a]=!0,r[a]=!0,Bd.forEach(t.outEdges(a),function(o){Bd.has(r,o.w)?e.push(o):i(o.w)}),delete r[a])}return Bd.forEach(t.nodes(),i),e}function hhe(t){Bd.forEach(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}var tn=lr,zY=Wu.Graph,Co={addDummyNode:qY,simplify:dhe,asNonCompoundGraph:vhe,successorWeights:phe,predecessorWeights:ghe,intersectRect:yhe,buildLayerMatrix:mhe,normalizeRanks:bhe,removeEmptyRanks:_he,addBorderNode:whe,maxRank:GY,partition:Ehe,time:She,notime:Ohe};function qY(t,e,r,n){var i;do i=tn.uniqueId(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function dhe(t){var e=new zY().setGraph(t.graph());return tn.forEach(t.nodes(),function(r){e.setNode(r,t.node(r))}),tn.forEach(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function vhe(t){var e=new zY({multigraph:t.isMultigraph()}).setGraph(t.graph());return tn.forEach(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),tn.forEach(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function phe(t){var e=tn.map(t.nodes(),function(r){var n={};return tn.forEach(t.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+t.edge(i).weight}),n});return tn.zipObject(t.nodes(),e)}function ghe(t){var e=tn.map(t.nodes(),function(r){var n={};return tn.forEach(t.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+t.edge(i).weight}),n});return tn.zipObject(t.nodes(),e)}function yhe(t,e){var r=t.x,n=t.y,i=e.x-r,a=e.y-n,o=t.width/2,u=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var s,l;return Math.abs(a)*o>Math.abs(i)*u?(a<0&&(u=-u),s=u*i/a,l=u):(i<0&&(o=-o),s=o,l=o*a/i),{x:r+s,y:n+l}}function mhe(t){var e=tn.map(tn.range(GY(t)+1),function(){return[]});return tn.forEach(t.nodes(),function(r){var n=t.node(r),i=n.rank;tn.isUndefined(i)||(e[i][n.order]=r)}),e}function bhe(t){var e=tn.min(tn.map(t.nodes(),function(r){return t.node(r).rank}));tn.forEach(t.nodes(),function(r){var n=t.node(r);tn.has(n,"rank")&&(n.rank-=e)})}function _he(t){var e=tn.min(tn.map(t.nodes(),function(a){return t.node(a).rank})),r=[];tn.forEach(t.nodes(),function(a){var o=t.node(a).rank-e;r[o]||(r[o]=[]),r[o].push(a)});var n=0,i=t.graph().nodeRankFactor;tn.forEach(r,function(a,o){tn.isUndefined(a)&&o%i!==0?--n:n&&tn.forEach(a,function(u){t.node(u).rank+=n})})}function whe(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),qY(t,"border",i,e)}function GY(t){return tn.max(tn.map(t.nodes(),function(e){var r=t.node(e).rank;if(!tn.isUndefined(r))return r}))}function Ehe(t,e){var r={lhs:[],rhs:[]};return tn.forEach(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function She(t,e){var r=tn.now();try{return e()}finally{console.log(t+" time: "+(tn.now()-r)+"ms")}}function Ohe(t,e){return e()}var VY=lr,The=Co,xhe={run:Che,undo:Rhe};function Che(t){t.graph().dummyChains=[],VY.forEach(t.edges(),function(e){Ahe(t,e)})}function Ahe(t,e){var r=e.v,n=t.node(r).rank,i=e.w,a=t.node(i).rank,o=e.name,u=t.edge(e),s=u.labelRank;if(a!==n+1){t.removeEdge(e);var l,c,f;for(f=0,++n;n<a;++f,++n)u.points=[],c={width:0,height:0,edgeLabel:u,edgeObj:e,rank:n},l=The.addDummyNode(t,"edge",c,"_d"),n===s&&(c.width=u.width,c.height=u.height,c.dummy="edge-label",c.labelpos=u.labelpos),t.setEdge(r,l,{weight:u.weight},o),f===0&&t.graph().dummyChains.push(l),r=l;t.setEdge(r,i,{weight:u.weight},o)}}function Rhe(t){VY.forEach(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}var kw=lr,JO={longestPath:Phe,slack:Dhe};function Phe(t){var e={};function r(n){var i=t.node(n);if(kw.has(e,n))return i.rank;e[n]=!0;var a=kw.min(kw.map(t.outEdges(n),function(o){return r(o.w)-t.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}kw.forEach(t.sources(),r)}function Dhe(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var FS=lr,Mhe=Wu.Graph,zS=JO.slack,HY=Ihe;function Ihe(t){var e=new Mhe({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,a;Nhe(e,t)<n;)i=khe(e,t),a=e.hasNode(i.v)?zS(t,i):-zS(t,i),Lhe(e,t,a);return e}function Nhe(t,e){function r(n){FS.forEach(e.nodeEdges(n),function(i){var a=i.v,o=n===a?i.w:a;!t.hasNode(o)&&!zS(e,i)&&(t.setNode(o,{}),t.setEdge(n,o,{}),r(o))})}return FS.forEach(t.nodes(),r),t.nodeCount()}function khe(t,e){return FS.minBy(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return zS(e,r)})}function Lhe(t,e,r){FS.forEach(t.nodes(),function(n){e.node(n).rank+=r})}var mc=lr,jhe=HY,Bhe=JO.slack,Uhe=JO.longestPath,Fhe=Wu.alg.preorder,zhe=Wu.alg.postorder,qhe=Co.simplify,Ghe=Sv;Sv.initLowLimValues=gL;Sv.initCutValues=pL;Sv.calcCutValue=YY;Sv.leaveEdge=XY;Sv.enterEdge=$Y;Sv.exchangeEdges=KY;function Sv(t){t=qhe(t),Uhe(t);var e=jhe(t);gL(e),pL(e,t);for(var r,n;r=XY(e);)n=$Y(e,t,r),KY(e,t,r,n)}function pL(t,e){var r=zhe(t,t.nodes());r=r.slice(0,r.length-1),mc.forEach(r,function(n){Vhe(t,e,n)})}function Vhe(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=YY(t,e,r)}function YY(t,e,r){var n=t.node(r),i=n.parent,a=!0,o=e.edge(r,i),u=0;return o||(a=!1,o=e.edge(i,r)),u=o.weight,mc.forEach(e.nodeEdges(r),function(s){var l=s.v===r,c=l?s.w:s.v;if(c!==i){var f=l===a,h=e.edge(s).weight;if(u+=f?h:-h,Yhe(t,r,c)){var d=t.edge(r,c).cutvalue;u+=f?-d:d}}}),u}function gL(t,e){arguments.length<2&&(e=t.nodes()[0]),WY(t,{},1,e)}function WY(t,e,r,n,i){var a=r,o=t.node(n);return e[n]=!0,mc.forEach(t.neighbors(n),function(u){mc.has(e,u)||(r=WY(t,e,r,u,n))}),o.low=a,o.lim=r++,i?o.parent=i:delete o.parent,r}function XY(t){return mc.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function $Y(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var a=t.node(n),o=t.node(i),u=a,s=!1;a.lim>o.lim&&(u=o,s=!0);var l=mc.filter(e.edges(),function(c){return s===x8(t,t.node(c.v),u)&&s!==x8(t,t.node(c.w),u)});return mc.minBy(l,function(c){return Bhe(e,c)})}function KY(t,e,r,n){var i=r.v,a=r.w;t.removeEdge(i,a),t.setEdge(n.v,n.w,{}),gL(t),pL(t,e),Hhe(t,e)}function Hhe(t,e){var r=mc.find(t.nodes(),function(i){return!e.node(i).parent}),n=Fhe(t,r);n=n.slice(1),mc.forEach(n,function(i){var a=t.node(i).parent,o=e.edge(i,a),u=!1;o||(o=e.edge(a,i),u=!0),e.node(i).rank=e.node(a).rank+(u?o.minlen:-o.minlen)})}function Yhe(t,e,r){return t.hasEdge(e,r)}function x8(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}var Whe=JO,ZY=Whe.longestPath,Xhe=HY,$he=Ghe,Khe=Zhe;function Zhe(t){switch(t.graph().ranker){case"network-simplex":C8(t);break;case"tight-tree":Jhe(t);break;case"longest-path":Qhe(t);break;default:C8(t)}}var Qhe=ZY;function Jhe(t){ZY(t),Xhe(t)}function C8(t){$he(t)}var xI=lr,ede=tde;function tde(t){var e=nde(t);xI.forEach(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,a=rde(t,e,i.v,i.w),o=a.path,u=a.lca,s=0,l=o[s],c=!0;r!==i.w;){if(n=t.node(r),c){for(;(l=o[s])!==u&&t.node(l).maxRank<n.rank;)s++;l===u&&(c=!1)}if(!c){for(;s<o.length-1&&t.node(l=o[s+1]).minRank<=n.rank;)s++;l=o[s]}t.setParent(r,l),r=t.successors(r)[0]}})}function rde(t,e,r,n){var i=[],a=[],o=Math.min(e[r].low,e[n].low),u=Math.max(e[r].lim,e[n].lim),s,l;s=r;do s=t.parent(s),i.push(s);while(s&&(e[s].low>o||u>e[s].lim));for(l=s,s=n;(s=t.parent(s))!==l;)a.push(s);return{path:i.concat(a.reverse()),lca:l}}function nde(t){var e={},r=0;function n(i){var a=r;xI.forEach(t.children(i),n),e[i]={low:a,lim:r++}}return xI.forEach(t.children(),n),e}var rc=lr,CI=Co,ide={run:ade,cleanup:sde};function ade(t){var e=CI.addDummyNode(t,"root",{},"_root"),r=ode(t),n=rc.max(rc.values(r))-1,i=2*n+1;t.graph().nestingRoot=e,rc.forEach(t.edges(),function(o){t.edge(o).minlen*=i});var a=ude(t)+1;rc.forEach(t.children(),function(o){QY(t,e,i,a,n,r,o)}),t.graph().nodeRankFactor=i}function QY(t,e,r,n,i,a,o){var u=t.children(o);if(!u.length){o!==e&&t.setEdge(e,o,{weight:0,minlen:r});return}var s=CI.addBorderNode(t,"_bt"),l=CI.addBorderNode(t,"_bb"),c=t.node(o);t.setParent(s,o),c.borderTop=s,t.setParent(l,o),c.borderBottom=l,rc.forEach(u,function(f){QY(t,e,r,n,i,a,f);var h=t.node(f),d=h.borderTop?h.borderTop:f,v=h.borderBottom?h.borderBottom:f,y=h.borderTop?n:2*n,b=d!==v?1:i-a[o]+1;t.setEdge(s,d,{weight:y,minlen:b,nestingEdge:!0}),t.setEdge(v,l,{weight:y,minlen:b,nestingEdge:!0})}),t.parent(o)||t.setEdge(e,s,{weight:0,minlen:i+a[o]})}function ode(t){var e={};function r(n,i){var a=t.children(n);a&&a.length&&rc.forEach(a,function(o){r(o,i+1)}),e[n]=i}return rc.forEach(t.children(),function(n){r(n,1)}),e}function ude(t){return rc.reduce(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function sde(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,rc.forEach(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}var hD=lr,lde=Co,cde=fde;function fde(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&hD.forEach(n,e),hD.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)A8(t,"borderLeft","_bl",r,i,a),A8(t,"borderRight","_br",r,i,a)}}hD.forEach(t.children(),e)}function A8(t,e,r,n,i,a){var o={width:0,height:0,rank:a,borderType:e},u=i[e][a-1],s=lde.addDummyNode(t,"border",o,r);i[e][a]=s,t.setParent(s,n),u&&t.setEdge(u,s,{weight:1})}var ol=lr,hde={adjust:dde,undo:vde};function dde(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&JY(t)}function vde(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&pde(t),(e==="lr"||e==="rl")&&(gde(t),JY(t))}function JY(t){ol.forEach(t.nodes(),function(e){R8(t.node(e))}),ol.forEach(t.edges(),function(e){R8(t.edge(e))})}function R8(t){var e=t.width;t.width=t.height,t.height=e}function pde(t){ol.forEach(t.nodes(),function(e){dD(t.node(e))}),ol.forEach(t.edges(),function(e){var r=t.edge(e);ol.forEach(r.points,dD),ol.has(r,"y")&&dD(r)})}function dD(t){t.y=-t.y}function gde(t){ol.forEach(t.nodes(),function(e){vD(t.node(e))}),ol.forEach(t.edges(),function(e){var r=t.edge(e);ol.forEach(r.points,vD),ol.has(r,"x")&&vD(r)})}function vD(t){var e=t.x;t.x=t.y,t.y=e}var ql=lr,yde=mde;function mde(t){var e={},r=ql.filter(t.nodes(),function(u){return!t.children(u).length}),n=ql.max(ql.map(r,function(u){return t.node(u).rank})),i=ql.map(ql.range(n+1),function(){return[]});function a(u){if(!ql.has(e,u)){e[u]=!0;var s=t.node(u);i[s.rank].push(u),ql.forEach(t.successors(u),a)}}var o=ql.sortBy(r,function(u){return t.node(u).rank});return ql.forEach(o,a),i}var lf=lr,bde=_de;function _de(t,e){for(var r=0,n=1;n<e.length;++n)r+=wde(t,e[n-1],e[n]);return r}function wde(t,e,r){for(var n=lf.zipObject(r,lf.map(r,function(l,c){return c})),i=lf.flatten(lf.map(e,function(l){return lf.sortBy(lf.map(t.outEdges(l),function(c){return{pos:n[c.w],weight:t.edge(c).weight}}),"pos")}),!0),a=1;a<r.length;)a<<=1;var o=2*a-1;a-=1;var u=lf.map(new Array(o),function(){return 0}),s=0;return lf.forEach(i.forEach(function(l){var c=l.pos+a;u[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=u[c+1]),c=c-1>>1,u[c]+=l.weight;s+=l.weight*f})),s}var P8=lr,Ede=Sde;function Sde(t,e){return P8.map(e,function(r){var n=t.inEdges(r);if(n.length){var i=P8.reduce(n,function(a,o){var u=t.edge(o),s=t.node(o.v);return{sum:a.sum+u.weight*s.order,weight:a.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var Qo=lr,Ode=Tde;function Tde(t,e){var r={};Qo.forEach(t,function(i,a){var o=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Qo.isUndefined(i.barycenter)||(o.barycenter=i.barycenter,o.weight=i.weight)}),Qo.forEach(e.edges(),function(i){var a=r[i.v],o=r[i.w];!Qo.isUndefined(a)&&!Qo.isUndefined(o)&&(o.indegree++,a.out.push(r[i.w]))});var n=Qo.filter(r,function(i){return!i.indegree});return xde(n)}function xde(t){var e=[];function r(a){return function(o){o.merged||(Qo.isUndefined(o.barycenter)||Qo.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&Cde(a,o)}}function n(a){return function(o){o.in.push(a),--o.indegree===0&&t.push(o)}}for(;t.length;){var i=t.pop();e.push(i),Qo.forEach(i.in.reverse(),r(i)),Qo.forEach(i.out,n(i))}return Qo.map(Qo.filter(e,function(a){return!a.merged}),function(a){return Qo.pick(a,["vs","i","barycenter","weight"])})}function Cde(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}var g0=lr,Ade=Co,Rde=Pde;function Pde(t,e){var r=Ade.partition(t,function(c){return g0.has(c,"barycenter")}),n=r.lhs,i=g0.sortBy(r.rhs,function(c){return-c.i}),a=[],o=0,u=0,s=0;n.sort(Dde(!!e)),s=D8(a,i,s),g0.forEach(n,function(c){s+=c.vs.length,a.push(c.vs),o+=c.barycenter*c.weight,u+=c.weight,s=D8(a,i,s)});var l={vs:g0.flatten(a,!0)};return u&&(l.barycenter=o/u,l.weight=u),l}function D8(t,e,r){for(var n;e.length&&(n=g0.last(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function Dde(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}var Rf=lr,Mde=Ede,Ide=Ode,Nde=Rde,kde=eW;function eW(t,e,r,n){var i=t.children(e),a=t.node(e),o=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,s={};o&&(i=Rf.filter(i,function(v){return v!==o&&v!==u}));var l=Mde(t,i);Rf.forEach(l,function(v){if(t.children(v.v).length){var y=eW(t,v.v,r,n);s[v.v]=y,Rf.has(y,"barycenter")&&jde(v,y)}});var c=Ide(l,r);Lde(c,s);var f=Nde(c,n);if(o&&(f.vs=Rf.flatten([o,f.vs,u],!0),t.predecessors(o).length)){var h=t.node(t.predecessors(o)[0]),d=t.node(t.predecessors(u)[0]);Rf.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+d.order)/(f.weight+2),f.weight+=2}return f}function Lde(t,e){Rf.forEach(t,function(r){r.vs=Rf.flatten(r.vs.map(function(n){return e[n]?e[n].vs:n}),!0)})}function jde(t,e){Rf.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var y0=lr,Bde=Wu.Graph,Ude=Fde;function Fde(t,e,r){var n=zde(t),i=new Bde({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return t.node(a)});return y0.forEach(t.nodes(),function(a){var o=t.node(a),u=t.parent(a);(o.rank===e||o.minRank<=e&&e<=o.maxRank)&&(i.setNode(a),i.setParent(a,u||n),y0.forEach(t[r](a),function(s){var l=s.v===a?s.w:s.v,c=i.edge(l,a),f=y0.isUndefined(c)?0:c.weight;i.setEdge(l,a,{weight:t.edge(s).weight+f})}),y0.has(o,"minRank")&&i.setNode(a,{borderLeft:o.borderLeft[e],borderRight:o.borderRight[e]}))}),i}function zde(t){for(var e;t.hasNode(e=y0.uniqueId("_root")););return e}var qde=lr,Gde=Vde;function Vde(t,e,r){var n={},i;qde.forEach(r,function(a){for(var o=t.parent(a),u,s;o;){if(u=t.parent(o),u?(s=n[u],n[u]=o):(s=i,i=o),s&&s!==o){e.setEdge(s,o);return}o=u}})}var eh=lr,Hde=yde,Yde=bde,Wde=kde,Xde=Ude,$de=Gde,Kde=Wu.Graph,M8=Co,Zde=Qde;function Qde(t){var e=M8.maxRank(t),r=I8(t,eh.range(1,e+1),"inEdges"),n=I8(t,eh.range(e-1,-1,-1),"outEdges"),i=Hde(t);N8(t,i);for(var a=Number.POSITIVE_INFINITY,o,u=0,s=0;s<4;++u,++s){Jde(u%2?r:n,u%4>=2),i=M8.buildLayerMatrix(t);var l=Yde(t,i);l<a&&(s=0,o=eh.cloneDeep(i),a=l)}N8(t,o)}function I8(t,e,r){return eh.map(e,function(n){return Xde(t,n,r)})}function Jde(t,e){var r=new Kde;eh.forEach(t,function(n){var i=n.graph().root,a=Wde(n,i,r,e);eh.forEach(a.vs,function(o,u){n.node(o).order=u}),$de(n,r,a.vs)})}function N8(t,e){eh.forEach(e,function(r){eh.forEach(r,function(n,i){t.node(n).order=i})})}var or=lr,eve=Wu.Graph,tve=Co,rve={positionX:dve};function nve(t,e){var r={};function n(i,a){var o=0,u=0,s=i.length,l=or.last(a);return or.forEach(a,function(c,f){var h=ave(t,c),d=h?t.node(h).order:s;(h||c===l)&&(or.forEach(a.slice(u,f+1),function(v){or.forEach(t.predecessors(v),function(y){var b=t.node(y),p=b.order;(p<o||d<p)&&!(b.dummy&&t.node(v).dummy)&&tW(r,y,v)})}),u=f+1,o=d)}),a}return or.reduce(e,n),r}function ive(t,e){var r={};if(t.nodeCount()>1e3)return r;function n(a,o,u,s,l){var c;or.forEach(or.range(o,u),function(f){c=a[f],t.node(c).dummy&&or.forEach(t.predecessors(c),function(h){var d=t.node(h);d.dummy&&(d.order<s||d.order>l)&&tW(r,h,c)})})}function i(a,o){var u=-1,s,l=0;return or.forEach(o,function(c,f){if(t.node(c).dummy==="border"){var h=t.predecessors(c);h.length&&(s=t.node(h[0]).order,n(o,l,f,u,s),l=f,u=s)}n(o,l,o.length,s,a.length)}),o}return or.reduce(e,i),r}function ave(t,e){if(t.node(e).dummy)return or.find(t.predecessors(e),function(r){return t.node(r).dummy})}function tW(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function ove(t,e,r){if(e>r){var n=e;e=r,r=n}return or.has(t[e],r)}function uve(t,e,r,n){var i={},a={},o={};return or.forEach(e,function(u){or.forEach(u,function(s,l){i[s]=s,a[s]=s,o[s]=l})}),or.forEach(e,function(u){var s=-1;or.forEach(u,function(l){var c=n(l);if(c.length){c=or.sortBy(c,function(y){return o[y]});for(var f=(c.length-1)/2,h=Math.floor(f),d=Math.ceil(f);h<=d;++h){var v=c[h];a[l]===l&&s<o[v]&&!ove(r,l,v)&&(a[v]=l,a[l]=i[l]=i[v],s=o[v])}}})}),{root:i,align:a}}function sve(t,e,r,n,i){var a={},o=lve(t,e,r,i),u=i?"borderLeft":"borderRight";function s(f,h){for(var d=o.nodes(),v=d.pop(),y={};v;)y[v]?f(v):(y[v]=!0,d.push(v),d=d.concat(h(v))),v=d.pop()}function l(f){a[f]=o.inEdges(f).reduce(function(h,d){return Math.max(h,a[d.v]+o.edge(d))},0)}function c(f){var h=o.outEdges(f).reduce(function(v,y){return Math.min(v,a[y.w]-o.edge(y))},Number.POSITIVE_INFINITY),d=t.node(f);h!==Number.POSITIVE_INFINITY&&d.borderType!==u&&(a[f]=Math.max(a[f],h))}return s(l,o.predecessors.bind(o)),s(c,o.successors.bind(o)),or.forEach(n,function(f){a[f]=a[r[f]]}),a}function lve(t,e,r,n){var i=new eve,a=t.graph(),o=vve(a.nodesep,a.edgesep,n);return or.forEach(e,function(u){var s;or.forEach(u,function(l){var c=r[l];if(i.setNode(c),s){var f=r[s],h=i.edge(f,c);i.setEdge(f,c,Math.max(o(t,l,s),h||0))}s=l})}),i}function cve(t,e){return or.minBy(or.values(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return or.forIn(r,function(a,o){var u=pve(t,o)/2;n=Math.max(a+u,n),i=Math.min(a-u,i)}),n-i})}function fve(t,e){var r=or.values(e),n=or.min(r),i=or.max(r);or.forEach(["u","d"],function(a){or.forEach(["l","r"],function(o){var u=a+o,s=t[u],l;if(s!==e){var c=or.values(s);l=o==="l"?n-or.min(c):i-or.max(c),l&&(t[u]=or.mapValues(s,function(f){return f+l}))}})})}function hve(t,e){return or.mapValues(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=or.sortBy(or.map(t,n));return(i[1]+i[2])/2})}function dve(t){var e=tve.buildLayerMatrix(t),r=or.merge(nve(t,e),ive(t,e)),n={},i;or.forEach(["u","d"],function(o){i=o==="u"?e:or.values(e).reverse(),or.forEach(["l","r"],function(u){u==="r"&&(i=or.map(i,function(f){return or.values(f).reverse()}));var s=(o==="u"?t.predecessors:t.successors).bind(t),l=uve(t,i,r,s),c=sve(t,i,l.root,l.align,u==="r");u==="r"&&(c=or.mapValues(c,function(f){return-f})),n[o+u]=c})});var a=cve(t,n);return fve(n,a),hve(n,t.graph().align)}function vve(t,e,r){return function(n,i,a){var o=n.node(i),u=n.node(a),s=0,l;if(s+=o.width/2,or.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":l=-o.width/2;break;case"r":l=o.width/2;break}if(l&&(s+=r?l:-l),l=0,s+=(o.dummy?e:t)/2,s+=(u.dummy?e:t)/2,s+=u.width/2,or.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":l=u.width/2;break;case"r":l=-u.width/2;break}return l&&(s+=r?l:-l),l=0,s}}function pve(t,e){return t.node(e).width}var m0=lr,rW=Co,gve=rve.positionX,yve=mve;function mve(t){t=rW.asNonCompoundGraph(t),bve(t),m0.forEach(gve(t),function(e,r){t.node(r).x=e})}function bve(t){var e=rW.buildLayerMatrix(t),r=t.graph().ranksep,n=0;m0.forEach(e,function(i){var a=m0.max(m0.map(i,function(o){return t.node(o).height}));m0.forEach(i,function(o){t.node(o).y=n+a/2}),n+=a+r})}var Or=lr,k8=lhe,L8=xhe,_ve=Khe,wve=Co.normalizeRanks,Eve=ede,Sve=Co.removeEmptyRanks,j8=ide,Ove=cde,B8=hde,Tve=Zde,xve=yve,yh=Co,Cve=Wu.Graph,Ave=Rve;function Rve(t,e){var r=e&&e.debugTiming?yh.time:yh.notime,n=r("layout",function(){return n=r("  buildLayoutGraph",function(){return Fve(t)}),r("  runLayout",function(){Pve(n,r)}),r("  updateInputGraph",function(){Dve(t,n)}),n});return n}function Pve(t,e){e("    makeSpaceForEdgeLabels",function(){zve(t)}),e("    removeSelfEdges",function(){Kve(t)}),e("    acyclic",function(){k8.run(t)}),e("    nestingGraph.run",function(){j8.run(t)}),e("    rank",function(){_ve(yh.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){qve(t)}),e("    removeEmptyRanks",function(){Sve(t)}),e("    nestingGraph.cleanup",function(){j8.cleanup(t)}),e("    normalizeRanks",function(){wve(t)}),e("    assignRankMinMax",function(){Gve(t)}),e("    removeEdgeLabelProxies",function(){Vve(t)}),e("    normalize.run",function(){L8.run(t)}),e("    parentDummyChains",function(){Eve(t)}),e("    addBorderSegments",function(){Ove(t)}),e("    order",function(){Tve(t)}),e("    insertSelfEdges",function(){Zve(t)}),e("    adjustCoordinateSystem",function(){B8.adjust(t)}),e("    position",function(){xve(t)}),e("    positionSelfEdges",function(){Qve(t)}),e("    removeBorderNodes",function(){$ve(t)}),e("    normalize.undo",function(){L8.undo(t)}),e("    fixupEdgeLabelCoords",function(){Wve(t)}),e("    undoCoordinateSystem",function(){B8.undo(t)}),e("    translateGraph",function(){Hve(t)}),e("    assignNodeIntersects",function(){Yve(t)}),e("    reversePoints",function(){Xve(t)}),e("    acyclic.undo",function(){k8.undo(t)})}function Dve(t,e){Or.forEach(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),Or.forEach(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,Or.has(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var Mve=["nodesep","edgesep","ranksep","marginx","marginy"],Ive={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Nve=["acyclicer","ranker","rankdir","align"],kve=["width","height"],Lve={width:0,height:0},jve=["minlen","weight","width","height","labeloffset"],Bve={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Uve=["labelpos"];function Fve(t){var e=new Cve({multigraph:!0,compound:!0}),r=gD(t.graph());return e.setGraph(Or.merge({},Ive,pD(r,Mve),Or.pick(r,Nve))),Or.forEach(t.nodes(),function(n){var i=gD(t.node(n));e.setNode(n,Or.defaults(pD(i,kve),Lve)),e.setParent(n,t.parent(n))}),Or.forEach(t.edges(),function(n){var i=gD(t.edge(n));e.setEdge(n,Or.merge({},Bve,pD(i,jve),Or.pick(i,Uve)))}),e}function zve(t){var e=t.graph();e.ranksep/=2,Or.forEach(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function qve(t){Or.forEach(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-n.rank)/2+n.rank,e};yh.addDummyNode(t,"edge-proxy",a,"_ep")}})}function Gve(t){var e=0;Or.forEach(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=Or.max(e,n.maxRank))}),t.graph().maxRank=e}function Vve(t){Or.forEach(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function Hve(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=t.graph(),o=a.marginx||0,u=a.marginy||0;function s(l){var c=l.x,f=l.y,h=l.width,d=l.height;e=Math.min(e,c-h/2),r=Math.max(r,c+h/2),n=Math.min(n,f-d/2),i=Math.max(i,f+d/2)}Or.forEach(t.nodes(),function(l){s(t.node(l))}),Or.forEach(t.edges(),function(l){var c=t.edge(l);Or.has(c,"x")&&s(c)}),e-=o,n-=u,Or.forEach(t.nodes(),function(l){var c=t.node(l);c.x-=e,c.y-=n}),Or.forEach(t.edges(),function(l){var c=t.edge(l);Or.forEach(c.points,function(f){f.x-=e,f.y-=n}),Or.has(c,"x")&&(c.x-=e),Or.has(c,"y")&&(c.y-=n)}),a.width=r-e+o,a.height=i-n+u}function Yve(t){Or.forEach(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),a,o;r.points?(a=r.points[0],o=r.points[r.points.length-1]):(r.points=[],a=i,o=n),r.points.unshift(yh.intersectRect(n,a)),r.points.push(yh.intersectRect(i,o))})}function Wve(t){Or.forEach(t.edges(),function(e){var r=t.edge(e);if(Or.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function Xve(t){Or.forEach(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function $ve(t){Or.forEach(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),a=t.node(Or.last(r.borderLeft)),o=t.node(Or.last(r.borderRight));r.width=Math.abs(o.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),Or.forEach(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Kve(t){Or.forEach(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Zve(t){var e=yh.buildLayerMatrix(t);Or.forEach(e,function(r){var n=0;Or.forEach(r,function(i,a){var o=t.node(i);o.order=a+n,Or.forEach(o.selfEdges,function(u){yh.addDummyNode(t,"selfedge",{width:u.label.width,height:u.label.height,rank:o.rank,order:a+ ++n,e:u.e,label:u.label},"_se")}),delete o.selfEdges})})}function Qve(t){Or.forEach(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,a=n.y,o=r.x-i,u=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*o/3,y:a-u},{x:i+5*o/6,y:a-u},{x:i+o,y:a},{x:i+5*o/6,y:a+u},{x:i+2*o/3,y:a+u}],r.label.x=r.x,r.label.y=r.y}})}function pD(t,e){return Or.mapValues(Or.pick(t,e),Number)}function gD(t){var e={};return Or.forEach(t,function(r,n){e[n.toLowerCase()]=r}),e}var Lw=lr,Jve=Co,epe=Wu.Graph,tpe={debugOrdering:rpe};function rpe(t){var e=Jve.buildLayerMatrix(t),r=new epe({compound:!0,multigraph:!0}).setGraph({});return Lw.forEach(t.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+t.node(n).rank)}),Lw.forEach(t.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),Lw.forEach(e,function(n,i){var a="layer"+i;r.setNode(a,{rank:"same"}),Lw.reduce(n,function(o,u){return r.setEdge(o,u,{style:"invis"}),u})}),r}var npe="0.8.14",ipe={graphlib:Wu,layout:Ave,debug:tpe,util:{time:Co.time,notime:Co.notime},version:npe};const nW=ly(ipe);var iW=function(){};iW.prototype={fit:function(t){var e,r,n,i=t.length,a,o=i>0?t[0].width:0,u=i>0?t[0].height:0;for(this.root={x:0,y:0,width:o,height:u},e=0;e<i;e++)n=t[e],(r=this.findNode(this.root,n.width,n.height))?(a=this.splitNode(r,n.width,n.height),n.x=a.x,n.y=a.y):(a=this.growNode(n.width,n.height),n.x=a.x,n.y=a.y)},findNode:function(t,e,r){return t.used?this.findNode(t.right,e,r)||this.findNode(t.down,e,r):e<=t.width&&r<=t.height?t:null},splitNode:function(t,e,r){return t.used=!0,t.down={x:t.x,y:t.y+r,width:t.width,height:t.height-r},t.right={x:t.x+e,y:t.y,width:t.width-e,height:r},t},growNode:function(t,e){var r=t<=this.root.width,n=e<=this.root.height,i=n&&this.root.height>=this.root.width+t,a=r&&this.root.width>=this.root.height+e;return i?this.growRight(t,e):a?this.growDown(t,e):n?this.growRight(t,e):r?this.growDown(t,e):null},growRight:function(t,e){this.root={used:!0,x:0,y:0,width:this.root.width+t,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:t,height:this.root.height}};var r;return(r=this.findNode(this.root,t,e))?this.splitNode(r,t,e):null},growDown:function(t,e){this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+e,down:{x:0,y:this.root.height,width:this.root.width,height:e},right:this.root};var r;return(r=this.findNode(this.root,t,e))?this.splitNode(r,t,e):null}};var ape=iW,ope=ape,upe=function(t,e){e=e||{};var r=new ope,n=e.inPlace||!1,i=t.map(function(s){return n?s:{width:s.width,height:s.height,item:s}});i=i.sort(function(s,l){return l.width*l.height-s.width*s.height}),r.fit(i);var a=i.reduce(function(s,l){return Math.max(s,l.x+l.width)},0),o=i.reduce(function(s,l){return Math.max(s,l.y+l.height)},0),u={width:a,height:o};return n||(u.items=i),u};const spe=ly(upe),lpe="tight-tree",Gl=100,aW="up",yL="down",cpe="left",oW="right",fpe={[aW]:"BT",[yL]:"TB",[cpe]:"RL",[oW]:"LR"},hpe="bin",dpe=25,vpe=1/.38,ppe=t=>t===aW||t===yL,gpe=t=>t===yL||t===oW,yD=t=>{let e=null,r=null,n=null,i=null,a=null,o=null,u=null,s=null;for(const l of t.nodes()){const c=t.node(l);(a===null||c.x<a)&&(a=c.x),(o===null||c.y<o)&&(o=c.y),(u===null||c.x>u)&&(u=c.x),(s===null||c.y>s)&&(s=c.y);const f=Math.ceil(c.width/2);(e===null||c.x-f<e)&&(e=c.x-f),(r===null||c.y-f<r)&&(r=c.y-f),(n===null||c.x+f>n)&&(n=c.x+f),(i===null||c.y+f>i)&&(i=c.y+f)}return{minX:e,minY:r,maxX:n,maxY:i,minCenterX:a,minCenterY:o,maxCenterX:u,maxCenterY:s,width:n-e,height:i-r,xOffset:a-e,yOffset:o-r}},uW=t=>{const e=new nW.graphlib.Graph;return e.setGraph({}),e.setDefaultEdgeLabel(()=>({})),e.graph().nodesep=75*t,e.graph().ranksep=75*t,e},U8=(t,e,r)=>{const{rank:n}=r.node(t);let i=null,a=null;for(const o of e){const{rank:u}=r.node(o);if(!(o===t||u>=n))if(u===n-1){i=u,a=o;break}else(i===null&&a===null||u>i)&&(i=u,a=o)}return a},ype=(t,e)=>{let r=U8(t,e.predecessors(t),e);return r===null&&(r=U8(t,e.successors(t),e)),r},mpe=(t,e)=>{const r=[],n=Qfe.alg.components(t);if(n.length>1)for(const i of n){const a=uW(e);for(const o of i){const u=t.node(o);a.setNode(o,{width:u.width,height:u.height});const s=t.outEdges(o);if(s)for(const l of s)a.setEdge(l.v,l.w)}r.push(a)}else r.push(t);return r},F8=(t,e,r)=>{t.graph().ranker=lpe,t.graph().rankdir=fpe[e];const n=nW.layout(t);for(const i of n.nodes()){const a=ype(i,n);a!==null&&(r[i]=a)}},mD=(t,e)=>Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),bpe=t=>{const e=[t[0]];let r={p1:t[0],p2:t[1]},n=mD(r.p1,r.p2);for(let i=2;i<t.length;i++){let a={p1:t[i-1],p2:t[i]},o=mD(a.p1,a.p2);const u={p1:r.p1,p2:a.p2},s=mD(u.p1,u.p2);o+n-s<.1&&(e.pop(),a=u,o=s),e.push(a.p1),r=a,n=o}return e.push(t[t.length-1]),e},_pe=(t,e,r,n,i,a,o=1)=>{const u=uW(o),s={},l={x:0,y:0},c=t.length;for(const g of t){const _=r[g.id];l.x+=(_==null?void 0:_.x)||0,l.y+=(_==null?void 0:_.y)||0;const E=(g.size||dpe)*vpe*o;u.setNode(g.id,{width:E,height:E})}const f=c?[l.x/c,l.y/c]:[0,0],h={};for(const g of n)if(e[g.from]&&e[g.to]&&g.from!==g.to){const _=g.from<g.to?`${g.from}-${g.to}`:`${g.to}-${g.from}`;h[_]||(h[_]=1,u.setEdge(g.from,g.to))}const d=mpe(u,o);if(d.length>1){d.forEach(w=>F8(w,i,s));const g=ppe(i),_=gpe(i),E=d.filter(w=>w.nodeCount()===1),T=d.filter(w=>w.nodeCount()!==1);if(a===hpe){T.sort((B,z)=>z.nodeCount()-B.nodeCount());const C=g?({width:B,height:z,...H})=>({...H,width:B+Gl,height:z+Gl}):({width:B,height:z,...H})=>({...H,width:z+Gl,height:B+Gl}),R=T.map(yD).map(C),D=E.map(yD).map(C),M=R.concat(D);spe(M,{inPlace:!0});const I=Math.floor(Gl/2),k=g?"x":"y",U=g?"y":"x";if(!_){const B=g?"y":"x",z=g?"height":"width",H=M.reduce((W,Z)=>W===null?Z[B]:Math.min(Z[B],W[z]||0),null),Y=M.reduce((W,Z)=>W===null?Z[B]+Z[z]:Math.max(Z[B]+Z[z],W[z]||0),null);M.forEach(W=>{W[B]=H+(Y-(W[B]+W[z]))})}const F=(B,z)=>{for(const H of B.nodes()){const Y=B.node(H),W=u.node(H);W.x=Y.x-z.xOffset+z[k]+I,W.y=Y.y-z.yOffset+z[U]+I}};for(let B=0;B<T.length;B++){const z=T[B],H=R[B];F(z,H)}for(let B=0;B<E.length;B++){const z=E[B],H=D[B];F(z,H)}}else{T.sort(_?(z,H)=>H.nodeCount()-z.nodeCount():(z,H)=>z.nodeCount()-H.nodeCount());const w=T.map(yD),S=E.reduce((z,H)=>z+u.node(H.nodes()[0]).width,0),C=E.reduce((z,H)=>Math.max(z,u.node(H.nodes()[0]).width),0),R=E.length>0?S+(E.length-1)*Gl:0,D=w.reduce((z,{width:H})=>Math.max(z,H),0),M=Math.max(D,R),I=w.reduce((z,{height:H})=>Math.max(z,H),0),k=Math.max(I,R);let U=0;const F=()=>{for(let z=0;z<T.length;z++){const H=T[z],Y=w[z],W=Math.floor(g?(M-Y.width)/2:(k-Y.height)/2);for(const Z of H.nodes()){const le=H.node(Z),ce=u.node(Z);g?(ce.x=le.x-Y.minX+W,ce.y=le.y-Y.minY+U):(ce.x=le.x-Y.minX+U,ce.y=le.y-Y.minY+W)}for(const Z of H.edges()){const le=H.edge(Z),ce=u.edge(Z);le.points&&le.points.length>3&&(ce.points=le.points.map(({x:ue,y:de})=>({x:ue-Y.minX+(g?W:U),y:de-Y.minY+(g?U:W)})))}U+=(g?Y.height:Y.width)+Gl}},B=()=>{const z=Math.floor(((g?M:k)-R)/2);U+=Math.floor(C/2);let H=z;for(const Y of E){const W=Y.nodes()[0],Z=u.node(W);g?(Z.x=H+Math.floor(Z.width/2),Z.y=U):(Z.x=U,Z.y=H+Math.floor(Z.width/2)),H+=Gl+Z.width}U=C+Gl};_?(F(),B()):(B(),F())}}else F8(u,i,s);l.x=0,l.y=0;const v={};for(const g of u.nodes()){const _=u.node(g);l.x+=_.x||0,l.y+=_.y||0,v[g]={x:_.x,y:_.y}}const y=c?[l.x/c,l.y/c]:[0,0],b=f[0]-y[0],p=f[1]-y[1];for(const g in v)v[g].x+=b,v[g].y+=p;const m={};for(const g of u.edges()){const _=u.edge(g);if(_.points&&_.points.length>3){const E=bpe(_.points);for(const T of E)T.x+=b,T.y+=p;m[`${g.v}-${g.w}`]={points:[...E],from:{x:v[g.v].x,y:v[g.v].y},to:{x:v[g.w].x,y:v[g.w].y}},m[`${g.w}-${g.v}`]={points:E.reverse(),from:{x:v[g.w].x,y:v[g.w].y},to:{x:v[g.v].x,y:v[g.v].y}}}}return{positions:v,parents:s,waypoints:m}};class wpe{start(){}postMessage(e){const{nodes:r,nodeIds:n,idToPosition:i,rels:a,direction:o,packing:u,pixelRatio:s,forcedDelay:l=0}=e,c=_pe(r,n,i,a,o,u,s);l?setTimeout(()=>{this.onmessage({data:c})},l):this.onmessage({data:c})}onmessage(){}close(){}}const Epe={port:new wpe},Spe=()=>new SharedWorker(new URL("/teste-neo4j-nvl/assets/HierarchicalLayout.worker-DVl9SQVB.js",import.meta.url),{type:"module",name:"HierarchicalLayout"}),Ope=Object.freeze(Object.defineProperty({__proto__:null,coseBilkentLayoutFallbackWorker:qse,createCoseBilkentLayoutWorker:Gse,createHierarchicalLayoutWorker:Spe,hierarchicalLayoutFallbackWorker:Epe},Symbol.toStringTag,{value:"Module"})),Tpe="modulepreload",xpe=function(t){return"/teste-neo4j-nvl/"+t},z8={},ds=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(s=>{if(s=xpe(s),s in z8)return;z8[s]=!0;const l=s.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":Tpe,l||(f.as="script"),f.crossOrigin="",f.href=s,u&&f.setAttribute("nonce",u),document.head.appendChild(f),l)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};var AI=function(t,e){return AI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},AI(t,e)};function Po(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");AI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Je=function(){return Je=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Je.apply(this,arguments)};function sW(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function St(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function u(c){try{l(n.next(c))}catch(f){o(f)}}function s(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(u,s)}l((n=n.apply(t,e||[])).next())})}function Ot(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(l){return function(c){return s([l,c])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ji(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function RI(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,a=t,o,u;n<i&&(u=""+e[n++],!(u==="__proto__"||u==="constructor"||u==="prototype"));)a=a[u]=n===i?r:typeof(o=a[u])==typeof e?o:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var Cpe=function(t,e){return Object.keys(t).filter(function(r){return e(r,t[r])}).reduce(function(r,n){return r[n]=t[n],r},{})},ov=function(t){Po(e,t);function e(r,n){var i=t.call(this,"".concat(r," ").concat(n))||this;return i.field=r,i}return e}(Error);function mh(t){return typeof t=="string"}function PI(t){return typeof t=="number"}function Ng(t){return typeof t=="function"}function Ape(t){return t!=null}function vs(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var mL="is not a string",bL="is not an object",Rpe="is nil";function Ppe(t){if(!Ape(t))throw new ov("Event",Rpe);if(typeof t!="object")throw new ov("Event",bL)}function Dpe(t){if(!mh(t.type))throw new ov(".type",mL)}function Mpe(t){if(!mh(t.event))throw new ov(".event",mL)}function Ipe(t){if(!vs(t.properties))throw new ov(".properties",bL)}function Npe(t){if(!vs(t.traits))throw new ov(".traits",bL)}function kpe(t){if(!mh(t.messageId))throw new ov(".messageId",mL)}function Lpe(t){Ppe(t),Dpe(t),kpe(t),t.type==="track"&&(Mpe(t),Ipe(t)),["group","identify"].includes(t.type)&&Npe(t)}var jpe=function(){function t(e){var r,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(r=e.onEventMethodCall)!==null&&r!==void 0?r:function(){},this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:function(){}}return t}(),Bpe=function(){function t(e){this.settings=new jpe(e)}return t.prototype.track=function(e,r,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(Je(Je({},this.baseEvent()),{event:e,type:"track",properties:r??{},options:Je({},n),integrations:Je({},i)}))},t.prototype.page=function(e,r,n,i,a){var o;this.settings.onEventMethodCall({type:"page",options:i});var u={type:"page",properties:Je({},n),options:Je({},i),integrations:Je({},a)};return e!==null&&(u.category=e,u.properties=(o=u.properties)!==null&&o!==void 0?o:{},u.properties.category=e),r!==null&&(u.name=r),this.normalize(Je(Je({},this.baseEvent()),u))},t.prototype.screen=function(e,r,n,i,a){this.settings.onEventMethodCall({type:"screen",options:i});var o={type:"screen",properties:Je({},n),options:Je({},i),integrations:Je({},a)};return e!==null&&(o.category=e),r!==null&&(o.name=r),this.normalize(Je(Je({},this.baseEvent()),o))},t.prototype.identify=function(e,r,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(Je(Je({},this.baseEvent()),{type:"identify",userId:e,traits:r??{},options:Je({},n),integrations:i}))},t.prototype.group=function(e,r,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(Je(Je({},this.baseEvent()),{type:"group",traits:r??{},options:Je({},n),integrations:Je({},i),groupId:e}))},t.prototype.alias=function(e,r,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var a={userId:e,type:"alias",options:Je({},n),integrations:Je({},i)};return r!==null&&(a.previousId=r),e===void 0?this.normalize(Je(Je({},a),this.baseEvent())):this.normalize(Je(Je({},this.baseEvent()),a))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var r,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),a=(r=e.context)!==null&&r!==void 0?r:{},o={};return i.forEach(function(u){u!=="context"&&(n.includes(u)?RI(o,u,e[u]):RI(a,u,e[u]))}),[a,o]},t.prototype.normalize=function(e){var r,n,i=Object.keys((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(h,d){var v,y;return Je(Je({},h),(v={},v[d]=!!(!((y=e.integrations)===null||y===void 0)&&y[d]),v))},{});e.options=Cpe(e.options||{},function(h,d){return d!==void 0});var a=Je(Je({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),o=e.options?this.context(e.options):[],u=o[0],s=o[1],l=e.options,c=sW(e,["options"]),f=Je(Je(Je(Je({timestamp:new Date},c),{context:u,integrations:a}),s),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),Lpe(f),f},t}();function Upe(t,e){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);t.then(function(a){return clearTimeout(i),r(a)}).catch(n)})}function Fpe(t){return new Promise(function(e){return setTimeout(e,t)})}function zpe(t,e,r){var n=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return Fpe(r).then(function(){return Upe(n(),1e3)}).catch(function(i){t==null||t.log("warn","Callback Error",{error:i}),t==null||t.stats.increment("callback_error")}).then(function(){return t})}var lW=function(){var t,e,r=!1,n=new Promise(function(i,a){t=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];r=!0,i.apply(void 0,o)},e=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];r=!0,a.apply(void 0,o)}});return{resolve:t,reject:e,promise:n,isSettled:function(){return r}}},_L=function(){function t(e){var r;this.callbacks={},this.warned=!1,this.maxListeners=(r=e==null?void 0:e.maxListeners)!==null&&r!==void 0?r:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,r){return this.callbacks[e]?(this.callbacks[e].push(r),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[r],this},t.prototype.once=function(e,r){var n=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];n.off(e,i),r.apply(n,a)};return this.on(e,i),this},t.prototype.off=function(e,r){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],a=i.filter(function(o){return o!==r});return this.callbacks[e]=a,this},t.prototype.emit=function(e){for(var r=this,n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return o.forEach(function(u){u.apply(r,i)}),this},t}();function qpe(t){var e=Math.random()+1,r=t.minTimeout,n=r===void 0?500:r,i=t.factor,a=i===void 0?2:i,o=t.attempt,u=t.maxTimeout,s=u===void 0?1/0:u;return Math.min(e*n*Math.pow(a,o),s)}var cW="onRemoveFromFuture",wL=function(t){Po(e,t);function e(r,n,i){var a=t.call(this)||this;return a.future=[],a.maxAttempts=r,a.queue=n,a.seen=i??{},a}return e.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.map(function(o){var u=r.updateAttempts(o);return u>r.maxAttempts||r.includes(o)?!1:(r.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,u){return r.getAttempts(o)-r.getAttempts(u)}),a},e.prototype.pushWithBackoff=function(r,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(r)===0)return this.push(r)[0];var a=this.updateAttempts(r);if(a>this.maxAttempts||this.includes(r))return!1;var o=qpe({attempt:a-1});return n>0&&o<n&&(o=n),setTimeout(function(){i.queue.push(r),i.future=i.future.filter(function(u){return u.id!==r.id}),i.emit(cW)},o),this.future.push(r),!0},e.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},e.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(_L),Ud=256,LE=[],jw;for(;Ud--;)LE[Ud]=(Ud+256).toString(16).substring(1);function EL(){var t=0,e,r="";if(!jw||Ud+16>256){for(jw=Array(t=256);t--;)jw[t]=256*Math.random()|0;t=Ud=0}for(;t<16;t++)e=jw[Ud+t],t==6?r+=LE[e&15|64]:t==8?r+=LE[e&63|128]:r+=LE[e],t&1&&t>1&&t<11&&(r+="-");return Ud++,r}var Gpe=function(){function t(){this._logs=[]}return t.prototype.log=function(e,r,n){var i=new Date;this._logs.push({level:e,message:r,time:i,extras:n})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(r,n){var i,a,o,u=Je(Je({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete u.time;var s=(o=(a=n.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return r[s]&&(s="".concat(s,"-").concat(Math.random())),Je(Je({},r),(i={},i[s]=u,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(r){var n=r.level,i=r.message,a=r.extras;n==="info"||n==="debug"?console.log(i,a??""):console[n](i,a??"")});this._logs=[]},t}(),Vpe=function(t){var e={gauge:"g",counter:"c"};return e[t]},fW=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,r,n){r===void 0&&(r=1),this.metrics.push({metric:e,value:r,tags:n??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,r,n){this.metrics.push({metric:e,value:r,tags:n??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(r){return Je(Je({},r),{tags:r.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:Vpe(e.type),e:e.timestamp}})},t}(),Hpe=function(t){Po(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(fW),ty=function(){function t(e){var r,n,i;this.retry=(r=e.retry)!==null&&r!==void 0?r:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),qS=function(){function t(e,r,n,i){r===void 0&&(r=EL()),n===void 0&&(n=new Hpe),i===void 0&&(i=new Gpe),this.attempts=0,this.event=e,this._id=r,this.logger=i,this.stats=n}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new ty({reason:"Context Cancel"})},t.prototype.log=function(e,r,n){this.logger.log(e,r,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,r){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return RI(this.event,e,r),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function Ype(t,e){var r={};return t.forEach(function(n){var i,a=void 0;{var o=n[e];a=typeof o!="string"?JSON.stringify(o):o}a!==void 0&&(r[a]=ji(ji([],(i=r[a])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Wpe=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Xpe=function(){var t,e,r=0;return{done:function(){return t},run:function(n){var i=n();return Wpe(i)&&(++r===1&&(t=new Promise(function(a){return e=a})),i.finally(function(){return--r===0&&e()})),i}}};function $pe(t){return St(this,void 0,void 0,function(){var e;return Ot(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:return e=r.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function V0(t,e){t.log("debug","plugin",{plugin:e.name});var r=new Date().getTime(),n=e[t.event.type];if(n===void 0)return Promise.resolve(t);var i=$pe(function(){return n.apply(e,[t])}).then(function(a){var o=new Date().getTime()-r;return a.stats.gauge("plugin_time",o,["plugin:".concat(e.name)]),a}).catch(function(a){if(a instanceof ty&&a.type==="middleware_cancellation")throw a;return a instanceof ty?(t.log("warn",a.type,{plugin:e.name,error:a}),a):(t.log("error","plugin Error",{plugin:e.name,error:a}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),a)});return i}function Kpe(t,e){return V0(t,e).then(function(r){if(r instanceof qS)return r;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(r)})}var Zpe=function(t){Po(e,t);function e(r){var n=t.call(this)||this;return n.criticalTasks=Xpe(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(cW,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(r,n,i){return St(this,void 0,void 0,function(){var a,o,u=this;return Ot(this,function(s){switch(s.label){case 0:return this.plugins.push(n),a=function(l){u.failedInitializations.push(n.name),u.emit("initialization_failure",n),console.warn(n.name,l),r.log("warn","Failed to load destination",{plugin:n.name,error:l}),u.plugins=u.plugins.filter(function(c){return c!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(r,i).catch(a),[3,4]):[3,1];case 1:return s.trys.push([1,3,,4]),[4,n.load(r,i)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),a(o),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(r,n,i){return St(this,void 0,void 0,function(){var a;return Ot(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(u){return u.name!==n.name}),[3,4];case 3:return a=o.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:a}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(r){return St(this,void 0,void 0,function(){var n;return Ot(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(r){return St(this,void 0,void 0,function(){var n=this;return Ot(this,function(i){return[2,new Promise(function(a){var o=function(u,s){u.isSame(r)&&(n.off("flush",o),a(u))};n.on("flush",o)})]})})},e.prototype.dispatchSingle=function(r){return St(this,void 0,void 0,function(){var n=this;return Ot(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(a){var o=n.enqueuRetry(a,r);return o?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:a}),r)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},e.prototype.deliver=function(r){return St(this,void 0,void 0,function(){var n,i,a,o;return Ot(this,function(u){switch(u.label){case 0:return[4,this.criticalTasks.done()];case 1:u.sent(),n=Date.now(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=u.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw a=u.sent(),o=a,r.log("error","Failed to deliver",o),this.emit("delivery_failure",r,o),r.stats.increment("delivery_failed"),a;case 5:return[2]}})})},e.prototype.enqueuRetry=function(r,n){var i=!(r instanceof ty)||r.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return St(this,void 0,void 0,function(){var r,n,i;return Ot(this,function(a){switch(a.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=a.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=a.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(d){var v,y,b;if(d.type!=="destination"&&d.name!=="Segment.io")return!0;var p=void 0;return(v=d.alternativeNames)===null||v===void 0||v.forEach(function(m){r[m]!==void 0&&(p=r[m])}),(b=(y=r[d.name])!==null&&y!==void 0?y:p)!==null&&b!==void 0?b:(d.name==="Segment.io"?!0:r.All)!==!1}),i=Ype(n,"type"),a=i.before,o=a===void 0?[]:a,u=i.enrichment,s=u===void 0?[]:u,l=i.destination,c=l===void 0?[]:l,f=i.after,h=f===void 0?[]:f;return{before:o,enrichment:s,destinations:c,after:h}},e.prototype.flushOne=function(r){var n,i;return St(this,void 0,void 0,function(){var a,o,u,s,l,c,v,f,h,d,v,y,b,p,m;return Ot(this,function(g){switch(g.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),a=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),o=a.before,u=a.enrichment,s=0,l=o,g.label=1;case 1:return s<l.length?(c=l[s],[4,Kpe(r,c)]):[3,4];case 2:v=g.sent(),v instanceof qS&&(r=v),this.emit("message_enriched",r,c),g.label=3;case 3:return s++,[3,1];case 4:f=0,h=u,g.label=5;case 5:return f<h.length?(d=h[f],[4,V0(r,d)]):[3,8];case 6:v=g.sent(),v instanceof qS&&(r=v),this.emit("message_enriched",r,d),g.label=7;case 7:return f++,[3,5];case 8:return y=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),b=y.destinations,p=y.after,[4,new Promise(function(_,E){setTimeout(function(){var T=b.map(function(w){return V0(r,w)});Promise.all(T).then(_).catch(E)},0)})];case 9:return g.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),m=p.map(function(_){return V0(r,_)}),[4,Promise.all(m)];case 10:return g.sent(),[2,r]}})})},e}(_L),Qpe=function(t,e){var r=Date.now()-t;return Math.max((e??300)-r,0)};function Jpe(t,e,r,n){return St(this,void 0,void 0,function(){var i,a;return Ot(this,function(o){switch(o.label){case 0:return r.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:a=o.sent(),o.label=4;case 4:return n!=null&&n.callback?[4,zpe(a,n.callback,Qpe(i,n.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return n!=null&&n.debug&&a.flush(),[2,a]}})})}function ege(t,e,r,n){var i,a=[t,e,r,n],o=vs(t)?t.event:t;if(!o||!mh(o))throw new Error("Event missing");var u=vs(t)?(i=t.properties)!==null&&i!==void 0?i:{}:vs(e)?e:{},s={};Ng(r)||(s=r??{}),vs(t)&&!Ng(e)&&(s=e??{});var l=a.find(Ng);return[o,u,s,l]}function q8(t,e,r,n,i){var a,o,u=null,s=null,l=[t,e,r,n,i],c=l.filter(mh);c.length===1?mh(l[1])?(s=l[1],u=null):(s=c[0],u=null):c.length===2&&(typeof l[0]=="string"&&(u=l[0]),typeof l[1]=="string"&&(s=l[1]));var f=l.find(Ng),h=l.filter(vs);return h.length===1?vs(l[2])?(o={},a=l[2]):vs(l[3])?(a={},o=l[3]):(a=h[0],o={}):h.length===2&&(a=h[0],o=h[1]),[u,s,a??(a={}),o??(o={}),f]}var G8=function(t){return function(){for(var e,r,n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var o={},u=["callback","options","traits","id"],s=0,l=i;s<l.length;s++){var c=l[s],f=u.pop();if(f==="id"){if(mh(c)||PI(c)){o.id=c.toString();continue}if(c==null)continue;f=u.pop()}if((f==="traits"||f==="options")&&(c==null||vs(c))&&(o[f]=c),Ng(c)){o.callback=c;break}}return[(e=o.id)!==null&&e!==void 0?e:t.id(),(r=o.traits)!==null&&r!==void 0?r:{},(n=o.options)!==null&&n!==void 0?n:{},o.callback]}};function tge(t,e,r,n){PI(t)&&(t=t.toString()),PI(e)&&(e=e.toString());var i=[t,e,r,n],a=i.filter(mh),o=a[0],u=o===void 0?t:o,s=a[1],l=s===void 0?null:s,c=i.filter(vs)[0],f=c===void 0?{}:c,h=i.find(Ng);return[u,l,f,h]}function SL(){return typeof window<"u"}function m1e(){return!SL()}function rge(){return SL()?window.navigator.onLine:!0}function Wb(){return!rge()}function nge(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,a=[],o=[],u={},s=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:s,headers:{keys:function(){return a},entries:function(){return o},get:function(c){return u[c.toLowerCase()]},has:function(c){return c.toLowerCase()in u}}}};for(var l in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(c,f,h){a.push(f=f.toLowerCase()),o.push([f,h]),u[f]=u[f]?u[f]+","+h:h}),r(s())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(l,e.headers[l]);i.send(e.body||null)})}var OL=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},eT=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=OL();return(r&&r.fetch||nge).apply(void 0,t)},tT="1.81.1",hW="api.segment.io/v1",ige=function(t,e,r){var n=e.reduce(function(i,a){var o=a.split(":"),u=o[0],s=o[1];return i[u]=s,i},{});return{type:"Counter",metric:t,value:1,tags:Je(Je({},n),{library:"analytics.js",library_version:"npm:next-".concat(tT)})}};function bD(t){console.error("Error sending segment performance metrics",t)}var age=function(){function t(e){var r=this,n,i,a,o,u;if(this.host=(n=e==null?void 0:e.host)!==null&&n!==void 0?n:hW,this.sampleRate=(i=e==null?void 0:e.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=e==null?void 0:e.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=e==null?void 0:e.maxQueueSize)!==null&&o!==void 0?o:20,this.protocol=(u=e==null?void 0:e.protocol)!==null&&u!==void 0?u:"https",this.queue=[],this.sampleRate>0){var s=!1,l=function(){s||(s=!0,r.flush().catch(bD),s=!1,setTimeout(l,r.flushTimer))};l()}}return t.prototype.increment=function(e,r){if(e.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=ige(e,r);this.queue.push(n),e.includes("error")&&this.flush().catch(bD)}},t.prototype.flush=function(){return St(this,void 0,void 0,function(){var e=this;return Ot(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){bD(n),e.sampleRate=0})];case 1:return r.sent(),[2]}})})},t.prototype.send=function(){return St(this,void 0,void 0,function(){var e,r,n;return Ot(this,function(i){return e={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,eT(n,{headers:r,body:JSON.stringify(e),method:"POST"})]})})},t}(),Bw,dW=function(t){Po(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(r){Bw=new age(r)},e.prototype.increment=function(r,n,i){t.prototype.increment.call(this,r,n,i),Bw==null||Bw.increment(r,i??[])},e}(fW),sc=function(t){Po(e,t);function e(r,n){return t.call(this,r,n,new dW)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(qS);function oge(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var vW="bpc",pW=function(t,e,r,n,i,a){return{__t:vW,c:e,p:n,u:t,s:r,t:i,r:a}},uge=Object.keys(pW("","","","","",""));function sge(t){if(!oge(t)||t.__t!==vW)return!1;for(var e in t)if(!uge.includes(e))return!1;return!0}var lge=function(t,e){return t.indexOf("?")>-1?t:t+e},cge=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},fge=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},gW=function(t){var e=t.c,r=t.p,n=t.s,i=t.u,a=t.r,o=t.t,u=e?fge(e):r,s=e?lge(e,n):cge(i);return{path:u,referrer:a,search:n,title:o,url:s}},yW=function(){var t=document.querySelector("link[rel='canonical']");return pW(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},hge=function(){return gW(yW())};function dge(t,e){return Object.assign.apply(Object,ji([{}],e.map(function(r){var n;if(t&&Object.prototype.hasOwnProperty.call(t,r))return n={},n[r]=t[r],n}),!1))}var zp=function(t,e){e===void 0&&(e=hge());var r=t.context,n;t.type==="page"&&(n=t.properties&&dge(t.properties,Object.keys(e)),t.properties=Je(Je(Je({},e),t.properties),t.name?{name:t.name}:{})),r.page=Je(Je(Je({},e),n),r.page)},vge=function(t){Po(e,t);function e(r){var n=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(EL())},onEventMethodCall:function(i){var a=i.options;n.maybeUpdateAnonId(a)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=r,n}return e.prototype.maybeUpdateAnonId=function(r){r!=null&&r.anonymousId&&this.user.anonymousId(r.anonymousId)},e.prototype.addIdentity=function(r){this.user.id()&&(r.userId=this.user.id()),this.user.anonymousId()&&(r.anonymousId=this.user.anonymousId())},e.prototype.track=function(r,n,i,a,o){var u=t.prototype.track.call(this,r,n,i,a);return zp(u,o),u},e.prototype.page=function(r,n,i,a,o,u){var s=t.prototype.page.call(this,r,n,i,a,o);return zp(s,u),s},e.prototype.screen=function(r,n,i,a,o,u){var s=t.prototype.screen.call(this,r,n,i,a,o);return zp(s,u),s},e.prototype.identify=function(r,n,i,a,o){var u=t.prototype.identify.call(this,r,n,i,a);return zp(u,o),u},e.prototype.group=function(r,n,i,a,o){var u=t.prototype.group.call(this,r,n,i,a);return zp(u,o),u},e.prototype.alias=function(r,n,i,a,o){var u=t.prototype.alias.call(this,r,n,i,a);return zp(u,o),u},e}(Bpe),pge=function(t){return"addMiddleware"in t&&t.type==="destination"},ll={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ll=SL()&&window.localStorage?window.localStorage:ll}catch(t){console.warn("Unable to access localStorage",t)}function mW(t){var e=ll.getItem(t);return(e?JSON.parse(e):[]).map(function(r){return new sc(r.event,r.id)})}function gge(t,e){var r=mW(t),n=ji(ji([],e,!0),r,!0),i=n.reduce(function(a,o){var u;return Je(Je({},a),(u={},u[o.id]=o,u))},{});ll.setItem(t,JSON.stringify(Object.values(i)))}function bW(t){var e=ll.getItem(t);return e?JSON.parse(e):{}}function yge(t,e){var r=bW(t);ll.setItem(t,JSON.stringify(Je(Je({},r),e)))}function V8(t){ll.removeItem(t)}var mge=function(){return new Date().getTime()};function DI(t,e,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(t,":lock"),a=function(l){return new Date().getTime()>l},o=ll.getItem(i),u=o?JSON.parse(o):null,s=u===null||a(u);if(s){ll.setItem(i,JSON.stringify(mge()+n)),e(),ll.removeItem(i);return}!s&&r<3?setTimeout(function(){DI(t,e,r+1)},n):console.error("Unable to retrieve lock")}var TL=function(t){Po(e,t);function e(r,n){var i=t.call(this,r,[])||this,a="persisted-queue:v1:".concat(n,":items"),o="persisted-queue:v1:".concat(n,":seen"),u=[],s={};return DI(n,function(){try{u=mW(a),s=bW(o),V8(a),V8(o),i.queue=ji(ji([],u,!0),i.queue,!0),i.seen=Je(Je({},s),i.seen)}catch(l){console.error(l)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var l=ji(ji([],i.queue,!0),i.future,!0);try{DI(n,function(){gge(a,l),yge(o,i.seen)})}catch(c){console.error(c)}}}),i}return e}(wL),bge=function(t){Po(e,t);function e(r){return t.call(this,typeof r=="string"?new TL(4,r):r)||this}return e.prototype.flush=function(){return St(this,void 0,void 0,function(){return Ot(this,function(r){return Wb()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(Zpe);function xL(t){for(var e=t.constructor.prototype,r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var i=n[r];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);a&&typeof a.value=="function"&&(t[i]=t[i].bind(t))}}return t}/*! js-cookie v3.0.1 | MIT */function Uw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var _ge={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function MI(t,e){function r(i,a,o){if(!(typeof document>"u")){o=Uw({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var s in o)o[s]&&(u+="; "+s,o[s]!==!0&&(u+="="+o[s].split(";")[0]));return document.cookie=i+"="+t.write(a,i)+u}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},u=0;u<a.length;u++){var s=a[u].split("="),l=s.slice(1).join("=");try{var c=decodeURIComponent(s[0]);if(o[c]=t.read(l,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,a){r(i,"",Uw({},a,{expires:-1}))},withAttributes:function(i){return MI(this.converter,Uw({},this.attributes,i))},withConverter:function(i){return MI(Uw({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Kl=MI(_ge,{path:"/"});function wge(t){var e=t.hostname,r=e.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var a=r.length-2;a>=0;--a)i.push(r.slice(a).join("."));return i}function Ege(t){try{return new URL(t)}catch{return}}function _W(t){var e=Ege(t);if(e)for(var r=wge(e),n=0;n<r.length;++n){var i="__tld__",a=r[n],o={domain:"."+a};try{if(Kl.set(i,"1",o),Kl.get(i))return Kl.remove(i,o),a}catch{return}}}var Sge=365,wW=function(){function t(e){e===void 0&&(e=t.defaults),this.options=Je(Je({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:Sge,domain:_W(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var r;try{var n=Kl.get(e);if(n==null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return null}},t.prototype.set=function(e,r){typeof r=="string"?Kl.set(e,r,this.opts()):r===null?Kl.remove(e,this.opts()):Kl.set(e,JSON.stringify(r),this.opts())},t.prototype.remove=function(e){return Kl.remove(e,this.opts())},t}(),Oge=function(){function t(){}return t.prototype.localStorageWarning=function(e,r){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(r))},t.prototype.get=function(e){var r;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),CL=function(){function t(){this.cache={}}return t.prototype.get=function(e){var r;return(r=this.cache[e])!==null&&r!==void 0?r:null},t.prototype.set=function(e,r){this.cache[e]=r},t.prototype.remove=function(e){delete this.cache[e]},t}(),So={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function EW(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(So).includes(e)})}function Tge(t){return typeof t=="object"&&t.name!==void 0}var _D=function(t,e,r,n){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(r,'" | Err: ').concat(n))},Hd=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var r=null,n=0,i=this.stores;n<i.length;n++){var a=i[n];try{if(r=a.get(e),r!=null)return r}catch(o){_D(a,"get",e,o)}}return null},t.prototype.set=function(e,r){this.stores.forEach(function(n){try{n.set(e,r)}catch(i){_D(n,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(r){try{r.remove(e)}catch(n){_D(r,"remove",e,n)}})},t.prototype.getAndSync=function(e){var r=this.get(e),n=typeof r=="number"?r.toString():r;return this.set(e,n),n},t}();function II(t){var e=t.map(function(r){var n,i;switch(Tge(r)?(n=r.name,i=r.settings):n=r,n){case So.Cookie:return new wW(i);case So.LocalStorage:return new Oge;case So.Memory:return new CL;default:throw new Error("Unknown Store Type: ".concat(r))}});return e}function SW(t,e){return t.map(function(r){return e&&r===So.Cookie?{name:r,settings:e}:r})}var Sd={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},OW=function(){function t(e,r){e===void 0&&(e=Sd);var n=this,i,a,o,u;this.options={},this.id=function(l){if(n.options.disable)return null;var c=n.identityStore.getAndSync(n.idKey);if(l!==void 0){n.identityStore.set(n.idKey,l);var f=l!==c&&c!==null&&l!==null;f&&n.anonymousId(null)}var h=n.identityStore.getAndSync(n.idKey);if(h)return h;var d=n.legacyUserStore.get(Sd.cookie.oldKey);return d?typeof d=="object"?d.id:d:null},this.anonymousId=function(l){var c,f;if(n.options.disable)return null;if(l===void 0){var h=(c=n.identityStore.getAndSync(n.anonKey))!==null&&c!==void 0?c:(f=n.legacySIO())===null||f===void 0?void 0:f[0];if(h)return h}return l===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,l??EL()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(l){var c;if(!n.options.disable)return l===null&&(l={}),l&&n.traitsStore.set(n.traitsKey,l??{}),(c=n.traitsStore.get(n.traitsKey))!==null&&c!==void 0?c:{}},this.options=Je(Je({},Sd),e),this.cookieOptions=r,this.idKey=(a=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:Sd.cookie.key,this.traitsKey=(u=(o=e.localStorage)===null||o===void 0?void 0:o.key)!==null&&u!==void 0?u:Sd.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(l){return l===So.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(l){return l!==So.Cookie});var s=this.legacyUserStore.get(Sd.cookie.oldKey);s&&typeof s=="object"&&(s.id&&this.id(s.id),s.traits&&this.traits(s.traits)),xL(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var r=e.split("----"),n=r[0],i=r[1];return[n,i]},t.prototype.identify=function(e,r){if(!this.options.disable){r=r??{};var n=this.id();(n===null||n===e)&&(r=Je(Je({},this.traits()),r)),e&&this.id(e),this.traits(r)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,r,n){var i=[So.LocalStorage,So.Cookie,So.Memory];return e.disable?new Hd([]):e.persist?(e.storage!==void 0&&e.storage!==null&&EW(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(a){return a!==So.LocalStorage})),n&&(i=i.filter(n)),new Hd(II(SW(i,r)))):new Hd([new CL])},t.defaults=Sd,t}(),H8={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},xge=function(t){Po(e,t);function e(r,n){r===void 0&&(r=H8);var i=t.call(this,Je(Je({},H8),r),n)||this;return i.anonymousId=function(a){},xL(i),i}return e}(OW),AL="analytics";function TW(){return window[AL]}function Cge(t){AL=t}function Age(t){window[AL]=t}var Rge=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},xW=function(t,e,r){r.getAndRemove(t).forEach(function(n){rT(e,n).catch(console.error)})},Pge=function(t,e){return St(void 0,void 0,void 0,function(){var r,n,i;return Ot(this,function(a){switch(a.label){case 0:r=0,n=e.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return r<n.length?(i=n[r],[4,rT(t,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Dge=function(t,e){return St(void 0,void 0,void 0,function(){var r,n,i;return Ot(this,function(a){switch(a.label){case 0:r=0,n=e.getAndRemove("register"),a.label=1;case 1:return r<n.length?(i=n[r],[4,rT(t,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Mge=xW.bind(void 0,"on"),Ige=xW.bind(void 0,"setAnonymousId"),Nge=function(t,e){Object.keys(e.calls).forEach(function(r){e.getAndRemove(r).forEach(function(n){setTimeout(function(){rT(t,n).catch(console.error)},0)})})},qp=function(t){if(CW(t)){var e=t.pop();return gW(e)}},CW=function(t){var e=t[t.length-1];return sge(e)},NI=function(){function t(e,r,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=r}return t}(),kge=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var r;return(r=this.calls[e])!==null&&r!==void 0?r:[]},t.prototype.getAndRemove=function(e){var r=this.get(e);return this.calls[e]=[],r},t.prototype.add=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var a=["track","screen","alias","group","page","identify"];a.includes(i.method)&&!CW(i.args)&&(i.args=ji(ji([],i.args,!0),[yW()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t}();function rT(t,e){return St(this,void 0,void 0,function(){var r,n;return Ot(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,r=t[e.method].apply(t,e.args),Rge(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(r),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var Lge=function(){function t(e){var r=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=tT,this._preInitBuffer=new kge,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],a=n[1];r.instance=i,r.ctx=a}).catch(function(){})}return t.prototype.then=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).then.apply(e,r)},t.prototype.catch=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).catch.apply(e,r)},t.prototype.finally=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).finally.apply(e,r)},t.prototype._createMethod=function(e){var r=this;return function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(r.instance){var o=(n=r.instance)[e].apply(n,i);return Promise.resolve(o)}return new Promise(function(u,s){r._preInitBuffer.add(new NI(e,i,u,s))})}},t.prototype._createChainableMethod=function(e){var r=this;return function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return r.instance?((n=r.instance)[e].apply(n,i),r):(r._preInitBuffer.add(new NI(e,i)),r)}},t}(),_f={},ml={},RL={},AW={exports:{}};(function(t){t.exports=e(r),t.exports.find=t.exports,t.exports.replace=function(u,s,l,c){return e(i).call(this,u,s,l,c),u},t.exports.del=function(u,s,l){return e(n).call(this,u,s,null,l),u};function e(u){return function(s,l,c,f){var h=f&&o(f.normalizer)?f.normalizer:a;l=h(l);for(var d,v=!1;!v;)y();function y(){for(d in s){var b=h(d);if(l.indexOf(b)===0){var p=l.substr(b.length);if(p.charAt(0)==="."||p.length===0){l=p.substr(1);var m=s[d];if(m==null){v=!0;return}if(!l.length){v=!0;return}s=m;return}}}d=void 0,v=!0}if(d)return s==null?s:u(s,d,c)}}function r(u,s){if(u.hasOwnProperty(s))return u[s]}function n(u,s){return u.hasOwnProperty(s)&&delete u[s],u}function i(u,s,l){return u.hasOwnProperty(s)&&(u[s]=l),u}function a(u){return u.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function o(u){return typeof u=="function"}})(AW);var nT=AW.exports,jge=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(RL,"__esModule",{value:!0});var cf=jge(nT);function Gp(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return cf.default(r,"address."+t)||cf.default(r,t)||(e?cf.default(r,"address."+e):null)||(e?cf.default(r,e):null)||cf.default(n,"address."+t)||cf.default(n,t)||(e?cf.default(n,"address."+e):null)||(e?cf.default(n,e):null)}}function Bge(t){t.zip=Gp("postalCode","zip"),t.country=Gp("country"),t.street=Gp("street"),t.state=Gp("state"),t.city=Gp("city"),t.region=Gp("region")}RL.default=Bge;var iT={};Object.defineProperty(iT,"__esModule",{value:!0});iT.clone=void 0;function kI(t){if(typeof t!="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=kI(t[r]));return e}else return Array.isArray(t)?t.map(kI):t}iT.clone=kI;var PL={};Object.defineProperty(PL,"__esModule",{value:!0});var Uge={Salesforce:!0};function Fge(t){return!Uge[t]}PL.default=Fge;var aT={},RW=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;aT.parse=function(t){var e=[1,5,6,7,11,12],r=RW.exec(t),n=0;if(!r)return new Date(t);for(var i=0,a;a=e[i];i++)r[a]=parseInt(r[a],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var o=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(o)};aT.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:RW.test(t)};var DL={},zge=/\d{13}/;DL.is=function(t){return zge.test(t)};DL.parse=function(t){return t=parseInt(t,10),new Date(t)};var ML={},qge=/\d{10}/;ML.is=function(t){return qge.test(t)};ML.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)};var Y8=aT,W8=DL,X8=ML,Gge=Object.prototype,PW=Gge.toString;function Vge(t){return PW.call(t)==="[object Date]"}function Hge(t){return PW.call(t)==="[object Number]"}var IL=function(e){return Vge(e)?e:Hge(e)?new Date(Yge(e)):Y8.is(e)?Y8.parse(e):W8.is(e)?W8.parse(e):X8.is(e)?X8.parse(e):new Date(e)};function Yge(t){return t<315576e5?t*1e3:t}var $8=aT,Wge=NL;function NL(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?Xge(t,e):Array.isArray(t)?$ge(t,e):$8.is(t,e)?$8.parse(t):t}function Xge(t,e){return Object.keys(t).forEach(function(r){t[r]=NL(t[r],e)}),t}function $ge(t,e){return t.forEach(function(r,n){t[n]=NL(r,e)}),t}var D_=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ml,"__esModule",{value:!0});ml.Facade=void 0;var Kge=D_(RL),ry=iT,Zge=D_(PL),Qge=D_(IL),LI=D_(nT),Jge=D_(Wge);function lu(t,e){e=e||{},this.raw=ry.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=ry.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=Qge.default(t.timestamp):t.timestamp=new Date,e.traverse&&Jge.default(t),this.opts=e,this.obj=t}ml.Facade=lu;var Hn=lu.prototype;Hn.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.obj[t];return r&&(typeof r=="function"&&(r=r.call(this)||{}),e.length===0?this.opts.clone?jI(r):r:(r=LI.default(r,e.join(".")),this.opts.clone?jI(r):r))};Hn.field=function(t){var e=this.obj[t];return this.opts.clone?jI(e):e};lu.proxy=function(t){return function(){return this.proxy(t)}};lu.field=function(t){return function(){return this.field(t)}};lu.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?ry.clone(r):r]),r||[]}};lu.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}};Hn.json=function(){var t=this.opts.clone?ry.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t};Hn.rawEvent=function(){return this.raw};Hn.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?ry.clone(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),i=n[t]||LI.default(n,t);return typeof i!="object"&&(i=LI.default(this.options(),t)),typeof i=="object"?i:{}}};Hn.context=Hn.options;Hn.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var r=e&&Zge.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var i=n[t];typeof i=="boolean"?r=i:r=!0}return!!r};Hn.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};Hn.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};Hn.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};Hn.sessionId=Hn.anonymousId;Hn.groupId=lu.proxy("options.groupId");Hn.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};Hn.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};Hn.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};Hn.userAgent=lu.proxy("context.userAgent");Hn.timezone=lu.proxy("context.timezone");Hn.timestamp=lu.field("timestamp");Hn.channel=lu.field("channel");Hn.ip=lu.proxy("context.ip");Hn.userId=lu.field("userId");Kge.default(Hn);function jI(t){return ry.clone(t)}var oT={},BI={exports:{}};typeof Object.create=="function"?BI.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:BI.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Ov=BI.exports,eye=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oT,"__esModule",{value:!0});oT.Alias=void 0;var tye=eye(Ov),DW=ml;function ws(t,e){DW.Facade.call(this,t,e)}oT.Alias=ws;tye.default(ws,DW.Facade);ws.prototype.action=function(){return"alias"};ws.prototype.type=ws.prototype.action;ws.prototype.previousId=function(){return this.field("previousId")||this.field("from")};ws.prototype.from=ws.prototype.previousId;ws.prototype.userId=function(){return this.field("userId")||this.field("to")};ws.prototype.to=ws.prototype.userId;var uT={},Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});var rye=/.+\@.+\..+/;function nye(t){return rye.test(t)}Cy.default=nye;var kL=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uT,"__esModule",{value:!0});uT.Group=void 0;var iye=kL(Ov),aye=kL(Cy),oye=kL(IL),Ay=ml;function LL(t,e){Ay.Facade.call(this,t,e)}uT.Group=LL;iye.default(LL,Ay.Facade);var Es=LL.prototype;Es.action=function(){return"group"};Es.type=Es.action;Es.groupId=Ay.Facade.field("groupId");Es.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return oye.default(t)};Es.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(aye.default(e))return e};Es.traits=function(t){var e=this.properties(),r=this.groupId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};Es.name=Ay.Facade.proxy("traits.name");Es.industry=Ay.Facade.proxy("traits.industry");Es.employees=Ay.Facade.proxy("traits.employees");Es.properties=function(){return this.field("traits")||this.field("properties")||{}};var M_={},sT=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M_,"__esModule",{value:!0});M_.Identify=void 0;var bl=ml,kg=sT(nT),uye=sT(Ov),sye=sT(Cy),MW=sT(IL),Yd=function(t){return t.trim()};function jL(t,e){bl.Facade.call(this,t,e)}M_.Identify=jL;uye.default(jL,bl.Facade);var Yn=jL.prototype;Yn.action=function(){return"identify"};Yn.type=Yn.action;Yn.traits=function(t){var e=this.field("traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[t[n]]=i,n!==t[n]&&delete e[n])}return e};Yn.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(sye.default(e))return e};Yn.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return MW.default(t)};Yn.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return MW.default(t)};Yn.companyName=function(){return this.proxy("traits.company.name")};Yn.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return Yd(t);var e=this.firstName(),r=this.lastName();if(e&&r)return Yd(e+" "+r)};Yn.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return Yd(t);var e=this.proxy("traits.name");if(typeof e=="string")return Yd(e).split(" ")[0]};Yn.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return Yd(t);var e=this.proxy("traits.name");if(typeof e=="string"){var r=Yd(e).indexOf(" ");if(r!==-1)return Yd(e.substr(r+1))}};Yn.uid=function(){return this.userId()||this.username()||this.email()};Yn.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};Yn.age=function(){var t=this.birthday(),e=kg.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var r=new Date;return r.getFullYear()-t.getFullYear()}};Yn.avatar=function(){var t=this.traits();return kg.default(t,"avatar")||kg.default(t,"photoUrl")||kg.default(t,"avatarUrl")};Yn.position=function(){var t=this.traits();return kg.default(t,"position")||kg.default(t,"jobTitle")};Yn.username=bl.Facade.proxy("traits.username");Yn.website=bl.Facade.one("traits.website");Yn.websites=bl.Facade.multi("traits.website");Yn.phone=bl.Facade.one("traits.phone");Yn.phones=bl.Facade.multi("traits.phone");Yn.address=bl.Facade.proxy("traits.address");Yn.gender=bl.Facade.proxy("traits.gender");Yn.birthday=bl.Facade.proxy("traits.birthday");var Ry={},BL=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.Track=void 0;var lye=BL(Ov),na=ml,cye=M_,fye=BL(Cy),IW=BL(nT);function UL(t,e){na.Facade.call(this,t,e)}Ry.Track=UL;lye.default(UL,na.Facade);var _r=UL.prototype;_r.action=function(){return"track"};_r.type=_r.action;_r.event=na.Facade.field("event");_r.value=na.Facade.proxy("properties.value");_r.category=na.Facade.proxy("properties.category");_r.id=na.Facade.proxy("properties.id");_r.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};_r.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};_r.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};_r.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};_r.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};_r.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};_r.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};_r.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};_r.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};_r.sku=na.Facade.proxy("properties.sku");_r.tax=na.Facade.proxy("properties.tax");_r.name=na.Facade.proxy("properties.name");_r.price=na.Facade.proxy("properties.price");_r.total=na.Facade.proxy("properties.total");_r.repeat=na.Facade.proxy("properties.repeat");_r.coupon=na.Facade.proxy("properties.coupon");_r.shipping=na.Facade.proxy("properties.shipping");_r.discount=na.Facade.proxy("properties.discount");_r.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};_r.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};_r.description=na.Facade.proxy("properties.description");_r.plan=na.Facade.proxy("properties.plan");_r.subtotal=function(){var t=IW.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),r=this.shipping(),r&&(e-=r),r=this.discount(),r&&(e+=r)}return e};_r.products=function(){var t=this.properties(),e=IW.default(t,"products");return Array.isArray(e)?e.filter(function(r){return r!==null}):[]};_r.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};_r.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};_r.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};_r.query=na.Facade.proxy("options.query");_r.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=this[r]==null?this.proxy("properties."+r):this[r]();if(n==null)continue;e[t[r]]=n,delete e[r]}return e};_r.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};_r.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(fye.default(e))return e};_r.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(r)&&(t=this.proxy("properties.total")),hye(t)};_r.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};_r.identify=function(){var t=this.json();return t.traits=this.traits(),new cye.Identify(t,this.opts)};function hye(t){if(t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}var I_={},NW=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I_,"__esModule",{value:!0});I_.Page=void 0;var dye=NW(Ov),Tv=ml,vye=Ry,pye=NW(Cy);function FL(t,e){Tv.Facade.call(this,t,e)}I_.Page=FL;dye.default(FL,Tv.Facade);var Ao=FL.prototype;Ao.action=function(){return"page"};Ao.type=Ao.action;Ao.category=Tv.Facade.field("category");Ao.name=Tv.Facade.field("name");Ao.title=Tv.Facade.proxy("properties.title");Ao.path=Tv.Facade.proxy("properties.path");Ao.url=Tv.Facade.proxy("properties.url");Ao.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Ao.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();t=t||{},r&&(e.category=r),n&&(e.name=n);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=this[i]==null?this.proxy("properties."+i):this[i]();if(a==null)continue;e[t[i]]=a,i!==t[i]&&delete e[i]}return e};Ao.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(pye.default(e))return e};Ao.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};Ao.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};Ao.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new vye.Track(e,this.opts)};var lT={},gye=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lT,"__esModule",{value:!0});lT.Screen=void 0;var yye=gye(Ov),kW=I_,mye=Ry;function uv(t,e){kW.Page.call(this,t,e)}lT.Screen=uv;yye.default(uv,kW.Page);uv.prototype.action=function(){return"screen"};uv.prototype.type=uv.prototype.action;uv.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};uv.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new mye.Track(e,this.opts)};var cT={},bye=qr&&qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cT,"__esModule",{value:!0});cT.Delete=void 0;var _ye=bye(Ov),LW=ml;function zL(t,e){LW.Facade.call(this,t,e)}cT.Delete=zL;_ye.default(zL,LW.Facade);zL.prototype.type=function(){return"delete"};(function(t){var e=qr&&qr.__assign||function(){return e=Object.assign||function(c){for(var f,h=1,d=arguments.length;h<d;h++){f=arguments[h];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v])}return c},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var r=ml;Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return r.Facade}});var n=oT;Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=uT;Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var a=M_;Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return a.Identify}});var o=Ry;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return o.Track}});var u=I_;Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return u.Page}});var s=lT;Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return s.Screen}});var l=cT;Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return l.Delete}}),t.default=e(e({},r.Facade),{Alias:n.Alias,Group:i.Group,Identify:a.Identify,Track:o.Track,Page:u.Page,Screen:s.Screen,Delete:l.Delete})})(_f);function GS(t,e){var r=new _f.Facade(t,e);return t.type==="track"&&(r=new _f.Track(t,e)),t.type==="identify"&&(r=new _f.Identify(t,e)),t.type==="page"&&(r=new _f.Page(t,e)),t.type==="alias"&&(r=new _f.Alias(t,e)),t.type==="group"&&(r=new _f.Group(t,e)),t.type==="screen"&&(r=new _f.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}var wye=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},jW=function(t){Po(e,t);function e(r,n){var i=t.call(this,r)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e}(Error),BW=function(t){return Je({"Content-Type":"text/plain"},typeof t=="function"?t():t)},Eye=500,Sye=64;function qL(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function Oye(t){return qL(t)>=Eye-50}function Tye(t){return qL(t)>=Sye-10}function xye(t){var e=[],r=0;return t.forEach(function(n){var i=qL(e[r]);i>=64&&r++,e[r]?e[r].push(n):e[r]=[n]}),e}function Cye(t,e){var r,n,i=[],a=!1,o=(r=e==null?void 0:e.size)!==null&&r!==void 0?r:10,u=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:5e3,s=0;function l(v){var y;if(v.length!==0){var b=(y=v[0])===null||y===void 0?void 0:y.writeKey,p=v.map(function(m){var g=m;g.sentAt;var _=sW(g,["sentAt"]);return _});return eT("https://".concat(t,"/b"),{credentials:e==null?void 0:e.credentials,keepalive:(e==null?void 0:e.keepalive)||a,headers:BW(e==null?void 0:e.headers),method:"post",body:JSON.stringify({writeKey:b,batch:p,sentAt:new Date().toISOString()}),priority:e==null?void 0:e.priority}).then(function(m){var g;if(m.status>=500)throw new Error("Bad response from server: ".concat(m.status));if(m.status===429){var _=(g=m.headers)===null||g===void 0?void 0:g.get("x-ratelimit-reset"),E=typeof _=="string"?parseInt(_)*1e3:u;throw new jW("Rate limit exceeded: ".concat(m.status),E)}})}}function c(v){var y;return v===void 0&&(v=1),St(this,void 0,void 0,function(){var b;return Ot(this,function(p){return i.length?(b=i,i=[],[2,(y=l(b))===null||y===void 0?void 0:y.catch(function(m){var g,_=sc.system();_.log("error","Error sending batch",m),v<=((g=e==null?void 0:e.maxRetries)!==null&&g!==void 0?g:10)&&(m.name==="RateLimitError"&&(s=m.retryTimeout),i.push.apply(i,b),i.map(function(E){if("_metadata"in E){var T=E;T._metadata=Je(Je({},T._metadata),{retryCount:v})}}),h(v+1))})]):[2]})})}var f;function h(v){v===void 0&&(v=1),!f&&(f=setTimeout(function(){f=void 0,c(v).catch(console.error)},s||u),s=0)}wye(function(v){if(a=v,a&&i.length){var y=xye(i).map(l);Promise.all(y).catch(console.error)}});function d(v,y){return St(this,void 0,void 0,function(){var b;return Ot(this,function(p){return i.push(y),b=i.length>=o||Oye(i)||(e==null?void 0:e.keepalive)&&Tye(i),[2,b||a?c():h()]})})}return{dispatch:d}}function Aye(t){function e(r,n){return eT(r,{credentials:t==null?void 0:t.credentials,keepalive:t==null?void 0:t.keepalive,headers:BW(t==null?void 0:t.headers),method:"post",body:JSON.stringify(n),priority:t==null?void 0:t.priority}).then(function(i){var a;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var o=(a=i.headers)===null||a===void 0?void 0:a.get("x-ratelimit-reset"),u=o?parseInt(o)*1e3:5e3;throw new jW("Rate limit exceeded: ".concat(i.status),u)}})}return{dispatch:e}}function Rye(t,e,r,n,i){var a,o=t.user();delete e.options,e.writeKey=r==null?void 0:r.apiKey,e.userId=e.userId||o.id(),e.anonymousId=e.anonymousId||o.anonymousId(),e.sentAt=new Date;var u=t.queue.failedInitializations||[];u.length>0&&(e._metadata={failedInitializations:u}),i!=null&&(i.attempts>1&&(e._metadata=Je(Je({},e._metadata),{retryCount:i.attempts})),i.attempts++);var s=[],l=[];for(var c in n){var f=n[c];c==="Segment.io"&&s.push(c),f.bundlingStatus==="bundled"&&s.push(c),f.bundlingStatus==="unbundled"&&l.push(c)}for(var h=0,d=(r==null?void 0:r.unbundledIntegrations)||[];h<d.length;h++){var v=d[h];l.includes(v)||l.push(v)}var y=(a=r==null?void 0:r.maybeBundledConfigIds)!==null&&a!==void 0?a:{},b=[];return s.sort().forEach(function(p){var m;((m=y[p])!==null&&m!==void 0?m:[]).forEach(function(g){b.push(g)})}),(r==null?void 0:r.addBundledMetadata)!==!1&&(e._metadata=Je(Je({},e._metadata),{bundled:s.sort(),unbundled:l.sort(),bundledIds:b})),e}var Pye=function(t,e){return St(void 0,void 0,void 0,function(){var r;return Ot(this,function(n){return r=function(i){return St(void 0,void 0,void 0,function(){var a;return Ot(this,function(o){switch(o.label){case 0:return t(i)?(a=r,[4,e()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})};function Dye(t,e){return St(this,void 0,void 0,function(){var r,n=this;return Ot(this,function(i){switch(i.label){case 0:return r=[],Wb()?[2,e]:[4,Pye(function(){return e.length>0&&!Wb()},function(){return St(n,void 0,void 0,function(){var a,o,u;return Ot(this,function(s){switch(s.label){case 0:return a=e.pop(),a?[4,V0(a,t)]:[2];case 1:return o=s.sent(),u=o instanceof sc,u||r.push(a),[2]}})})})];case 1:return i.sent(),r.map(function(a){return e.pushWithBackoff(a)}),[2,e]}})})}function Vp(t,e,r,n){var i=this;t||setTimeout(function(){return St(i,void 0,void 0,function(){var a,o;return Ot(this,function(u){switch(u.label){case 0:return a=!0,[4,Dye(r,e)];case 1:return o=u.sent(),a=!1,e.todo>0&&n(a,o,r,n),[2]}})})},Math.random()*5e3)}function Mye(t,e){var r,n,i,a,o=t.user();return e.previousId=(i=(n=(r=e.previousId)!==null&&r!==void 0?r:e.from)!==null&&n!==void 0?n:o.id())!==null&&i!==void 0?i:o.anonymousId(),e.userId=(a=e.userId)!==null&&a!==void 0?a:e.to,delete e.from,delete e.to,e}var Iye=function(t){return t.name==="Segment.io"};function Nye(t,e,r){var n,i,a;window.addEventListener("pagehide",function(){u.push.apply(u,Array.from(s)),s.clear()});var o=(n=e==null?void 0:e.apiKey)!==null&&n!==void 0?n:"",u=t.options.disableClientPersistence?new wL(t.queue.queue.maxAttempts,[]):new TL(t.queue.queue.maxAttempts,"".concat(o,":dest-Segment.io")),s=new Set,l=!1,c=(i=e==null?void 0:e.apiHost)!==null&&i!==void 0?i:hW,f=(a=e==null?void 0:e.protocol)!==null&&a!==void 0?a:"https",h="".concat(f,"://").concat(c),d=e==null?void 0:e.deliveryStrategy,v=d&&"strategy"in d&&d.strategy==="batching"?Cye(c,d.config):Aye(d==null?void 0:d.config);function y(p){return St(this,void 0,void 0,function(){var m,g;return Ot(this,function(_){return Wb()?(u.push(p),Vp(l,u,b,Vp),[2,p]):(s.add(p),m=p.event.type.charAt(0),g=GS(p.event).json(),p.event.type==="track"&&delete g.traits,p.event.type==="alias"&&(g=Mye(t,g)),u.getAttempts(p)>=u.maxAttempts?(s.delete(p),[2,p]):[2,v.dispatch("".concat(h,"/").concat(m),Rye(t,g,e,r,p)).then(function(){return p}).catch(function(E){if(p.log("error","Error sending event",E),E.name==="RateLimitError"){var T=E.retryTimeout;u.pushWithBackoff(p,T)}else u.pushWithBackoff(p);return Vp(l,u,b,Vp),p}).finally(function(){s.delete(p)})])})})}var b={metadata:{writeKey:o,apiHost:c,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return u.todo&&Vp(l,u,b,Vp),b}var wf="This is being deprecated and will be not be available in future releases of Analytics JS",wD=OL(),ED=wD==null?void 0:wD.analytics;function kye(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=e?10:1,i=r?new wL(n,[]):new TL(n,t);return new bge(i)}var Lye=function(){function t(e,r){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var a;return(a=r.plugins.find(Iye))===null||a===void 0?void 0:a.metadata},this.writeKey=e.writeKey;var i={integrations:{"Segment.io":{apiKey:""}}};this.cdnSettings=(n=e.cdnSettings)!==null&&n!==void 0?n:i,this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,r;return(r=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||r===void 0?void 0:r.apiHost},enumerable:!1,configurable:!0}),t}();function Ws(){console.warn(wf)}var UW=function(t){Po(e,t);function e(r,n,i,a,o){var u=this,s,l;u=t.call(this)||this,u._debug=!1,u.initialized=!1,u.user=function(){return u._user},u.init=u.initialize.bind(u),u.log=Ws,u.addIntegrationMiddleware=Ws,u.listeners=Ws,u.addEventListener=Ws,u.removeAllListeners=Ws,u.removeListener=Ws,u.removeEventListener=Ws,u.hasListeners=Ws,u.add=Ws,u.addIntegration=Ws;var c=n==null?void 0:n.cookie,f=(s=n==null?void 0:n.disableClientPersistence)!==null&&s!==void 0?s:!1;u.queue=i??kye("".concat(r.writeKey,":event-queue"),n==null?void 0:n.retryQueue,f),u.settings=new Lye(r,u.queue);var h=n==null?void 0:n.storage;return u._universalStorage=u.createStore(f,h,c),u._user=a??new OW(Je({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.user),c).load(),u._group=o??new xge(Je({persist:!f,storage:n==null?void 0:n.storage},n==null?void 0:n.group),c).load(),u.eventFactory=new vge(u._user),u.integrations=(l=n==null?void 0:n.integrations)!==null&&l!==void 0?l:{},u.options=n??{},xL(u),u}return e.prototype.createStore=function(r,n,i){return r?new Hd([new CL]):n&&EW(n)?new Hd(II(SW(n.stores,i))):new Hd(II([So.LocalStorage,{name:So.Cookie,settings:i},So.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o,u,s,l,c,f=this;return Ot(this,function(h){return i=qp(r),a=ege.apply(void 0,r),o=a[0],u=a[1],s=a[2],l=a[3],c=this.eventFactory.track(o,u,s,this.integrations,i),[2,this._dispatch(c,l).then(function(d){return f.emit("track",o,d.event.properties,d.event.options),d})]})})},e.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o,u,s,l,c,f,h=this;return Ot(this,function(d){return i=qp(r),a=q8.apply(void 0,r),o=a[0],u=a[1],s=a[2],l=a[3],c=a[4],f=this.eventFactory.page(o,u,s,l,this.integrations,i),[2,this._dispatch(f,c).then(function(v){return h.emit("page",o,u,v.event.properties,v.event.options),v})]})})},e.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o,u,s,l,c,f=this;return Ot(this,function(h){return i=qp(r),a=G8(this._user).apply(void 0,r),o=a[0],u=a[1],s=a[2],l=a[3],this._user.identify(o,u),c=this.eventFactory.identify(this._user.id(),this._user.traits(),s,this.integrations,i),[2,this._dispatch(c,l).then(function(d){return f.emit("identify",d.event.userId,d.event.traits,d.event.options),d})]})})},e.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=qp(n);if(n.length===0)return this._group;var o=G8(this._group).apply(void 0,n),u=o[0],s=o[1],l=o[2],c=o[3];this._group.identify(u,s);var f=this._group.id(),h=this._group.traits(),d=this.eventFactory.group(f,h,l,this.integrations,a);return this._dispatch(d,c).then(function(v){return r.emit("group",v.event.groupId,v.event.traits,v.event.options),v})},e.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o,u,s,l,c,f=this;return Ot(this,function(h){return i=qp(r),a=tge.apply(void 0,r),o=a[0],u=a[1],s=a[2],l=a[3],c=this.eventFactory.alias(o,u,s,this.integrations,i),[2,this._dispatch(c,l).then(function(d){return f.emit("alias",o,u,d.event.options),d})]})})},e.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o,u,s,l,c,f,h=this;return Ot(this,function(d){return i=qp(r),a=q8.apply(void 0,r),o=a[0],u=a[1],s=a[2],l=a[3],c=a[4],f=this.eventFactory.screen(o,u,s,l,this.integrations,i),[2,this._dispatch(f,c).then(function(v){return h.emit("screen",o,u,v.event.properties,v.event.options),v})]})})},e.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a;return Ot(this,function(o){switch(o.label){case 0:return[4,ds(()=>import("./auto-track-D4g3CaW2.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,ji([this],r,!1))]}})})},e.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a;return Ot(this,function(o){switch(o.label){case 0:return[4,ds(()=>import("./auto-track-D4g3CaW2.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,ji([this],r,!1))]}})})},e.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a;return Ot(this,function(o){switch(o.label){case 0:return[4,ds(()=>import("./auto-track-D4g3CaW2.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,ji([this],r,!1))]}})})},e.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a;return Ot(this,function(o){switch(o.label){case 0:return[4,ds(()=>import("./auto-track-D4g3CaW2.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,ji([this],r,!1))]}})})},e.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o=this;return Ot(this,function(u){switch(u.label){case 0:return i=sc.system(),a=r.map(function(s){return o.queue.register(i,s,o)}),[4,Promise.all(a)];case 1:return u.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return St(this,void 0,void 0,function(){var i,a,o=this;return Ot(this,function(u){switch(u.label){case 0:return i=sc.system(),a=r.map(function(s){var l=o.queue.plugins.find(function(c){return c.name===s});if(l)return o.queue.deregister(i,l,o);i.log("warn","plugin ".concat(s," not found"))}),[4,Promise.all(a)];case 1:return u.sent(),[2,i]}})})},e.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(r){this.settings.timeout=r},e.prototype._dispatch=function(r,n){return St(this,void 0,void 0,function(){var i;return Ot(this,function(a){return i=new sc(r),i.stats.increment("analytics_js.invoke",1,[r.type]),Wb()&&!this.options.retryQueue?[2,i]:[2,Jpe(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(r){return St(this,void 0,void 0,function(){var n=this;return Ot(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return St(n,void 0,void 0,function(){var a,o,u;return Ot(this,function(s){switch(s.label){case 0:return[4,ds(()=>Promise.resolve().then(()=>Jye),void 0)];case 1:return a=s.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(l){if(l.type==="destination")return o[l.name]=!0}),u=a(r,o),[4,this.register(u)];case 2:return s.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(pge).forEach(function(a){(r==="*"||a.name.toLowerCase()===r.toLowerCase())&&a.addMiddleware.apply(a,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},e.prototype.queryString=function(r){return St(this,void 0,void 0,function(){var n;return Ot(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,ds(()=>import("./index-BHB7s6yj.js"),[])];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},e.prototype.use=function(r){return r(this),this},e.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),St(this,void 0,void 0,function(){return Ot(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},e.prototype.noConflict=function(){return console.warn(wf),Age(ED??this),this},e.prototype.normalize=function(r){return console.warn(wf),this.eventFactory.normalize(r)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(wf),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return tT},enumerable:!1,configurable:!0}),e.prototype.initialize=function(r,n){return St(this,void 0,void 0,function(){return Ot(this,function(i){return console.warn(wf),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(r){return St(this,void 0,void 0,function(){return Ot(this,function(n){switch(n.label){case 0:return console.warn(wf),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var r;return console.warn(wf),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(wf);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return n;var u=o.Integration;return u?(n[i.name]=u,n):(n[i.name]=o,n)},{});return r},enumerable:!1,configurable:!0}),e.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},e}(_L),K8=function(t){Po(e,t);function e(){var r=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return r.initialized=!0,r}return e}(UW),Z8={};function FW(){return typeof process>"u"||!Z8?{}:Z8}var jye=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,Bye=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",a=jye.exec(i);a&&a[1]&&(t=a[1])}),t},jE,Uye=function(){var t,e=jE??((t=TW())===null||t===void 0?void 0:t._cdn);return e},Fye=function(t){var e=TW();e&&(e._cdn=t),jE=t},GL=function(){var t=Uye();if(t)return t;var e=Bye();return e||"https://cdn.segment.com"},b1e=function(){var t=GL();return"".concat(t,"/next-integrations")};function zye(t,e){var r,n=Object.entries((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,a){var o,u,s=a[0],l=a[1];return typeof l=="object"?Je(Je({},i),(o={},o[s]=l,o)):Je(Je({},i),(u={},u[s]={},u))},{});return Object.entries(t.integrations).reduce(function(i,a){var o,u=a[0],s=a[1];return Je(Je({},i),(o={},o[u]=Je(Je({},s),n[u]),o))},{})}function qye(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function Gye(t){return St(this,void 0,void 0,function(){var e;return Ot(this,function(r){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var Xm;function Vye(){if(Xm)return Xm;var t=_W(window.location.href);return Xm={expires:31536e6,secure:!1,path:"/"},t&&(Xm.domain=t),Xm}function Hye(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var r=t.split("&"),n=0,i=r;n<i.length;n++){var a=i[n],o=a.split("="),u=o[0],s=o[1];if(e[u])return{id:s,type:e[u]}}}function Yye(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,r){var n=r.split("="),i=n[0],a=n[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var u=i.slice(4);u==="campaign"&&(u="name"),e[u]=qye(o)}return e},{})}function Wye(){var t=Kl.get("_ga");if(t&&t.startsWith("amp"))return t}function Xye(t,e,r){var n,i=new Hd(r?[]:[new wW(Vye())]),a=i.get("s:context.referrer"),o=(n=Hye(t))!==null&&n!==void 0?n:a;o&&(e&&(e.referrer=Je(Je({},e.referrer),o)),i.set("s:context.referrer",o))}var $ye=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];Array.isArray(i)?i.forEach(function(a){return e.append(n,a)}):e.append(n,i)}),e.toString()}catch{return""}},Kye=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,n){return St(e,void 0,void 0,function(){var i;return Ot(this,function(a){switch(a.label){case 0:this.instance=n,a.label=1;case 1:return a.trys.push([1,3,,4]),i=this,[4,Gye(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(r){var n,i,a=r.event.context,o=a.page.search||"",u=typeof o=="object"?$ye(o):o;a.userAgent=navigator.userAgent,a.userAgentData=e.userAgentData;var s=navigator.userLanguage||navigator.language;typeof a.locale>"u"&&typeof s<"u"&&(a.locale=s),(n=a.library)!==null&&n!==void 0||(a.library={name:"analytics.js",version:"".concat("npm:next","-").concat(tT)}),u&&!a.campaign&&(a.campaign=Yye(u));var l=Wye();l&&(a.amp={id:l}),Xye(u,a,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),Zye=new Kye;function zW(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(r){return r.src===t})}function SD(t,e){var r=zW(t);if(r!==void 0){var n=r==null?void 0:r.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,a){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,u=window.document.createElement("script");u.type="text/javascript",u.src=t,u.async=!0,u.setAttribute("status","loading");for(var s=0,l=Object.entries({});s<l.length;s++){var c=l[s],f=c[0],h=c[1];u.setAttribute(f,h)}u.onload=function(){u.onerror=u.onload=null,u.setAttribute("status","loaded"),i(u)},u.onerror=function(){u.onerror=u.onload=null,u.setAttribute("status","error"),a(new Error("Failed to load ".concat(t)))};var d=window.document.querySelector("script");d?(o=d.parentElement)===null||o===void 0||o.insertBefore(u,d):window.document.head.appendChild(u)})}function _1e(t){var e=zW(t);return e!==void 0&&e.remove(),Promise.resolve()}function qW(t,e,r){return St(this,void 0,void 0,function(){function n(l,c){return St(this,void 0,void 0,function(){var f,h,d;return Ot(this,function(v){switch(v.label){case 0:return f=!1,h=null,[4,c({payload:GS(l,{clone:!0,traverse:!1}),integration:t,next:function(y){f=!0,y===null&&(h=null),y&&(h=y.obj)}})];case 1:return v.sent(),!f&&h!==null&&(h=h,h.integrations=Je(Je({},l.integrations),(d={},d[t]=!1,d))),[2,h]}})})}var i,a,o,u,s;return Ot(this,function(l){switch(l.label){case 0:i=GS(e,{clone:!0,traverse:!1}).rawEvent(),a=0,o=r,l.label=1;case 1:return a<o.length?(u=o[a],[4,n(i,u)]):[3,4];case 2:if(s=l.sent(),s===null)return[2,null];i=s,l.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function Qye(t,e){function r(n){return St(this,void 0,void 0,function(){var i;return Ot(this,function(a){switch(a.label){case 0:return i=!1,[4,t({payload:GS(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(o){i=!0,o&&(n.event=o.obj)}})];case 1:if(a.sent(),!i)throw new ty({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,screen:r,identify:r,alias:r,group:r}}const Jye=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:qW,sourceMiddlewarePlugin:Qye},Symbol.toStringTag,{value:"Module"}));function Fw(t,e){var r=e.methodName,n=e.integrationName,i=e.type,a=e.didError,o=a===void 0?!1:a;t.stats.increment("analytics_js.integration.invoke".concat(o?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}var eme=function(){function t(e,r){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=lW(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=e,this.type=r.type,this.alternativeNames.push(r.name)}return t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,r)},t.prototype.transform=function(e){return St(this,void 0,void 0,function(){var r;return Ot(this,function(n){switch(n.label){case 0:return[4,qW(this.name,e.event,this.middleware)];case 1:return r=n.sent(),r===null&&e.cancel(new ty({retry:!1,reason:"dropped by destination middleware"})),[2,new sc(r)]}})})},t.prototype._createMethod=function(e){var r=this;return function(n){return St(r,void 0,void 0,function(){var i,a;return Ot(this,function(o){switch(o.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return Fw(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return o.sent(),[3,6];case 5:throw a=o.sent(),Fw(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),a;case 6:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return St(this,void 0,void 0,function(){return Ot(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,r){return St(this,void 0,void 0,function(){var n,i,a,o;return Ot(this,function(u){switch(u.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];u.label=1;case 1:return u.trys.push([1,3,,4]),Fw(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,r),a=(i=this.loadPromise).resolve,[4,n];case 2:return a.apply(i,[u.sent()]),[2,n];case 3:throw o=u.sent(),Fw(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},t.prototype.unload=function(e,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,r)},t}();function tme(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(r){e.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function rme(t,e){var r=t[e.creationName],n=t[e.name];return t.All===!1&&!r&&!n||r===!1||n===!1}function nme(t,e){return St(this,void 0,void 0,function(){var r,n,i,a,o,u;return Ot(this,function(s){switch(s.label){case 0:if(s.trys.push([0,9,,10]),r=new RegExp("https://cdn.segment.(com|build)"),n=GL(),!e)return[3,6];i=t.url.split("/"),a=i[i.length-2],o=t.url.replace(a,btoa(a).replace(/=/g,"")),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,SD(o.replace(r,n))];case 2:return s.sent(),[3,5];case 3:return s.sent(),[4,SD(t.url.replace(r,n))];case 4:return s.sent(),[3,5];case 5:return[3,8];case 6:return[4,SD(t.url.replace(r,n))];case 7:s.sent(),s.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw u=s.sent(),console.error("Failed to create PluginFactory",t),u;case 10:return[2]}})})}function ime(t,e,r,n,i,a){var o,u,s;return St(this,void 0,void 0,function(){var l,c,f,h=this;return Ot(this,function(d){switch(d.label){case 0:return l=[],c=(u=(o=t.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&u!==void 0?u:[],f=((s=t.remotePlugins)!==null&&s!==void 0?s:[]).map(function(v){return St(h,void 0,void 0,function(){var y,b,p,m,g,_,E;return Ot(this,function(T){switch(T.label){case 0:if(rme(e,v))return[2];T.label=1;case 1:return T.trys.push([1,6,,7]),b=a==null?void 0:a.find(function(w){var S=w.pluginName;return S===v.name}),b?[3,3]:[4,nme(v,n==null?void 0:n.obfuscate)];case 2:b=T.sent(),T.label=3;case 3:return y=b,y?(p=r[v.name],[4,y(Je(Je({},v.settings),p))]):[3,5];case 4:m=T.sent(),g=Array.isArray(m)?m:[m],tme(g),_=c.filter(function(w){return w.destinationName===v.creationName}),g.forEach(function(w){var S=new eme(v.creationName,w);_.length&&i&&S.addMiddleware(i),l.push(S)}),T.label=5;case 5:return[3,7];case 6:return E=T.sent(),console.warn("Failed to load Remote Plugin",E),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return d.sent(),[2,l.filter(Boolean)]}})})}var OD,Q8,ame=OL(),J8=(OD=(Q8=ame).__SEGMENT_INSPECTOR__)!==null&&OD!==void 0?OD:Q8.__SEGMENT_INSPECTOR__={},ome=function(t){var e;return(e=J8.attach)===null||e===void 0?void 0:e.call(J8,t)};function ume(t,e){return eT("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(r){return r.ok?r.json():r.text().then(function(n){throw new Error(n)})}).catch(function(r){throw console.error(r.message),r})}function sme(t){return FW().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function lme(t){var e,r,n;return FW().NODE_ENV!=="test"&&((n=(r=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function cme(t,e){Ige(t,e),Mge(t,e)}function fme(t,e,r){return St(this,void 0,void 0,function(){return Ot(this,function(n){switch(n.label){case 0:return[4,dme(t,e)];case 1:return n.sent(),Nge(t,r),[2]}})})}var hme=function(){var t,e,r=(t=window.location.hash)!==null&&t!==void 0?t:"",n=(e=window.location.search)!==null&&e!==void 0?e:"",i=n.length?n:r.replace(/(?=#).*(?=\?)/,"");return i},dme=function(t,e){return St(void 0,void 0,void 0,function(){return Ot(this,function(r){switch(r.label){case 0:return e.includes("ajs_")?[4,t.queryString(e).catch(console.error)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})};function vme(t,e,r,n,i,a,o){var u,s,l;return i===void 0&&(i=[]),St(this,void 0,void 0,function(){var c,f,h,d,v,y,b,p,m,g,_,E,T,w,S,C=this;return Ot(this,function(R){switch(R.label){case 0:return cme(r,o),c=i==null?void 0:i.filter(function(D){return typeof D=="object"}),f=i==null?void 0:i.filter(function(D){return typeof D=="function"&&typeof D.pluginName=="string"}),lme(e)?[4,ds(()=>import("./index-SSgaCJsD.js"),[]).then(function(D){return D.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return d=R.sent(),[3,3];case 2:d=void 0,R.label=3;case 3:return h=d,sme(e)||a.length>0?[4,ds(()=>import("./index-Du8R_OjM.js"),__vite__mapDeps([0,1])).then(function(D){return D.ajsDestinations(t,e,r.integrations,n,h,a)})]:[3,5];case 4:return y=R.sent(),[3,6];case 5:y=[],R.label=6;case 6:return v=y,e.legacyVideoPluginsEnabled?[4,ds(()=>import("./index-faQnK6uG.js"),[]).then(function(D){return D.loadLegacyVideoPlugins(r)})]:[3,8];case 7:R.sent(),R.label=8;case 8:return!((u=n.plan)===null||u===void 0)&&u.track?[4,ds(()=>import("./index-DXY95D4h.js"),__vite__mapDeps([2,1])).then(function(D){var M;return D.schemaFilter((M=n.plan)===null||M===void 0?void 0:M.track,e)})]:[3,10];case 9:return p=R.sent(),[3,11];case 10:p=void 0,R.label=11;case 11:return b=p,m=zye(e,n),[4,ime(e,r.integrations,m,n,h,f).catch(function(){return[]})];case 12:return g=R.sent(),_=ji(ji([Zye],v,!0),g,!0),b&&_.push(b),E=((s=n.integrations)===null||s===void 0?void 0:s.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,E?[3,14]:(w=(T=_).push,[4,Nye(r,m["Segment.io"],e.integrations)]);case 13:w.apply(T,[R.sent()]),R.label=14;case 14:return[4,r.register.apply(r,ji(ji([],_,!1),c,!1))];case 15:return S=R.sent(),[4,Dge(r,o)];case 16:return R.sent(),Object.entries((l=e.enabledMiddleware)!==null&&l!==void 0?l:{}).some(function(D){var M=D[1];return M})?[4,ds(()=>import("./index-BYACLwJu.js"),[]).then(function(D){var M=D.remoteMiddlewares;return St(C,void 0,void 0,function(){var I,k;return Ot(this,function(U){switch(U.label){case 0:return[4,M(S,e,n.obfuscate)];case 1:return I=U.sent(),k=I.map(function(F){return r.addSourceMiddleware(F)}),[2,Promise.all(k)]}})})})]:[3,18];case 17:R.sent(),R.label=18;case 18:return[4,Pge(r,o)];case 19:return R.sent(),[2,S]}})})}function pme(t,e,r){var n,i,a,o,u,s,l,c,f;return e===void 0&&(e={}),St(this,void 0,void 0,function(){var h,d,v,y,b,p,m,g,_,E,T;return Ot(this,function(w){switch(w.label){case 0:return e.disable===!0?[2,[new K8,sc.system()]]:(e.globalAnalyticsKey&&Cge(e.globalAnalyticsKey),t.cdnURL&&Fye(t.cdnURL),e.initialPageview&&r.add(new NI("page",[])),h=hme(),d=(n=t.cdnURL)!==null&&n!==void 0?n:GL(),(i=t.cdnSettings)!==null&&i!==void 0?(y=i,[3,3]):[3,1]);case 1:return[4,ume(t.writeKey,d)];case 2:y=w.sent(),w.label=3;case 3:return v=y,e.updateCDNSettings&&(v=e.updateCDNSettings(v)),typeof e.disable!="function"?[3,5]:[4,e.disable(v)];case 4:if(b=w.sent(),b)return[2,[new K8,sc.system()]];w.label=5;case 5:return p=(o=(a=v.integrations["Segment.io"])===null||a===void 0?void 0:a.retryQueue)!==null&&o!==void 0?o:!0,e=Je({retryQueue:p},e),m=new UW(Je(Je({},t),{cdnSettings:v,cdnURL:d}),e),ome(m),g=(u=t.plugins)!==null&&u!==void 0?u:[],_=(s=t.classicIntegrations)!==null&&s!==void 0?s:[],E=(l=e.integrations)===null||l===void 0?void 0:l["Segment.io"],dW.initRemoteMetrics(Je(Je({},v.metrics),{host:(c=E==null?void 0:E.apiHost)!==null&&c!==void 0?c:(f=v.metrics)===null||f===void 0?void 0:f.host,protocol:E==null?void 0:E.protocol})),[4,vme(t.writeKey,v,m,e,g,_,r)];case 6:return T=w.sent(),m.initialized=!0,m.emit("initialize",t,e),[4,fme(m,h,r)];case 7:return w.sent(),[2,[m,T]]}})})}var gme=function(t){Po(e,t);function e(){var r=this,n=lW(),i=n.promise,a=n.resolve;return r=t.call(this,function(o){return i.then(function(u){var s=u[0],l=u[1];return pme(s,l,o)})})||this,r._resolveLoadStart=function(o,u){return a([o,u])},r}return e.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},e.load=function(r,n){return n===void 0&&(n={}),new e().load(r,n)},e.standalone=function(r,n){return e.load({writeKey:r},n).then(function(i){return i[0]})},e}(Lge);/*! For license information please see base.mjs.LICENSE.txt */var yme={5:function(t,e,r){var n=this&&this.__extends||function(){var g=function(_,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(T[S]=w[S])},g(_,E)};return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=_}g(_,E),_.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var i=r(1018),a=r(8014),o=r(3413),u=r(7315),s=r(1342),l=r(9052),c=r(9155),f=r(9223),h=function(g){function _(E){var T=g.call(this)||this;return T.isStopped=!1,E?(T.destination=E,a.isSubscription(E)&&E.add(T)):T.destination=e.EMPTY_OBSERVER,T}return n(_,g),_.create=function(E,T,w){return new b(E,T,w)},_.prototype.next=function(E){this.isStopped?m(l.nextNotification(E),this):this._next(E)},_.prototype.error=function(E){this.isStopped?m(l.errorNotification(E),this):(this.isStopped=!0,this._error(E))},_.prototype.complete=function(){this.isStopped?m(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},_.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,g.prototype.unsubscribe.call(this),this.destination=null)},_.prototype._next=function(E){this.destination.next(E)},_.prototype._error=function(E){try{this.destination.error(E)}finally{this.unsubscribe()}},_.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},_}(a.Subscription);e.Subscriber=h;var d=Function.prototype.bind;function v(g,_){return d.call(g,_)}var y=function(){function g(_){this.partialObserver=_}return g.prototype.next=function(_){var E=this.partialObserver;if(E.next)try{E.next(_)}catch(T){p(T)}},g.prototype.error=function(_){var E=this.partialObserver;if(E.error)try{E.error(_)}catch(T){p(T)}else p(_)},g.prototype.complete=function(){var _=this.partialObserver;if(_.complete)try{_.complete()}catch(E){p(E)}},g}(),b=function(g){function _(E,T,w){var S,C,R=g.call(this)||this;return i.isFunction(E)||!E?S={next:E??void 0,error:T??void 0,complete:w??void 0}:R&&o.config.useDeprecatedNextContext?((C=Object.create(E)).unsubscribe=function(){return R.unsubscribe()},S={next:E.next&&v(E.next,C),error:E.error&&v(E.error,C),complete:E.complete&&v(E.complete,C)}):S=E,R.destination=new y(S),R}return n(_,g),_}(h);function p(g){o.config.useDeprecatedSynchronousErrorHandling?f.captureError(g):u.reportUnhandledError(g)}function m(g,_){var E=o.config.onStoppedNotification;E&&c.timeoutProvider.setTimeout(function(){return E(g,_)})}e.SafeSubscriber=b,e.EMPTY_OBSERVER={closed:!0,next:s.noop,error:function(g){throw g},complete:s.noop}},45:function(t,e){var r=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function a(o){this.position=0,this.length=o}return a.prototype.getUInt8=function(o){throw new Error("Not implemented")},a.prototype.getInt8=function(o){throw new Error("Not implemented")},a.prototype.getFloat64=function(o){throw new Error("Not implemented")},a.prototype.getVarInt=function(o){throw new Error("Not implemented")},a.prototype.putUInt8=function(o,u){throw new Error("Not implemented")},a.prototype.putInt8=function(o,u){throw new Error("Not implemented")},a.prototype.putFloat64=function(o,u){throw new Error("Not implemented")},a.prototype.getInt16=function(o){return this.getInt8(o)<<8|this.getUInt8(o+1)},a.prototype.getUInt16=function(o){return this.getUInt8(o)<<8|this.getUInt8(o+1)},a.prototype.getInt32=function(o){return this.getInt8(o)<<24|this.getUInt8(o+1)<<16|this.getUInt8(o+2)<<8|this.getUInt8(o+3)},a.prototype.getUInt32=function(o){return this.getUInt8(o)<<24|this.getUInt8(o+1)<<16|this.getUInt8(o+2)<<8|this.getUInt8(o+3)},a.prototype.getInt64=function(o){return this.getInt8(o)<<56|this.getUInt8(o+1)<<48|this.getUInt8(o+2)<<40|this.getUInt8(o+3)<<32|this.getUInt8(o+4)<<24|this.getUInt8(o+5)<<16|this.getUInt8(o+6)<<8|this.getUInt8(o+7)},a.prototype.getSlice=function(o,u){return new i(o,u,this)},a.prototype.putInt16=function(o,u){this.putInt8(o,u>>8),this.putUInt8(o+1,255&u)},a.prototype.putUInt16=function(o,u){this.putUInt8(o,u>>8&255),this.putUInt8(o+1,255&u)},a.prototype.putInt32=function(o,u){this.putInt8(o,u>>24),this.putUInt8(o+1,u>>16&255),this.putUInt8(o+2,u>>8&255),this.putUInt8(o+3,255&u)},a.prototype.putUInt32=function(o,u){this.putUInt8(o,u>>24&255),this.putUInt8(o+1,u>>16&255),this.putUInt8(o+2,u>>8&255),this.putUInt8(o+3,255&u)},a.prototype.putInt64=function(o,u){this.putInt8(o,u>>48),this.putUInt8(o+1,u>>42&255),this.putUInt8(o+2,u>>36&255),this.putUInt8(o+3,u>>30&255),this.putUInt8(o+4,u>>24&255),this.putUInt8(o+5,u>>16&255),this.putUInt8(o+6,u>>8&255),this.putUInt8(o+7,255&u)},a.prototype.putVarInt=function(o,u){for(var s=0;u>1;){var l=u%128;u>=128&&(l+=128),u/=128,this.putUInt8(o+s,l),s+=1}return s},a.prototype.putBytes=function(o,u){for(var s=0,l=u.remaining();s<l;s++)this.putUInt8(o+s,u.readUInt8())},a.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},a.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},a.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},a.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},a.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},a.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},a.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},a.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},a.prototype.readVarInt=function(){var o=this.getVarInt(this.position);return this._updatePos(o.length),o.value},a.prototype.writeUInt8=function(o){this.putUInt8(this._updatePos(1),o)},a.prototype.writeInt8=function(o){this.putInt8(this._updatePos(1),o)},a.prototype.writeInt16=function(o){this.putInt16(this._updatePos(2),o)},a.prototype.writeInt32=function(o){this.putInt32(this._updatePos(4),o)},a.prototype.writeUInt32=function(o){this.putUInt32(this._updatePos(4),o)},a.prototype.writeInt64=function(o){this.putInt64(this._updatePos(8),o)},a.prototype.writeFloat64=function(o){this.putFloat64(this._updatePos(8),o)},a.prototype.writeVarInt=function(o){var u=this.putVarInt(this.position,o);this._updatePos(u)},a.prototype.writeBytes=function(o){this.putBytes(this._updatePos(o.remaining()),o)},a.prototype.readSlice=function(o){return this.getSlice(this._updatePos(o),o)},a.prototype._updatePos=function(o){var u=this.position;return this.position+=o,u},a.prototype.remaining=function(){return this.length-this.position},a.prototype.hasRemaining=function(){return this.remaining()>0},a.prototype.reset=function(){this.position=0},a.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},a.prototype.toHex=function(){for(var o="",u=0;u<this.length;u++){var s=this.getUInt8(u).toString(16);s.length===1&&(s="0"+s),o+=s,u!==this.length-1&&(o+=" ")}return o},a}();e.default=n;var i=function(a){function o(u,s,l){var c=a.call(this,s)||this;return c._start=u,c._inner=l,c}return r(o,a),o.prototype.putUInt8=function(u,s){this._inner.putUInt8(this._start+u,s)},o.prototype.getUInt8=function(u){return this._inner.getUInt8(this._start+u)},o.prototype.putInt8=function(u,s){this._inner.putInt8(this._start+u,s)},o.prototype.putFloat64=function(u,s){this._inner.putFloat64(this._start+u,s)},o.prototype.getInt8=function(u){return this._inner.getInt8(this._start+u)},o.prototype.getFloat64=function(u){return this._inner.getFloat64(this._start+u)},o}(n)},93:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBrokenObjectReason=e.isBrokenObject=e.createBrokenObject=void 0;var r="__isBrokenObject__",n="__reason__";e.createBrokenObject=function(i,a){a===void 0&&(a={});var o=function(){throw i};return new Proxy(a,{get:function(u,s){return s===r||(s===n?i:void(s!=="toJSON"&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},e.isBrokenObject=function(i){return i!==null&&typeof i=="object"&&i[r]===!0},e.getBrokenObjectReason=function(i){return i[n]}},95:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncSubject=void 0;var i=function(a){function o(){var u=a!==null&&a.apply(this,arguments)||this;return u._value=null,u._hasValue=!1,u._isComplete=!1,u}return n(o,a),o.prototype._checkFinalizedStatuses=function(u){var s=this,l=s.hasError,c=s._hasValue,f=s._value,h=s.thrownError,d=s.isStopped,v=s._isComplete;l?u.error(h):(d||v)&&(c&&u.next(f),u.complete())},o.prototype.next=function(u){this.isStopped||(this._value=u,this._hasValue=!0)},o.prototype.complete=function(){var u=this,s=u._hasValue,l=u._value;u._isComplete||(this._isComplete=!0,s&&a.prototype.next.call(this,l),a.prototype.complete.call(this))},o}(r(2483).Subject);e.AsyncSubject=i},137:t=>{t.exports=class{constructor(e,r,n,i){let a;if(typeof e=="object"){let o=e;e=o.k_p,r=o.k_i,n=o.k_d,i=o.dt,a=o.i_max}this.k_p=typeof e=="number"?e:1,this.k_i=r||0,this.k_d=n||0,this.dt=i||0,this.i_max=a||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let r=this.dt;if(!r){let a=Date.now();r=this.lastTime===0?0:(a-this.lastTime)/1e3,this.lastTime=a}typeof r=="number"&&r!==0||(r=1);let n=this.target-this.currentValue;if(this.sumError=this.sumError+n*r,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let a=this.sumError>0?1:-1;this.sumError=a*this.i_max}let i=(n-this.lastError)/r;return this.lastError=n,this.k_p*n+this.k_i*this.sumError+this.k_d*i}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},182:function(t,e,r){var n=this&&this.__extends||function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualAction=e.VirtualTimeScheduler=void 0;var i=r(5267),a=r(8014),o=function(s){function l(c,f){c===void 0&&(c=u),f===void 0&&(f=1/0);var h=s.call(this,c,function(){return h.frame})||this;return h.maxFrames=f,h.frame=0,h.index=-1,h}return n(l,s),l.prototype.flush=function(){for(var c,f,h=this.actions,d=this.maxFrames;(f=h[0])&&f.delay<=d&&(h.shift(),this.frame=f.delay,!(c=f.execute(f.state,f.delay))););if(c){for(;f=h.shift();)f.unsubscribe();throw c}},l.frameTimeFactor=10,l}(r(5648).AsyncScheduler);e.VirtualTimeScheduler=o;var u=function(s){function l(c,f,h){h===void 0&&(h=c.index+=1);var d=s.call(this,c,f)||this;return d.scheduler=c,d.work=f,d.index=h,d.active=!0,d.index=c.index=h,d}return n(l,s),l.prototype.schedule=function(c,f){if(f===void 0&&(f=0),Number.isFinite(f)){if(!this.id)return s.prototype.schedule.call(this,c,f);this.active=!1;var h=new l(this.scheduler,this.work);return this.add(h),h.schedule(c,f)}return a.Subscription.EMPTY},l.prototype.requestAsyncId=function(c,f,h){h===void 0&&(h=0),this.delay=c.frame+h;var d=c.actions;return d.push(this),d.sort(l.sortActions),1},l.prototype.recycleAsyncId=function(c,f,h){},l.prototype._execute=function(c,f){if(this.active===!0)return s.prototype._execute.call(this,c,f)},l.sortActions=function(c,f){return c.delay===f.delay?c.index===f.index?0:c.index>f.index?1:-1:c.delay>f.delay?1:-1},l}(i.AsyncAction);e.VirtualAction=u},187:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.zipAll=void 0;var n=r(7286),i=r(3638);e.zipAll=function(a){return i.joinAllInternals(n.zip,a)}},206:function(t,e,r){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingTable=e.Rediscovery=void 0;var i=n(r(4151));e.Rediscovery=i.default;var a=n(r(9018));e.RoutingTable=a.default,e.default=i.default},245:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.not=void 0,e.not=function(r,n){return function(i,a){return!r.call(n,i,a)}}},269:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.startWith=void 0;var n=r(3865),i=r(1107),a=r(7843);e.startWith=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var s=i.popScheduler(o);return a.operate(function(l,c){(s?n.concat(o,l,s):n.concat(o,l)).subscribe(c)})}},326:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TELEMETRY_APIS=e.BOLT_PROTOCOL_V5_8=e.BOLT_PROTOCOL_V5_7=e.BOLT_PROTOCOL_V5_6=e.BOLT_PROTOCOL_V5_5=e.BOLT_PROTOCOL_V5_4=e.BOLT_PROTOCOL_V5_3=e.BOLT_PROTOCOL_V5_2=e.BOLT_PROTOCOL_V5_1=e.BOLT_PROTOCOL_V5_0=e.BOLT_PROTOCOL_V4_4=e.BOLT_PROTOCOL_V4_3=e.BOLT_PROTOCOL_V4_2=e.BOLT_PROTOCOL_V4_1=e.BOLT_PROTOCOL_V4_0=e.BOLT_PROTOCOL_V3=e.BOLT_PROTOCOL_V2=e.BOLT_PROTOCOL_V1=e.DEFAULT_POOL_MAX_SIZE=e.DEFAULT_POOL_ACQUISITION_TIMEOUT=e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=e.ACCESS_MODE_WRITE=e.ACCESS_MODE_READ=e.FETCH_ALL=void 0,e.FETCH_ALL=-1,e.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,e.DEFAULT_POOL_MAX_SIZE=100,e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,e.ACCESS_MODE_READ="READ",e.ACCESS_MODE_WRITE="WRITE",e.BOLT_PROTOCOL_V1=1,e.BOLT_PROTOCOL_V2=2,e.BOLT_PROTOCOL_V3=3,e.BOLT_PROTOCOL_V4_0=4,e.BOLT_PROTOCOL_V4_1=4.1,e.BOLT_PROTOCOL_V4_2=4.2,e.BOLT_PROTOCOL_V4_3=4.3,e.BOLT_PROTOCOL_V4_4=4.4,e.BOLT_PROTOCOL_V5_0=5,e.BOLT_PROTOCOL_V5_1=5.1,e.BOLT_PROTOCOL_V5_2=5.2,e.BOLT_PROTOCOL_V5_3=5.3,e.BOLT_PROTOCOL_V5_4=5.4,e.BOLT_PROTOCOL_V5_5=5.5,e.BOLT_PROTOCOL_V5_6=5.6,e.BOLT_PROTOCOL_V5_7=5.7,e.BOLT_PROTOCOL_V5_8=5.8,e.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},347:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromEventPattern=void 0;var n=r(4662),i=r(1018),a=r(1251);e.fromEventPattern=function o(u,s,l){return l?o(u,s).pipe(a.mapOneOrManyArgs(l)):new n.Observable(function(c){var f=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];return c.next(d.length===1?d[0]:d)},h=u(f);return i.isFunction(s)?function(){return s(f,h)}:void 0})}},361:function(t,e,r){var n=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,d,v=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=v.next()).done;)y.push(h.value)}catch(b){d={error:b}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(d)throw d.error}}return y},i=this&&this.__spreadArray||function(l,c){for(var f=0,h=c.length,d=l.length;f<h;f++,d++)l[d]=c[f];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var a=r(7843),o=r(7302),u=r(1107),s=r(4917);e.merge=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=u.popScheduler(l),h=u.popNumber(l,1/0);return a.operate(function(d,v){o.mergeAll(h)(s.from(i([d],n(l)),f)).subscribe(v)})}},373:function(t,e,r){var n=this&&this.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(d[y]=v[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=f}c(f,h),f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),i=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.Dechunker=e.Chunker=void 0;var a=i(r(45)),o=r(5319),u=i(r(5553)),s=function(c){function f(h,d){var v=c.call(this,0)||this;return v._bufferSize=d||1400,v._ch=h,v._buffer=(0,o.alloc)(v._bufferSize),v._currentChunkStart=0,v._chunkOpen=!1,v}return n(f,c),f.prototype.putUInt8=function(h,d){this._ensure(1),this._buffer.writeUInt8(d)},f.prototype.putInt8=function(h,d){this._ensure(1),this._buffer.writeInt8(d)},f.prototype.putFloat64=function(h,d){this._ensure(8),this._buffer.writeFloat64(d)},f.prototype.putBytes=function(h,d){for(;d.remaining()>0;)this._ensure(1),this._buffer.remaining()>d.remaining()?this._buffer.writeBytes(d):this._buffer.writeBytes(d.readSlice(this._buffer.remaining()));return this},f.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var h=this._buffer;this._buffer=null,this._ch.write(h.getSlice(0,h.position)),this._buffer=(0,o.alloc)(this._bufferSize),this._chunkOpen=!1}return this},f.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},f.prototype._ensure=function(h){var d=this._chunkOpen?h:h+2;this._buffer.remaining()<d&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},f.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var h=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,h),this._chunkOpen=!1}},f}(a.default);e.Chunker=s;var l=function(){function c(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return c.prototype.AWAITING_CHUNK=function(f){return f.remaining()>=2?this._onHeader(f.readUInt16()):(this._partialChunkHeader=f.readUInt8()<<8,this.IN_HEADER)},c.prototype.IN_HEADER=function(f){return this._onHeader(65535&(this._partialChunkHeader|f.readUInt8()))},c.prototype.IN_CHUNK=function(f){return this._chunkSize<=f.remaining()?(this._currentMessage.push(f.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=f.remaining(),this._currentMessage.push(f.readSlice(f.remaining())),this.IN_CHUNK)},c.prototype.CLOSED=function(f){},c.prototype._onHeader=function(f){if(f===0){var h=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:h=this._currentMessage[0];break;default:h=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(h),this.AWAITING_CHUNK}return this._chunkSize=f,this.IN_CHUNK},c.prototype.write=function(f){for(;f.hasRemaining();)this._state=this._state(f)},c}();e.Dechunker=l},378:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultIfEmpty=void 0;var n=r(7843),i=r(3111);e.defaultIfEmpty=function(a){return n.operate(function(o,u){var s=!1;o.subscribe(i.createOperatorSubscriber(u,function(l){s=!0,u.next(l)},function(){s||u.next(a),u.complete()}))})}},397:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assertNotificationFilterIsEmpty=e.assertImpersonatedUserIsEmpty=e.assertTxConfigIsEmpty=e.assertDatabaseIsEmpty=void 0;var n=r(9305);r(9014),e.assertTxConfigIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i&&!i.isEmpty()){var u=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw a(u.message),o.onError(u),u}},e.assertDatabaseIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i){var u=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw a(u.message),o.onError(u),u}},e.assertImpersonatedUserIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i){var u=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(i,"."));throw a(u.message),o.onError(u),u}},e.assertNotificationFilterIsEmpty=function(i,a,o){if(a===void 0&&(a=function(){}),i!==void 0){var u=(0,n.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(n.json.stringify(i),"."));throw a(u.message),o.onError(u),u}}},407:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,d=arguments.length;h<d;h++)for(var v in f=arguments[h])Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),b=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)b.push(d.value)}catch(p){v={error:p}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return b};Object.defineProperty(e,"__esModule",{value:!0}),e.Url=e.formatIPv6Address=e.formatIPv4Address=e.defaultPortForScheme=e.parseDatabaseUrl=void 0;var a=r(6587),o=function(c,f,h,d,v){this.scheme=c,this.host=f,this.port=h,this.hostAndPort=d,this.query=v};function u(c,f,h){if((c=(c??"").trim())==="")throw new Error("Illegal empty ".concat(f," in URL query '").concat(h,"'"));return c}function s(c){var f=c.charAt(0)==="[",h=c.charAt(c.length-1)==="]";if(f||h){if(f&&h)return c;throw new Error("Illegal IPv6 address ".concat(c))}return"[".concat(c,"]")}function l(c){return c==="http"?7474:c==="https"?7473:7687}e.Url=o,e.parseDatabaseUrl=function(c){var f;(0,a.assertString)(c,"URL");var h,d=function(E){return(E=E.trim()).includes("://")?{schemeMissing:!1,url:E}:{schemeMissing:!0,url:"none://".concat(E)}}(c),v=function(E){function T(C,R){var D=C.indexOf(R);return D>=0?[C.substring(0,D),C[D],C.substring(D+1)]:[C,"",""]}var w,S={};return(w=T(E,":"))[1]===":"&&(S.scheme=decodeURIComponent(w[0]),E=w[2]),(w=T(E,"#"))[1]==="#"&&(S.fragment=decodeURIComponent(w[2]),E=w[0]),(w=T(E,"?"))[1]==="?"&&(S.query=w[2],E=w[0]),E.startsWith("//")?(w=T(E.substr(2),"/"),(S=n(n({},S),function(C){var R,D={};(R=function(U,F){var B=U.lastIndexOf(F);return B>=0?[U.substring(0,B),U[B],U.substring(B+1)]:["","",U]}(C,"@"))[1]==="@"&&(D.userInfo=decodeURIComponent(R[0]),C=R[2]);var M=i(function(U,F,B){var z=T(U,F),H=T(z[2],B);return[H[0],H[2]]}(C,"[","]"),2),I=M[0],k=M[1];return I!==""?(D.host=I,R=T(k,":")):(R=T(C,":"),D.host=R[0]),R[1]===":"&&(D.port=R[2]),D}(w[0]))).path=w[1]+w[2]):S.path=E,S}(d.url),y=d.schemeMissing?null:function(E){return E!=null?((E=E.trim()).charAt(E.length-1)===":"&&(E=E.substring(0,E.length-1)),E):null}(v.scheme),b=function(E){if(E==null)throw new Error("Unable to extract host from null or undefined URL");return E.trim()}(v.host),p=function(E){if(E===""||E==null)throw new Error("Illegal host ".concat(E));return E.includes(":")?s(E):E}(b),m=function(E,T){var w=typeof E=="string"?parseInt(E,10):E;return w==null||isNaN(w)?l(T):w}(v.port,y),g="".concat(p,":").concat(m),_=function(E,T){var w=E!=null?function(C){return((C=(C??"").trim())==null?void 0:C.charAt(0))==="?"&&(C=C.substring(1,C.length)),C}(E):null,S={};return w!=null&&w.split("&").forEach(function(C){var R=C.split("=");if(R.length!==2)throw new Error("Invalid parameters: '".concat(R.toString(),"' in URL '").concat(T,"'."));var D=u(R[0],"key",T),M=u(R[1],"value",T);if(S[D]!==void 0)throw new Error("Duplicated query parameters with key '".concat(D,"' in URL '").concat(T,"'"));S[D]=M}),S}((f=v.query)!==null&&f!==void 0?f:typeof(h=v.resourceName)!="string"?null:i(h.split("?"),2)[1],c);return new o(y,b,m,g,_)},e.formatIPv4Address=function(c,f){return"".concat(c,":").concat(f)},e.formatIPv6Address=function(c,f){var h=s(c);return"".concat(h,":").concat(f)},e.defaultPortForScheme=l},481:(t,e,r)=>{t.exports=r(137)},489:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimeInterval=e.timeInterval=void 0;var n=r(7961),i=r(7843),a=r(3111);e.timeInterval=function(u){return u===void 0&&(u=n.asyncScheduler),i.operate(function(s,l){var c=u.now();s.subscribe(a.createOperatorSubscriber(l,function(f){var h=u.now(),d=h-c;c=h,l.next(new o(f,d))}))})};var o=function(u,s){this.value=u,this.interval=s};e.TimeInterval=o},490:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreElements=void 0;var n=r(7843),i=r(3111),a=r(1342);e.ignoreElements=function(){return n.operate(function(o,u){o.subscribe(i.createOperatorSubscriber(u,a.noop))})}},582:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sequenceEqual=void 0;var n=r(7843),i=r(3111),a=r(9445);e.sequenceEqual=function(o,u){return u===void 0&&(u=function(s,l){return s===l}),n.operate(function(s,l){var c={buffer:[],complete:!1},f={buffer:[],complete:!1},h=function(v){l.next(v),l.complete()},d=function(v,y){var b=i.createOperatorSubscriber(l,function(p){var m=y.buffer,g=y.complete;m.length===0?g?h(!1):v.buffer.push(p):!u(p,m.shift())&&h(!1)},function(){v.complete=!0;var p=y.complete,m=y.buffer;p&&h(m.length===0),b==null||b.unsubscribe()});return b};s.subscribe(d(c,f)),a.innerFrom(o).subscribe(d(f,c))})}},614:function(t,e){var r=this&&this.__awaiter||function(i,a,o,u){return new(o||(o=Promise))(function(s,l){function c(d){try{h(u.next(d))}catch(v){l(v)}}function f(d){try{h(u.throw(d))}catch(v){l(v)}}function h(d){var v;d.done?s(d.value):(v=d.value,v instanceof o?v:new o(function(y){y(v)})).then(c,f)}h((u=u.apply(i,a||[])).next())})},n=this&&this.__generator||function(i,a){var o,u,s,l,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(d){return function(v){if(o)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(c=0)),c;)try{if(o=1,u&&(s=2&v[0]?u.return:v[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,v[1])).done)return s;switch(u=0,s&&(v=[2&v[0],s.value]),v[0]){case 0:case 1:s=v;break;case 4:return c.label++,{value:v[1],done:!1};case 5:c.label++,u=v[1],v=[0];continue;case 7:v=c.ops.pop(),c.trys.pop();continue;default:if(!((s=(s=c.trys).length>0&&s[s.length-1])||v[0]!==6&&v[0]!==2)){c=0;continue}if(v[0]===3&&(!s||v[1]>s[0]&&v[1]<s[3])){c.label=v[1];break}if(v[0]===6&&c.label<s[1]){c.label=s[1],s=v;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(v);break}s[2]&&c.ops.pop(),c.trys.pop();continue}v=a.call(i,c)}catch(y){v=[6,y],u=0}finally{o=s=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([h,d])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(i){return r(this,void 0,void 0,function(){return n(this,function(a){return[2,i]})})}}},715:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(i){this._offset=i||0}return n.prototype.next=function(i){if(i===0)return-1;var a=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),a%i},n}();e.default=r},754:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(f,h,d,v){v===void 0&&(v=d);var y=Object.getOwnPropertyDescriptor(h,d);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,v,y)}:function(f,h,d,v){v===void 0&&(v=d),f[v]=h[d]}),i=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),a=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&n(h,f,d);return i(h,f),h};Object.defineProperty(e,"__esModule",{value:!0}),e.TxConfig=void 0;var o=a(r(6587)),u=r(9691),s=r(3371),l=function(){function f(h,d){(function(v){v!=null&&o.assertObject(v,"Transaction config")})(h),this.timeout=function(v,y){if(o.isObject(v)&&v.timeout!=null){o.assertNumberOrInteger(v.timeout,"Transaction timeout"),function(p){return typeof p.timeout=="number"&&!Number.isInteger(p.timeout)}(v)&&(y==null?void 0:y.isInfoEnabled())===!0&&(y==null||y.info("Transaction timeout expected to be an integer, got: ".concat(v.timeout,". The value will be rounded up.")));var b=(0,s.int)(v.timeout,{ceilFloat:!0});if(b.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return b}return null}(h,d),this.metadata=function(v){if(o.isObject(v)&&v.metadata!=null){var y=v.metadata;if(o.assertObject(y,"config.metadata"),Object.keys(y).length!==0)return y}return null}(h)}return f.empty=function(){return c},f.prototype.isEmpty=function(){return Object.values(this).every(function(h){return h==null})},f}();e.TxConfig=l;var c=new l({})},766:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publish=void 0;var n=r(2483),i=r(9247),a=r(1483);e.publish=function(o){return o?function(u){return a.connect(o)(u)}:function(u){return i.multicast(new n.Subject)(u)}}},783:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var n=r(7843),i=r(3111);e.filter=function(a,o){return n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){return a.call(o,c,l++)&&s.next(c)}))})}},827:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsapScheduler=void 0;var i=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return n(o,a),o.prototype.flush=function(u){this._active=!0;var s=this._scheduled;this._scheduled=void 0;var l,c=this.actions;u=u||c.shift();do if(l=u.execute(u.state,u.delay))break;while((u=c[0])&&u.id===s&&c.shift());if(this._active=!1,l){for(;(u=c[0])&&u.id===s&&c.shift();)u.unsubscribe();throw l}},o}(r(5648).AsyncScheduler);e.AsapScheduler=i},844:function(t,e,r){var n=this&&this.__extends||function(){var d=function(v,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,p){b.__proto__=p}||function(b,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(b[m]=p[m])},d(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function b(){this.constructor=v}d(v,y),v.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(1711)),o=r(397),u=i(r(7449)),s=i(r(3321)),l=i(r(7021)),c=r(9014),f=r(9305).internal.constants.BOLT_PROTOCOL_V5_0,h=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return n(v,d),Object.defineProperty(v.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(b){return b(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.initialize=function(y){var b=this,p=y===void 0?{}:y,m=p.userAgent,g=(p.boltAgent,p.authToken),_=p.notificationFilter,E=p.onError,T=p.onComplete,w=new c.LoginObserver({onError:function(S){return b._onLoginError(S,E)},onCompleted:function(S){return b._onLoginCompleted(S,g,T)}});return(0,o.assertNotificationFilterIsEmpty)(_,this._onProtocolError,w),this.write(l.default.hello(m,g,this._serversideRouting),w,!0),w},v}(a.default);e.default=h},846:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.take=void 0;var n=r(8616),i=r(7843),a=r(3111);e.take=function(o){return o<=0?function(){return n.EMPTY}:i.operate(function(u,s){var l=0;u.subscribe(a.createOperatorSubscriber(s,function(c){++l<=o&&(s.next(c),o<=l&&s.complete())}))})}},854:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleAsyncIterable=void 0;var n=r(4662),i=r(7110);e.scheduleAsyncIterable=function(a,o){if(!a)throw new Error("Iterable cannot be null");return new n.Observable(function(u){i.executeSchedule(u,o,function(){var s=a[Symbol.asyncIterator]();i.executeSchedule(u,o,function(){s.next().then(function(l){l.done?u.complete():u.next(l.value)})},0,!0)})})}},914:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0;var n=r(7961),i=r(8766),a=r(4092);e.delay=function(o,u){u===void 0&&(u=n.asyncScheduler);var s=a.timer(o,u);return i.delayWhen(function(){return s})}},934:function(t,e,r){var n=this&&this.__extends||function(){var y=function(b,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},y(b,p)};return function(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=b}y(b,p),b.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(y){for(var b,p=1,m=arguments.length;p<m;p++)for(var g in b=arguments[p])Object.prototype.hasOwnProperty.call(b,g)&&(y[g]=b[g]);return y},i.apply(this,arguments)},a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(6345)),u=a(r(3019)),s=a(r(3321)),l=a(r(7021)),c=r(9014),f=r(9305).internal.constants,h=f.BOLT_PROTOCOL_V5_2,d=f.FETCH_ALL,v=function(y){function b(){return y!==null&&y.apply(this,arguments)||this}return n(b,y),Object.defineProperty(b.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"transformer",{get:function(){var p=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(m){return m(p._config,p._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.initialize=function(p){var m=this,g=p===void 0?{}:p,_=g.userAgent,E=(g.boltAgent,g.authToken),T=g.notificationFilter,w=g.onError,S=g.onComplete,C={},R=new c.LoginObserver({onError:function(D){return m._onLoginError(D,w)},onCompleted:function(D){return C.metadata=D,m._onLoginCompleted(D)}});return this.write(l.default.hello5x2(_,T,this._serversideRouting),R,!1),this.logon({authToken:E,onComplete:function(D){return S(i(i({},D),C.metadata))},onError:w,flush:!0})},b.prototype.beginTransaction=function(p){var m=p===void 0?{}:p,g=m.bookmarks,_=m.txConfig,E=m.database,T=m.mode,w=m.impersonatedUser,S=m.notificationFilter,C=m.beforeError,R=m.afterError,D=m.beforeComplete,M=m.afterComplete,I=new c.ResultStreamObserver({server:this._server,beforeError:C,afterError:R,beforeComplete:D,afterComplete:M});return I.prepareToHandleSingleResponse(),this.write(l.default.begin({bookmarks:g,txConfig:_,database:E,mode:T,impersonatedUser:w,notificationFilter:S}),I,!0),I},b.prototype.run=function(p,m,g){var _=g===void 0?{}:g,E=_.bookmarks,T=_.txConfig,w=_.database,S=_.mode,C=_.impersonatedUser,R=_.notificationFilter,D=_.beforeKeys,M=_.afterKeys,I=_.beforeError,k=_.afterError,U=_.beforeComplete,F=_.afterComplete,B=_.flush,z=B===void 0||B,H=_.reactive,Y=H!==void 0&&H,W=_.fetchSize,Z=W===void 0?d:W,le=_.highRecordWatermark,ce=le===void 0?Number.MAX_VALUE:le,ue=_.lowRecordWatermark,de=ue===void 0?Number.MAX_VALUE:ue,he=new c.ResultStreamObserver({server:this._server,reactive:Y,fetchSize:Z,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:D,afterKeys:M,beforeError:I,afterError:k,beforeComplete:U,afterComplete:F,highRecordWatermark:ce,lowRecordWatermark:de}),fe=Y;return this.write(l.default.runWithMetadata(p,m,{bookmarks:E,txConfig:T,database:w,mode:S,impersonatedUser:C,notificationFilter:R}),he,fe&&z),Y||this.write(l.default.pull({n:Z}),he,z),he},b}(o.default);e.default=v},983:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMap=void 0;var n=r(5471),i=r(9445),a=r(7843),o=r(1983),u=r(1018);e.mergeMap=function s(l,c,f){return f===void 0&&(f=1/0),u.isFunction(c)?s(function(h,d){return n.map(function(v,y){return c(h,v,d,y)})(i.innerFrom(l(h,d)))},f):(typeof c=="number"&&(f=c),a.operate(function(h,d){return o.mergeInternals(h,d,l,f)}))}},1004:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.of=void 0;var n=r(1107),i=r(4917);e.of=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var u=n.popScheduler(a);return i.from(a,u)}},1018:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0,e.isFunction=function(r){return typeof r=="function"}},1038:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.count=void 0;var n=r(9139);e.count=function(i){return n.reduce(function(a,o,u){return!i||i(o,u)?a+1:a},0)}},1048:(t,e,r)=>{const n=r(7991),i=r(9318),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(j){return+j!=j&&(j=0),s.alloc(+j)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(j){if(j>o)throw new RangeError('The value "'+j+'" is invalid for option "size"');const G=new Uint8Array(j);return Object.setPrototypeOf(G,s.prototype),G}function s(j,G,X){if(typeof j=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(j)}return l(j,G,X)}function l(j,G,X){if(typeof j=="string")return function(ge,Oe){if(typeof Oe=="string"&&Oe!==""||(Oe="utf8"),!s.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);const Le=0|y(ge,Oe);let We=u(Le);const ut=We.write(ge,Oe);return ut!==Le&&(We=We.slice(0,ut)),We}(j,G);if(ArrayBuffer.isView(j))return function(ge){if(pe(ge,Uint8Array)){const Oe=new Uint8Array(ge);return d(Oe.buffer,Oe.byteOffset,Oe.byteLength)}return h(ge)}(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(pe(j,ArrayBuffer)||j&&pe(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(j,SharedArrayBuffer)||j&&pe(j.buffer,SharedArrayBuffer)))return d(j,G,X);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=j.valueOf&&j.valueOf();if(ie!=null&&ie!==j)return s.from(ie,G,X);const ve=function(ge){if(s.isBuffer(ge)){const Oe=0|v(ge.length),Le=u(Oe);return Le.length===0||ge.copy(Le,0,0,Oe),Le}return ge.length!==void 0?typeof ge.length!="number"||_e(ge.length)?u(0):h(ge):ge.type==="Buffer"&&Array.isArray(ge.data)?h(ge.data):void 0}(j);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return s.from(j[Symbol.toPrimitive]("string"),G,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function f(j){return c(j),u(j<0?0:0|v(j))}function h(j){const G=j.length<0?0:0|v(j.length),X=u(G);for(let ie=0;ie<G;ie+=1)X[ie]=255&j[ie];return X}function d(j,G,X){if(G<0||j.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<G+(X||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return ie=G===void 0&&X===void 0?new Uint8Array(j):X===void 0?new Uint8Array(j,G):new Uint8Array(j,G,X),Object.setPrototypeOf(ie,s.prototype),ie}function v(j){if(j>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|j}function y(j,G){if(s.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||pe(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const X=j.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&X===0)return 0;let ve=!1;for(;;)switch(G){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return Q(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return ee(j).length;default:if(ve)return ie?-1:Q(j).length;G=(""+G).toLowerCase(),ve=!0}}function b(j,G,X){let ie=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(G>>>=0))return"";for(j||(j="utf8");;)switch(j){case"hex":return k(this,G,X);case"utf8":case"utf-8":return R(this,G,X);case"ascii":return M(this,G,X);case"latin1":case"binary":return I(this,G,X);case"base64":return C(this,G,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,G,X);default:if(ie)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),ie=!0}}function p(j,G,X){const ie=j[G];j[G]=j[X],j[X]=ie}function m(j,G,X,ie,ve){if(j.length===0)return-1;if(typeof X=="string"?(ie=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),_e(X=+X)&&(X=ve?0:j.length-1),X<0&&(X=j.length+X),X>=j.length){if(ve)return-1;X=j.length-1}else if(X<0){if(!ve)return-1;X=0}if(typeof G=="string"&&(G=s.from(G,ie)),s.isBuffer(G))return G.length===0?-1:g(j,G,X,ie,ve);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(j,G,X):Uint8Array.prototype.lastIndexOf.call(j,G,X):g(j,[G],X,ie,ve);throw new TypeError("val must be string, number or Buffer")}function g(j,G,X,ie,ve){let ge,Oe=1,Le=j.length,We=G.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(j.length<2||G.length<2)return-1;Oe=2,Le/=2,We/=2,X/=2}function ut(Ze,tt){return Oe===1?Ze[tt]:Ze.readUInt16BE(tt*Oe)}if(ve){let Ze=-1;for(ge=X;ge<Le;ge++)if(ut(j,ge)===ut(G,Ze===-1?0:ge-Ze)){if(Ze===-1&&(Ze=ge),ge-Ze+1===We)return Ze*Oe}else Ze!==-1&&(ge-=ge-Ze),Ze=-1}else for(X+We>Le&&(X=Le-We),ge=X;ge>=0;ge--){let Ze=!0;for(let tt=0;tt<We;tt++)if(ut(j,ge+tt)!==ut(G,tt)){Ze=!1;break}if(Ze)return ge}return-1}function _(j,G,X,ie){X=Number(X)||0;const ve=j.length-X;ie?(ie=Number(ie))>ve&&(ie=ve):ie=ve;const ge=G.length;let Oe;for(ie>ge/2&&(ie=ge/2),Oe=0;Oe<ie;++Oe){const Le=parseInt(G.substr(2*Oe,2),16);if(_e(Le))return Oe;j[X+Oe]=Le}return Oe}function E(j,G,X,ie){return ae(Q(G,j.length-X),j,X,ie)}function T(j,G,X,ie){return ae(function(ve){const ge=[];for(let Oe=0;Oe<ve.length;++Oe)ge.push(255&ve.charCodeAt(Oe));return ge}(G),j,X,ie)}function w(j,G,X,ie){return ae(ee(G),j,X,ie)}function S(j,G,X,ie){return ae(function(ve,ge){let Oe,Le,We;const ut=[];for(let Ze=0;Ze<ve.length&&!((ge-=2)<0);++Ze)Oe=ve.charCodeAt(Ze),Le=Oe>>8,We=Oe%256,ut.push(We),ut.push(Le);return ut}(G,j.length-X),j,X,ie)}function C(j,G,X){return G===0&&X===j.length?n.fromByteArray(j):n.fromByteArray(j.slice(G,X))}function R(j,G,X){X=Math.min(j.length,X);const ie=[];let ve=G;for(;ve<X;){const ge=j[ve];let Oe=null,Le=ge>239?4:ge>223?3:ge>191?2:1;if(ve+Le<=X){let We,ut,Ze,tt;switch(Le){case 1:ge<128&&(Oe=ge);break;case 2:We=j[ve+1],(192&We)==128&&(tt=(31&ge)<<6|63&We,tt>127&&(Oe=tt));break;case 3:We=j[ve+1],ut=j[ve+2],(192&We)==128&&(192&ut)==128&&(tt=(15&ge)<<12|(63&We)<<6|63&ut,tt>2047&&(tt<55296||tt>57343)&&(Oe=tt));break;case 4:We=j[ve+1],ut=j[ve+2],Ze=j[ve+3],(192&We)==128&&(192&ut)==128&&(192&Ze)==128&&(tt=(15&ge)<<18|(63&We)<<12|(63&ut)<<6|63&Ze,tt>65535&&tt<1114112&&(Oe=tt))}}Oe===null?(Oe=65533,Le=1):Oe>65535&&(Oe-=65536,ie.push(Oe>>>10&1023|55296),Oe=56320|1023&Oe),ie.push(Oe),ve+=Le}return function(ge){const Oe=ge.length;if(Oe<=D)return String.fromCharCode.apply(String,ge);let Le="",We=0;for(;We<Oe;)Le+=String.fromCharCode.apply(String,ge.slice(We,We+=D));return Le}(ie)}e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=function(){try{const j=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(j,G),j.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(j,G,X){return l(j,G,X)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(j,G,X){return function(ie,ve,ge){return c(ie),ie<=0?u(ie):ve!==void 0?typeof ge=="string"?u(ie).fill(ve,ge):u(ie).fill(ve):u(ie)}(j,G,X)},s.allocUnsafe=function(j){return f(j)},s.allocUnsafeSlow=function(j){return f(j)},s.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==s.prototype},s.compare=function(j,G){if(pe(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),pe(G,Uint8Array)&&(G=s.from(G,G.offset,G.byteLength)),!s.isBuffer(j)||!s.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===G)return 0;let X=j.length,ie=G.length;for(let ve=0,ge=Math.min(X,ie);ve<ge;++ve)if(j[ve]!==G[ve]){X=j[ve],ie=G[ve];break}return X<ie?-1:ie<X?1:0},s.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(j,G){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return s.alloc(0);let X;if(G===void 0)for(G=0,X=0;X<j.length;++X)G+=j[X].length;const ie=s.allocUnsafe(G);let ve=0;for(X=0;X<j.length;++X){let ge=j[X];if(pe(ge,Uint8Array))ve+ge.length>ie.length?(s.isBuffer(ge)||(ge=s.from(ge)),ge.copy(ie,ve)):Uint8Array.prototype.set.call(ie,ge,ve);else{if(!s.isBuffer(ge))throw new TypeError('"list" argument must be an Array of Buffers');ge.copy(ie,ve)}ve+=ge.length}return ie},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<j;G+=2)p(this,G,G+1);return this},s.prototype.swap32=function(){const j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<j;G+=4)p(this,G,G+3),p(this,G+1,G+2);return this},s.prototype.swap64=function(){const j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<j;G+=8)p(this,G,G+7),p(this,G+1,G+6),p(this,G+2,G+5),p(this,G+3,G+4);return this},s.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?R(this,0,j):b.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(j){if(!s.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j||s.compare(this,j)===0},s.prototype.inspect=function(){let j="";const G=e.INSPECT_MAX_BYTES;return j=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(j+=" ... "),"<Buffer "+j+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(j,G,X,ie,ve){if(pe(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),!s.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(G===void 0&&(G=0),X===void 0&&(X=j?j.length:0),ie===void 0&&(ie=0),ve===void 0&&(ve=this.length),G<0||X>j.length||ie<0||ve>this.length)throw new RangeError("out of range index");if(ie>=ve&&G>=X)return 0;if(ie>=ve)return-1;if(G>=X)return 1;if(this===j)return 0;let ge=(ve>>>=0)-(ie>>>=0),Oe=(X>>>=0)-(G>>>=0);const Le=Math.min(ge,Oe),We=this.slice(ie,ve),ut=j.slice(G,X);for(let Ze=0;Ze<Le;++Ze)if(We[Ze]!==ut[Ze]){ge=We[Ze],Oe=ut[Ze];break}return ge<Oe?-1:Oe<ge?1:0},s.prototype.includes=function(j,G,X){return this.indexOf(j,G,X)!==-1},s.prototype.indexOf=function(j,G,X){return m(this,j,G,X,!0)},s.prototype.lastIndexOf=function(j,G,X){return m(this,j,G,X,!1)},s.prototype.write=function(j,G,X,ie){if(G===void 0)ie="utf8",X=this.length,G=0;else if(X===void 0&&typeof G=="string")ie=G,X=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(X)?(X>>>=0,ie===void 0&&(ie="utf8")):(ie=X,X=void 0)}const ve=this.length-G;if((X===void 0||X>ve)&&(X=ve),j.length>0&&(X<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let ge=!1;for(;;)switch(ie){case"hex":return _(this,j,G,X);case"utf8":case"utf-8":return E(this,j,G,X);case"ascii":case"latin1":case"binary":return T(this,j,G,X);case"base64":return w(this,j,G,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,j,G,X);default:if(ge)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ge=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const D=4096;function M(j,G,X){let ie="";X=Math.min(j.length,X);for(let ve=G;ve<X;++ve)ie+=String.fromCharCode(127&j[ve]);return ie}function I(j,G,X){let ie="";X=Math.min(j.length,X);for(let ve=G;ve<X;++ve)ie+=String.fromCharCode(j[ve]);return ie}function k(j,G,X){const ie=j.length;(!G||G<0)&&(G=0),(!X||X<0||X>ie)&&(X=ie);let ve="";for(let ge=G;ge<X;++ge)ve+=Te[j[ge]];return ve}function U(j,G,X){const ie=j.slice(G,X);let ve="";for(let ge=0;ge<ie.length-1;ge+=2)ve+=String.fromCharCode(ie[ge]+256*ie[ge+1]);return ve}function F(j,G,X){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(j+G>X)throw new RangeError("Trying to access beyond buffer length")}function B(j,G,X,ie,ve,ge){if(!s.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>ve||G<ge)throw new RangeError('"value" argument is out of bounds');if(X+ie>j.length)throw new RangeError("Index out of range")}function z(j,G,X,ie,ve){de(G,ie,ve,j,X,7);let ge=Number(G&BigInt(4294967295));j[X++]=ge,ge>>=8,j[X++]=ge,ge>>=8,j[X++]=ge,ge>>=8,j[X++]=ge;let Oe=Number(G>>BigInt(32)&BigInt(4294967295));return j[X++]=Oe,Oe>>=8,j[X++]=Oe,Oe>>=8,j[X++]=Oe,Oe>>=8,j[X++]=Oe,X}function H(j,G,X,ie,ve){de(G,ie,ve,j,X,7);let ge=Number(G&BigInt(4294967295));j[X+7]=ge,ge>>=8,j[X+6]=ge,ge>>=8,j[X+5]=ge,ge>>=8,j[X+4]=ge;let Oe=Number(G>>BigInt(32)&BigInt(4294967295));return j[X+3]=Oe,Oe>>=8,j[X+2]=Oe,Oe>>=8,j[X+1]=Oe,Oe>>=8,j[X]=Oe,X+8}function Y(j,G,X,ie,ve,ge){if(X+ie>j.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function W(j,G,X,ie,ve){return G=+G,X>>>=0,ve||Y(j,0,X,4),i.write(j,G,X,ie,23,4),X+4}function Z(j,G,X,ie,ve){return G=+G,X>>>=0,ve||Y(j,0,X,8),i.write(j,G,X,ie,52,8),X+8}s.prototype.slice=function(j,G){const X=this.length;(j=~~j)<0?(j+=X)<0&&(j=0):j>X&&(j=X),(G=G===void 0?X:~~G)<0?(G+=X)<0&&(G=0):G>X&&(G=X),G<j&&(G=j);const ie=this.subarray(j,G);return Object.setPrototypeOf(ie,s.prototype),ie},s.prototype.readUintLE=s.prototype.readUIntLE=function(j,G,X){j>>>=0,G>>>=0,X||F(j,G,this.length);let ie=this[j],ve=1,ge=0;for(;++ge<G&&(ve*=256);)ie+=this[j+ge]*ve;return ie},s.prototype.readUintBE=s.prototype.readUIntBE=function(j,G,X){j>>>=0,G>>>=0,X||F(j,G,this.length);let ie=this[j+--G],ve=1;for(;G>0&&(ve*=256);)ie+=this[j+--G]*ve;return ie},s.prototype.readUint8=s.prototype.readUInt8=function(j,G){return j>>>=0,G||F(j,1,this.length),this[j]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(j,G){return j>>>=0,G||F(j,2,this.length),this[j]|this[j+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(j,G){return j>>>=0,G||F(j,2,this.length),this[j]<<8|this[j+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(j,G){return j>>>=0,G||F(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(j,G){return j>>>=0,G||F(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},s.prototype.readBigUInt64LE=Ae(function(j){he(j>>>=0,"offset");const G=this[j],X=this[j+7];G!==void 0&&X!==void 0||fe(j,this.length-8);const ie=G+256*this[++j]+65536*this[++j]+this[++j]*2**24,ve=this[++j]+256*this[++j]+65536*this[++j]+X*2**24;return BigInt(ie)+(BigInt(ve)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ae(function(j){he(j>>>=0,"offset");const G=this[j],X=this[j+7];G!==void 0&&X!==void 0||fe(j,this.length-8);const ie=G*2**24+65536*this[++j]+256*this[++j]+this[++j],ve=this[++j]*2**24+65536*this[++j]+256*this[++j]+X;return(BigInt(ie)<<BigInt(32))+BigInt(ve)}),s.prototype.readIntLE=function(j,G,X){j>>>=0,G>>>=0,X||F(j,G,this.length);let ie=this[j],ve=1,ge=0;for(;++ge<G&&(ve*=256);)ie+=this[j+ge]*ve;return ve*=128,ie>=ve&&(ie-=Math.pow(2,8*G)),ie},s.prototype.readIntBE=function(j,G,X){j>>>=0,G>>>=0,X||F(j,G,this.length);let ie=G,ve=1,ge=this[j+--ie];for(;ie>0&&(ve*=256);)ge+=this[j+--ie]*ve;return ve*=128,ge>=ve&&(ge-=Math.pow(2,8*G)),ge},s.prototype.readInt8=function(j,G){return j>>>=0,G||F(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},s.prototype.readInt16LE=function(j,G){j>>>=0,G||F(j,2,this.length);const X=this[j]|this[j+1]<<8;return 32768&X?4294901760|X:X},s.prototype.readInt16BE=function(j,G){j>>>=0,G||F(j,2,this.length);const X=this[j+1]|this[j]<<8;return 32768&X?4294901760|X:X},s.prototype.readInt32LE=function(j,G){return j>>>=0,G||F(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},s.prototype.readInt32BE=function(j,G){return j>>>=0,G||F(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},s.prototype.readBigInt64LE=Ae(function(j){he(j>>>=0,"offset");const G=this[j],X=this[j+7];G!==void 0&&X!==void 0||fe(j,this.length-8);const ie=this[j+4]+256*this[j+5]+65536*this[j+6]+(X<<24);return(BigInt(ie)<<BigInt(32))+BigInt(G+256*this[++j]+65536*this[++j]+this[++j]*2**24)}),s.prototype.readBigInt64BE=Ae(function(j){he(j>>>=0,"offset");const G=this[j],X=this[j+7];G!==void 0&&X!==void 0||fe(j,this.length-8);const ie=(G<<24)+65536*this[++j]+256*this[++j]+this[++j];return(BigInt(ie)<<BigInt(32))+BigInt(this[++j]*2**24+65536*this[++j]+256*this[++j]+X)}),s.prototype.readFloatLE=function(j,G){return j>>>=0,G||F(j,4,this.length),i.read(this,j,!0,23,4)},s.prototype.readFloatBE=function(j,G){return j>>>=0,G||F(j,4,this.length),i.read(this,j,!1,23,4)},s.prototype.readDoubleLE=function(j,G){return j>>>=0,G||F(j,8,this.length),i.read(this,j,!0,52,8)},s.prototype.readDoubleBE=function(j,G){return j>>>=0,G||F(j,8,this.length),i.read(this,j,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(j,G,X,ie){j=+j,G>>>=0,X>>>=0,ie||B(this,j,G,X,Math.pow(2,8*X)-1,0);let ve=1,ge=0;for(this[G]=255&j;++ge<X&&(ve*=256);)this[G+ge]=j/ve&255;return G+X},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(j,G,X,ie){j=+j,G>>>=0,X>>>=0,ie||B(this,j,G,X,Math.pow(2,8*X)-1,0);let ve=X-1,ge=1;for(this[G+ve]=255&j;--ve>=0&&(ge*=256);)this[G+ve]=j/ge&255;return G+X},s.prototype.writeUint8=s.prototype.writeUInt8=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,1,255,0),this[G]=255&j,G+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,2,65535,0),this[G]=255&j,this[G+1]=j>>>8,G+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,2,65535,0),this[G]=j>>>8,this[G+1]=255&j,G+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,4,4294967295,0),this[G+3]=j>>>24,this[G+2]=j>>>16,this[G+1]=j>>>8,this[G]=255&j,G+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,4,4294967295,0),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=255&j,G+4},s.prototype.writeBigUInt64LE=Ae(function(j,G=0){return z(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ae(function(j,G=0){return H(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(j,G,X,ie){if(j=+j,G>>>=0,!ie){const Le=Math.pow(2,8*X-1);B(this,j,G,X,Le-1,-Le)}let ve=0,ge=1,Oe=0;for(this[G]=255&j;++ve<X&&(ge*=256);)j<0&&Oe===0&&this[G+ve-1]!==0&&(Oe=1),this[G+ve]=(j/ge|0)-Oe&255;return G+X},s.prototype.writeIntBE=function(j,G,X,ie){if(j=+j,G>>>=0,!ie){const Le=Math.pow(2,8*X-1);B(this,j,G,X,Le-1,-Le)}let ve=X-1,ge=1,Oe=0;for(this[G+ve]=255&j;--ve>=0&&(ge*=256);)j<0&&Oe===0&&this[G+ve+1]!==0&&(Oe=1),this[G+ve]=(j/ge|0)-Oe&255;return G+X},s.prototype.writeInt8=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,1,127,-128),j<0&&(j=255+j+1),this[G]=255&j,G+1},s.prototype.writeInt16LE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,2,32767,-32768),this[G]=255&j,this[G+1]=j>>>8,G+2},s.prototype.writeInt16BE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,2,32767,-32768),this[G]=j>>>8,this[G+1]=255&j,G+2},s.prototype.writeInt32LE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,4,2147483647,-2147483648),this[G]=255&j,this[G+1]=j>>>8,this[G+2]=j>>>16,this[G+3]=j>>>24,G+4},s.prototype.writeInt32BE=function(j,G,X){return j=+j,G>>>=0,X||B(this,j,G,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=255&j,G+4},s.prototype.writeBigInt64LE=Ae(function(j,G=0){return z(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ae(function(j,G=0){return H(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(j,G,X){return W(this,j,G,!0,X)},s.prototype.writeFloatBE=function(j,G,X){return W(this,j,G,!1,X)},s.prototype.writeDoubleLE=function(j,G,X){return Z(this,j,G,!0,X)},s.prototype.writeDoubleBE=function(j,G,X){return Z(this,j,G,!1,X)},s.prototype.copy=function(j,G,X,ie){if(!s.isBuffer(j))throw new TypeError("argument should be a Buffer");if(X||(X=0),ie||ie===0||(ie=this.length),G>=j.length&&(G=j.length),G||(G=0),ie>0&&ie<X&&(ie=X),ie===X||j.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),j.length-G<ie-X&&(ie=j.length-G+X);const ve=ie-X;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,X,ie):Uint8Array.prototype.set.call(j,this.subarray(X,ie),G),ve},s.prototype.fill=function(j,G,X,ie){if(typeof j=="string"){if(typeof G=="string"?(ie=G,G=0,X=this.length):typeof X=="string"&&(ie=X,X=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!s.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(j.length===1){const ge=j.charCodeAt(0);(ie==="utf8"&&ge<128||ie==="latin1")&&(j=ge)}}else typeof j=="number"?j&=255:typeof j=="boolean"&&(j=Number(j));if(G<0||this.length<G||this.length<X)throw new RangeError("Out of range index");if(X<=G)return this;let ve;if(G>>>=0,X=X===void 0?this.length:X>>>0,j||(j=0),typeof j=="number")for(ve=G;ve<X;++ve)this[ve]=j;else{const ge=s.isBuffer(j)?j:s.from(j,ie),Oe=ge.length;if(Oe===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ve=0;ve<X-G;++ve)this[ve+G]=ge[ve%Oe]}return this};const le={};function ce(j,G,X){le[j]=class extends X{constructor(){super(),Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}function ue(j){let G="",X=j.length;const ie=j[0]==="-"?1:0;for(;X>=ie+4;X-=3)G=`_${j.slice(X-3,X)}${G}`;return`${j.slice(0,X)}${G}`}function de(j,G,X,ie,ve,ge){if(j>X||j<G){const Oe=typeof G=="bigint"?"n":"";let Le;throw Le=G===0||G===BigInt(0)?`>= 0${Oe} and < 2${Oe} ** ${8*(ge+1)}${Oe}`:`>= -(2${Oe} ** ${8*(ge+1)-1}${Oe}) and < 2 ** ${8*(ge+1)-1}${Oe}`,new le.ERR_OUT_OF_RANGE("value",Le,j)}(function(Oe,Le,We){he(Le,"offset"),Oe[Le]!==void 0&&Oe[Le+We]!==void 0||fe(Le,Oe.length-(We+1))})(ie,ve,ge)}function he(j,G){if(typeof j!="number")throw new le.ERR_INVALID_ARG_TYPE(G,"number",j)}function fe(j,G,X){throw Math.floor(j)!==j?(he(j,X),new le.ERR_OUT_OF_RANGE("offset","an integer",j)):G<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${G}`,j)}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(j,G){return`The "${j}" argument must be of type number. Received type ${typeof G}`},TypeError),ce("ERR_OUT_OF_RANGE",function(j,G,X){let ie=`The value of "${j}" is out of range.`,ve=X;return Number.isInteger(X)&&Math.abs(X)>2**32?ve=ue(String(X)):typeof X=="bigint"&&(ve=String(X),(X>BigInt(2)**BigInt(32)||X<-(BigInt(2)**BigInt(32)))&&(ve=ue(ve)),ve+="n"),ie+=` It must be ${G}. Received ${ve}`,ie},RangeError);const te=/[^+/0-9A-Za-z-_]/g;function Q(j,G){let X;G=G||1/0;const ie=j.length;let ve=null;const ge=[];for(let Oe=0;Oe<ie;++Oe){if(X=j.charCodeAt(Oe),X>55295&&X<57344){if(!ve){if(X>56319){(G-=3)>-1&&ge.push(239,191,189);continue}if(Oe+1===ie){(G-=3)>-1&&ge.push(239,191,189);continue}ve=X;continue}if(X<56320){(G-=3)>-1&&ge.push(239,191,189),ve=X;continue}X=65536+(ve-55296<<10|X-56320)}else ve&&(G-=3)>-1&&ge.push(239,191,189);if(ve=null,X<128){if((G-=1)<0)break;ge.push(X)}else if(X<2048){if((G-=2)<0)break;ge.push(X>>6|192,63&X|128)}else if(X<65536){if((G-=3)<0)break;ge.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;ge.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return ge}function ee(j){return n.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(te,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(j))}function ae(j,G,X,ie){let ve;for(ve=0;ve<ie&&!(ve+X>=G.length||ve>=j.length);++ve)G[ve+X]=j[ve];return ve}function pe(j,G){return j instanceof G||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===G.name}function _e(j){return j!=j}const Te=function(){const j="0123456789abcdef",G=new Array(256);for(let X=0;X<16;++X){const ie=16*X;for(let ve=0;ve<16;++ve)G[ie+ve]=j[X]+j[ve]}return G}();function Ae(j){return typeof BigInt>"u"?be:j}function be(){throw new Error("BigInt not supported")}},1053:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rawPolyfilledDiagnosticRecord=void 0,e.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(e.rawPolyfilledDiagnosticRecord)},1074:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isValidDate=void 0,e.isValidDate=function(r){return r instanceof Date&&!isNaN(r)}},1092:function(t,e,r){var n=this&&this.__extends||function(){var v=function(y,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},v(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function p(){this.constructor=y}v(y,b),y.prototype=b===null?Object.create(b):(p.prototype=b.prototype,new p)}}(),i=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(6377)),o=i(r(6161)),u=i(r(3321)),s=i(r(7021)),l=r(9014),c=r(9305).internal.constants,f=c.BOLT_PROTOCOL_V5_8,h=c.FETCH_ALL,d=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return n(y,v),Object.defineProperty(y.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new u.default(Object.values(o.default).map(function(p){return p(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.run=function(b,p,m){var g=m===void 0?{}:m,_=g.bookmarks,E=g.txConfig,T=g.database,w=g.mode,S=g.impersonatedUser,C=g.notificationFilter,R=g.beforeKeys,D=g.afterKeys,M=g.beforeError,I=g.afterError,k=g.beforeComplete,U=g.afterComplete,F=g.flush,B=F===void 0||F,z=g.reactive,H=z!==void 0&&z,Y=g.fetchSize,W=Y===void 0?h:Y,Z=g.highRecordWatermark,le=Z===void 0?Number.MAX_VALUE:Z,ce=g.lowRecordWatermark,ue=ce===void 0?Number.MAX_VALUE:ce,de=g.onDb,he=new l.ResultStreamObserver({server:this._server,reactive:H,fetchSize:W,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:R,afterKeys:D,beforeError:M,afterError:I,beforeComplete:k,afterComplete:U,highRecordWatermark:le,lowRecordWatermark:ue,enrichMetadata:this._enrichMetadata,onDb:de}),fe=H;return this.write(s.default.runWithMetadata5x5(b,p,{bookmarks:_,txConfig:E,database:T,mode:w,impersonatedUser:S,notificationFilter:C}),he,fe&&B),H||this.write(s.default.pull({n:W}),he,B),he},y}(a.default);e.default=d},1103:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwError=void 0;var n=r(4662),i=r(1018);e.throwError=function(a,o){var u=i.isFunction(a)?a:function(){return a},s=function(l){return l.error(u())};return new n.Observable(o?function(l){return o.schedule(s,0,l)}:s)}},1107:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.popNumber=e.popScheduler=e.popResultSelector=void 0;var n=r(1018),i=r(8613);function a(o){return o[o.length-1]}e.popResultSelector=function(o){return n.isFunction(a(o))?o.pop():void 0},e.popScheduler=function(o){return i.isScheduler(a(o))?o.pop():void 0},e.popNumber=function(o,u){return typeof a(o)=="number"?o.pop():u}},1116:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isInteropObservable=void 0;var n=r(3327),i=r(1018);e.isInteropObservable=function(a){return i.isFunction(a[n.observable])}},1141:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowWhen=void 0;var n=r(2483),i=r(7843),a=r(3111),o=r(9445);e.windowWhen=function(u){return i.operate(function(s,l){var c,f,h=function(v){c.error(v),l.error(v)},d=function(){var v;f==null||f.unsubscribe(),c==null||c.complete(),c=new n.Subject,l.next(c.asObservable());try{v=o.innerFrom(u())}catch(y){return void h(y)}v.subscribe(f=a.createOperatorSubscriber(l,d,d,h))};d(),s.subscribe(a.createOperatorSubscriber(l,function(v){return c.next(v)},function(){c.complete(),l.complete()},h,function(){f==null||f.unsubscribe(),c=null}))})}},1175:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(3448));e.default=n({},a.default)},1187:function(t,e,r){var n=this&&this.__awaiter||function(U,F,B,z){return new(B||(B=Promise))(function(H,Y){function W(ce){try{le(z.next(ce))}catch(ue){Y(ue)}}function Z(ce){try{le(z.throw(ce))}catch(ue){Y(ue)}}function le(ce){var ue;ce.done?H(ce.value):(ue=ce.value,ue instanceof B?ue:new B(function(de){de(ue)})).then(W,Z)}le((z=z.apply(U,F||[])).next())})},i=this&&this.__generator||function(U,F){var B,z,H,Y,W={label:0,sent:function(){if(1&H[0])throw H[1];return H[1]},trys:[],ops:[]};return Y={next:Z(0),throw:Z(1),return:Z(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Z(le){return function(ce){return function(ue){if(B)throw new TypeError("Generator is already executing.");for(;Y&&(Y=0,ue[0]&&(W=0)),W;)try{if(B=1,z&&(H=2&ue[0]?z.return:ue[0]?z.throw||((H=z.return)&&H.call(z),0):z.next)&&!(H=H.call(z,ue[1])).done)return H;switch(z=0,H&&(ue=[2&ue[0],H.value]),ue[0]){case 0:case 1:H=ue;break;case 4:return W.label++,{value:ue[1],done:!1};case 5:W.label++,z=ue[1],ue=[0];continue;case 7:ue=W.ops.pop(),W.trys.pop();continue;default:if(!((H=(H=W.trys).length>0&&H[H.length-1])||ue[0]!==6&&ue[0]!==2)){W=0;continue}if(ue[0]===3&&(!H||ue[1]>H[0]&&ue[1]<H[3])){W.label=ue[1];break}if(ue[0]===6&&W.label<H[1]){W.label=H[1],H=ue;break}if(H&&W.label<H[2]){W.label=H[2],W.ops.push(ue);break}H[2]&&W.ops.pop(),W.trys.pop();continue}ue=F.call(U,W)}catch(de){ue=[6,de],z=0}finally{B=H=0}if(5&ue[0])throw ue[1];return{value:ue[0]?ue[1]:void 0,done:!0}}([le,ce])}}},a=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(e,"__esModule",{value:!0}),e.UnboundRelationship=e.Relationship=e.Node=e.Record=e.ServerInfo=e.GqlStatusObject=e.Notification=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ResultSummary=e.RxResult=e.RxManagedTransaction=e.RxTransaction=e.RxSession=e.EagerResult=e.Result=e.ManagedTransaction=e.Transaction=e.Session=e.Driver=e.temporal=e.spatial=e.graph=e.error=e.routing=e.session=e.types=e.logging=e.auth=e.isRetryableError=e.Neo4jError=e.integer=e.isUnboundRelationship=e.isRelationship=e.isPathSegment=e.isPath=e.isNode=e.isDateTime=e.isLocalDateTime=e.isDate=e.isTime=e.isLocalTime=e.isDuration=e.isPoint=e.isInt=e.int=e.hasReachableServer=e.driver=e.authTokenManagers=void 0,e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.bookmarkManager=e.DateTime=e.LocalDateTime=e.Date=e.Time=e.LocalTime=e.Duration=e.Integer=e.Point=e.PathSegment=e.Path=void 0;var o=r(7857);Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return o.Driver}});var u=a(r(3659)),s=r(9305);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return s.authTokenManagers}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(e,"isRetryableError",{enumerable:!0,get:function(){return s.isRetryableError}}),Object.defineProperty(e,"error",{enumerable:!0,get:function(){return s.error}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return s.Integer}}),Object.defineProperty(e,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return s.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return s.isNode}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return s.isPath}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return s.isPathSegment}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return s.isRelationship}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return s.isUnboundRelationship}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return s.Node}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return s.PathSegment}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return s.Relationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return s.UnboundRelationship}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return s.Record}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return s.ResultSummary}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return s.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return s.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return s.QueryStatistics}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return s.Notification}}),Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return s.GqlStatusObject}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return s.ServerInfo}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return s.Result}}),Object.defineProperty(e,"EagerResult",{enumerable:!0,get:function(){return s.EagerResult}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return s.auth}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return s.Session}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return s.Transaction}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return s.ManagedTransaction}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return s.bookmarkManager}}),Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return s.routing}}),Object.defineProperty(e,"resultTransformers",{enumerable:!0,get:function(){return s.resultTransformers}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return s.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return s.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return s.notificationSeverityLevel}}),Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return s.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return s.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return s.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return s.clientCertificateProviders}});var l=r(6672),c=a(r(3466));e.RxSession=c.default;var f=a(r(5742));e.RxTransaction=f.default;var h=a(r(1530));e.RxManagedTransaction=h.default;var d=a(r(3057));e.RxResult=d.default;var v=s.internal.util,y=v.ENCRYPTION_ON,b=v.assertString,p=v.isEmptyObjectOrNull,m=s.internal.serverAddress.ServerAddress,g=s.internal.urlUtil,_="neo4j-javascript/"+u.default;function E(U,F,B){B===void 0&&(B={}),b(U,"Bolt URL");var z,H=g.parseDatabaseUrl(U),Y=!1,W=!1;switch(H.scheme){case"bolt":break;case"bolt+s":W=!0,z="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":W=!0,z="TRUST_ALL_CERTIFICATES";break;case"neo4j":Y=!0;break;case"neo4j+s":W=!0,z="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",Y=!0;break;case"neo4j+ssc":W=!0,z="TRUST_ALL_CERTIFICATES",Y=!0;break;default:throw new Error("Unknown scheme: ".concat(H.scheme))}if(W){if("encrypted"in B||"trust"in B)throw new Error("Encryption/trust can only be configured either through URL or config, not both");B.encrypted=y,B.trust=z,B.clientCertificate=(0,s.resolveCertificateProvider)(B.clientCertificate)}var Z=function(ue){if(typeof(de=ue)=="object"&&de!=null&&"getToken"in de&&"handleSecurityException"in de&&typeof de.getToken=="function"&&typeof de.handleSecurityException=="function")return ue;var de,he=ue;return(he=he||{}).scheme=he.scheme||"none",(0,s.staticAuthTokenManager)({authToken:he})}(F);B.userAgent=B.userAgent||_,B.boltAgent=s.internal.boltAgent.fromVersion(u.default);var le=m.fromUrl(H.hostAndPort),ce={address:le,typename:Y?"Routing":"Direct",routing:Y};return new o.Driver(ce,B,function(){if(Y)return function(ue,de,he,fe){return new l.RoutingConnectionProvider({id:ue,config:de,log:he,hostNameResolver:fe,authTokenManager:Z,address:le,userAgent:de.userAgent,boltAgent:de.boltAgent,routingContext:H.query})};if(!p(H.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(U,"'"));return function(ue,de,he){return new l.DirectConnectionProvider({id:ue,config:de,log:he,authTokenManager:Z,address:le,userAgent:de.userAgent,boltAgent:de.boltAgent})}}())}function T(U,F){return n(this,void 0,void 0,function(){var B;return i(this,function(z){switch(z.label){case 0:B=E(U,{scheme:"none",principal:"",credentials:""},F),z.label=1;case 1:return z.trys.push([1,,3,5]),[4,B.getNegotiatedProtocolVersion()];case 2:return z.sent(),[2,!0];case 3:return[4,B.close()];case 4:return z.sent(),[7];case 5:return[2]}})})}e.driver=E,e.hasReachableServer=T;var w={console:function(U){return{level:U,logger:function(F,B){return console.log("".concat(r.g.Date.now()," ").concat(F.toUpperCase()," ").concat(B))}}}};e.logging=w;var S={Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,PathSegment:s.PathSegment,Path:s.Path,Result:s.Result,EagerResult:s.EagerResult,ResultSummary:s.ResultSummary,Record:s.Record,Point:s.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Integer:s.Integer};e.types=S;var C={READ:o.READ,WRITE:o.WRITE};e.session=C;var R={toNumber:s.toNumber,toString:s.toString,inSafeRange:s.inSafeRange};e.integer=R;var D={isPoint:s.isPoint};e.spatial=D;var M={isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime};e.temporal=M;var I={isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship};e.graph=I;var k={authTokenManagers:s.authTokenManagers,driver:E,hasReachableServer:T,int:s.int,isInt:s.isInt,isPoint:s.isPoint,isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime,isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship,integer:R,Neo4jError:s.Neo4jError,isRetryableError:s.isRetryableError,auth:s.auth,logging:w,types:S,session:C,routing:s.routing,error:s.error,graph:I,spatial:D,temporal:M,Driver:o.Driver,Session:s.Session,Transaction:s.Transaction,ManagedTransaction:s.ManagedTransaction,Result:s.Result,EagerResult:s.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:h.default,RxResult:d.default,ResultSummary:s.ResultSummary,Plan:s.Plan,ProfiledPlan:s.ProfiledPlan,QueryStatistics:s.QueryStatistics,Notification:s.Notification,GqlStatusObject:s.GqlStatusObject,ServerInfo:s.ServerInfo,Record:s.Record,Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,Path:s.Path,PathSegment:s.PathSegment,Point:s.Point,Integer:s.Integer,Duration:s.Duration,LocalTime:s.LocalTime,Time:s.Time,Date:s.Date,LocalDateTime:s.LocalDateTime,DateTime:s.DateTime,bookmarkManager:s.bookmarkManager,resultTransformers:s.resultTransformers,notificationCategory:s.notificationCategory,notificationSeverityLevel:s.notificationSeverityLevel,notificationFilterDisabledCategory:s.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:s.notificationFilterMinimumSeverityLevel,clientCertificateProviders:s.clientCertificateProviders};e.default=k},1226:function(t,e,r){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,d=c.call(s),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v},i=this&&this.__spreadArray||function(s,l){for(var c=0,f=l.length,h=s.length;c<f;c++,h++)s[h]=l[c];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=e.onErrorResumeNextWith=void 0;var a=r(8535),o=r(6102);function u(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=a.argsOrArgArray(s);return function(f){return o.onErrorResumeNext.apply(void 0,i([f],n(c)))}}e.onErrorResumeNextWith=u,e.onErrorResumeNext=u},1242:function(t,e,r){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaySubject=void 0;var i=r(2483),a=r(9568),o=function(u){function s(l,c,f){l===void 0&&(l=1/0),c===void 0&&(c=1/0),f===void 0&&(f=a.dateTimestampProvider);var h=u.call(this)||this;return h._bufferSize=l,h._windowTime=c,h._timestampProvider=f,h._buffer=[],h._infiniteTimeWindow=!0,h._infiniteTimeWindow=c===1/0,h._bufferSize=Math.max(1,l),h._windowTime=Math.max(1,c),h}return n(s,u),s.prototype.next=function(l){var c=this,f=c.isStopped,h=c._buffer,d=c._infiniteTimeWindow,v=c._timestampProvider,y=c._windowTime;f||(h.push(l),!d&&h.push(v.now()+y)),this._trimBuffer(),u.prototype.next.call(this,l)},s.prototype._subscribe=function(l){this._throwIfClosed(),this._trimBuffer();for(var c=this._innerSubscribe(l),f=this._infiniteTimeWindow,h=this._buffer.slice(),d=0;d<h.length&&!l.closed;d+=f?1:2)l.next(h[d]);return this._checkFinalizedStatuses(l),c},s.prototype._trimBuffer=function(){var l=this,c=l._bufferSize,f=l._timestampProvider,h=l._buffer,d=l._infiniteTimeWindow,v=(d?1:2)*c;if(c<1/0&&v<h.length&&h.splice(0,h.length-v),!d){for(var y=f.now(),b=0,p=1;p<h.length&&h[p]<=y;p+=2)b=p;b&&h.splice(0,b+1)}},s}(i.Subject);e.ReplaySubject=o},1251:function(t,e,r){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),d=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.mapOneOrManyArgs=void 0;var a=r(5471),o=Array.isArray;e.mapOneOrManyArgs=function(u){return a.map(function(s){return function(l,c){return o(c)?l.apply(void 0,i([],n(c))):l(c)}(u,s)})}},1293:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QueueScheduler=void 0;var i=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return n(o,a),o}(r(5648).AsyncScheduler);e.QueueScheduler=i},1342:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0,e.noop=function(){}},1358:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=void 0;var n=r(1018);e.isAsyncIterable=function(i){return Symbol.asyncIterator&&n.isFunction(i==null?void 0:i[Symbol.asyncIterator])}},1409:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(){}return n.prototype.beginTransaction=function(i){throw new Error("Not implemented")},n.prototype.run=function(i,a,o){throw new Error("Not implemented")},n.prototype.commitTransaction=function(i){throw new Error("Not implemented")},n.prototype.rollbackTransaction=function(i){throw new Error("Not implemented")},n.prototype.resetAndFlush=function(){throw new Error("Not implemented")},n.prototype.isOpen=function(){throw new Error("Not implemented")},n.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},n.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},n}();e.default=r},1415:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.max=void 0;var n=r(9139),i=r(1018);e.max=function(a){return n.reduce(i.isFunction(a)?function(o,u){return a(o,u)>0?o:u}:function(o,u){return o>u?o:u})}},1439:function(t,e,r){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,b=d.call(f),p=[];try{for(;(h===void 0||h-- >0)&&!(v=b.next()).done;)p.push(v.value)}catch(m){y={error:m}}finally{try{v&&!v.done&&(d=b.return)&&d.call(b)}finally{if(y)throw y.error}}return p},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallbackInternals=void 0;var a=r(8613),o=r(4662),u=r(8960),s=r(1251),l=r(5184),c=r(95);e.bindCallbackInternals=function f(h,d,v,y){if(v){if(!a.isScheduler(v))return function(){for(var b=[],p=0;p<arguments.length;p++)b[p]=arguments[p];return f(h,d,y).apply(this,b).pipe(s.mapOneOrManyArgs(v))};y=v}return y?function(){for(var b=[],p=0;p<arguments.length;p++)b[p]=arguments[p];return f(h,d).apply(this,b).pipe(u.subscribeOn(y),l.observeOn(y))}:function(){for(var b=this,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var g=new c.AsyncSubject,_=!0;return new o.Observable(function(E){var T=g.subscribe(E);if(_){_=!1;var w=!1,S=!1;d.apply(b,i(i([],n(p)),[function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];if(h){var D=C.shift();if(D!=null)return void g.error(D)}g.next(1<C.length?C:C[0]),S=!0,w&&g.complete()}])),S&&g.complete(),w=!0}return T})}}},1483:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;var n=r(2483),i=r(9445),a=r(7843),o=r(6824),u={connector:function(){return new n.Subject}};e.connect=function(s,l){l===void 0&&(l=u);var c=l.connector;return a.operate(function(f,h){var d=c();i.innerFrom(s(o.fromSubscribable(d))).subscribe(h),h.add(f.subscribe(d))})}},1505:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceError=void 0;var n=r(5568);e.SequenceError=n.createErrorClass(function(i){return function(a){i(this),this.name="SequenceError",this.message=a}})},1517:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=void 0;var n=r(4027),i={value:!0,enumerable:!1,configurable:!1,writable:!1},a="__isNode__",o="__isRelationship__",u="__isUnboundRelationship__",s="__isPath__",l="__isPathSegment__";function c(p,m){return p!=null&&p[m]===!0}var f=function(){function p(m,g,_,E){this.identity=m,this.labels=g,this.properties=_,this.elementId=b(E,function(){return m.toString()})}return p.prototype.toString=function(){for(var m="("+this.elementId,g=0;g<this.labels.length;g++)m+=":"+this.labels[g];var _=Object.keys(this.properties);if(_.length>0){for(m+=" {",g=0;g<_.length;g++)g>0&&(m+=","),m+=_[g]+":"+(0,n.stringify)(this.properties[_[g]]);m+="}"}return m+")"},p}();e.Node=f,Object.defineProperty(f.prototype,a,i),e.isNode=function(p){return c(p,a)};var h=function(){function p(m,g,_,E,T,w,S,C){this.identity=m,this.start=g,this.end=_,this.type=E,this.properties=T,this.elementId=b(w,function(){return m.toString()}),this.startNodeElementId=b(S,function(){return g.toString()}),this.endNodeElementId=b(C,function(){return _.toString()})}return p.prototype.toString=function(){var m="("+this.startNodeElementId+")-[:"+this.type,g=Object.keys(this.properties);if(g.length>0){m+=" {";for(var _=0;_<g.length;_++)_>0&&(m+=","),m+=g[_]+":"+(0,n.stringify)(this.properties[g[_]]);m+="}"}return m+"]->("+this.endNodeElementId+")"},p}();e.Relationship=h,Object.defineProperty(h.prototype,o,i),e.isRelationship=function(p){return c(p,o)};var d=function(){function p(m,g,_,E){this.identity=m,this.type=g,this.properties=_,this.elementId=b(E,function(){return m.toString()})}return p.prototype.bind=function(m,g){return new h(this.identity,m,g,this.type,this.properties,this.elementId)},p.prototype.bindTo=function(m,g){return new h(this.identity,m.identity,g.identity,this.type,this.properties,this.elementId,m.elementId,g.elementId)},p.prototype.toString=function(){var m="-[:"+this.type,g=Object.keys(this.properties);if(g.length>0){m+=" {";for(var _=0;_<g.length;_++)_>0&&(m+=","),m+=g[_]+":"+(0,n.stringify)(this.properties[g[_]]);m+="}"}return m+"]->"},p}();e.UnboundRelationship=d,Object.defineProperty(d.prototype,u,i),e.isUnboundRelationship=function(p){return c(p,u)};var v=function(p,m,g){this.start=p,this.relationship=m,this.end=g};e.PathSegment=v,Object.defineProperty(v.prototype,l,i),e.isPathSegment=function(p){return c(p,l)};var y=function(p,m,g){this.start=p,this.end=m,this.segments=g,this.length=g.length};function b(p,m){return p??m()}e.Path=y,Object.defineProperty(y.prototype,s,i),e.isPath=function(p){return c(p,s)}},1518:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairwise=void 0;var n=r(7843),i=r(3111);e.pairwise=function(){return n.operate(function(a,o){var u,s=!1;a.subscribe(i.createOperatorSubscriber(o,function(l){var c=u;u=l,s&&o.next([c,l]),s=!0}))})}},1530:function(t,e,r){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),n(r(3057)),n(r(5742));var i=function(){function a(o){var u=o.run;this._run=u}return a.fromTransaction=function(o){return new a({run:o.run.bind(o)})},a.prototype.run=function(o,u){return this._run(o,u)},a}();e.default=i},1551:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaust=void 0;var n=r(2752);e.exhaust=n.exhaustAll},1554:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var n=r(7961),i=r(1074),a=r(7843),o=r(9445),u=r(5568),s=r(3111),l=r(7110);function c(f){throw new e.TimeoutError(f)}e.TimeoutError=u.createErrorClass(function(f){return function(h){h===void 0&&(h=null),f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=h}}),e.timeout=function(f,h){var d=i.isValidDate(f)?{first:f}:typeof f=="number"?{each:f}:f,v=d.first,y=d.each,b=d.with,p=b===void 0?c:b,m=d.scheduler,g=m===void 0?h??n.asyncScheduler:m,_=d.meta,E=_===void 0?null:_;if(v==null&&y==null)throw new TypeError("No timeout provided.");return a.operate(function(T,w){var S,C,R=null,D=0,M=function(I){C=l.executeSchedule(w,g,function(){try{S.unsubscribe(),o.innerFrom(p({meta:E,lastValue:R,seen:D})).subscribe(w)}catch(k){w.error(k)}},I)};S=T.subscribe(s.createOperatorSubscriber(w,function(I){C==null||C.unsubscribe(),D++,w.next(R=I),y>0&&M(y)},void 0,void 0,function(){C!=null&&C.closed||C==null||C.unsubscribe(),R=null})),!D&&M(v!=null?typeof v=="number"?v:+v-g.now():y)})}},1573:function(t,e,r){var n=this&&this.__awaiter||function(d,v,y,b){return new(y||(y=Promise))(function(p,m){function g(T){try{E(b.next(T))}catch(w){m(w)}}function _(T){try{E(b.throw(T))}catch(w){m(w)}}function E(T){var w;T.done?p(T.value):(w=T.value,w instanceof y?w:new y(function(S){S(w)})).then(g,_)}E((b=b.apply(d,v||[])).next())})},i=this&&this.__generator||function(d,v){var y,b,p,m,g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(E){return function(T){return function(w){if(y)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(g=0)),g;)try{if(y=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return g.label++,{value:w[1],done:!1};case 5:g.label++,b=w[1],w=[0];continue;case 7:w=g.ops.pop(),g.trys.pop();continue;default:if(!((p=(p=g.trys).length>0&&p[p.length-1])||w[0]!==6&&w[0]!==2)){g=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){g.label=w[1];break}if(w[0]===6&&g.label<p[1]){g.label=p[1],p=w;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(w);break}p[2]&&g.ops.pop(),g.trys.pop();continue}w=v.call(d,g)}catch(S){w=[6,S],b=0}finally{y=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([E,T])}}},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(8917)),u=r(9691),s=new(function(){function d(){}return d.prototype.eagerResultTransformer=function(){return l},d.prototype.eager=function(){return l},d.prototype.mappedResultTransformer=function(v){return c(v)},d.prototype.mapped=function(v){return c(v)},d.prototype.first=function(){return f},d.prototype.summary=function(){return h},d}());function l(d){return n(this,void 0,void 0,function(){var v,y,b,p;return i(this,function(m){switch(m.label){case 0:return[4,d];case 1:return v=m.sent(),y=v.summary,b=v.records,[4,d.keys()];case 2:return p=m.sent(),[2,new o.default(p,b,y)]}})})}function c(d){var v=this;if(d==null||d.collect==null&&d.map==null)throw(0,u.newError)("Requires a map or/and a collect functions.");return function(y){return n(v,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return[4,new Promise(function(p,m){var g={records:[],keys:[]};y.subscribe({onKeys:function(_){g.keys=_},onNext:function(_){if(d.map!=null){var E=d.map(_);E!==void 0&&g.records.push(E)}else g.records.push(_)},onCompleted:function(_){if(d.collect!=null)p(d.collect(g.records,_,g.keys));else{var E={records:g.records,summary:_,keys:g.keys};p(E)}},onError:function(_){m(_)}})})];case 1:return[2,b.sent()]}})})}}function f(d){return n(this,void 0,void 0,function(){var v,y,b,p;return i(this,function(m){switch(m.label){case 0:return[4,(v=d[Symbol.asyncIterator]()).next()];case 1:y=m.sent(),b=y.value,p=y.done,m.label=2;case 2:return m.trys.push([2,,3,6]),p===!0?[2,void 0]:[2,b];case 3:return v.return==null?[3,5]:[4,v.return()];case 4:m.sent(),m.label=5;case 5:return[7];case 6:return[2]}})})}function h(d){return n(this,void 0,void 0,function(){return i(this,function(v){switch(v.label){case 0:return[4,d.summary()];case 1:return[2,v.sent()]}})})}Object.freeze(s),e.default=s},1637:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.BehaviorSubject=void 0;var i=function(a){function o(u){var s=a.call(this)||this;return s._value=u,s}return n(o,a),Object.defineProperty(o.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),o.prototype._subscribe=function(u){var s=a.prototype._subscribe.call(this,u);return!s.closed&&u.next(this._value),s},o.prototype.getValue=function(){var u=this,s=u.hasError,l=u.thrownError,c=u._value;if(s)throw l;return this._throwIfClosed(),c},o.prototype.next=function(u){a.prototype.next.call(this,this._value=u)},o}(r(2483).Subject);e.BehaviorSubject=i},1656:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduled=void 0;var n=r(9567),i=r(9589),a=r(6985),o=r(8808),u=r(854),s=r(1116),l=r(7629),c=r(8046),f=r(6368),h=r(1358),d=r(7614),v=r(9137),y=r(4953);e.scheduled=function(b,p){if(b!=null){if(s.isInteropObservable(b))return n.scheduleObservable(b,p);if(c.isArrayLike(b))return a.scheduleArray(b,p);if(l.isPromise(b))return i.schedulePromise(b,p);if(h.isAsyncIterable(b))return u.scheduleAsyncIterable(b,p);if(f.isIterable(b))return o.scheduleIterable(b,p);if(v.isReadableStreamLike(b))return y.scheduleReadableStreamLike(b,p)}throw d.createInvalidObservableTypeError(b)}},1699:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=r(245),i=r(783),a=r(9445);e.partition=function(o,u,s){return[i.filter(u,s)(a.innerFrom(o)),i.filter(n.not(u,s))(a.innerFrom(o))]}},1711:function(t,e,r){var n=this&&this.__extends||function(){var g=function(_,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(T[S]=w[S])},g(_,E)};return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=_}g(_,E),_.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(g){for(var _,E=1,T=arguments.length;E<T;E++)for(var w in _=arguments[E])Object.prototype.hasOwnProperty.call(_,w)&&(g[w]=_[w]);return g},i.apply(this,arguments)},a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(9054)),u=r(9305),s=a(r(7021)),l=r(9014),c=r(397),f=a(r(7518)),h=a(r(5045)),d=a(r(3321)),v=u.internal.constants,y=v.BOLT_PROTOCOL_V4_4,b=v.FETCH_ALL,p=u.internal.bookmarks.Bookmarks,m=function(g){function _(){return g!==null&&g.apply(this,arguments)||this}return n(_,g),Object.defineProperty(_.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"transformer",{get:function(){var E=this;return this._transformer===void 0&&(this._transformer=new d.default(Object.values(f.default).map(function(T){return T(E._config,E._log)}))),this._transformer},enumerable:!1,configurable:!0}),_.prototype.requestRoutingInformation=function(E){var T=E.routingContext,w=T===void 0?{}:T,S=E.databaseName,C=S===void 0?null:S,R=E.impersonatedUser,D=R===void 0?null:R,M=E.sessionContext,I=M===void 0?{}:M,k=E.onError,U=E.onCompleted,F=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:k,onCompleted:U}),B=I.bookmarks||p.empty();return this.write(s.default.routeV4x4(w,B.values(),{databaseName:C,impersonatedUser:D}),F,!0),F},_.prototype.run=function(E,T,w){var S=w===void 0?{}:w,C=S.bookmarks,R=S.txConfig,D=S.database,M=S.mode,I=S.impersonatedUser,k=S.notificationFilter,U=S.beforeKeys,F=S.afterKeys,B=S.beforeError,z=S.afterError,H=S.beforeComplete,Y=S.afterComplete,W=S.flush,Z=W===void 0||W,le=S.reactive,ce=le!==void 0&&le,ue=S.fetchSize,de=ue===void 0?b:ue,he=S.highRecordWatermark,fe=he===void 0?Number.MAX_VALUE:he,te=S.lowRecordWatermark,Q=te===void 0?Number.MAX_VALUE:te,ee=new l.ResultStreamObserver({server:this._server,reactive:ce,fetchSize:de,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:U,afterKeys:F,beforeError:B,afterError:z,beforeComplete:H,afterComplete:Y,highRecordWatermark:fe,lowRecordWatermark:Q});(0,c.assertNotificationFilterIsEmpty)(k,this._onProtocolError,ee);var ae=ce;return this.write(s.default.runWithMetadata(E,T,{bookmarks:C,txConfig:R,database:D,mode:M,impersonatedUser:I}),ee,ae&&Z),ce||this.write(s.default.pull({n:de}),ee,Z),ee},_.prototype.beginTransaction=function(E){var T=E===void 0?{}:E,w=T.bookmarks,S=T.txConfig,C=T.database,R=T.mode,D=T.impersonatedUser,M=T.notificationFilter,I=T.beforeError,k=T.afterError,U=T.beforeComplete,F=T.afterComplete,B=new l.ResultStreamObserver({server:this._server,beforeError:I,afterError:k,beforeComplete:U,afterComplete:F});return B.prepareToHandleSingleResponse(),(0,c.assertNotificationFilterIsEmpty)(M,this._onProtocolError,B),this.write(s.default.begin({bookmarks:w,txConfig:S,database:C,mode:R,impersonatedUser:D}),B,!0),B},_.prototype._applyUtcPatch=function(){var E=this;this._transformer=new d.default(Object.values(i(i({},f.default),h.default)).map(function(T){return T(E._config,E._log)}))},_}(o.default);e.default=m},1731:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sample=void 0;var n=r(9445),i=r(7843),a=r(1342),o=r(3111);e.sample=function(u){return i.operate(function(s,l){var c=!1,f=null;s.subscribe(o.createOperatorSubscriber(l,function(h){c=!0,f=h})),n.innerFrom(u).subscribe(o.createOperatorSubscriber(l,function(){if(c){c=!1;var h=f;f=null,l.next(h)}},a.noop))})}},1751:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isObservable=void 0;var n=r(4662),i=r(1018);e.isObservable=function(a){return!!a&&(a instanceof n.Observable||i.isFunction(a.lift)&&i.isFunction(a.subscribe))}},1759:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundError=void 0;var n=r(5568);e.NotFoundError=n.createErrorClass(function(i){return function(a){i(this),this.name="NotFoundError",this.message=a}})},1776:function(t,e,r){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),d=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.endWith=void 0;var a=r(3865),o=r(1004);e.endWith=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return function(l){return a.concat(l,o.of.apply(void 0,i([],n(u))))}}},1803:t=>{var e,r,n=document.attachEvent,i=!1;function a(g){var _=g.__resizeTriggers__,E=_.firstElementChild,T=_.lastElementChild,w=E.firstElementChild;T.scrollLeft=T.scrollWidth,T.scrollTop=T.scrollHeight,w.style.width=E.offsetWidth+1+"px",w.style.height=E.offsetHeight+1+"px",E.scrollLeft=E.scrollWidth,E.scrollTop=E.scrollHeight}function o(g){var _=this;a(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=u(function(){(function(E){return E.offsetWidth!=E.__resizeLast__.width||E.offsetHeight!=E.__resizeLast__.height})(_)&&(_.__resizeLast__.width=_.offsetWidth,_.__resizeLast__.height=_.offsetHeight,_.__resizeListeners__.forEach(function(E){E.call(_,g)}))})}if(!n){var u=(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(g){return window.setTimeout(g,20)},function(g){return r(g)}),s=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(g){return e(g)}),l=!1,c="",f="animationstart",h="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v=document.createElement("fakeelement");if(v.style.animationName!==void 0&&(l=!0),l===!1){for(var y=0;y<h.length;y++)if(v.style[h[y]+"AnimationName"]!==void 0){c="-"+h[y].toLowerCase()+"-",f=d[y],l=!0;break}}var b="resizeanim",p="@"+c+"keyframes "+b+" { from { opacity: 0; } to { opacity: 0; } } ",m=c+"animation: 1ms "+b+"; "}t.exports=function(g,_){return n?g.attachEvent("onresize",_):(g.__resizeTriggers__||(getComputedStyle(g).position=="static"&&(g.style.position="relative"),function(){if(!i){var E=(p||"")+".resize-triggers { "+(m||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',T=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css",w.styleSheet?w.styleSheet.cssText=E:w.appendChild(document.createTextNode(E)),T.appendChild(w),i=!0}}(),g.__resizeLast__={},g.__resizeListeners__=[],(g.__resizeTriggers__=document.createElement("div")).className="resize-triggers",g.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',g.appendChild(g.__resizeTriggers__),a(g),g.addEventListener("scroll",o,!0),f&&g.__resizeTriggers__.addEventListener(f,function(E){E.animationName==b&&a(g)})),g.__resizeListeners__.push(_)),function(){n?g.detachEvent("onresize",_):(g.__resizeListeners__.splice(g.__resizeListeners__.indexOf(_),1),g.__resizeListeners__.length||(g.removeEventListener("scroll",o),g.__resizeTriggers__=!g.removeChild(g.__resizeTriggers__)))}}},1839:function(t,e,r){var n=this&&this.__awaiter||function(s,l,c,f){return new(c||(c=Promise))(function(h,d){function v(p){try{b(f.next(p))}catch(m){d(m)}}function y(p){try{b(f.throw(p))}catch(m){d(m)}}function b(p){var m;p.done?h(p.value):(m=p.value,m instanceof c?m:new c(function(g){g(m)})).then(v,y)}b((f=f.apply(s,l||[])).next())})},i=this&&this.__generator||function(s,l){var c,f,h,d,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(b){return function(p){return function(m){if(c)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(v=0)),v;)try{if(c=1,f&&(h=2&m[0]?f.return:m[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,m[1])).done)return h;switch(f=0,h&&(m=[2&m[0],h.value]),m[0]){case 0:case 1:h=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,f=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!((h=(h=v.trys).length>0&&h[h.length-1])||m[0]!==6&&m[0]!==2)){v=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){v.label=m[1];break}if(m[0]===6&&v.label<h[1]){v.label=h[1],h=m;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(m);break}h[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(g){m=[6,g],f=0}finally{c=h=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([b,p])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(9305),o=r(6781),u=function(){function s(l){var c=l.authTokenManager,f=l.userAgent,h=l.boltAgent;this._authTokenManager=c||(0,a.staticAuthTokenManager)({}),this._userAgent=f,this._boltAgent=h}return s.prototype.authenticate=function(l){var c=l.connection,f=l.auth,h=l.skipReAuth,d=l.waitReAuth,v=l.forceReAuth;return n(this,void 0,void 0,function(){var y,b;return i(this,function(p){switch(p.label){case 0:return f==null?[3,3]:(y=c.supportsReAuth===!0&&(!o.object.equals(c.authToken,f)&&h!==!0||v===!0),c.authToken==null||y?[4,c.connect(this._userAgent,this._boltAgent,f,d||!1)]:[3,2]);case 1:case 5:return[2,p.sent()];case 2:case 6:return[2,c];case 3:return[4,this._authTokenManager.getToken()];case 4:return b=p.sent(),o.object.equals(b,c.authToken)?[3,6]:[4,c.connect(this._userAgent,this._boltAgent,b,!1)]}})})},s.prototype.handleError=function(l){var c=l.connection,f=l.code;return!(!c||!f.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(c.authToken,f)},s}();e.default=u},1866:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(M){for(var I,k=1,U=arguments.length;k<U;k++)for(var F in I=arguments[k])Object.prototype.hasOwnProperty.call(I,F)&&(M[F]=I[F]);return M},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(M,I,k,U){U===void 0&&(U=k);var F=Object.getOwnPropertyDescriptor(I,k);F&&!("get"in F?!I.__esModule:F.writable||F.configurable)||(F={enumerable:!0,get:function(){return I[k]}}),Object.defineProperty(M,U,F)}:function(M,I,k,U){U===void 0&&(U=k),M[U]=I[k]}),a=this&&this.__setModuleDefault||(Object.create?function(M,I){Object.defineProperty(M,"default",{enumerable:!0,value:I})}:function(M,I){M.default=I}),o=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var I={};if(M!=null)for(var k in M)k!=="default"&&Object.prototype.hasOwnProperty.call(M,k)&&i(I,M,k);return a(I,M),I},u=this&&this.__read||function(M,I){var k=typeof Symbol=="function"&&M[Symbol.iterator];if(!k)return M;var U,F,B=k.call(M),z=[];try{for(;(I===void 0||I-- >0)&&!(U=B.next()).done;)z.push(U.value)}catch(H){F={error:H}}finally{try{U&&!U.done&&(k=B.return)&&k.call(B)}finally{if(F)throw F.error}}return z},s=this&&this.__spreadArray||function(M,I,k){if(k||arguments.length===2)for(var U,F=0,B=I.length;F<B;F++)!U&&F in I||(U||(U=Array.prototype.slice.call(I,0,F)),U[F]=I[F]);return M.concat(U||Array.prototype.slice.call(I))};Object.defineProperty(e,"__esModule",{value:!0}),e.buildNotificationsFromMetadata=e.buildGqlStatusObjectFromMetadata=e.polyfillNotification=e.polyfillGqlStatusObject=e.GqlStatusObject=e.Notification=e.notificationClassification=e.notificationCategory=e.notificationSeverityLevel=void 0;var l=o(r(4027)),c=r(6995),f=r(1053),h={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"}},d={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};e.notificationSeverityLevel=d,Object.freeze(d);var v=Object.values(d),y={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};e.notificationCategory=y,Object.freeze(y);var b=Object.values(y),p=y;e.notificationClassification=p;var m=function(M){this.code=M.code,this.title=M.title,this.description=M.description,this.severity=M.severity,this.position=C(M.position),this.severityLevel=R(M.severity),this.rawSeverityLevel=M.severity,this.category=D(M.category),this.rawCategory=M.category};e.Notification=m;var g=function(){function M(I){var k;this.gqlStatus=I.gql_status,this.statusDescription=I.status_description,this.diagnosticRecord=(k=I.diagnostic_record)!==null&&k!==void 0?k:{},this.position=this.diagnosticRecord._position!=null?C(this.diagnosticRecord._position):void 0,this.severity=R(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=D(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=I.neo4j_code!=null,Object.freeze(this)}return Object.defineProperty(M.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),M}();function _(M){var I,k,U;if(M.neo4j_code!=null)return new m({code:M.neo4j_code,title:M.title,description:M.description,severity:(I=M.diagnostic_record)===null||I===void 0?void 0:I._severity,category:(k=M.diagnostic_record)===null||k===void 0?void 0:k._classification,position:(U=M.diagnostic_record)===null||U===void 0?void 0:U._position})}function E(M){var I,k=M.severity===d.WARNING?h.WARNING:h.INFORMATION,U={gql_status:k.gql_status,status_description:(I=M.description)!==null&&I!==void 0?I:k.status_description,neo4j_code:M.code,title:M.title,diagnostic_record:n({},f.rawPolyfilledDiagnosticRecord)};return M.severity!=null&&(U.diagnostic_record._severity=M.severity),M.category!=null&&(U.diagnostic_record._classification=M.category),M.position!=null&&(U.diagnostic_record._position=M.position),new g(U)}e.GqlStatusObject=g,e.polyfillNotification=_,e.polyfillGqlStatusObject=E;var T={SUCCESS:new g({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new g({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new g(n(n({},h.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new g({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(T),e.buildGqlStatusObjectFromMetadata=function(M){var I,k;if(M.statuses!=null)return M.statuses.map(function(B){return new g(B)});var U,F=((U=M.stream_summary)==null?void 0:U.have_records_streamed)===!0?T.SUCCESS:(U==null?void 0:U.has_keys)===!1?T.OMITTED_RESULT:(U==null?void 0:U.pulled)===!0?T.NO_DATA:T.NO_DATA_UNKNOWN_SUBCONDITION;return s([F],u((k=(I=M.notifications)===null||I===void 0?void 0:I.map(E))!==null&&k!==void 0?k:[]),!1).sort(function(B,z){return S(B)-S(z)})};var w=Object.freeze({"02":0,"01":1,"00":2});function S(M){var I,k,U=(I=M.gqlStatus)===null||I===void 0?void 0:I.slice(0,2);return(k=w[U])!==null&&k!==void 0?k:9999}function C(M){return M==null?{}:{offset:c.util.toNumber(M.offset),line:c.util.toNumber(M.line),column:c.util.toNumber(M.column)}}function R(M){return v.includes(M)?M:d.UNKNOWN}function D(M){return b.includes(M)?M:p.UNKNOWN}e.buildNotificationsFromMetadata=function(M){return M.notifications!=null?M.notifications.map(function(I){return new m(I)}):M.statuses!=null?M.statuses.map(_).filter(function(I){return I!=null}):[]},e.default=m},1964:(t,e)=>{function r(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.iterator=e.getSymbolIterator=void 0,e.getSymbolIterator=r,e.iterator=r()},1967:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(9691),i=r(4027),a={basic:function(u,s,l){return l!=null?{scheme:"basic",principal:u,credentials:s,realm:l}:{scheme:"basic",principal:u,credentials:s}},kerberos:function(u){return{scheme:"kerberos",principal:"",credentials:u}},bearer:function(u){return{scheme:"bearer",credentials:u}},none:function(){return{scheme:"none"}},custom:function(u,s,l,c,f){var h={scheme:c,principal:u};if(o(s)&&(h.credentials=s),o(l)&&(h.realm=l),o(f)){try{(0,i.stringify)(f)}catch(d){throw(0,n.newError)("Circular references in custom auth token parameters",void 0,d)}h.parameters=f}return h}};function o(u){return!(u==null||u===""||Object.getPrototypeOf(u)===Object.prototype&&Object.keys(u).length===0)}e.default=a},1983:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeInternals=void 0;var n=r(9445),i=r(7110),a=r(3111);e.mergeInternals=function(o,u,s,l,c,f,h,d){var v=[],y=0,b=0,p=!1,m=function(){!p||v.length||y||u.complete()},g=function(E){return y<l?_(E):v.push(E)},_=function(E){f&&u.next(E),y++;var T=!1;n.innerFrom(s(E,b++)).subscribe(a.createOperatorSubscriber(u,function(w){c==null||c(w),f?g(w):u.next(w)},function(){T=!0},void 0,function(){if(T)try{y--;for(var w=function(){var S=v.shift();h?i.executeSchedule(u,h,function(){return _(S)}):_(S)};v.length&&y<l;)w();m()}catch(S){u.error(S)}}))};return o.subscribe(a.createOperatorSubscriber(u,g,function(){p=!0,m()})),function(){d==null||d()}}},1985:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationFilterMinimumSeverityLevel=void 0;var r={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};e.notificationFilterMinimumSeverityLevel=r,Object.freeze(r);var n={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};e.notificationFilterDisabledCategory=n,Object.freeze(n);var i=n;e.notificationFilterDisabledClassification=i,e.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},2007:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Releasable=void 0;var r=function(){function i(){}return i.prototype.release=function(){throw new Error("Not implemented")},i}();e.Releasable=r;var n=function(){function i(){}return i.prototype.acquireConnection=function(a){throw Error("Not implemented")},i.prototype.supportsMultiDb=function(){throw Error("Not implemented")},i.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},i.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},i.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},i.prototype.SSREnabled=function(){return!1},i.prototype.verifyConnectivityAndGetServerInfo=function(a){throw Error("Not implemented")},i.prototype.verifyAuthentication=function(a){throw Error("Not implemented")},i.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},i.prototype.close=function(){throw Error("Not implemented")},i}();e.default=n},2063:t=>{t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},2066:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(1175));e.default=n({},a.default)},2069:function(t,e,r){var n=this&&this.__awaiter||function(d,v,y,b){return new(y||(y=Promise))(function(p,m){function g(T){try{E(b.next(T))}catch(w){m(w)}}function _(T){try{E(b.throw(T))}catch(w){m(w)}}function E(T){var w;T.done?p(T.value):(w=T.value,w instanceof y?w:new y(function(S){S(w)})).then(g,_)}E((b=b.apply(d,v||[])).next())})},i=this&&this.__generator||function(d,v){var y,b,p,m,g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return m={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function _(E){return function(T){return function(w){if(y)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(g=0)),g;)try{if(y=1,b&&(p=2&w[0]?b.return:w[0]?b.throw||((p=b.return)&&p.call(b),0):b.next)&&!(p=p.call(b,w[1])).done)return p;switch(b=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return g.label++,{value:w[1],done:!1};case 5:g.label++,b=w[1],w=[0];continue;case 7:w=g.ops.pop(),g.trys.pop();continue;default:if(!((p=(p=g.trys).length>0&&p[p.length-1])||w[0]!==6&&w[0]!==2)){g=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){g.label=w[1];break}if(w[0]===6&&g.label<p[1]){g.label=p[1],p=w;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(w);break}p[2]&&g.ops.pop(),g.trys.pop();continue}w=v.call(d,g)}catch(S){w=[6,S],b=0}finally{y=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([E,T])}}},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.staticAuthTokenManager=e.authTokenManagers=e.AuthTokenAndExpiration=void 0;var o=a(r(1967)),u=r(6995),s=function(){function d(){}return d.prototype.getToken=function(){throw new Error("Not Implemented")},d.prototype.handleSecurityException=function(v,y){throw new Error("Not implemented")},d}();e.default=s,e.AuthTokenAndExpiration=function(){this.token=o.default.none(),this.expiration=void 0};var l=new(function(){function d(){}return d.prototype.bearer=function(v){var y=v.tokenProvider;if(typeof y!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof y));return new f(y,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},d.prototype.basic=function(v){var y=this,b=v.tokenProvider;if(typeof b!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof b));return new f(function(){return n(y,void 0,void 0,function(){var p;return i(this,function(m){switch(m.label){case 0:return p={},[4,b()];case 1:return[2,(p.token=m.sent(),p)]}})})},["Neo.ClientError.Security.Unauthorized"])},d}());e.authTokenManagers=l,Object.freeze(l),e.staticAuthTokenManager=function(d){var v=d.authToken;return new h(v)};var c=function(){function d(v){v===void 0&&(v=[]),this._subscribers=v}return d.prototype.subscribe=function(v){this._subscribers.push(v)},d.prototype.onCompleted=function(v){this._subscribers.forEach(function(y){return y.onCompleted(v)})},d.prototype.onError=function(v){this._subscribers.forEach(function(y){return y.onError(v)})},d}(),f=function(){function d(v,y,b,p){this._tokenProvider=v,this._handledSecurityCodes=y,this._currentAuthData=b,this._refreshObservable=p}return d.prototype.getToken=function(){var v;return n(this,void 0,void 0,function(){return i(this,function(y){switch(y.label){case 0:return this._currentAuthData===void 0||this._currentAuthData.expiration!==void 0&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2,(v=this._currentAuthData)===null||v===void 0?void 0:v.token]}})})},d.prototype.handleSecurityException=function(v,y){var b;return!!this._handledSecurityCodes.includes(y)&&(u.util.equals(v,(b=this._currentAuthData)===null||b===void 0?void 0:b.token)&&this._scheduleRefreshAuthToken(),!0)},d.prototype._scheduleRefreshAuthToken=function(v){var y=this;this._refreshObservable===void 0&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(b){var p;y._currentAuthData=b,(p=y._refreshObservable)===null||p===void 0||p.onCompleted(b)}).catch(function(b){var p;(p=y._refreshObservable)===null||p===void 0||p.onError(b)}).finally(function(){y._refreshObservable=void 0})),v!==void 0&&this._refreshObservable.subscribe(v)},d.prototype._refreshAuthToken=function(){return n(this,void 0,void 0,function(){var v=this;return i(this,function(y){switch(y.label){case 0:return[4,new Promise(function(b,p){v._scheduleRefreshAuthToken({onCompleted:b,onError:p})})];case 1:return[2,y.sent()]}})})},d}(),h=function(){function d(v){this._authToken=v}return d.prototype.getToken=function(){return this._authToken},d.prototype.handleSecurityException=function(v,y){return!1},d}()},2072:function(t,e,r){var n=this&&this.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(d[y]=v[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=f}c(f,h),f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),i=this&&this.__createBinding||(Object.create?function(c,f,h,d){d===void 0&&(d=h);var v=Object.getOwnPropertyDescriptor(f,h);v&&!("get"in v?!f.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,d,v)}:function(c,f,h,d){d===void 0&&(d=h),c[d]=f[h]}),a=this&&this.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),o=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&i(f,c,h);return a(f,c),f};Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var u=o(r(5361)),s=function(c){function f(){return c!==null&&c.apply(this,arguments)||this}return n(f,c),f.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},f}(u.Packer);e.Packer=s;var l=function(c){function f(h,d){return h===void 0&&(h=!1),d===void 0&&(d=!1),c.call(this,h,d)||this}return n(f,c),f}(u.Unpacker);e.Unpacker=l},2129:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeWhile=void 0;var n=r(7843),i=r(3111);e.takeWhile=function(a,o){return o===void 0&&(o=!1),n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){var f=a(c,l++);(f||o)&&s.next(c),!f&&s.complete()}))})}},2171:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=r(245),i=r(783);e.partition=function(a,o){return function(u){return[i.filter(a,o)(u),i.filter(n.not(a,o))(u)]}}},2199:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return n(o,a),o.prototype.resolve=function(u){return this._resolveToItself(u)},o}(r(9305).internal.resolver.BaseHostNameResolver);e.default=i},2204:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(3019));e.default=n({},a.default)},2343:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toArray=void 0;var n=r(9139),i=r(7843),a=function(o,u){return o.push(u),o};e.toArray=function(){return i.operate(function(o,u){n.reduce(a,[])(o).subscribe(u)})}},2360:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.materialize=void 0;var n=r(7800),i=r(7843),a=r(3111);e.materialize=function(){return i.operate(function(o,u){o.subscribe(a.createOperatorSubscriber(u,function(s){u.next(n.Notification.createNext(s))},function(){u.next(n.Notification.createComplete()),u.complete()},function(s){u.next(n.Notification.createError(s)),u.complete()}))})}},2363:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(9305),i=n.error.SERVICE_UNAVAILABLE,a=n.error.SESSION_EXPIRED,o=function(){function s(l,c,f,h){this._errorCode=l,this._handleUnavailability=c||u,this._handleWriteFailure=f||u,this._handleSecurityError=h||u}return s.create=function(l){return new s(l.errorCode,l.handleUnavailability,l.handleWriteFailure,l.handleSecurityError)},s.prototype.errorCode=function(){return this._errorCode},s.prototype.handleAndTransformError=function(l,c,f){return function(h){return h!=null&&h.code!=null&&h.code.startsWith("Neo.ClientError.Security.")}(l)?this._handleSecurityError(l,c,f):function(h){return!!h&&(h.code===a||h.code===i||h.code==="Neo.TransientError.General.DatabaseUnavailable")}(l)?this._handleUnavailability(l,c,f):function(h){return!!h&&(h.code==="Neo.ClientError.Cluster.NotALeader"||h.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase")}(l)?this._handleWriteFailure(l,c,f):l},s}();function u(s){return s}e.default=o},2481:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(9305),i=n.internal.util,a=i.ENCRYPTION_OFF,o=i.ENCRYPTION_ON,u=n.error.SERVICE_UNAVAILABLE,s=[null,void 0,!0,!1,o,a],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];e.default=function(c,f,h,d){this.address=c,this.encrypted=function(v){var y=v.encrypted;if(s.indexOf(y)===-1)throw(0,n.newError)("Illegal value of the encrypted setting ".concat(y,". Expected one of ").concat(s));return y}(f),this.trust=function(v){var y=v.trust;if(l.indexOf(y)===-1)throw(0,n.newError)("Illegal value of the trust setting ".concat(y,". Expected one of ").concat(l));return y}(f),this.trustedCertificates=function(v){return v.trustedCertificates||[]}(f),this.knownHostsPath=function(v){return v.knownHosts||null}(f),this.connectionErrorCode=h||u,this.connectionTimeout=f.connectionTimeout,this.clientCertificate=d}},2483:function(t,e,r){var n=this&&this.__extends||function(){var h=function(d,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},h(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}h(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),i=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&h[d],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AnonymousSubject=e.Subject=void 0;var a=r(4662),o=r(8014),u=r(9686),s=r(7479),l=r(9223),c=function(h){function d(){var v=h.call(this)||this;return v.closed=!1,v.currentObservers=null,v.observers=[],v.isStopped=!1,v.hasError=!1,v.thrownError=null,v}return n(d,h),d.prototype.lift=function(v){var y=new f(this,this);return y.operator=v,y},d.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},d.prototype.next=function(v){var y=this;l.errorContext(function(){var b,p;if(y._throwIfClosed(),!y.isStopped){y.currentObservers||(y.currentObservers=Array.from(y.observers));try{for(var m=i(y.currentObservers),g=m.next();!g.done;g=m.next())g.value.next(v)}catch(_){b={error:_}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(b)throw b.error}}}})},d.prototype.error=function(v){var y=this;l.errorContext(function(){if(y._throwIfClosed(),!y.isStopped){y.hasError=y.isStopped=!0,y.thrownError=v;for(var b=y.observers;b.length;)b.shift().error(v)}})},d.prototype.complete=function(){var v=this;l.errorContext(function(){if(v._throwIfClosed(),!v.isStopped){v.isStopped=!0;for(var y=v.observers;y.length;)y.shift().complete()}})},d.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(d.prototype,"observed",{get:function(){var v;return((v=this.observers)===null||v===void 0?void 0:v.length)>0},enumerable:!1,configurable:!0}),d.prototype._trySubscribe=function(v){return this._throwIfClosed(),h.prototype._trySubscribe.call(this,v)},d.prototype._subscribe=function(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)},d.prototype._innerSubscribe=function(v){var y=this,b=this,p=b.hasError,m=b.isStopped,g=b.observers;return p||m?o.EMPTY_SUBSCRIPTION:(this.currentObservers=null,g.push(v),new o.Subscription(function(){y.currentObservers=null,s.arrRemove(g,v)}))},d.prototype._checkFinalizedStatuses=function(v){var y=this,b=y.hasError,p=y.thrownError,m=y.isStopped;b?v.error(p):m&&v.complete()},d.prototype.asObservable=function(){var v=new a.Observable;return v.source=this,v},d.create=function(v,y){return new f(v,y)},d}(a.Observable);e.Subject=c;var f=function(h){function d(v,y){var b=h.call(this)||this;return b.destination=v,b.source=y,b}return n(d,h),d.prototype.next=function(v){var y,b;(b=(y=this.destination)===null||y===void 0?void 0:y.next)===null||b===void 0||b.call(y,v)},d.prototype.error=function(v){var y,b;(b=(y=this.destination)===null||y===void 0?void 0:y.error)===null||b===void 0||b.call(y,v)},d.prototype.complete=function(){var v,y;(y=(v=this.destination)===null||v===void 0?void 0:v.complete)===null||y===void 0||y.call(v)},d.prototype._subscribe=function(v){var y,b;return(b=(y=this.source)===null||y===void 0?void 0:y.subscribe(v))!==null&&b!==void 0?b:o.EMPTY_SUBSCRIPTION},d}(c);e.AnonymousSubject=f},2533:function(t,e,r){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}(),i=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(715)),o=function(u){function s(l){var c=u.call(this)||this;return c._readersIndex=new a.default,c._writersIndex=new a.default,c._connectionPool=l,c}return n(s,u),s.prototype.selectReader=function(l){return this._select(l,this._readersIndex)},s.prototype.selectWriter=function(l){return this._select(l,this._writersIndex)},s.prototype._select=function(l,c){var f=l.length;if(f===0)return null;var h=c.next(f),d=h,v=null,y=Number.MAX_SAFE_INTEGER;do{var b=l[d],p=this._connectionPool.activeResourceCount(b);p<y&&(v=b,y=p),d===f-1?d=0:d++}while(d!==h);return v},s}(i(r(4311)).default);e.default=o},2539:function(t,e,r){var n=this&&this.__extends||function(){var E=function(T,w){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(S[R]=C[R])},E(T,w)};return function(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=T}E(T,w),T.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(E){for(var T,w=1,S=arguments.length;w<S;w++)for(var C in T=arguments[w])Object.prototype.hasOwnProperty.call(T,C)&&(E[C]=T[C]);return E},i.apply(this,arguments)},a=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(5642)),u=a(r(7021)),s=r(397),l=r(9014),c=a(r(2066)),f=a(r(3321)),h=r(9305),d=(h.internal.bookmarks.Bookmarks,h.internal.constants),v=d.BOLT_PROTOCOL_V4_0,y=d.FETCH_ALL,b=h.internal.txConfig.TxConfig,p="context",m="database",g="CALL dbms.routing.getRoutingTable($".concat(p,", $").concat(m,")"),_=function(E){function T(){return E!==null&&E.apply(this,arguments)||this}return n(T,E),Object.defineProperty(T.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new f.default(Object.values(c.default).map(function(S){return S(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),T.prototype.beginTransaction=function(w){var S=w===void 0?{}:w,C=S.bookmarks,R=S.txConfig,D=S.database,M=S.impersonatedUser,I=S.notificationFilter,k=S.mode,U=S.beforeError,F=S.afterError,B=S.beforeComplete,z=S.afterComplete,H=new l.ResultStreamObserver({server:this._server,beforeError:U,afterError:F,beforeComplete:B,afterComplete:z});return H.prepareToHandleSingleResponse(),(0,s.assertImpersonatedUserIsEmpty)(M,this._onProtocolError,H),(0,s.assertNotificationFilterIsEmpty)(I,this._onProtocolError,H),this.write(u.default.begin({bookmarks:C,txConfig:R,database:D,mode:k}),H,!0),H},T.prototype.run=function(w,S,C){var R=C===void 0?{}:C,D=R.bookmarks,M=R.txConfig,I=R.database,k=R.impersonatedUser,U=R.notificationFilter,F=R.mode,B=R.beforeKeys,z=R.afterKeys,H=R.beforeError,Y=R.afterError,W=R.beforeComplete,Z=R.afterComplete,le=R.flush,ce=le===void 0||le,ue=R.reactive,de=ue!==void 0&&ue,he=R.fetchSize,fe=he===void 0?y:he,te=R.highRecordWatermark,Q=te===void 0?Number.MAX_VALUE:te,ee=R.lowRecordWatermark,ae=ee===void 0?Number.MAX_VALUE:ee,pe=new l.ResultStreamObserver({server:this._server,reactive:de,fetchSize:fe,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:B,afterKeys:z,beforeError:H,afterError:Y,beforeComplete:W,afterComplete:Z,highRecordWatermark:Q,lowRecordWatermark:ae});(0,s.assertImpersonatedUserIsEmpty)(k,this._onProtocolError,pe),(0,s.assertNotificationFilterIsEmpty)(U,this._onProtocolError,pe);var _e=de;return this.write(u.default.runWithMetadata(w,S,{bookmarks:D,txConfig:M,database:I,mode:F}),pe,_e&&ce),de||this.write(u.default.pull({n:fe}),pe,ce),pe},T.prototype._requestMore=function(w,S,C){this.write(u.default.pull({stmtId:w,n:S}),C,!0)},T.prototype._requestDiscard=function(w,S){this.write(u.default.discard({stmtId:w}),S,!0)},T.prototype._noOp=function(){},T.prototype.requestRoutingInformation=function(w){var S,C=w.routingContext,R=C===void 0?{}:C,D=w.databaseName,M=D===void 0?null:D,I=w.sessionContext,k=I===void 0?{}:I,U=w.onError,F=w.onCompleted,B=this.run(g,((S={})[p]=R,S[m]=M,S),i(i({},k),{txConfig:b.empty()}));return new l.ProcedureRouteObserver({resultObserver:B,onProtocolError:this._onProtocolError,onError:U,onCompleted:F})},T}(o.default);e.default=_},2551:function(t,e,r){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,b=d.call(f),p=[];try{for(;(h===void 0||h-- >0)&&!(v=b.next()).done;)p.push(v.value)}catch(m){y={error:m}}finally{try{v&&!v.done&&(d=b.return)&&d.call(b)}finally{if(y)throw y.error}}return p},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatest=void 0;var a=r(3247),o=r(7843),u=r(8535),s=r(1251),l=r(2706),c=r(1107);e.combineLatest=function f(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var v=c.popResultSelector(h);return v?l.pipe(f.apply(void 0,i([],n(h))),s.mapOneOrManyArgs(v)):o.operate(function(y,b){a.combineLatestInit(i([y],n(u.argsOrArgArray(h))))(b)})}},2578:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(9305);function i(){}function a(s){return s}var o={onNext:i,onCompleted:i,onError:i},u=function(){function s(l){var c=l===void 0?{}:l,f=c.transformMetadata,h=c.enrichErrorMetadata,d=c.log,v=c.observer;this._pendingObservers=[],this._log=d,this._transformMetadata=f||a,this._enrichErrorMetadata=h||a,this._observer=Object.assign({onObserversCountChange:i,onError:i,onFailure:i,onErrorApplyTransformation:a},v)}return Object.defineProperty(s.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),s.prototype.handleResponse=function(l){var c=l.fields[0];switch(l.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(n.json.stringify(l))),this._currentObserver.onNext(c);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(n.json.stringify(l)));try{var f=this._transformMetadata(c);this._currentObserver.onCompleted(f)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(n.json.stringify(l)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(c)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(n.json.stringify(l)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,n.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,n.newError)("Unknown Bolt protocol message: "+l))}},s.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(s.prototype,"_observersCount",{get:function(){return this._currentObserver==null?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),s.prototype._queueObserver=function(l){return(l=l||o).onCompleted=l.onCompleted||i,l.onError=l.onError||i,l.onNext=l.onNext||i,this._currentObserver===void 0?this._currentObserver=l:this._pendingObservers.push(l),this._observer.onObserversCountChange(this._observersCount),!0},s.prototype._notifyErrorToObservers=function(l){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(l);this._pendingObservers.length>0;){var c=this._pendingObservers.shift();c&&c.onError&&c.onError(l)}},s.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},s.prototype._resetFailure=function(){this._currentFailure=null},s.prototype._handleErrorPayload=function(l){var c,f=(c=l.code)==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":c==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":c,h=l.cause!=null?this._handleErrorCause(l.cause):void 0,d=(0,n.newError)(l.message,f,h,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(d)},s.prototype._handleErrorCause=function(l){var c=l.cause!=null?this._handleErrorCause(l.cause):void 0,f=(0,n.newGQLError)(l.message,c,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(f)},s}();e.default=u},2628:function(t,e,r){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameAction=void 0;var i=r(5267),a=r(9507),o=function(u){function s(l,c){var f=u.call(this,l,c)||this;return f.scheduler=l,f.work=c,f}return n(s,u),s.prototype.requestAsyncId=function(l,c,f){return f===void 0&&(f=0),f!==null&&f>0?u.prototype.requestAsyncId.call(this,l,c,f):(l.actions.push(this),l._scheduled||(l._scheduled=a.animationFrameProvider.requestAnimationFrame(function(){return l.flush(void 0)})))},s.prototype.recycleAsyncId=function(l,c,f){var h;if(f===void 0&&(f=0),f!=null?f>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,l,c,f);var d=l.actions;c!=null&&c===l._scheduled&&((h=d[d.length-1])===null||h===void 0?void 0:h.id)!==c&&(a.animationFrameProvider.cancelAnimationFrame(c),l._scheduled=void 0)},s}(i.AsyncAction);e.AnimationFrameAction=o},2669:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.min=void 0;var n=r(9139),i=r(1018);e.min=function(a){return n.reduce(i.isFunction(a)?function(o,u){return a(o,u)<0?o:u}:function(o,u){return o<u?o:u})}},2696:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FailedObserver=e.CompletedObserver=void 0;var r=function(){function a(){}return a.prototype.subscribe=function(o){i(o,o.onKeys,[]),i(o,o.onCompleted,{})},a.prototype.cancel=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.prepareToHandleSingleResponse=function(){},a.prototype.markCompleted=function(){},a.prototype.onError=function(o){throw new Error("CompletedObserver not supposed to call onError",{cause:o})},a}();e.CompletedObserver=r;var n=function(){function a(o){var u=o.error,s=o.onError;this._error=u,this._beforeError=s,this._observers=[],this.onError(u)}return a.prototype.subscribe=function(o){i(o,o.onError,this._error),this._observers.push(o)},a.prototype.onError=function(o){i(this,this._beforeError,o),this._observers.forEach(function(u){return i(u,u.onError,o)})},a.prototype.cancel=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.markCompleted=function(){},a.prototype.prepareToHandleSingleResponse=function(){},a}();function i(a,o,u){o!=null&&o.bind(a)(u)}e.FailedObserver=n},2706:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pipeFromArray=e.pipe=void 0;var n=r(6640);function i(a){return a.length===0?n.identity:a.length===1?a[0]:function(o){return a.reduce(function(u,s){return s(u)},o)}}e.pipe=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return i(a)},e.pipeFromArray=i},2713:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallback=void 0;var n=r(1439);e.bindCallback=function(i,a,o){return n.bindCallbackInternals(!1,i,a,o)}},2752:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustAll=void 0;var n=r(4753),i=r(6640);e.exhaustAll=function(){return n.exhaustMap(i.identity)}},2823:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyError=void 0;var n=r(5568);e.EmptyError=n.createErrorClass(function(i){return function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}})},2833:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var n=r(7302),i=r(9445),a=r(8616),o=r(1107),u=r(4917);e.merge=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=o.popScheduler(s),f=o.popNumber(s,1/0),h=s;return h.length?h.length===1?i.innerFrom(h[0]):n.mergeAll(f)(u.from(h,c)):a.EMPTY}},2857:function(t,e,r){var n=this&&this.__extends||function(){var h=function(d,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},h(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}h(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(8320)),o=i(r(7168)),u=r(9305),s=i(r(3448)),l=i(r(3321)),c=u.internal.constants.BOLT_PROTOCOL_V2,f=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return n(d,h),d.prototype._createPacker=function(v){return new o.default.Packer(v)},d.prototype._createUnpacker=function(v,y){return new o.default.Unpacker(v,y)},Object.defineProperty(d.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(s.default).map(function(y){return y(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),d}(a.default);e.default=f},2886:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var n=r(4212),i=r(1293);e.queueScheduler=new i.QueueScheduler(n.QueueAction),e.queue=e.queueScheduler},2906:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c},o=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var u=a(r(7589));e.PoolConfig=u.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});var s=o(r(6842));e.Pool=s.default,e.default=s.default},3001:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(i){this.maxSize=i,this.pruneCount=Math.max(Math.round(.01*i*Math.log(i)),1),this.map=new Map}return n.prototype.set=function(i,a){this.map.set(i,{database:a,lastUsed:Date.now()}),this._pruneCache()},n.prototype.get=function(i){var a=this.map.get(i);if(a!==void 0)return a.lastUsed=Date.now(),a.database},n.prototype.delete=function(i){this.map.delete(i)},n.prototype._pruneCache=function(){if(this.map.size>this.maxSize)for(var i=Array.from(this.map.entries()).sort(function(o,u){return o[1].lastUsed-u[1].lastUsed}),a=0;a<this.pruneCount;a++)this.map.delete(i[a][0])},n}();e.default=r},3019:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(9994));e.default=n({},a.default)},3057:function(t,e,r){var n=this&&this.__awaiter||function(c,f,h,d){return new(h||(h=Promise))(function(v,y){function b(g){try{m(d.next(g))}catch(_){y(_)}}function p(g){try{m(d.throw(g))}catch(_){y(_)}}function m(g){var _;g.done?v(g.value):(_=g.value,_ instanceof h?_:new h(function(E){E(_)})).then(b,p)}m((d=d.apply(c,f||[])).next())})},i=this&&this.__generator||function(c,f){var h,d,v,y,b={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return y={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function p(m){return function(g){return function(_){if(h)throw new TypeError("Generator is already executing.");for(;y&&(y=0,_[0]&&(b=0)),b;)try{if(h=1,d&&(v=2&_[0]?d.return:_[0]?d.throw||((v=d.return)&&v.call(d),0):d.next)&&!(v=v.call(d,_[1])).done)return v;switch(d=0,v&&(_=[2&_[0],v.value]),_[0]){case 0:case 1:v=_;break;case 4:return b.label++,{value:_[1],done:!1};case 5:b.label++,d=_[1],_=[0];continue;case 7:_=b.ops.pop(),b.trys.pop();continue;default:if(!((v=(v=b.trys).length>0&&v[v.length-1])||_[0]!==6&&_[0]!==2)){b=0;continue}if(_[0]===3&&(!v||_[1]>v[0]&&_[1]<v[3])){b.label=_[1];break}if(_[0]===6&&b.label<v[1]){b.label=v[1],v=_;break}if(v&&b.label<v[2]){b.label=v[2],b.ops.push(_);break}v[2]&&b.ops.pop(),b.trys.pop();continue}_=f.call(c,b)}catch(E){_=[6,E],d=0}finally{h=v=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([m,g])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(9305),o=r(8813),u=r(9419),s=function(){function c(f,h){var d=f.pipe((0,u.publishReplay)(1),(0,u.refCount)());this._result=d,this._keys=d.pipe((0,u.mergeMap)(function(v){return(0,o.from)(v.keys())}),(0,u.publishReplay)(1),(0,u.refCount)()),this._records=void 0,this._controls=new l,this._summary=new o.ReplaySubject,this._state=h||0}return c.prototype.keys=function(){return this._keys},c.prototype.records=function(){var f=this,h=this._result.pipe((0,u.mergeMap)(function(d){return new o.Observable(function(v){return f._startStreaming({result:d,recordsObserver:v})})}));return h.push=function(){return f._push()},h},c.prototype.consume=function(){var f=this;return this._result.pipe((0,u.mergeMap)(function(h){return new o.Observable(function(d){return f._startStreaming({result:h,summaryObserver:d})})}))},c.prototype.pause=function(){this._controls.pause()},c.prototype.resume=function(){return this._controls.resume()},c.prototype.push=function(){return this._controls.push()},c.prototype._startStreaming=function(f){var h=f===void 0?{}:f,d=h.result,v=h.recordsObserver,y=v===void 0?null:v,b=h.summaryObserver,p=b===void 0?null:b,m=[];return p&&m.push(this._summary.subscribe(p)),this._state<1?(this._state=1,this._setupRecordsStream(d),y?m.push(this._records.subscribe(y)):d._cancel(),m.push({unsubscribe:function(){d._cancel&&d._cancel()}})):y&&y.error((0,a.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){m.forEach(function(g){return g.unsubscribe()})}},c.prototype._toObservable=function(){var f=this;return new o.Observable(function(h){f._result.subscribe({complete:function(){return h.complete()},next:function(d){return h.next(new c(function(v){return new o.Observable(function(y){y.next(v),y.complete()})}(d)),f._state)},error:function(d){return h.error(d)}})})},c.prototype._setupRecordsStream=function(f){var h=this;return this._records||(this._records=function(d,v,y){var b=this;y===void 0&&(y=new l);var p=new o.Subject,m=function(_){return n(b,void 0,void 0,function(){var E,T,w,S;return i(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,3,4]),y.pushing=!0,[4,_];case 1:return E=C.sent(),T=E.done,w=E.value,T?(p.complete(),v.complete()):(p.next(w),y.paused||m(d.next()).catch(function(){})),[3,4];case 2:return S=C.sent(),p.error(S),v.error(S),[3,4];case 3:return y.pushing=!1,[7];case 4:return[2]}})})};function g(_){return n(this,void 0,void 0,function(){return i(this,function(E){switch(E.label){case 0:return[4,m(d.next(_))];case 1:return E.sent(),[2]}})})}return y.pusher=g,g(),p}(f[Symbol.asyncIterator](),{complete:function(){return n(h,void 0,void 0,function(){var d,v;return i(this,function(y){switch(y.label){case 0:return this._state=2,v=(d=this._summary).next,[4,f.summary()];case 1:return v.apply(d,[y.sent()]),this._summary.complete(),[2]}})})},error:function(d){h._state=2,h._summary.error(d)}},this._controls)),this._records},c}();e.default=s;var l=function(){function c(f){f===void 0&&(f=function(){return n(h,void 0,void 0,function(){return i(this,function(d){return[2]})})});var h=this;this._paused=!1,this._pushing=!1,this._push=f}return c.prototype.pause=function(){this._paused=!0},Object.defineProperty(c.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pushing",{get:function(){return this._pushing},set:function(f){this._pushing=f},enumerable:!1,configurable:!0}),c.prototype.resume=function(){return n(this,void 0,void 0,function(){var f;return i(this,function(h){switch(h.label){case 0:return f=this._paused,this._paused=!1,!f||this._pushing?[3,2]:[4,this._push()];case 1:h.sent(),h.label=2;case 2:return[2]}})})},c.prototype.push=function(){return n(this,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,f.sent()]}})})},Object.defineProperty(c.prototype,"pusher",{get:function(){return this._push},set:function(f){this._push=f},enumerable:!1,configurable:!0}),c}()},3110:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrames=void 0;var n=r(4662),i=r(4746),a=r(9507);function o(s){return new n.Observable(function(l){var c=s||i.performanceTimestampProvider,f=c.now(),h=0,d=function(){l.closed||(h=a.animationFrameProvider.requestAnimationFrame(function(v){h=0;var y=c.now();l.next({timestamp:s?y:v,elapsed:y-f}),d()}))};return d(),function(){h&&a.animationFrameProvider.cancelAnimationFrame(h)}})}e.animationFrames=function(s){return s?o(s):u};var u=o()},3111:function(t,e,r){var n=this&&this.__extends||function(){var o=function(u,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},o(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}o(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorSubscriber=e.createOperatorSubscriber=void 0;var i=r(5);e.createOperatorSubscriber=function(o,u,s,l,c){return new a(o,u,s,l,c)};var a=function(o){function u(s,l,c,f,h,d){var v=o.call(this,s)||this;return v.onFinalize=h,v.shouldUnsubscribe=d,v._next=l?function(y){try{l(y)}catch(b){s.error(b)}}:o.prototype._next,v._error=f?function(y){try{f(y)}catch(b){s.error(b)}finally{this.unsubscribe()}}:o.prototype._error,v._complete=c?function(){try{c()}catch(y){s.error(y)}finally{this.unsubscribe()}}:o.prototype._complete,v}return n(u,o),u.prototype.unsubscribe=function(){var s;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;o.prototype.unsubscribe.call(this),!l&&((s=this.onFinalize)===null||s===void 0||s.call(this))}},u}(i.Subscriber);e.OperatorSubscriber=a},3133:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shareReplay=void 0;var n=r(1242),i=r(8977);e.shareReplay=function(a,o,u){var s,l,c,f,h=!1;return a&&typeof a=="object"?(s=a.bufferSize,f=s===void 0?1/0:s,l=a.windowTime,o=l===void 0?1/0:l,h=(c=a.refCount)!==void 0&&c,u=a.scheduler):f=a??1/0,i.share({connector:function(){return new n.ReplaySubject(f,o,u)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}},3146:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.audit=void 0;var n=r(7843),i=r(9445),a=r(3111);e.audit=function(o){return n.operate(function(u,s){var l=!1,c=null,f=null,h=!1,d=function(){if(f==null||f.unsubscribe(),f=null,l){l=!1;var y=c;c=null,s.next(y)}h&&s.complete()},v=function(){f=null,h&&s.complete()};u.subscribe(a.createOperatorSubscriber(s,function(y){l=!0,c=y,f||i.innerFrom(o(y)).subscribe(f=a.createOperatorSubscriber(s,d,v))},function(){h=!0,(!l||!f||f.closed)&&s.complete()}))})}},3206:(t,e,r)=>{t.exports=function(w){var S,C,R,D=0,M=0,I=s,k=[],U=[],F=1,B=0,z=0,H=!1,Y=!1,W="",Z=a,le=n;(w=w||{}).version==="300 es"&&(Z=u,le=o);var ce={},ue={};for(D=0;D<Z.length;D++)ce[Z[D]]=!0;for(D=0;D<le.length;D++)ue[le[D]]=!0;return function(j){return U=[],j!==null?function(G){var X;for(D=0,G.toString&&(G=G.toString()),W+=G.replace(/\r\n/g,`
`),R=W.length;S=W[D],D<R;){switch(X=D,I){case c:D=ee();break;case f:D=Q();break;case h:D=te();break;case d:D=ae();break;case v:D=Te();break;case E:D=_e();break;case y:D=Ae();break;case l:D=be();break;case g:D=fe();break;case s:D=he()}X!==D&&(W[X]===`
`?(B=0,++F):++B)}return M+=D,W=W.slice(D),U}(j):(k.length&&de(k.join("")),I=_,de("(eof)"),U)};function de(j){j.length&&U.push({type:T[I],data:j,position:z,line:F,column:B})}function he(){return k=k.length?[]:k,C==="/"&&S==="*"?(z=M+D-1,I=c,C=S,D+1):C==="/"&&S==="/"?(z=M+D-1,I=f,C=S,D+1):S==="#"?(I=h,z=M+D,D):/\s/.test(S)?(I=g,z=M+D,D):(H=/\d/.test(S),Y=/[^\w_]/.test(S),z=M+D,I=H?v:Y?d:l,D)}function fe(){return/[^\s]/g.test(S)?(de(k.join("")),I=s,D):(k.push(S),C=S,D+1)}function te(){return S!=="\r"&&S!==`
`||C==="\\"?(k.push(S),C=S,D+1):(de(k.join("")),I=s,D)}function Q(){return te()}function ee(){return S==="/"&&C==="*"?(k.push(S),de(k.join("")),I=s,D+1):(k.push(S),C=S,D+1)}function ae(){if(C==="."&&/\d/.test(S))return I=y,D;if(C==="/"&&S==="*")return I=c,D;if(C==="/"&&S==="/")return I=f,D;if(S==="."&&k.length){for(;pe(k););return I=y,D}if(S===";"||S===")"||S==="("){if(k.length)for(;pe(k););return de(S),I=s,D+1}var j=k.length===2&&S!=="=";if(/[\w_\d\s]/.test(S)||j){for(;pe(k););return I=s,D}return k.push(S),C=S,D+1}function pe(j){for(var G,X,ie=0;;){if(G=i.indexOf(j.slice(0,j.length+ie).join("")),X=i[G],G===-1){if(ie--+j.length>0)continue;X=j.slice(0,1).join("")}return de(X),z+=X.length,(k=k.slice(X.length)).length}}function _e(){return/[^a-fA-F0-9]/.test(S)?(de(k.join("")),I=s,D):(k.push(S),C=S,D+1)}function Te(){return S==="."||/[eE]/.test(S)?(k.push(S),I=y,C=S,D+1):S==="x"&&k.length===1&&k[0]==="0"?(I=E,k.push(S),C=S,D+1):/[^\d]/.test(S)?(de(k.join("")),I=s,D):(k.push(S),C=S,D+1)}function Ae(){return S==="f"&&(k.push(S),C=S,D+=1),/[eE]/.test(S)?(k.push(S),C=S,D+1):(S!=="-"&&S!=="+"||!/[eE]/.test(C))&&/[^\d]/.test(S)?(de(k.join("")),I=s,D):(k.push(S),C=S,D+1)}function be(){if(/[^\d\w_]/.test(S)){var j=k.join("");return I=ue[j]?m:ce[j]?p:b,de(k.join("")),I=s,D}return k.push(S),C=S,D+1}};var n=r(4704),i=r(2063),a=r(7192),o=r(8784),u=r(5592),s=999,l=9999,c=0,f=1,h=2,d=3,v=4,y=5,b=6,p=7,m=8,g=9,_=10,E=11,T=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3218:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mapTo=void 0;var n=r(5471);e.mapTo=function(i){return n.map(function(){return i})}},3229:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameScheduler=void 0;var i=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return n(o,a),o.prototype.flush=function(u){var s;this._active=!0,u?s=u.id:(s=this._scheduled,this._scheduled=void 0);var l,c=this.actions;u=u||c.shift();do if(l=u.execute(u.state,u.delay))break;while((u=c[0])&&u.id===s&&c.shift());if(this._active=!1,l){for(;(u=c[0])&&u.id===s&&c.shift();)u.unsubscribe();throw l}},o}(r(5648).AsyncScheduler);e.AnimationFrameScheduler=i},3231:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.auditTime=void 0;var n=r(7961),i=r(3146),a=r(4092);e.auditTime=function(o,u){return u===void 0&&(u=n.asyncScheduler),i.audit(function(){return a.timer(o,u)})}},3247:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestInit=e.combineLatest=void 0;var n=r(4662),i=r(7360),a=r(4917),o=r(6640),u=r(1251),s=r(1107),l=r(6013),c=r(3111),f=r(7110);function h(v,y,b){return b===void 0&&(b=o.identity),function(p){d(y,function(){for(var m=v.length,g=new Array(m),_=m,E=m,T=function(S){d(y,function(){var C=a.from(v[S],y),R=!1;C.subscribe(c.createOperatorSubscriber(p,function(D){g[S]=D,R||(R=!0,E--),E||p.next(b(g.slice()))},function(){--_||p.complete()}))},p)},w=0;w<m;w++)T(w)},p)}}function d(v,y,b){v?f.executeSchedule(b,v,y):y()}e.combineLatest=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];var b=s.popScheduler(v),p=s.popResultSelector(v),m=i.argsArgArrayOrObject(v),g=m.args,_=m.keys;if(g.length===0)return a.from([],b);var E=new n.Observable(h(g,b,_?function(T){return l.createObject(_,T)}:o.identity));return p?E.pipe(u.mapOneOrManyArgs(p)):E},e.combineLatestInit=h},3269:(t,e,r)=>{var n=r(6931),i=r(9975),a=Object.hasOwnProperty,o=Object.create(null);for(var u in n)a.call(n,u)&&(o[n[u]]=u);var s=t.exports={to:{},get:{}};function l(f,h,d){return Math.min(Math.max(h,f),d)}function c(f){var h=Math.round(f).toString(16).toUpperCase();return h.length<2?"0"+h:h}s.get=function(f){var h,d;switch(f.substring(0,3).toLowerCase()){case"hsl":h=s.get.hsl(f),d="hsl";break;case"hwb":h=s.get.hwb(f),d="hwb";break;default:h=s.get.rgb(f),d="rgb"}return h?{model:d,value:h}:null},s.get.rgb=function(f){if(!f)return null;var h,d,v,y=[0,0,0,1];if(h=f.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(v=h[2],h=h[1],d=0;d<3;d++){var b=2*d;y[d]=parseInt(h.slice(b,b+2),16)}v&&(y[3]=parseInt(v,16)/255)}else if(h=f.match(/^#([a-f0-9]{3,4})$/i)){for(v=(h=h[1])[3],d=0;d<3;d++)y[d]=parseInt(h[d]+h[d],16);v&&(y[3]=parseInt(v+v,16)/255)}else if(h=f.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(d=0;d<3;d++)y[d]=parseInt(h[d+1],0);h[4]&&(h[5]?y[3]=.01*parseFloat(h[4]):y[3]=parseFloat(h[4]))}else{if(!(h=f.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(h=f.match(/^(\w+)$/))?h[1]==="transparent"?[0,0,0,0]:a.call(n,h[1])?((y=n[h[1]])[3]=1,y):null:null;for(d=0;d<3;d++)y[d]=Math.round(2.55*parseFloat(h[d+1]));h[4]&&(h[5]?y[3]=.01*parseFloat(h[4]):y[3]=parseFloat(h[4]))}for(d=0;d<3;d++)y[d]=l(y[d],0,255);return y[3]=l(y[3],0,1),y},s.get.hsl=function(f){if(!f)return null;var h=f.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(h){var d=parseFloat(h[4]);return[(parseFloat(h[1])%360+360)%360,l(parseFloat(h[2]),0,100),l(parseFloat(h[3]),0,100),l(isNaN(d)?1:d,0,1)]}return null},s.get.hwb=function(f){if(!f)return null;var h=f.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(h){var d=parseFloat(h[4]);return[(parseFloat(h[1])%360+360)%360,l(parseFloat(h[2]),0,100),l(parseFloat(h[3]),0,100),l(isNaN(d)?1:d,0,1)]}return null},s.to.hex=function(){var f=i(arguments);return"#"+c(f[0])+c(f[1])+c(f[2])+(f[3]<1?c(Math.round(255*f[3])):"")},s.to.rgb=function(){var f=i(arguments);return f.length<4||f[3]===1?"rgb("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+")":"rgba("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+", "+f[3]+")"},s.to.rgb.percent=function(){var f=i(arguments),h=Math.round(f[0]/255*100),d=Math.round(f[1]/255*100),v=Math.round(f[2]/255*100);return f.length<4||f[3]===1?"rgb("+h+"%, "+d+"%, "+v+"%)":"rgba("+h+"%, "+d+"%, "+v+"%, "+f[3]+")"},s.to.hsl=function(){var f=i(arguments);return f.length<4||f[3]===1?"hsl("+f[0]+", "+f[1]+"%, "+f[2]+"%)":"hsla("+f[0]+", "+f[1]+"%, "+f[2]+"%, "+f[3]+")"},s.to.hwb=function(){var f=i(arguments),h="";return f.length>=4&&f[3]!==1&&(h=", "+f[3]),"hwb("+f[0]+", "+f[1]+"%, "+f[2]+"%"+h+")"},s.to.keyword=function(f){return o[f.slice(0,3)]}},3274:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMapTo=void 0;var n=r(3879),i=r(1018);e.switchMapTo=function(a,o){return i.isFunction(o)?n.switchMap(function(){return a},o):n.switchMap(function(){return a})}},3321:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeTransformer=void 0;var n=r(7168),i=r(9305).internal.objectUtil,a=function(){function u(s){this._transformers=s,this._transformersPerSignature=new Map(s.map(function(l){return[l.signature,l]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return u.prototype.fromStructure=function(s){try{return s instanceof n.structure.Structure&&this._transformersPerSignature.has(s.signature)?(0,this._transformersPerSignature.get(s.signature).fromStructure)(s):s}catch(l){return i.createBrokenObject(l)}},u.prototype.toStructure=function(s){var l=this._transformers.find(function(c){return(0,c.isTypeInstance)(s)});return l!==void 0?l.toStructure(s):s},u}();e.default=a;var o=function(){function u(s){var l=s.signature,c=s.fromStructure,f=s.toStructure,h=s.isTypeInstance;this.signature=l,this.isTypeInstance=h,this.fromStructure=c,this.toStructure=f,Object.freeze(this)}return u.prototype.extendsWith=function(s){var l=s.signature,c=s.fromStructure,f=s.toStructure,h=s.isTypeInstance;return new u({signature:l||this.signature,fromStructure:c||this.fromStructure,toStructure:f||this.toStructure,isTypeInstance:h||this.isTypeInstance})},u}();e.TypeTransformer=o},3327:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observable=void 0,e.observable=typeof Symbol=="function"&&Symbol.observable||"@@observable"},3371:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=void 0;var n=r(9691),i=new Map,a=function(){function y(b,p){this.low=b??0,this.high=p??0}return y.prototype.inSafeRange=function(){return this.greaterThanOrEqual(y.MIN_SAFE_VALUE)&&this.lessThanOrEqual(y.MAX_SAFE_VALUE)},y.prototype.toInt=function(){return this.low},y.prototype.toNumber=function(){return this.high*u+(this.low>>>0)},y.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(u)+BigInt(this.low>>>0);var b=this.negate();return BigInt(-1)*(BigInt(b.high>>>0)*BigInt(u)+BigInt(b.low>>>0))},y.prototype.toNumberOrInfinity=function(){return this.lessThan(y.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(y.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},y.prototype.toString=function(b){if((b=b??10)<2||b>36)throw RangeError("radix out of range: "+b.toString());if(this.isZero())return"0";var p;if(this.isNegative()){if(this.equals(y.MIN_VALUE)){var m=y.fromNumber(b),g=this.div(m);return p=g.multiply(m).subtract(this),g.toString(b)+p.toInt().toString(b)}return"-"+this.negate().toString(b)}var _=y.fromNumber(Math.pow(b,6));p=this;for(var E="";;){var T=p.div(_),w=(p.subtract(T.multiply(_)).toInt()>>>0).toString(b);if((p=T).isZero())return w+E;for(;w.length<6;)w="0"+w;E=""+w+E}},y.prototype.valueOf=function(){return this.toBigInt()},y.prototype.getHighBits=function(){return this.high},y.prototype.getLowBits=function(){return this.low},y.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(y.MIN_VALUE)?64:this.negate().getNumBitsAbs();var b=this.high!==0?this.high:this.low,p=0;for(p=31;p>0&&!(b&1<<p);p--);return this.high!==0?p+33:p+1},y.prototype.isZero=function(){return this.high===0&&this.low===0},y.prototype.isNegative=function(){return this.high<0},y.prototype.isPositive=function(){return this.high>=0},y.prototype.isOdd=function(){return!(1&~this.low)},y.prototype.isEven=function(){return!(1&this.low)},y.prototype.equals=function(b){var p=y.fromValue(b);return this.high===p.high&&this.low===p.low},y.prototype.notEquals=function(b){return!this.equals(b)},y.prototype.lessThan=function(b){return this.compare(b)<0},y.prototype.lessThanOrEqual=function(b){return this.compare(b)<=0},y.prototype.greaterThan=function(b){return this.compare(b)>0},y.prototype.greaterThanOrEqual=function(b){return this.compare(b)>=0},y.prototype.compare=function(b){var p=y.fromValue(b);if(this.equals(p))return 0;var m=this.isNegative(),g=p.isNegative();return m&&!g?-1:!m&&g?1:this.subtract(p).isNegative()?-1:1},y.prototype.negate=function(){return this.equals(y.MIN_VALUE)?y.MIN_VALUE:this.not().add(y.ONE)},y.prototype.add=function(b){var p=y.fromValue(b),m=this.high>>>16,g=65535&this.high,_=this.low>>>16,E=65535&this.low,T=p.high>>>16,w=65535&p.high,S=p.low>>>16,C=0,R=0,D=0,M=0;return D+=(M+=E+(65535&p.low))>>>16,M&=65535,R+=(D+=_+S)>>>16,D&=65535,C+=(R+=g+w)>>>16,R&=65535,C+=m+T,C&=65535,y.fromBits(D<<16|M,C<<16|R)},y.prototype.subtract=function(b){var p=y.fromValue(b);return this.add(p.negate())},y.prototype.multiply=function(b){if(this.isZero())return y.ZERO;var p=y.fromValue(b);if(p.isZero())return y.ZERO;if(this.equals(y.MIN_VALUE))return p.isOdd()?y.MIN_VALUE:y.ZERO;if(p.equals(y.MIN_VALUE))return this.isOdd()?y.MIN_VALUE:y.ZERO;if(this.isNegative())return p.isNegative()?this.negate().multiply(p.negate()):this.negate().multiply(p).negate();if(p.isNegative())return this.multiply(p.negate()).negate();if(this.lessThan(l)&&p.lessThan(l))return y.fromNumber(this.toNumber()*p.toNumber());var m=this.high>>>16,g=65535&this.high,_=this.low>>>16,E=65535&this.low,T=p.high>>>16,w=65535&p.high,S=p.low>>>16,C=65535&p.low,R=0,D=0,M=0,I=0;return M+=(I+=E*C)>>>16,I&=65535,D+=(M+=_*C)>>>16,M&=65535,D+=(M+=E*S)>>>16,M&=65535,R+=(D+=g*C)>>>16,D&=65535,R+=(D+=_*S)>>>16,D&=65535,R+=(D+=E*w)>>>16,D&=65535,R+=m*C+g*S+_*w+E*T,R&=65535,y.fromBits(M<<16|I,R<<16|D)},y.prototype.div=function(b){var p,m,g,_=y.fromValue(b);if(_.isZero())throw(0,n.newError)("division by zero");if(this.isZero())return y.ZERO;if(this.equals(y.MIN_VALUE))return _.equals(y.ONE)||_.equals(y.NEG_ONE)?y.MIN_VALUE:_.equals(y.MIN_VALUE)?y.ONE:(p=this.shiftRight(1).div(_).shiftLeft(1)).equals(y.ZERO)?_.isNegative()?y.ONE:y.NEG_ONE:(m=this.subtract(_.multiply(p)),g=p.add(m.div(_)));if(_.equals(y.MIN_VALUE))return y.ZERO;if(this.isNegative())return _.isNegative()?this.negate().div(_.negate()):this.negate().div(_).negate();if(_.isNegative())return this.div(_.negate()).negate();for(g=y.ZERO,m=this;m.greaterThanOrEqual(_);){p=Math.max(1,Math.floor(m.toNumber()/_.toNumber()));for(var E=Math.ceil(Math.log(p)/Math.LN2),T=E<=48?1:Math.pow(2,E-48),w=y.fromNumber(p),S=w.multiply(_);S.isNegative()||S.greaterThan(m);)p-=T,S=(w=y.fromNumber(p)).multiply(_);w.isZero()&&(w=y.ONE),g=g.add(w),m=m.subtract(S)}return g},y.prototype.modulo=function(b){var p=y.fromValue(b);return this.subtract(this.div(p).multiply(p))},y.prototype.not=function(){return y.fromBits(~this.low,~this.high)},y.prototype.and=function(b){var p=y.fromValue(b);return y.fromBits(this.low&p.low,this.high&p.high)},y.prototype.or=function(b){var p=y.fromValue(b);return y.fromBits(this.low|p.low,this.high|p.high)},y.prototype.xor=function(b){var p=y.fromValue(b);return y.fromBits(this.low^p.low,this.high^p.high)},y.prototype.shiftLeft=function(b){var p=y.toNumber(b);return(p&=63)==0?y.ZERO:p<32?y.fromBits(this.low<<p,this.high<<p|this.low>>>32-p):y.fromBits(0,this.low<<p-32)},y.prototype.shiftRight=function(b){var p=y.toNumber(b),m=y.toNumber(b);return(p&=63)==0?y.ZERO:m<32?y.fromBits(this.low>>>p|this.high<<32-p,this.high>>p):y.fromBits(this.high>>p-32,this.high>=0?0:-1)},y.isInteger=function(b){return(b==null?void 0:b.__isInteger__)===!0},y.fromInt=function(b){var p;if((b|=0)>=-128&&b<128&&(p=i.get(b))!=null)return p;var m=new y(b,b<0?-1:0);return b>=-128&&b<128&&i.set(b,m),m},y.fromBits=function(b,p){return new y(b,p)},y.fromNumber=function(b){return isNaN(b)||!isFinite(b)?y.ZERO:b<=-s?y.MIN_VALUE:b+1>=s?y.MAX_VALUE:b<0?y.fromNumber(-b).negate():new y(b%u|0,b/u|0)},y.fromString=function(b,p,m){var g,_=(m===void 0?{}:m).strictStringValidation;if(b.length===0)throw(0,n.newError)("number format error: empty string");if(b==="NaN"||b==="Infinity"||b==="+Infinity"||b==="-Infinity")return y.ZERO;if((p=p??10)<2||p>36)throw(0,n.newError)("radix out of range: "+p.toString());if((g=b.indexOf("-"))>0)throw(0,n.newError)('number format error: interior "-" character: '+b);if(g===0)return y.fromString(b.substring(1),p).negate();for(var E=y.fromNumber(Math.pow(p,8)),T=y.ZERO,w=0;w<b.length;w+=8){var S=Math.min(8,b.length-w),C=b.substring(w,w+S),R=parseInt(C,p);if(_===!0&&!o(C,R,p))throw(0,n.newError)('number format error: "'.concat(C,'" is NaN in radix ').concat(p,": ").concat(b));if(S<8){var D=y.fromNumber(Math.pow(p,S));T=T.multiply(D).add(y.fromNumber(R))}else T=(T=T.multiply(E)).add(y.fromNumber(R))}return T},y.fromValue=function(b,p){return p===void 0&&(p={}),b instanceof y?b:typeof b=="number"?(p.ceilFloat===!0&&(b=Math.ceil(b)),y.fromNumber(b)):typeof b=="string"?y.fromString(b,void 0,p):typeof b=="bigint"?y.fromString(b.toString()):new y(b.low,b.high)},y.toNumber=function(b){switch(typeof b){case"number":return b;case"bigint":return Number(b);default:return y.fromValue(b).toNumber()}},y.toString=function(b,p){return y.fromValue(b).toString(p)},y.inSafeRange=function(b){return y.fromValue(b).inSafeRange()},y.ZERO=y.fromInt(0),y.ONE=y.fromInt(1),y.NEG_ONE=y.fromInt(-1),y.MAX_VALUE=y.fromBits(-1,2147483647),y.MIN_VALUE=y.fromBits(0,-2147483648),y.MIN_SAFE_VALUE=y.fromBits(1,-2097152),y.MAX_SAFE_VALUE=y.fromBits(-1,2097151),y.__isInteger__=!0,y}();function o(y,b,p){return!Number.isNaN(y)&&!Number.isNaN(b)&&function(m,g,_){var E=m.toString(g),T=Math.max(_-E.length,0),w="0".repeat(T);return"".concat(w).concat(E)}(b,p,y.length)===y.toLowerCase()}Object.defineProperty(a.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var u=4294967296,s=u*u/2,l=a.fromInt(1<<24),c=a.fromValue;e.int=c;var f=a.isInteger;e.isInt=f;var h=a.inSafeRange;e.inSafeRange=h;var d=a.toNumber;e.toNumber=d;var v=a.toString;e.toString=v,e.default=a},3389:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(){}return n.prototype.resolve=function(){throw new Error("Abstract function")},n.prototype._resolveToItself=function(i){return Promise.resolve([i])},n}();e.default=r},3399:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(9238));e.default=n({},a.default)},3413:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3448:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(b){for(var p,m=1,g=arguments.length;m<g;m++)for(var _ in p=arguments[m])Object.prototype.hasOwnProperty.call(p,_)&&(b[_]=p[_]);return b},n.apply(this,arguments)},i=this&&this.__read||function(b,p){var m=typeof Symbol=="function"&&b[Symbol.iterator];if(!m)return b;var g,_,E=m.call(b),T=[];try{for(;(p===void 0||p-- >0)&&!(g=E.next()).done;)T.push(g.value)}catch(w){_={error:w}}finally{try{g&&!g.done&&(m=E.return)&&m.call(E)}finally{if(_)throw _.error}}return T},a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(9305),u=r(7168),s=r(3321),l=r(5973),c=a(r(6661)),f=o.internal.temporalUtil,h=f.dateToEpochDay,d=f.localDateTimeToEpochSecond,v=f.localTimeToNanoOfDay;function y(b,p,m){if(!p&&!m)return b;var g=function(w){return m?w.toBigInt():w.toNumberOrInfinity()},_=Object.create(Object.getPrototypeOf(b));for(var E in b)if(Object.prototype.hasOwnProperty.call(b,E)===!0){var T=b[E];_[E]=(0,o.isInt)(T)?g(T):T}return Object.freeze(_),_}e.default=n(n({},c.default),{createPoint2DTransformer:function(){return new s.TypeTransformer({signature:88,isTypeInstance:function(b){return(0,o.isPoint)(b)&&(b.z===null||b.z===void 0)},toStructure:function(b){return new u.structure.Structure(88,[(0,o.int)(b.srid),b.x,b.y])},fromStructure:function(b){u.structure.verifyStructSize("Point2D",3,b.size);var p=i(b.fields,3),m=p[0],g=p[1],_=p[2];return new o.Point(m,g,_,void 0)}})},createPoint3DTransformer:function(){return new s.TypeTransformer({signature:89,isTypeInstance:function(b){return(0,o.isPoint)(b)&&b.z!==null&&b.z!==void 0},toStructure:function(b){return new u.structure.Structure(89,[(0,o.int)(b.srid),b.x,b.y,b.z])},fromStructure:function(b){u.structure.verifyStructSize("Point3D",4,b.size);var p=i(b.fields,4),m=p[0],g=p[1],_=p[2],E=p[3];return new o.Point(m,g,_,E)}})},createDurationTransformer:function(){return new s.TypeTransformer({signature:69,isTypeInstance:o.isDuration,toStructure:function(b){var p=(0,o.int)(b.months),m=(0,o.int)(b.days),g=(0,o.int)(b.seconds),_=(0,o.int)(b.nanoseconds);return new u.structure.Structure(69,[p,m,g,_])},fromStructure:function(b){u.structure.verifyStructSize("Duration",4,b.size);var p=i(b.fields,4),m=p[0],g=p[1],_=p[2],E=p[3];return new o.Duration(m,g,_,E)}})},createLocalTimeTransformer:function(b){var p=b.disableLosslessIntegers,m=b.useBigInt;return new s.TypeTransformer({signature:116,isTypeInstance:o.isLocalTime,toStructure:function(g){var _=v(g.hour,g.minute,g.second,g.nanosecond);return new u.structure.Structure(116,[_])},fromStructure:function(g){u.structure.verifyStructSize("LocalTime",1,g.size);var _=i(g.fields,1)[0];return y((0,l.nanoOfDayToLocalTime)(_),p,m)}})},createTimeTransformer:function(b){var p=b.disableLosslessIntegers,m=b.useBigInt;return new s.TypeTransformer({signature:84,isTypeInstance:o.isTime,toStructure:function(g){var _=v(g.hour,g.minute,g.second,g.nanosecond),E=(0,o.int)(g.timeZoneOffsetSeconds);return new u.structure.Structure(84,[_,E])},fromStructure:function(g){u.structure.verifyStructSize("Time",2,g.size);var _=i(g.fields,2),E=_[0],T=_[1],w=(0,l.nanoOfDayToLocalTime)(E);return y(new o.Time(w.hour,w.minute,w.second,w.nanosecond,T),p,m)}})},createDateTransformer:function(b){var p=b.disableLosslessIntegers,m=b.useBigInt;return new s.TypeTransformer({signature:68,isTypeInstance:o.isDate,toStructure:function(g){var _=h(g.year,g.month,g.day);return new u.structure.Structure(68,[_])},fromStructure:function(g){u.structure.verifyStructSize("Date",1,g.size);var _=i(g.fields,1)[0];return y((0,l.epochDayToDate)(_),p,m)}})},createLocalDateTimeTransformer:function(b){var p=b.disableLosslessIntegers,m=b.useBigInt;return new s.TypeTransformer({signature:100,isTypeInstance:o.isLocalDateTime,toStructure:function(g){var _=d(g.year,g.month,g.day,g.hour,g.minute,g.second,g.nanosecond),E=(0,o.int)(g.nanosecond);return new u.structure.Structure(100,[_,E])},fromStructure:function(g){u.structure.verifyStructSize("LocalDateTime",2,g.size);var _=i(g.fields,2),E=_[0],T=_[1];return y((0,l.epochSecondAndNanoToLocalDateTime)(E,T),p,m)}})},createDateTimeWithZoneIdTransformer:function(b){var p=b.disableLosslessIntegers,m=b.useBigInt;return new s.TypeTransformer({signature:102,isTypeInstance:function(g){return(0,o.isDateTime)(g)&&g.timeZoneId!=null},toStructure:function(g){var _=d(g.year,g.month,g.day,g.hour,g.minute,g.second,g.nanosecond),E=(0,o.int)(g.nanosecond),T=g.timeZoneId;return new u.structure.Structure(102,[_,E,T])},fromStructure:function(g){u.structure.verifyStructSize("DateTimeWithZoneId",3,g.size);var _=i(g.fields,3),E=_[0],T=_[1],w=_[2],S=(0,l.epochSecondAndNanoToLocalDateTime)(E,T);return y(new o.DateTime(S.year,S.month,S.day,S.hour,S.minute,S.second,S.nanosecond,null,w),p,m)}})},createDateTimeWithOffsetTransformer:function(b){var p=b.disableLosslessIntegers,m=b.useBigInt;return new s.TypeTransformer({signature:70,isTypeInstance:function(g){return(0,o.isDateTime)(g)&&g.timeZoneId==null},toStructure:function(g){var _=d(g.year,g.month,g.day,g.hour,g.minute,g.second,g.nanosecond),E=(0,o.int)(g.nanosecond),T=(0,o.int)(g.timeZoneOffsetSeconds);return new u.structure.Structure(70,[_,E,T])},fromStructure:function(g){u.structure.verifyStructSize("DateTimeWithZoneOffset",3,g.size);var _=i(g.fields,3),E=_[0],T=_[1],w=_[2],S=(0,l.epochSecondAndNanoToLocalDateTime)(E,T);return y(new o.DateTime(S.year,S.month,S.day,S.hour,S.minute,S.second,S.nanosecond,w,null),p,m)}})}})},3466:function(t,e,r){var n=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(8813),a=r(9419),o=n(r(3057)),u=r(9305),s=n(r(5742)),l=n(r(1530)),c=n(r(9823)),f=u.internal.constants,h=f.ACCESS_MODE_READ,d=f.ACCESS_MODE_WRITE,v=f.TELEMETRY_APIS,y=u.internal.txConfig.TxConfig,b=function(){function p(m){var g=m===void 0?{}:m,_=g.session,E=g.config,T=g.log;this._session=_,this._retryLogic=function(w){var S=w&&w.maxTransactionRetryTime?w.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:S})}(E),this._log=T}return p.prototype.run=function(m,g,_){var E=this;return new o.default(new i.Observable(function(T){try{T.next(E._session.run(m,g,_)),T.complete()}catch(w){T.error(w)}return function(){}}))},p.prototype.beginTransaction=function(m){return this._beginTransaction(this._session._mode,m,{api:v.UNMANAGED_TRANSACTION})},p.prototype.readTransaction=function(m,g){return this._runTransaction(h,m,g)},p.prototype.writeTransaction=function(m,g){return this._runTransaction(d,m,g)},p.prototype.executeRead=function(m,g){return this._executeInTransaction(h,m,g)},p.prototype.executeWrite=function(m,g){return this._executeInTransaction(d,m,g)},p.prototype._executeInTransaction=function(m,g,_){return this._runTransaction(m,g,_,function(E){return new l.default({run:E.run.bind(E)})})},p.prototype.close=function(){var m=this;return new i.Observable(function(g){m._session.close().then(function(){g.complete()}).catch(function(_){return g.error(_)})})},p.prototype[Symbol.asyncDispose]=function(){return this.close()},p.prototype.lastBookmark=function(){return this.lastBookmarks()},p.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},p.prototype._beginTransaction=function(m,g,_){var E=this,T=y.empty();return g&&(T=new y(g,this._log)),new i.Observable(function(w){try{E._session._beginTransaction(m,T,_).then(function(S){w.next(new s.default(S)),w.complete()}).catch(function(S){return w.error(S)})}catch(S){w.error(S)}return function(){}})},p.prototype._runTransaction=function(m,g,_,E){var T=this;E===void 0&&(E=function(C){return C});var w=y.empty();_&&(w=new y(_));var S={apiTelemetryConfig:{api:v.MANAGED_TRANSACTION,onTelemetrySuccess:function(){S.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,i.of)(1).pipe((0,a.mergeMap)(function(){return T._beginTransaction(m,w,S.apiTelemetryConfig)}),(0,a.mergeMap)(function(C){return(0,i.defer)(function(){try{return g(E(C))}catch(R){return(0,i.throwError)(function(){return R})}}).pipe((0,a.catchError)(function(R){return C.rollback().pipe((0,a.concatWith)((0,i.throwError)(function(){return R})))}),(0,a.concatWith)(C.commit()))})))},p}();e.default=b},3473:function(t,e,r){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(5319)),a=r(9305),o=n(r(1048)),u=new(r(8888)).StringDecoder("utf8");e.default={encode:function(s){return new i.default(function(l){return typeof o.default.Buffer.from=="function"?o.default.Buffer.from(l,"utf8"):new o.default.Buffer(l,"utf8")}(s))},decode:function(s,l){if(Object.prototype.hasOwnProperty.call(s,"_buffer"))return function(c,f){var h=c.position,d=h+f;return c.position=Math.min(d,c.length),c._buffer.toString("utf8",h,d)}(s,l);if(Object.prototype.hasOwnProperty.call(s,"_buffers"))return function(c,f){return function(h,d){var v=d,y=h.position;return h._updatePos(Math.min(d,h.length-y)),h._buffers.reduce(function(b,p){if(v<=0)return b;if(y>=p.length)return y-=p.length,"";p._updatePos(y-p.position);var m=Math.min(p.length-y,v),g=p.readSlice(m);return p._updatePos(m),v=Math.max(v-g.length,0),y=0,b+function(_){return u.write(_._buffer)}(g)},"")+u.end()}(c,f)}(s,l);throw(0,a.newError)("Don't know how to decode strings from '".concat(s,"'"))}}},3488:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(a,o,u,s){s===void 0&&(s=u);var l=Object.getOwnPropertyDescriptor(o,u);l&&!("get"in l?!o.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(a,s,l)}:function(a,o,u,s){s===void 0&&(s=u),a[s]=o[u]}),i=this&&this.__exportStar||function(a,o){for(var u in a)u==="default"||Object.prototype.hasOwnProperty.call(o,u)||n(o,a,u)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(5837),e)},3545:function(t,e,r){var n=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(_[T]=E[T])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function _(){this.constructor=m}p(m,g),m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}(),i=this&&this.__awaiter||function(p,m,g,_){return new(g||(g=Promise))(function(E,T){function w(R){try{C(_.next(R))}catch(D){T(D)}}function S(R){try{C(_.throw(R))}catch(D){T(D)}}function C(R){var D;R.done?E(R.value):(D=R.value,D instanceof g?D:new g(function(M){M(D)})).then(w,S)}C((_=_.apply(p,m||[])).next())})},a=this&&this.__generator||function(p,m){var g,_,E,T,w={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return T={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function S(C){return function(R){return function(D){if(g)throw new TypeError("Generator is already executing.");for(;T&&(T=0,D[0]&&(w=0)),w;)try{if(g=1,_&&(E=2&D[0]?_.return:D[0]?_.throw||((E=_.return)&&E.call(_),0):_.next)&&!(E=E.call(_,D[1])).done)return E;switch(_=0,E&&(D=[2&D[0],E.value]),D[0]){case 0:case 1:E=D;break;case 4:return w.label++,{value:D[1],done:!1};case 5:w.label++,_=D[1],D=[0];continue;case 7:D=w.ops.pop(),w.trys.pop();continue;default:if(!((E=(E=w.trys).length>0&&E[E.length-1])||D[0]!==6&&D[0]!==2)){w=0;continue}if(D[0]===3&&(!E||D[1]>E[0]&&D[1]<E[3])){w.label=D[1];break}if(D[0]===6&&w.label<E[1]){w.label=E[1],E=D;break}if(E&&w.label<E[2]){w.label=E[2],w.ops.push(D);break}E[2]&&w.ops.pop(),w.trys.pop();continue}D=m.call(p,w)}catch(M){D=[6,M],_=0}finally{g=E=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([C,R])}}},o=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(8987)),s=r(7721),l=r(9305),c=l.internal.constants,f=c.BOLT_PROTOCOL_V3,h=c.BOLT_PROTOCOL_V4_0,d=c.BOLT_PROTOCOL_V4_4,v=c.BOLT_PROTOCOL_V5_1,y=l.error.SERVICE_UNAVAILABLE,b=function(p){function m(g){var _=g.id,E=g.config,T=g.log,w=g.address,S=g.userAgent,C=g.boltAgent,R=g.authTokenManager,D=g.newPool,M=p.call(this,{id:_,config:E,log:T,userAgent:S,boltAgent:C,authTokenManager:R,newPool:D})||this;return M._address=w,M}return n(m,p),m.prototype.acquireConnection=function(g){var _=g===void 0?{}:g,E=(_.accessMode,_.database),T=(_.bookmarks,_.auth),w=_.forceReAuth;return i(this,void 0,void 0,function(){var S,C,R=this;return a(this,function(D){switch(D.label){case 0:return S=s.ConnectionErrorHandler.create({errorCode:y,handleSecurityError:function(M,I,k){return R._handleSecurityError(M,I,k,E)}}),[4,this._connectionPool.acquire({auth:T,forceReAuth:w},this._address)];case 1:return C=D.sent(),T?[4,this._verifyStickyConnection({auth:T,connection:C,address:this._address})]:[3,3];case 2:return D.sent(),[2,C];case 3:return[2,new s.DelegateConnection(C,S)]}})})},m.prototype._handleSecurityError=function(g,_,E,T){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(_," for database '").concat(T,"' because of an error ").concat(g.code," '").concat(g.message,"'")),p.prototype._handleSecurityError.call(this,g,_,E)},m.prototype._hasProtocolVersion=function(g){return i(this,void 0,void 0,function(){var _,E;return a(this,function(T){switch(T.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return _=T.sent(),E=_.protocol()?_.protocol().version:null,[4,_.close()];case 2:return T.sent(),E?[2,g(E)]:[2,!1]}})})},m.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,function(){return a(this,function(g){switch(g.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=h})];case 1:return[2,g.sent()]}})})},m.prototype.getNegotiatedProtocolVersion=function(){var g=this;return new Promise(function(_,E){g._hasProtocolVersion(_).catch(E)})},m.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,function(){return a(this,function(g){switch(g.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=f})];case 1:return[2,g.sent()]}})})},m.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,function(){return a(this,function(g){switch(g.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=d})];case 1:return[2,g.sent()]}})})},m.prototype.supportsSessionAuth=function(){return i(this,void 0,void 0,function(){return a(this,function(g){switch(g.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=v})];case 1:return[2,g.sent()]}})})},m.prototype.verifyAuthentication=function(g){var _=g.auth;return i(this,void 0,void 0,function(){var E=this;return a(this,function(T){return[2,this._verifyAuthentication({auth:_,getAddress:function(){return E._address}})]})})},m.prototype.verifyConnectivityAndGetServerInfo=function(){return i(this,void 0,void 0,function(){return a(this,function(g){switch(g.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,g.sent()]}})})},m}(u.default);e.default=b},3555:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.finalize=void 0;var n=r(7843);e.finalize=function(i){return n.operate(function(a,o){try{a.subscribe(o)}finally{o.add(i)}})}},3618:function(t,e,r){var n=this&&this.__extends||function(){var y=function(b,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},y(b,p)};return function(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=b}y(b,p),b.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),i=this&&this.__awaiter||function(y,b,p,m){return new(p||(p=Promise))(function(g,_){function E(S){try{w(m.next(S))}catch(C){_(C)}}function T(S){try{w(m.throw(S))}catch(C){_(C)}}function w(S){var C;S.done?g(S.value):(C=S.value,C instanceof p?C:new p(function(R){R(C)})).then(E,T)}w((m=m.apply(y,b||[])).next())})},a=this&&this.__generator||function(y,b){var p,m,g,_,E={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return _={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function T(w){return function(S){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;_&&(_=0,C[0]&&(E=0)),E;)try{if(p=1,m&&(g=2&C[0]?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,m=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(!((g=(g=E.trys).length>0&&g[g.length-1])||C[0]!==6&&C[0]!==2)){E=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){E.label=C[1];break}if(C[0]===6&&E.label<g[1]){E.label=g[1],g=C;break}if(g&&E.label<g[2]){E.label=g[2],E.ops.push(C);break}g[2]&&E.ops.pop(),E.trys.pop();continue}C=b.call(y,E)}catch(R){C=[6,R],m=0}finally{p=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([w,S])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_CONNECTION_HOLDER=e.ReadOnlyConnectionHolder=e.ConnectionHolder=void 0;var o=r(9691),u=r(6587),s=r(326),l=r(9730),c=r(4883),f=function(){function y(b){var p=b.mode,m=b.database,g=m===void 0?"":m,_=b.bookmarks,E=b.connectionProvider,T=b.impersonatedUser,w=b.onDatabaseNameResolved,S=b.getConnectionAcquistionBookmarks,C=b.auth,R=b.log;this._mode=p??s.ACCESS_MODE_WRITE,this._closed=!1,this._database=g!=null?(0,u.assertString)(g,"database"):"",this._bookmarks=_??l.Bookmarks.empty(),this._connectionProvider=E,this._impersonatedUser=T,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=w,this._auth=C,this._log=R,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=S??function(){return Promise.resolve(l.Bookmarks.empty())}}return y.prototype.mode=function(){return this._mode},y.prototype.database=function(){return this._database},y.prototype.setDatabase=function(b){this._database=b},y.prototype.bookmarks=function(){return this._bookmarks},y.prototype.connectionProvider=function(){return this._connectionProvider},y.prototype.referenceCount=function(){return this._referenceCount},y.prototype.initializeConnection=function(b){return this._referenceCount!==0||this._connectionProvider==null?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider,b),this._referenceCount++,!0)},y.prototype._createConnectionPromise=function(b,p){return i(this,void 0,void 0,function(){var m,g,_;return a(this,function(E){switch(E.label){case 0:return g=(m=b).acquireConnection,_={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,g.apply(m,[(_.bookmarks=E.sent(),_.impersonatedUser=this._impersonatedUser,_.onDatabaseNameResolved=this._onDatabaseNameResolved,_.auth=this._auth,_.homeDb=p,_)])];case 2:return[2,E.sent()]}})})},y.prototype._getBookmarks=function(){return i(this,void 0,void 0,function(){return a(this,function(b){switch(b.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,b.sent()]}})})},y.prototype.getConnection=function(){return this._connectionPromise},y.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},y.prototype.close=function(b){return this._closed=!0,this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(b))},y.prototype.log=function(){return this._log},y.prototype._releaseConnection=function(b){return this._connectionPromise=this._connectionPromise.then(function(p){return p!=null?p.isOpen()&&(p.hasOngoingObservableRequests()||b===!0)?p.resetAndFlush().catch(v).then(function(){return p.release().then(function(){return null})}):p.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},y.prototype._logError=function(b){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(b,". Stacktrace: ").concat(b.stack)),null},y}();e.ConnectionHolder=f;var h=function(y){function b(p){var m=y.call(this,{mode:p.mode(),database:p.database(),bookmarks:p.bookmarks(),getConnectionAcquistionBookmarks:p._getConnectionAcquistionBookmarks,connectionProvider:p.connectionProvider(),log:p.log()})||this;return m._connectionHolder=p,m}return n(b,y),b.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},b.prototype.getConnection=function(){return this._connectionHolder.getConnection()},b.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},b.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},b}(f);e.ReadOnlyConnectionHolder=h,e.default=h;var d=new(function(y){function b(){return y.call(this,{log:c.Logger.create({})})||this}return n(b,y),b.prototype.mode=function(){},b.prototype.database=function(){},b.prototype.initializeConnection=function(){return!0},b.prototype.getConnection=function(){return i(this,void 0,void 0,function(){return a(this,function(p){switch(p.label){case 0:return[4,Promise.reject((0,o.newError)("This connection holder does not serve connections"))];case 1:return[2,p.sent()]}})})},b.prototype.releaseConnection=function(){return i(this,void 0,void 0,function(){return a(this,function(p){switch(p.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,p.sent()]}})})},b.prototype.close=function(){return i(this,void 0,void 0,function(){return a(this,function(p){switch(p.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,p.sent()]}})})},b}(f));function v(y){return null}e.EMPTY_CONNECTION_HOLDER=d},3638:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.joinAllInternals=void 0;var n=r(6640),i=r(1251),a=r(2706),o=r(983),u=r(2343);e.joinAllInternals=function(s,l){return a.pipe(u.toArray(),o.mergeMap(function(c){return s(c)}),l?i.mapOneOrManyArgs(l):n.identity)}},3659:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="5.28.1"},3692:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var n=r(5006),i=r(827);e.asapScheduler=new i.AsapScheduler(n.AsapAction),e.asap=e.asapScheduler},3862:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var n=r(2628),i=r(3229);e.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler},3865:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var n=r(8158),i=r(1107),a=r(4917);e.concat=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return n.concatAll()(a.from(o,i.popScheduler(o)))}},3879:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0;var n=r(9445),i=r(7843),a=r(3111);e.switchMap=function(o,u){return i.operate(function(s,l){var c=null,f=0,h=!1,d=function(){return h&&!c&&l.complete()};s.subscribe(a.createOperatorSubscriber(l,function(v){c==null||c.unsubscribe();var y=0,b=f++;n.innerFrom(o(v,b)).subscribe(c=a.createOperatorSubscriber(l,function(p){return l.next(u?u(v,p,b,y++):p)},function(){c=null,d()}))},function(){h=!0,d()}))})}},3951:function(t,e,r){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClientCertificatesLoader=e.HostNameResolver=e.Channel=void 0;var i=n(r(6245)),a=n(r(2199)),o=n(r(614));e.Channel=i.default,e.HostNameResolver=a.default,e.ClientCertificatesLoader=o.default},3964:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tap=void 0;var n=r(1018),i=r(7843),a=r(3111),o=r(6640);e.tap=function(u,s,l){var c=n.isFunction(u)||s||l?{next:u,error:s,complete:l}:u;return c?i.operate(function(f,h){var d;(d=c.subscribe)===null||d===void 0||d.call(c);var v=!0;f.subscribe(a.createOperatorSubscriber(h,function(y){var b;(b=c.next)===null||b===void 0||b.call(c,y),h.next(y)},function(){var y;v=!1,(y=c.complete)===null||y===void 0||y.call(c),h.complete()},function(y){var b;v=!1,(b=c.error)===null||b===void 0||b.call(c,y),h.error(y)},function(){var y,b;v&&((y=c.unsubscribe)===null||y===void 0||y.call(c)),(b=c.finalize)===null||b===void 0||b.call(c)}))}):o.identity}},3982:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skip=void 0;var n=r(783);e.skip=function(i){return n.filter(function(a,o){return i<=o})}},4027:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=void 0;var n=r(93);e.stringify=function(i,a){return JSON.stringify(i,function(o,u){return(0,n.isBrokenObject)(u)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(u)}:typeof u=="bigint"?"".concat(u,"n"):(a==null?void 0:a.sortedElements)!==!0||typeof u!="object"||Array.isArray(u)?(a==null?void 0:a.useCustomToString)!==!0||typeof u!="object"||Array.isArray(u)||typeof u.toString!="function"||u.toString===Object.prototype.toString?u:u==null?void 0:u.toString():Object.keys(u).sort().reduce(function(s,l){return s[l]=u[l],s},{})})}},4092:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timer=void 0;var n=r(4662),i=r(7961),a=r(8613),o=r(1074);e.timer=function(u,s,l){u===void 0&&(u=0),l===void 0&&(l=i.async);var c=-1;return s!=null&&(a.isScheduler(s)?l=s:c=s),new n.Observable(function(f){var h=o.isValidDate(u)?+u-l.now():u;h<0&&(h=0);var d=0;return l.schedule(function(){f.closed||(f.next(d++),0<=c?this.schedule(void 0,c):f.complete())},h)})}},4132:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(a){function o(u){var s=a.call(this)||this;return s._connection=u,s}return n(o,a),o.prototype.acquireConnection=function(u){var s=u===void 0?{}:u,l=(s.accessMode,s.database,s.bookmarks,this._connection);return this._connection=null,Promise.resolve(l)},o}(r(9305).ConnectionProvider);e.default=i},4151:function(t,e,r){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(9018)),a=(r(9305),function(){function o(u){this._routingContext=u}return o.prototype.lookupRoutingTableOnRouter=function(u,s,l,c){var f=this;return u._acquireConnection(function(h){return f._requestRawRoutingTable(h,u,s,l,c).then(function(d){return d.isNull?null:i.default.fromRawRoutingTable(s,l,d)})})},o.prototype._requestRawRoutingTable=function(u,s,l,c,f){var h=this;return new Promise(function(d,v){u.protocol().requestRoutingInformation({routingContext:h._routingContext,databaseName:l,impersonatedUser:f,sessionContext:{bookmarks:s._lastBookmarks,mode:s._mode,database:s._database,afterComplete:s._onComplete},onCompleted:d,onError:v})})},o}());e.default=a},4209:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.iif=void 0;var n=r(9353);e.iif=function(i,a,o){return n.defer(function(){return i()?a:o})}},4212:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QueueAction=void 0;var i=function(a){function o(u,s){var l=a.call(this,u,s)||this;return l.scheduler=u,l.work=s,l}return n(o,a),o.prototype.schedule=function(u,s){return s===void 0&&(s=0),s>0?a.prototype.schedule.call(this,u,s):(this.delay=s,this.state=u,this.scheduler.flush(this),this)},o.prototype.execute=function(u,s){return s>0||this.closed?a.prototype.execute.call(this,u,s):this._execute(u,s)},o.prototype.requestAsyncId=function(u,s,l){return l===void 0&&(l=0),l!=null&&l>0||l==null&&this.delay>0?a.prototype.requestAsyncId.call(this,u,s,l):(u.flush(this),0)},o}(r(5267).AsyncAction);e.QueueAction=i},4271:function(t,e,r){var n=this&&this.__awaiter||function(u,s,l,c){return new(l||(l=Promise))(function(f,h){function d(b){try{y(c.next(b))}catch(p){h(p)}}function v(b){try{y(c.throw(b))}catch(p){h(p)}}function y(b){var p;b.done?f(b.value):(p=b.value,p instanceof l?p:new l(function(m){m(p)})).then(d,v)}y((c=c.apply(u,s||[])).next())})},i=this&&this.__generator||function(u,s){var l,c,f,h,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(y){return function(b){return function(p){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(d=0)),d;)try{if(l=1,c&&(f=2&p[0]?c.return:p[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,p[1])).done)return f;switch(c=0,f&&(p=[2&p[0],f.value]),p[0]){case 0:case 1:f=p;break;case 4:return d.label++,{value:p[1],done:!1};case 5:d.label++,c=p[1],p=[0];continue;case 7:p=d.ops.pop(),d.trys.pop();continue;default:if(!((f=(f=d.trys).length>0&&f[f.length-1])||p[0]!==6&&p[0]!==2)){d=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){d.label=p[1];break}if(p[0]===6&&d.label<f[1]){d.label=f[1],f=p;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(p);break}f[2]&&d.ops.pop(),d.trys.pop();continue}p=s.call(u,d)}catch(m){p=[6,m],c=0}finally{l=f=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([y,b])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(7452),o=function(){function u(s){var l=s.clientCertificateProvider,c=s.loader;this._clientCertificateProvider=l,this._loader=c||a.ClientCertificatesLoader,this._clientCertificate=null}return u.prototype.getClientCertificate=function(){return n(this,void 0,void 0,function(){var s,l,c=this;return i(this,function(f){switch(f.label){case 0:return(s=this._clientCertificateProvider!=null)?(l=this._clientCertificate==null)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:l=f.sent(),f.label=2;case 2:s=l,f.label=3;case 3:return s&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(h){return c._clientCertificate=h,c._clientCertificate}).catch(function(h){throw c._clientCertificate=null,h})),[2,this._clientCertificate]}})})},u}();e.default=o},4311:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(){}return n.prototype.selectReader=function(i){throw new Error("Abstract function")},n.prototype.selectWriter=function(i){throw new Error("Abstract function")},n}();e.default=r},4325:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2204));e.default=n({},a.default)},4360:t=>{t.exports=function(e){for(var r=[],n=0;n<e.length;n++)e[n].type!=="eof"&&r.push(e[n].data);return r.join("")}},4408:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeScan=void 0;var n=r(7843),i=r(1983);e.mergeScan=function(a,o,u){return u===void 0&&(u=1/0),n.operate(function(s,l){var c=o;return i.mergeInternals(s,l,function(f,h){return a(c,f,h)},u,function(f){c=f},!1,void 0,function(){return c=null})})}},4440:function(t,e,r){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),d=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.race=void 0;var a=r(8535),o=r(5600);e.race=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return o.raceWith.apply(void 0,i([],n(a.argsOrArgArray(u))))}},4455:function(t,e,r){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.LeastConnectedLoadBalancingStrategy=e.LoadBalancingStrategy=void 0;var i=n(r(4311));e.LoadBalancingStrategy=i.default;var a=n(r(2533));e.LeastConnectedLoadBalancingStrategy=a.default,e.default=a.default},4461:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;var n=r(7843),i=r(1342),a=r(3111),o=r(9445);e.debounce=function(u){return n.operate(function(s,l){var c=!1,f=null,h=null,d=function(){if(h==null||h.unsubscribe(),h=null,c){c=!1;var v=f;f=null,l.next(v)}};s.subscribe(a.createOperatorSubscriber(l,function(v){h==null||h.unsubscribe(),c=!0,f=v,h=a.createOperatorSubscriber(l,d,i.noop),o.innerFrom(u(v)).subscribe(h)},function(){d(),l.complete()},void 0,function(){f=h=null}))})}},4520:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.elementAt=void 0;var n=r(7057),i=r(783),a=r(4869),o=r(378),u=r(846);e.elementAt=function(s,l){if(s<0)throw new n.ArgumentOutOfRangeError;var c=arguments.length>=2;return function(f){return f.pipe(i.filter(function(h,d){return d===s}),u.take(1),c?o.defaultIfEmpty(l):a.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}},4531:function(t,e){var r=this&&this.__awaiter||function(a,o,u,s){return new(u||(u=Promise))(function(l,c){function f(v){try{d(s.next(v))}catch(y){c(y)}}function h(v){try{d(s.throw(v))}catch(y){c(y)}}function d(v){var y;v.done?l(v.value):(y=v.value,y instanceof u?y:new u(function(b){b(y)})).then(f,h)}d((s=s.apply(a,o||[])).next())})},n=this&&this.__generator||function(a,o){var u,s,l,c,f={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(v){return function(y){if(u)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(f=0)),f;)try{if(u=1,s&&(l=2&y[0]?s.return:y[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,y[1])).done)return l;switch(s=0,l&&(y=[2&y[0],l.value]),y[0]){case 0:case 1:l=y;break;case 4:return f.label++,{value:y[1],done:!1};case 5:f.label++,s=y[1],y=[0];continue;case 7:y=f.ops.pop(),f.trys.pop();continue;default:if(!((l=(l=f.trys).length>0&&l[l.length-1])||y[0]!==6&&y[0]!==2)){f=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){f.label=y[1];break}if(y[0]===6&&f.label<l[1]){f.label=l[1],l=y;break}if(l&&f.label<l[2]){f.label=l[2],f.ops.push(y);break}l[2]&&f.ops.pop(),f.trys.pop();continue}y=o.call(a,f)}catch(b){y=[6,b],s=0}finally{u=l=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([d,v])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function a(o){var u=o.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=u}return a.prototype.check=function(o){return r(this,void 0,void 0,function(){var u;return n(this,function(s){switch(s.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(o)?[2,!0]:(u=Date.now()-o.idleTimestamp,this._connectionLivenessCheckTimeout===0||u>this._connectionLivenessCheckTimeout?[4,o.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,s.sent()];case 2:return[2,!0]}})})},Object.defineProperty(a.prototype,"_isCheckDisabled",{get:function(){return this._connectionLivenessCheckTimeout==null||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),a.prototype._isNewlyCreatedConnection=function(o){return o.authToken==null},a}();e.default=i},4569:function(t,e,r){var n,i=this&&this.__extends||function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(s){for(var l,c=1,f=arguments.length;c<f;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s},a.apply(this,arguments)},o=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(s){function l(c){var f=c.connectionHolder,h=c.onClose,d=c.onBookmarks,v=c.onConnection,y=c.reactive,b=c.fetchSize,p=c.impersonatedUser,m=c.highRecordWatermark,g=c.lowRecordWatermark,_=c.notificationFilter,E=c.apiTelemetryConfig,T=c.onDbCallback,w=s.call(this,{connectionHolder:f,onClose:h,onBookmarks:d,onConnection:v,reactive:y,fetchSize:b,impersonatedUser:p,highRecordWatermark:m,lowRecordWatermark:g,notificationFilter:_,apiTelemetryConfig:E})||this;return w[n]="TransactionPromise",w._onDbCallback=T,w}return i(l,s),l.prototype.then=function(c,f){return this._getOrCreateBeginPromise().then(c,f)},l.prototype.catch=function(c){return this._getOrCreateBeginPromise().catch(c)},l.prototype.finally=function(c){return this._getOrCreateBeginPromise().finally(c)},l.prototype._getOrCreateBeginPromise=function(){var c=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(f,h){c._resolve=f,c._reject=h,c._beginError!=null&&h(c._beginError),c._beginMetadata!=null&&f(c._toTransaction())})),this._beginPromise},l.prototype._toTransaction=function(){return a(a({},this),{run:s.prototype.run.bind(this),commit:s.prototype.commit.bind(this),rollback:s.prototype.rollback.bind(this),close:s.prototype.close.bind(this),isOpen:s.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},l.prototype._begin=function(c,f){return s.prototype._begin.call(this,c,f,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this),onDB:this._onDbCallback})},l.prototype._onBeginError=function(c){this._beginError=c,this._reject!=null&&this._reject(c)},l.prototype._onBeginMetadata=function(c){this._beginMetadata=c??{},this._resolve!=null&&this._resolve(this._toTransaction())},l}(o(r(9473)).default);n=Symbol.toStringTag,e.default=u},4596:function(t,e,r){var n=this&&this.__extends||function(){var v=function(y,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},v(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function p(){this.constructor=y}v(y,b),y.prototype=b===null?Object.create(b):(p.prototype=b.prototype,new p)}}(),i=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2539)),o=i(r(7021)),u=r(9014),s=r(9305),l=r(397),c=i(r(7521)),f=i(r(3321)),h=s.internal.constants.BOLT_PROTOCOL_V4_1,d=function(v){function y(b,p,m,g,_,E,T){g===void 0&&(g=function(){return null});var w=v.call(this,b,p,m,g,_,E)||this;return w._serversideRouting=T,w}return n(y,v),Object.defineProperty(y.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new f.default(Object.values(c.default).map(function(p){return p(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.initialize=function(b){var p=this,m=b===void 0?{}:b,g=m.userAgent,_=(m.boltAgent,m.authToken),E=m.notificationFilter,T=m.onError,w=m.onComplete,S=new u.LoginObserver({onError:function(C){return p._onLoginError(C,T)},onCompleted:function(C){return p._onLoginCompleted(C,_,w)}});return(0,l.assertNotificationFilterIsEmpty)(E,this._onProtocolError,S),this.write(o.default.hello(g,_,this._serversideRouting),S,!0),S},y}(a.default);e.default=d},4662:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var n=r(5),i=r(8014),a=r(3327),o=r(2706),u=r(3413),s=r(1018),l=r(9223),c=function(){function h(d){d&&(this._subscribe=d)}return h.prototype.lift=function(d){var v=new h;return v.source=this,v.operator=d,v},h.prototype.subscribe=function(d,v,y){var b,p=this,m=(b=d)&&b instanceof n.Subscriber||function(g){return g&&s.isFunction(g.next)&&s.isFunction(g.error)&&s.isFunction(g.complete)}(b)&&i.isSubscription(b)?d:new n.SafeSubscriber(d,v,y);return l.errorContext(function(){var g=p,_=g.operator,E=g.source;m.add(_?_.call(m,E):E?p._subscribe(m):p._trySubscribe(m))}),m},h.prototype._trySubscribe=function(d){try{return this._subscribe(d)}catch(v){d.error(v)}},h.prototype.forEach=function(d,v){var y=this;return new(v=f(v))(function(b,p){var m=new n.SafeSubscriber({next:function(g){try{d(g)}catch(_){p(_),m.unsubscribe()}},error:p,complete:b});y.subscribe(m)})},h.prototype._subscribe=function(d){var v;return(v=this.source)===null||v===void 0?void 0:v.subscribe(d)},h.prototype[a.observable]=function(){return this},h.prototype.pipe=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];return o.pipeFromArray(d)(this)},h.prototype.toPromise=function(d){var v=this;return new(d=f(d))(function(y,b){var p;v.subscribe(function(m){return p=m},function(m){return b(m)},function(){return y(p)})})},h.create=function(d){return new h(d)},h}();function f(h){var d;return(d=h??u.config.Promise)!==null&&d!==void 0?d:Promise}e.Observable=c},4671:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0;var i=function(a){function o(u,s){return a.call(this)||this}return n(o,a),o.prototype.schedule=function(u,s){return this},o}(r(8014).Subscription);e.Action=i},4704:t=>{t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},4721:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipWhile=void 0;var n=r(7843),i=r(3111);e.skipWhile=function(a){return n.operate(function(o,u){var s=!1,l=0;o.subscribe(i.createOperatorSubscriber(u,function(c){return(s||(s=!a(c,l++)))&&u.next(c)}))})}},4746:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},4753:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustMap=void 0;var n=r(5471),i=r(9445),a=r(7843),o=r(3111);e.exhaustMap=function u(s,l){return l?function(c){return c.pipe(u(function(f,h){return i.innerFrom(s(f,h)).pipe(n.map(function(d,v){return l(f,d,h,v)}))}))}:a.operate(function(c,f){var h=0,d=null,v=!1;c.subscribe(o.createOperatorSubscriber(f,function(y){d||(d=o.createOperatorSubscriber(f,void 0,function(){d=null,v&&f.complete()}),i.innerFrom(s(y,h++)).subscribe(d))},function(){v=!0,!d&&f.complete()}))})}},4780:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeUntil=void 0;var n=r(7843),i=r(3111),a=r(9445),o=r(1342);e.takeUntil=function(u){return n.operate(function(s,l){a.innerFrom(u).subscribe(i.createOperatorSubscriber(l,function(){return l.complete()},o.noop)),!l.closed&&s.subscribe(l)})}},4820:function(t,e,r){var n=this&&this.__generator||function(s,l){var c,f,h,d,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(b){return function(p){return function(m){if(c)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(v=0)),v;)try{if(c=1,f&&(h=2&m[0]?f.return:m[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,m[1])).done)return h;switch(f=0,h&&(m=[2&m[0],h.value]),m[0]){case 0:case 1:h=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,f=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!((h=(h=v.trys).length>0&&h[h.length-1])||m[0]!==6&&m[0]!==2)){v=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){v.label=m[1];break}if(m[0]===6&&v.label<h[1]){v.label=h[1],h=m;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(m);break}h[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(g){m=[6,g],f=0}finally{c=h=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([b,p])}}},i=this&&this.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&s[l],f=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,d=c.call(s),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v};Object.defineProperty(e,"__esModule",{value:!0});var o=r(9691),u=function(){function s(l,c,f){this.keys=l,this.length=l.length,this._fields=c,this._fieldLookup=f??function(h){var d={};return h.forEach(function(v,y){d[v]=y}),d}(l)}return s.prototype.forEach=function(l){var c,f;try{for(var h=i(this.entries()),d=h.next();!d.done;d=h.next()){var v=a(d.value,2),y=v[0];l(v[1],y,this)}}catch(b){c={error:b}}finally{try{d&&!d.done&&(f=h.return)&&f.call(h)}finally{if(c)throw c.error}}},s.prototype.map=function(l){var c,f,h=[];try{for(var d=i(this.entries()),v=d.next();!v.done;v=d.next()){var y=a(v.value,2),b=y[0],p=y[1];h.push(l(p,b,this))}}catch(m){c={error:m}}finally{try{v&&!v.done&&(f=d.return)&&f.call(d)}finally{if(c)throw c.error}}return h},s.prototype.entries=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,[this.keys[l],this._fields[l]]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},s.prototype.values=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},s.prototype[Symbol.iterator]=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},s.prototype.toObject=function(){var l,c,f={};try{for(var h=i(this.entries()),d=h.next();!d.done;d=h.next()){var v=a(d.value,2),y=v[0],b=v[1];f[y]=b}}catch(p){l={error:p}}finally{try{d&&!d.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}return f},s.prototype.get=function(l){var c;if(typeof l!="number"){if((c=this._fieldLookup[l])===void 0)throw(0,o.newError)("This record has no field with key '".concat(l.toString(),"', available keys are: [")+this.keys.toString()+"].")}else c=l;if(c>this._fields.length-1||c<0)throw(0,o.newError)("This record has no field with index '"+c.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[c]},s.prototype.has=function(l){return typeof l=="number"?l>=0&&l<this._fields.length:this._fieldLookup[l]!==void 0},s}();e.default=u},4862:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutWith=void 0;var n=r(7961),i=r(1074),a=r(1554);e.timeoutWith=function(o,u,s){var l,c,f;if(s=s??n.async,i.isValidDate(o)?l=o:typeof o=="number"&&(c=o),!u)throw new TypeError("No observable provided to switch to");if(f=function(){return u},l==null&&c==null)throw new TypeError("No timeout provided.");return a.timeout({first:l,each:c,scheduler:s,with:f})}},4869:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwIfEmpty=void 0;var n=r(2823),i=r(7843),a=r(3111);function o(){return new n.EmptyError}e.throwIfEmpty=function(u){return u===void 0&&(u=o),i.operate(function(s,l){var c=!1;s.subscribe(a.createOperatorSubscriber(l,function(f){c=!0,l.next(f)},function(){return c?l.complete():l.error(u())}))})}},4883:function(t,e,r){var n,i=this&&this.__extends||function(){var y=function(b,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},y(b,p)};return function(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=b}y(b,p),b.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var a=r(9691),o="error",u="warn",s="info",l="debug",c=s,f=((n={})[o]=0,n[u]=1,n[s]=2,n[l]=3,n),h=function(){function y(b,p){this._level=b,this._loggerFunction=p}return y.create=function(b){if((b==null?void 0:b.logging)!=null){var p=b.logging,m=function(_){if((_==null?void 0:_.level)!=null){var E=_.level,T=f[E];if(T==null&&T!==0)throw(0,a.newError)("Illegal logging level: ".concat(E,". Supported levels are: ").concat(Object.keys(f).toString()));return E}return c}(p),g=function(_){var E,T;if((_==null?void 0:_.logger)!=null){var w=_.logger;if(w!=null&&typeof w=="function")return w}throw(0,a.newError)("Illegal logger function: ".concat((T=(E=_==null?void 0:_.logger)===null||E===void 0?void 0:E.toString())!==null&&T!==void 0?T:"undefined"))}(p);return new y(m,g)}return this.noOp()},y.noOp=function(){return d},y.prototype.isErrorEnabled=function(){return v(this._level,o)},y.prototype.error=function(b){this.isErrorEnabled()&&this._loggerFunction(o,b)},y.prototype.isWarnEnabled=function(){return v(this._level,u)},y.prototype.warn=function(b){this.isWarnEnabled()&&this._loggerFunction(u,b)},y.prototype.isInfoEnabled=function(){return v(this._level,s)},y.prototype.info=function(b){this.isInfoEnabled()&&this._loggerFunction(s,b)},y.prototype.isDebugEnabled=function(){return v(this._level,l)},y.prototype.debug=function(b){this.isDebugEnabled()&&this._loggerFunction(l,b)},y}();e.Logger=h;var d=new(function(y){function b(){return y.call(this,s,function(p,m){})||this}return i(b,y),b.prototype.isErrorEnabled=function(){return!1},b.prototype.error=function(p){},b.prototype.isWarnEnabled=function(){return!1},b.prototype.warn=function(p){},b.prototype.isInfoEnabled=function(){return!1},b.prototype.info=function(p){},b.prototype.isDebugEnabled=function(){return!1},b.prototype.debug=function(p){},b}(h));function v(y,b){return f[y]>=f[b]}},4912:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pluck=void 0;var n=r(5471);e.pluck=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=i.length;if(o===0)throw new Error("list of properties cannot be empty.");return n.map(function(u){for(var s=u,l=0;l<o;l++){var c=s==null?void 0:s[i[l]];if(c===void 0)return;s=c}return s})}},4917:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.from=void 0;var n=r(1656),i=r(9445);e.from=function(a,o){return o?n.scheduled(a,o):i.innerFrom(a)}},4953:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleReadableStreamLike=void 0;var n=r(854),i=r(9137);e.scheduleReadableStreamLike=function(a,o){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(a),o)}},5006:function(t,e,r){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsapAction=void 0;var i=r(5267),a=r(6293),o=function(u){function s(l,c){var f=u.call(this,l,c)||this;return f.scheduler=l,f.work=c,f}return n(s,u),s.prototype.requestAsyncId=function(l,c,f){return f===void 0&&(f=0),f!==null&&f>0?u.prototype.requestAsyncId.call(this,l,c,f):(l.actions.push(this),l._scheduled||(l._scheduled=a.immediateProvider.setImmediate(l.flush.bind(l,void 0))))},s.prototype.recycleAsyncId=function(l,c,f){var h;if(f===void 0&&(f=0),f!=null?f>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,l,c,f);var d=l.actions;c!=null&&((h=d[d.length-1])===null||h===void 0?void 0:h.id)!==c&&(a.immediateProvider.clearImmediate(c),l._scheduled===c&&(l._scheduled=void 0))},s}(i.AsyncAction);e.AsapAction=o},5022:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(g,_,E,T){T===void 0&&(T=E);var w=Object.getOwnPropertyDescriptor(_,E);w&&!("get"in w?!_.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return _[E]}}),Object.defineProperty(g,T,w)}:function(g,_,E,T){T===void 0&&(T=E),g[T]=_[E]}),i=this&&this.__setModuleDefault||(Object.create?function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}:function(g,_){g.default=_}),a=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var E in g)E!=="default"&&Object.prototype.hasOwnProperty.call(g,E)&&n(_,g,E);return i(_,g),_};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var o=a(r(3371)),u=r(9691),s=r(6587),l=function(){function g(_,E){this._minNumber=_,this._maxNumber=E,this._minInteger=(0,o.int)(_),this._maxInteger=(0,o.int)(E)}return g.prototype.contains=function(_){if((0,o.isInt)(_)&&_ instanceof o.default)return _.greaterThanOrEqual(this._minInteger)&&_.lessThanOrEqual(this._maxInteger);if(typeof _=="bigint"){var E=(0,o.int)(_);return E.greaterThanOrEqual(this._minInteger)&&E.lessThanOrEqual(this._maxInteger)}return _>=this._minNumber&&_<=this._maxNumber},g.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},g}();function c(g,_,E){g=(0,o.int)(g),_=(0,o.int)(_),E=(0,o.int)(E);var T=g.multiply(365);return T=(T=(T=g.greaterThanOrEqual(0)?T.add(g.add(3).div(4).subtract(g.add(99).div(100)).add(g.add(399).div(400))):T.subtract(g.div(-4).subtract(g.div(-100)).add(g.div(-400)))).add(_.multiply(367).subtract(362).div(12))).add(E.subtract(1)),_.greaterThan(2)&&(T=T.subtract(1),function(w){return!(!(w=(0,o.int)(w)).modulo(4).equals(0)||w.modulo(100).equals(0)&&!w.modulo(400).equals(0))}(g)||(T=T.subtract(1))),T.subtract(e.DAYS_0000_TO_1970)}function f(g,_){return g===1?_%400==0||_%4==0&&_%100!=0?29:28:[0,2,4,6,7,9,11].includes(g)?31:30}e.YEAR_RANGE=new l(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new l(1,12),e.DAY_OF_MONTH_RANGE=new l(1,31),e.HOUR_OF_DAY_RANGE=new l(0,23),e.MINUTE_OF_HOUR_RANGE=new l(0,59),e.SECOND_OF_MINUTE_RANGE=new l(0,59),e.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400,e.normalizeSecondsForDuration=function(g,_){return(0,o.int)(g).add(y(_,e.NANOS_PER_SECOND))},e.normalizeNanosecondsForDuration=function(g){return b(g,e.NANOS_PER_SECOND)},e.localTimeToNanoOfDay=function(g,_,E,T){g=(0,o.int)(g),_=(0,o.int)(_),E=(0,o.int)(E),T=(0,o.int)(T);var w=g.multiply(e.NANOS_PER_HOUR);return(w=(w=w.add(_.multiply(e.NANOS_PER_MINUTE))).add(E.multiply(e.NANOS_PER_SECOND))).add(T)},e.localDateTimeToEpochSecond=function(g,_,E,T,w,S,C){var R=c(g,_,E),D=function(M,I,k){M=(0,o.int)(M),I=(0,o.int)(I),k=(0,o.int)(k);var U=M.multiply(e.SECONDS_PER_HOUR);return(U=U.add(I.multiply(e.SECONDS_PER_MINUTE))).add(k)}(T,w,S);return R.multiply(e.SECONDS_PER_DAY).add(D)},e.dateToEpochDay=c,e.durationToIsoString=function(g,_,E,T){var w=m(g),S=m(_),C=function(R,D){var M,I;R=(0,o.int)(R),D=(0,o.int)(D);var k=R.isNegative(),U=D.greaterThan(0);return M=k&&U?R.equals(-1)?"-0":R.add(1).toString():R.toString(),U&&(I=p(k?D.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND):D.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),I!=null?M+I:M}(E,T);return"P".concat(w,"M").concat(S,"DT").concat(C,"S")},e.timeToIsoString=function(g,_,E,T){var w=m(g,2),S=m(_,2),C=m(E,2),R=p(T);return"".concat(w,":").concat(S,":").concat(C).concat(R)},e.timeZoneOffsetToIsoString=function(g){if((g=(0,o.int)(g)).equals(0))return"Z";var _=g.isNegative();_&&(g=g.multiply(-1));var E=_?"-":"+",T=m(g.div(e.SECONDS_PER_HOUR),2),w=m(g.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),S=g.modulo(e.SECONDS_PER_MINUTE),C=S.equals(0)?null:m(S,2);return C!=null?"".concat(E).concat(T,":").concat(w,":").concat(C):"".concat(E).concat(T,":").concat(w)},e.dateToIsoString=function(g,_,E){var T=function(C){var R=(0,o.int)(C);return R.isNegative()||R.greaterThan(9999)?m(R,6,{usePositiveSign:!0}):m(R,4)}(g),w=m(_,2),S=m(E,2);return"".concat(T,"-").concat(w,"-").concat(S)},e.isoStringToStandardDate=function(g){return new Date(g)},e.toStandardDate=function(g){return new Date(g)},e.newDate=function(g){return new Date(g)},e.totalNanoseconds=function(g,_){return function(E,T){return E instanceof o.default?E.add(T):typeof E=="bigint"?E+BigInt(T):E+T}(_=_??0,g.getMilliseconds()*e.NANOS_PER_MILLISECOND)},e.timeZoneOffsetInSeconds=function(g){var _=g.getSeconds()-g.getUTCSeconds(),E=g.getMinutes()-g.getUTCMinutes(),T=g.getHours()-g.getUTCHours(),w=function(S){return S.getMonth()===S.getUTCMonth()?S.getDate()-S.getUTCDate():S.getFullYear()>S.getUTCFullYear()||S.getMonth()>S.getUTCMonth()&&S.getFullYear()===S.getUTCFullYear()?S.getDate()+f(S.getUTCMonth(),S.getUTCFullYear())-S.getUTCDate():S.getDate()-(S.getUTCDate()+f(S.getMonth(),S.getFullYear()))}(g);return T*e.SECONDS_PER_HOUR+E*e.SECONDS_PER_MINUTE+_+w*e.SECONDS_PER_DAY},e.assertValidYear=function(g){return v(g,e.YEAR_RANGE,"Year")},e.assertValidMonth=function(g){return v(g,e.MONTH_OF_YEAR_RANGE,"Month")},e.assertValidDay=function(g){return v(g,e.DAY_OF_MONTH_RANGE,"Day")},e.assertValidHour=function(g){return v(g,e.HOUR_OF_DAY_RANGE,"Hour")},e.assertValidMinute=function(g){return v(g,e.MINUTE_OF_HOUR_RANGE,"Minute")},e.assertValidSecond=function(g){return v(g,e.SECOND_OF_MINUTE_RANGE,"Second")},e.assertValidNanosecond=function(g){return v(g,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var h=new Map,d=function(g,_){return(0,u.newError)("".concat(_,' is expected to be a valid ZoneId but was: "').concat(g,'"'))};function v(g,_,E){if((0,s.assertNumberOrInteger)(g,E),!_.contains(g))throw(0,u.newError)("".concat(E," is expected to be in range ").concat(_.toString()," but was: ").concat(g.toString()));return g}function y(g,_){g=(0,o.int)(g),_=(0,o.int)(_);var E=g.div(_);return g.isPositive()!==_.isPositive()&&E.multiply(_).notEquals(g)&&(E=E.subtract(1)),E}function b(g,_){return g=(0,o.int)(g),_=(0,o.int)(_),g.subtract(y(g,_).multiply(_))}function p(g){return(g=(0,o.int)(g)).equals(0)?"":"."+m(g,9)}function m(g,_,E){var T=(g=(0,o.int)(g)).isNegative();T&&(g=g.negate());var w=g.toString();if(_!=null)for(;w.length<_;)w="0"+w;return T?"-"+w:(E==null?void 0:E.usePositiveSign)===!0?"+"+w:w}e.assertValidZoneId=function(g,_){var E=h.get(_);if(E!==!0){if(E===!1)throw d(_,g);try{Intl.DateTimeFormat(void 0,{timeZone:_}),h.set(_,!0)}catch{throw h.set(_,!1),d(_,g)}}},e.floorDiv=y,e.floorMod=b},5045:function(t,e,r){var n=this&&this.__read||function(v,y){var b=typeof Symbol=="function"&&v[Symbol.iterator];if(!b)return v;var p,m,g=b.call(v),_=[];try{for(;(y===void 0||y-- >0)&&!(p=g.next()).done;)_.push(p.value)}catch(E){m={error:E}}finally{try{p&&!p.done&&(b=g.return)&&b.call(g)}finally{if(m)throw m.error}}return _},i=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(7168),o=r(9305),u=i(r(7518)),s=r(5973),l=r(6492),c=o.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function h(v,y,b){var p=function(E){if(!f.has(E)){var T=new Intl.DateTimeFormat("en-US",{timeZone:E,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(E,T)}return f.get(E)}(v),m=(0,o.int)(y).multiply(1e3).add((0,o.int)(b).div(1e6)).toNumber(),g=p.formatToParts(m).reduce(function(E,T){return T.type==="era"?E.adjustEra=T.value.toUpperCase()==="B"?function(w){return w.subtract(1).negate()}:l.identity:T.type==="hour"?E.hour=(0,o.int)(T.value).modulo(24):T.type!=="literal"&&(E[T.type]=(0,o.int)(T.value)),E},{});g.year=g.adjustEra(g.year);var _=c(g.year,g.month,g.day,g.hour,g.minute,g.second,g.nanosecond);return g.timeZoneOffsetSeconds=_.subtract(y),g.hour=g.hour.modulo(24),g}function d(v,y,b){if(!y&&!b)return v;var p=function(E){return b?E.toBigInt():E.toNumberOrInfinity()},m=Object.create(Object.getPrototypeOf(v));for(var g in v)if(Object.prototype.hasOwnProperty.call(v,g)===!0){var _=v[g];m[g]=(0,o.isInt)(_)?p(_):_}return Object.freeze(m),m}e.default={createDateTimeWithZoneIdTransformer:function(v,y){var b=v.disableLosslessIntegers,p=v.useBigInt;return u.default.createDateTimeWithZoneIdTransformer(v).extendsWith({signature:105,fromStructure:function(m){a.structure.verifyStructSize("DateTimeWithZoneId",3,m.size);var g=n(m.fields,3),_=g[0],E=g[1],T=g[2],w=h(T,_,E);return d(new o.DateTime(w.year,w.month,w.day,w.hour,w.minute,w.second,(0,o.int)(E),w.timeZoneOffsetSeconds,T),b,p)},toStructure:function(m){var g=c(m.year,m.month,m.day,m.hour,m.minute,m.second,m.nanosecond),_=m.timeZoneOffsetSeconds!=null?m.timeZoneOffsetSeconds:function(S,C,R){var D=h(S,C,R),M=c(D.year,D.month,D.day,D.hour,D.minute,D.second,R).subtract(C),I=C.subtract(M),k=h(S,I,R);return c(k.year,k.month,k.day,k.hour,k.minute,k.second,R).subtract(I)}(m.timeZoneId,g,m.nanosecond);m.timeZoneOffsetSeconds==null&&y.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var E=g.subtract(_),T=(0,o.int)(m.nanosecond),w=m.timeZoneId;return new a.structure.Structure(105,[E,T,w])}})},createDateTimeWithOffsetTransformer:function(v){var y=v.disableLosslessIntegers,b=v.useBigInt;return u.default.createDateTimeWithOffsetTransformer(v).extendsWith({signature:73,toStructure:function(p){var m=c(p.year,p.month,p.day,p.hour,p.minute,p.second,p.nanosecond),g=(0,o.int)(p.nanosecond),_=(0,o.int)(p.timeZoneOffsetSeconds),E=m.subtract(_);return new a.structure.Structure(73,[E,g,_])},fromStructure:function(p){a.structure.verifyStructSize("DateTimeWithZoneOffset",3,p.size);var m=n(p.fields,3),g=m[0],_=m[1],E=m[2],T=(0,o.int)(g).add(E),w=(0,s.epochSecondAndNanoToLocalDateTime)(T,_);return d(new o.DateTime(w.year,w.month,w.day,w.hour,w.minute,w.second,w.nanosecond,E,null),y,b)}})}}},5184:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeOn=void 0;var n=r(7110),i=r(7843),a=r(3111);e.observeOn=function(o,u){return u===void 0&&(u=0),i.operate(function(s,l){s.subscribe(a.createOperatorSubscriber(l,function(c){return n.executeSchedule(l,o,function(){return l.next(c)},u)},function(){return n.executeSchedule(l,o,function(){return l.complete()},u)},function(c){return n.executeSchedule(l,o,function(){return l.error(c)},u)}))})}},5250:function(t,e,r){var n;t=r.nmd(t),(function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=32,l=128,c=1/0,f=9007199254740991,h=NaN,d=4294967295,v=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],y="[object Arguments]",b="[object Array]",p="[object Boolean]",m="[object Date]",g="[object Error]",_="[object Function]",E="[object GeneratorFunction]",T="[object Map]",w="[object Number]",S="[object Object]",C="[object Promise]",R="[object RegExp]",D="[object Set]",M="[object String]",I="[object Symbol]",k="[object WeakMap]",U="[object ArrayBuffer]",F="[object DataView]",B="[object Float32Array]",z="[object Float64Array]",H="[object Int8Array]",Y="[object Int16Array]",W="[object Int32Array]",Z="[object Uint8Array]",le="[object Uint8ClampedArray]",ce="[object Uint16Array]",ue="[object Uint32Array]",de=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,te=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,ee=RegExp(te.source),ae=RegExp(Q.source),pe=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,X=RegExp(G.source),ie=/^\s+/,ve=/\s/,ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oe=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qe=/\w*$/,$e=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,re=/^\[object .+?Constructor\]$/,Ee=/^0o[0-7]+$/i,Pe=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ne=/($^)/,at=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",nt="\\u2700-\\u27bf",vt="a-z\\xdf-\\xf6\\xf8-\\xff",Mt="A-Z\\xc0-\\xd6\\xd8-\\xde",Rt="\\ufe0e\\ufe0f",lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",It="["+je+"]",rt="["+lt+"]",Lt="["+ft+"]",Gt="\\d+",wt="["+nt+"]",mt="["+vt+"]",ir="[^"+je+lt+Gt+nt+vt+Mt+"]",Bt="\\ud83c[\\udffb-\\udfff]",ar="[^"+je+"]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",fr="[\\ud800-\\udbff][\\udc00-\\udfff]",Mr="["+Mt+"]",Xr="\\u200d",vn="(?:"+mt+"|"+ir+")",Pi="(?:"+Mr+"|"+ir+")",pn="(?:['](?:d|ll|m|re|s|t|ve))?",bt="(?:['](?:D|LL|M|RE|S|T|VE))?",rr="(?:"+Lt+"|"+Bt+")?",Er="["+Rt+"]?",Ir=Er+rr+"(?:"+Xr+"(?:"+[ar,Qt,fr].join("|")+")"+Er+rr+")*",$r="(?:"+[wt,Qt,fr].join("|")+")"+Ir,Nr="(?:"+[ar+Lt+"?",Lt,Qt,fr,It].join("|")+")",bn=RegExp("[']","g"),Cr=RegExp(Lt,"g"),zi=RegExp(Bt+"(?="+Bt+")|"+Nr+Ir,"g"),_i=RegExp([Mr+"?"+mt+"+"+pn+"(?="+[rt,Mr,"$"].join("|")+")",Pi+"+"+bt+"(?="+[rt,Mr+vn,"$"].join("|")+")",Mr+"?"+vn+"+"+pn,Mr+"+"+bt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gt,$r].join("|"),"g"),Oa=RegExp("["+Xr+je+ft+Rt+"]"),cu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ta=-1,Vt={};Vt[B]=Vt[z]=Vt[H]=Vt[Y]=Vt[W]=Vt[Z]=Vt[le]=Vt[ce]=Vt[ue]=!0,Vt[y]=Vt[b]=Vt[U]=Vt[p]=Vt[F]=Vt[m]=Vt[g]=Vt[_]=Vt[T]=Vt[w]=Vt[S]=Vt[R]=Vt[D]=Vt[M]=Vt[k]=!1;var $t={};$t[y]=$t[b]=$t[U]=$t[F]=$t[p]=$t[m]=$t[B]=$t[z]=$t[H]=$t[Y]=$t[W]=$t[T]=$t[w]=$t[S]=$t[R]=$t[D]=$t[M]=$t[I]=$t[Z]=$t[le]=$t[ce]=$t[ue]=!0,$t[g]=$t[_]=$t[k]=!1;var Do={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mo=parseFloat,Os=parseInt,si=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g,Io=typeof self=="object"&&self&&self.Object===Object&&self,Kr=si||Io||Function("return this")(),No=e&&!e.nodeType&&e,Wn=No&&t&&!t.nodeType&&t,Tc=Wn&&Wn.exports===No,_l=Tc&&si.process,li=function(){try{return Wn&&Wn.require&&Wn.require("util").types||_l&&_l.binding&&_l.binding("util")}catch{}}(),Rh=li&&li.isArrayBuffer,Rv=li&&li.isDate,Ph=li&&li.isMap,Dh=li&&li.isRegExp,xc=li&&li.isSet,Pv=li&&li.isTypedArray;function qi(De,He,Ue){switch(Ue.length){case 0:return De.call(He);case 1:return De.call(He,Ue[0]);case 2:return De.call(He,Ue[0],Ue[1]);case 3:return De.call(He,Ue[0],Ue[1],Ue[2])}return De.apply(He,Ue)}function Mh(De,He,Ue,ht){for(var Tt=-1,kr=De==null?0:De.length;++Tt<kr;){var Jn=De[Tt];He(ht,Jn,Ue(Jn),De)}return ht}function Gi(De,He){for(var Ue=-1,ht=De==null?0:De.length;++Ue<ht&&He(De[Ue],Ue,De)!==!1;);return De}function Ts(De,He){for(var Ue=De==null?0:De.length;Ue--&&He(De[Ue],Ue,De)!==!1;);return De}function Ih(De,He){for(var Ue=-1,ht=De==null?0:De.length;++Ue<ht;)if(!He(De[Ue],Ue,De))return!1;return!0}function ko(De,He){for(var Ue=-1,ht=De==null?0:De.length,Tt=0,kr=[];++Ue<ht;){var Jn=De[Ue];He(Jn,Ue,De)&&(kr[Tt++]=Jn)}return kr}function Cc(De,He){return!(De==null||!De.length)&&xs(De,He,0)>-1}function Ac(De,He,Ue){for(var ht=-1,Tt=De==null?0:De.length;++ht<Tt;)if(Ue(He,De[ht]))return!0;return!1}function fn(De,He){for(var Ue=-1,ht=De==null?0:De.length,Tt=Array(ht);++Ue<ht;)Tt[Ue]=He(De[Ue],Ue,De);return Tt}function Lo(De,He){for(var Ue=-1,ht=He.length,Tt=De.length;++Ue<ht;)De[Tt+Ue]=He[Ue];return De}function Rc(De,He,Ue,ht){var Tt=-1,kr=De==null?0:De.length;for(ht&&kr&&(Ue=De[++Tt]);++Tt<kr;)Ue=He(Ue,De[Tt],Tt,De);return Ue}function Dy(De,He,Ue,ht){var Tt=De==null?0:De.length;for(ht&&Tt&&(Ue=De[--Tt]);Tt--;)Ue=He(Ue,De[Tt],Tt,De);return Ue}function Nh(De,He){for(var Ue=-1,ht=De==null?0:De.length;++Ue<ht;)if(He(De[Ue],Ue,De))return!0;return!1}var My=Lh("length");function kh(De,He,Ue){var ht;return Ue(De,function(Tt,kr,Jn){if(He(Tt,kr,Jn))return ht=kr,!1}),ht}function Pc(De,He,Ue,ht){for(var Tt=De.length,kr=Ue+(ht?1:-1);ht?kr--:++kr<Tt;)if(He(De[kr],kr,De))return kr;return-1}function xs(De,He,Ue){return He==He?function(ht,Tt,kr){for(var Jn=kr-1,Di=ht.length;++Jn<Di;)if(ht[Jn]===Tt)return Jn;return-1}(De,He,Ue):Pc(De,Dv,Ue)}function Iy(De,He,Ue,ht){for(var Tt=Ue-1,kr=De.length;++Tt<kr;)if(ht(De[Tt],He))return Tt;return-1}function Dv(De){return De!=De}function Dc(De,He){var Ue=De==null?0:De.length;return Ue?Bh(De,He)/Ue:h}function Lh(De){return function(He){return He==null?i:He[De]}}function jh(De){return function(He){return De==null?i:De[He]}}function Mv(De,He,Ue,ht,Tt){return Tt(De,function(kr,Jn,Di){Ue=ht?(ht=!1,kr):He(Ue,kr,Jn,Di)}),Ue}function Bh(De,He){for(var Ue,ht=-1,Tt=De.length;++ht<Tt;){var kr=He(De[ht]);kr!==i&&(Ue=Ue===i?kr:Ue+kr)}return Ue}function Uh(De,He){for(var Ue=-1,ht=Array(De);++Ue<De;)ht[Ue]=He(Ue);return ht}function an(De){return De&&De.slice(0,fu(De)+1).replace(ie,"")}function hr(De){return function(He){return De(He)}}function Fh(De,He){return fn(He,function(Ue){return De[Ue]})}function wl(De,He){return De.has(He)}function Iv(De,He){for(var Ue=-1,ht=De.length;++Ue<ht&&xs(He,De[Ue],0)>-1;);return Ue}function Nv(De,He){for(var Ue=De.length;Ue--&&xs(He,De[Ue],0)>-1;);return Ue}var Ny=jh({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),ky=jh({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kv(De){return"\\"+Do[De]}function Cs(De){return Oa.test(De)}function Xn(De){var He=-1,Ue=Array(De.size);return De.forEach(function(ht,Tt){Ue[++He]=[Tt,ht]}),Ue}function Mc(De,He){return function(Ue){return De(He(Ue))}}function Vi(De,He){for(var Ue=-1,ht=De.length,Tt=0,kr=[];++Ue<ht;){var Jn=De[Ue];Jn!==He&&Jn!==u||(De[Ue]=u,kr[Tt++]=Ue)}return kr}function El(De){var He=-1,Ue=Array(De.size);return De.forEach(function(ht){Ue[++He]=ht}),Ue}function zh(De){var He=-1,Ue=Array(De.size);return De.forEach(function(ht){Ue[++He]=[ht,ht]}),Ue}function ci(De){return Cs(De)?function(He){for(var Ue=zi.lastIndex=0;zi.test(He);)++Ue;return Ue}(De):My(De)}function fi(De){return Cs(De)?function(He){return He.match(zi)||[]}(De):function(He){return He.split("")}(De)}function fu(De){for(var He=De.length;He--&&ve.test(De.charAt(He)););return He}var no=jh({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ja=function De(He){var Ue,ht=(He=He==null?Kr:ja.defaults(Kr.Object(),He,ja.pick(Kr,Xu))).Array,Tt=He.Date,kr=He.Error,Jn=He.Function,Di=He.Math,on=He.Object,qh=He.RegExp,Tn=He.String,hi=He.TypeError,Ic=ht.prototype,OT=Jn.prototype,As=on.prototype,Lv=He["__core-js_shared__"],jv=OT.toString,Jr=As.hasOwnProperty,L_=0,Gh=(Ue=/[^.]+$/.exec(Lv&&Lv.keys&&Lv.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",$u=As.toString,TT=jv.call(on),j_=Kr._,B_=qh("^"+jv.call(Jr).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nc=Tc?He.Buffer:i,hu=He.Symbol,Vh=He.Uint8Array,U_=Nc?Nc.allocUnsafe:i,kc=Mc(on.getPrototypeOf,on),Bv=on.create,F_=As.propertyIsEnumerable,Hh=Ic.splice,xa=hu?hu.isConcatSpreadable:i,Sl=hu?hu.iterator:i,jo=hu?hu.toStringTag:i,Yh=function(){try{var x=Qu(on,"defineProperty");return x({},"",{}),x}catch{}}(),z_=He.clearTimeout!==Kr.clearTimeout&&He.clearTimeout,xT=Tt&&Tt.now!==Kr.Date.now&&Tt.now,CT=He.setTimeout!==Kr.setTimeout&&He.setTimeout,Uv=Di.ceil,Fv=Di.floor,Ly=on.getOwnPropertySymbols,Lc=Nc?Nc.isBuffer:i,q_=He.isFinite,AT=Ic.join,jy=Mc(on.keys,on),ei=Di.max,Pn=Di.min,zv=Tt.now,RT=He.parseInt,G_=Di.random,PT=Ic.reverse,Rs=Qu(He,"DataView"),ia=Qu(He,"Map"),qv=Qu(He,"Promise"),jc=Qu(He,"Set"),Wh=Qu(He,"WeakMap"),Xh=Qu(on,"create"),Gv=Wh&&new Wh,Bc={},Uc=es(Rs),xe=es(ia),Be=es(qv),ke=es(jc),gt=es(Wh),Xt=hu?hu.prototype:i,Ar=Xt?Xt.valueOf:i,ti=Xt?Xt.toString:i;function J(x){if(In(x)&&!Jt(x)&&!(x instanceof gr)){if(x instanceof Dn)return x;if(Jr.call(x,"__wrapped__"))return im(x)}return new Dn(x)}var Ps=function(){function x(){}return function(P){if(!xn(P))return{};if(Bv)return Bv(P);x.prototype=P;var L=new x;return x.prototype=i,L}}();function Vv(){}function Dn(x,P){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!P,this.__index__=0,this.__values__=i}function gr(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Ol(x){var P=-1,L=x==null?0:x.length;for(this.clear();++P<L;){var V=x[P];this.set(V[0],V[1])}}function Ca(x){var P=-1,L=x==null?0:x.length;for(this.clear();++P<L;){var V=x[P];this.set(V[0],V[1])}}function io(x){var P=-1,L=x==null?0:x.length;for(this.clear();++P<L;){var V=x[P];this.set(V[0],V[1])}}function du(x){var P=-1,L=x==null?0:x.length;for(this.__data__=new io;++P<L;)this.add(x[P])}function yr(x){var P=this.__data__=new Ca(x);this.size=P.size}function V_(x,P){var L=Jt(x),V=!L&&Eu(x),K=!L&&!V&&qo(x),se=!L&&!V&&!K&&qs(x),me=L||V||K||se,Se=me?Uh(x.length,Tn):[],Re=Se.length;for(var qe in x)!P&&!Jr.call(x,qe)||me&&(qe=="length"||K&&(qe=="offset"||qe=="parent")||se&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||Ju(qe,Re))||Se.push(qe);return Se}function By(x){var P=x.length;return P?x[ks(0,P-1)]:i}function Hv(x,P){return ld(aa(x),Ms(P,0,x.length))}function DT(x){return ld(aa(x))}function Uy(x,P,L){(L!==i&&!so(x[P],L)||L===i&&!(P in x))&&vu(x,P,L)}function $h(x,P,L){var V=x[P];Jr.call(x,P)&&so(V,L)&&(L!==i||P in x)||vu(x,P,L)}function Tl(x,P){for(var L=x.length;L--;)if(so(x[L][0],P))return L;return-1}function Ds(x,P,L,V){return Aa(x,function(K,se,me){P(V,K,L(K),me)}),V}function Kh(x,P){return x&&yu(P,Si(P),x)}function vu(x,P,L){P=="__proto__"&&Yh?Yh(x,P,{configurable:!0,enumerable:!0,value:L,writable:!0}):x[P]=L}function Fc(x,P){for(var L=-1,V=P.length,K=ht(V),se=x==null;++L<V;)K[L]=se?i:ym(x,P[L]);return K}function Ms(x,P,L){return x==x&&(L!==i&&(x=x<=L?x:L),P!==i&&(x=x>=P?x:P)),x}function Ba(x,P,L,V,K,se){var me,Se=1&P,Re=2&P,qe=4&P;if(L&&(me=K?L(x,V,K,se):L(x)),me!==i)return me;if(!xn(x))return x;var Ge=Jt(x);if(Ge){if(me=function(Ye){var et=Ye.length,Pt=new Ye.constructor(et);return et&&typeof Ye[0]=="string"&&Jr.call(Ye,"index")&&(Pt.index=Ye.index,Pt.input=Ye.input),Pt}(x),!Se)return aa(x,me)}else{var Ke=Mi(x),pt=Ke==_||Ke==E;if(qo(x))return r1(x,Se);if(Ke==S||Ke==y||pt&&!K){if(me=Re||pt?{}:c1(x),!Se)return Re?function(Ye,et){return yu(Ye,Zc(Ye),et)}(x,function(Ye,et){return Ye&&yu(et,Yi(et),Ye)}(me,x)):function(Ye,et){return yu(Ye,Jy(Ye),et)}(x,Kh(me,x))}else{if(!$t[Ke])return K?x:{};me=function(Ye,et,Pt){var ct,er=Ye.constructor;switch(et){case U:return Xy(Ye);case p:case m:return new er(+Ye);case F:return function(Kt,zr){var xt=zr?Xy(Kt.buffer):Kt.buffer;return new Kt.constructor(xt,Kt.byteOffset,Kt.byteLength)}(Ye,Pt);case B:case z:case H:case Y:case W:case Z:case le:case ce:case ue:return n1(Ye,Pt);case T:return new er;case w:case M:return new er(Ye);case R:return function(Kt){var zr=new Kt.constructor(Kt.source,Qe.exec(Kt));return zr.lastIndex=Kt.lastIndex,zr}(Ye);case D:return new er;case I:return ct=Ye,Ar?on(Ar.call(ct)):{}}}(x,Ke,Se)}}se||(se=new yr);var _t=se.get(x);if(_t)return _t;se.set(x,me),Su(x)?x.forEach(function(Ye){me.add(Ba(Ye,P,L,Ye,x,se))}):k1(x)&&x.forEach(function(Ye,et){me.set(et,Ba(Ye,P,L,et,x,se))});var kt=Ge?i:(qe?Re?Zu:Kc:Re?Yi:Si)(x);return Gi(kt||x,function(Ye,et){kt&&(Ye=x[et=Ye]),$h(me,et,Ba(Ye,P,L,et,x,se))}),me}function Zh(x,P,L){var V=L.length;if(x==null)return!V;for(x=on(x);V--;){var K=L[V],se=P[K],me=x[K];if(me===i&&!(K in x)||!se(me))return!1}return!0}function Fy(x,P,L){if(typeof x!="function")throw new hi(a);return Qc(function(){x.apply(i,L)},P)}function Ku(x,P,L,V){var K=-1,se=Cc,me=!0,Se=x.length,Re=[],qe=P.length;if(!Se)return Re;L&&(P=fn(P,hr(L))),V?(se=Ac,me=!1):P.length>=200&&(se=wl,me=!1,P=new du(P));e:for(;++K<Se;){var Ge=x[K],Ke=L==null?Ge:L(Ge);if(Ge=V||Ge!==0?Ge:0,me&&Ke==Ke){for(var pt=qe;pt--;)if(P[pt]===Ke)continue e;Re.push(Ge)}else se(P,Ke,V)||Re.push(Ge)}return Re}J.templateSettings={escape:pe,evaluate:_e,interpolate:Te,variable:"",imports:{_:J}},J.prototype=Vv.prototype,J.prototype.constructor=J,Dn.prototype=Ps(Vv.prototype),Dn.prototype.constructor=Dn,gr.prototype=Ps(Vv.prototype),gr.prototype.constructor=gr,Ol.prototype.clear=function(){this.__data__=Xh?Xh(null):{},this.size=0},Ol.prototype.delete=function(x){var P=this.has(x)&&delete this.__data__[x];return this.size-=P?1:0,P},Ol.prototype.get=function(x){var P=this.__data__;if(Xh){var L=P[x];return L===o?i:L}return Jr.call(P,x)?P[x]:i},Ol.prototype.has=function(x){var P=this.__data__;return Xh?P[x]!==i:Jr.call(P,x)},Ol.prototype.set=function(x,P){var L=this.__data__;return this.size+=this.has(x)?0:1,L[x]=Xh&&P===i?o:P,this},Ca.prototype.clear=function(){this.__data__=[],this.size=0},Ca.prototype.delete=function(x){var P=this.__data__,L=Tl(P,x);return!(L<0||(L==P.length-1?P.pop():Hh.call(P,L,1),--this.size,0))},Ca.prototype.get=function(x){var P=this.__data__,L=Tl(P,x);return L<0?i:P[L][1]},Ca.prototype.has=function(x){return Tl(this.__data__,x)>-1},Ca.prototype.set=function(x,P){var L=this.__data__,V=Tl(L,x);return V<0?(++this.size,L.push([x,P])):L[V][1]=P,this},io.prototype.clear=function(){this.size=0,this.__data__={hash:new Ol,map:new(ia||Ca),string:new Ol}},io.prototype.delete=function(x){var P=op(this,x).delete(x);return this.size-=P?1:0,P},io.prototype.get=function(x){return op(this,x).get(x)},io.prototype.has=function(x){return op(this,x).has(x)},io.prototype.set=function(x,P){var L=op(this,x),V=L.size;return L.set(x,P),this.size+=L.size==V?0:1,this},du.prototype.add=du.prototype.push=function(x){return this.__data__.set(x,o),this},du.prototype.has=function(x){return this.__data__.has(x)},yr.prototype.clear=function(){this.__data__=new Ca,this.size=0},yr.prototype.delete=function(x){var P=this.__data__,L=P.delete(x);return this.size=P.size,L},yr.prototype.get=function(x){return this.__data__.get(x)},yr.prototype.has=function(x){return this.__data__.has(x)},yr.prototype.set=function(x,P){var L=this.__data__;if(L instanceof Ca){var V=L.__data__;if(!ia||V.length<199)return V.push([x,P]),this.size=++L.size,this;L=this.__data__=new io(V)}return L.set(x,P),this.size=L.size,this};var Aa=Xc(pu),Qh=Xc(Xv,!0);function MT(x,P){var L=!0;return Aa(x,function(V,K,se){return L=!!P(V,K,se)}),L}function Yv(x,P,L){for(var V=-1,K=x.length;++V<K;){var se=x[V],me=P(se);if(me!=null&&(Se===i?me==me&&!ua(me):L(me,Se)))var Se=me,Re=se}return Re}function H_(x,P){var L=[];return Aa(x,function(V,K,se){P(V,K,se)&&L.push(V)}),L}function ri(x,P,L,V,K){var se=-1,me=x.length;for(L||(L=id),K||(K=[]);++se<me;){var Se=x[se];P>0&&L(Se)?P>1?ri(Se,P-1,L,V,K):Lo(K,Se):V||(K[K.length]=Se)}return K}var zc=td(),Wv=td(!0);function pu(x,P){return x&&zc(x,P,Si)}function Xv(x,P){return x&&Wv(x,P,Si)}function $v(x,P){return ko(P,function(L){return rs(x[L])})}function xl(x,P){for(var L=0,V=(P=Ra(P,x)).length;x!=null&&L<V;)x=x[wu(P[L++])];return L&&L==V?x:i}function ni(x,P,L){var V=P(x);return Jt(x)?V:Lo(V,L(x))}function Zr(x){return x==null?x===i?"[object Undefined]":"[object Null]":jo&&jo in on(x)?function(P){var L=Jr.call(P,jo),V=P[jo];try{P[jo]=i;var K=!0}catch{}var se=$u.call(P);return K&&(L?P[jo]=V:delete P[jo]),se}(x):function(P){return $u.call(P)}(x)}function zy(x,P){return x>P}function IT(x,P){return x!=null&&Jr.call(x,P)}function Y_(x,P){return x!=null&&P in on(x)}function qy(x,P,L){for(var V=L?Ac:Cc,K=x[0].length,se=x.length,me=se,Se=ht(se),Re=1/0,qe=[];me--;){var Ge=x[me];me&&P&&(Ge=fn(Ge,hr(P))),Re=Pn(Ge.length,Re),Se[me]=!L&&(P||K>=120&&Ge.length>=120)?new du(me&&Ge):i}Ge=x[0];var Ke=-1,pt=Se[0];e:for(;++Ke<K&&qe.length<Re;){var _t=Ge[Ke],kt=P?P(_t):_t;if(_t=L||_t!==0?_t:0,!(pt?wl(pt,kt):V(qe,kt,L))){for(me=se;--me;){var Ye=Se[me];if(!(Ye?wl(Ye,kt):V(x[me],kt,L)))continue e}pt&&pt.push(kt),qe.push(_t)}}return qe}function Cl(x,P,L){var V=(x=h1(x,P=Ra(P,x)))==null?x:x[wu(Mn(P))];return V==null?i:qi(V,x,L)}function qc(x){return In(x)&&Zr(x)==y}function Al(x,P,L,V,K){return x===P||(x==null||P==null||!In(x)&&!In(P)?x!=x&&P!=P:function(se,me,Se,Re,qe,Ge){var Ke=Jt(se),pt=Jt(me),_t=Ke?b:Mi(se),kt=pt?b:Mi(me),Ye=(_t=_t==y?S:_t)==S,et=(kt=kt==y?S:kt)==S,Pt=_t==kt;if(Pt&&qo(se)){if(!qo(me))return!1;Ke=!0,Ye=!1}if(Pt&&!Ye)return Ge||(Ge=new yr),Ke||qs(se)?Uo(se,me,Se,Re,qe,Ge):function(xt,Ft,di,$n,la,_n,Wi){switch(di){case F:if(xt.byteLength!=Ft.byteLength||xt.byteOffset!=Ft.byteOffset)return!1;xt=xt.buffer,Ft=Ft.buffer;case U:return!(xt.byteLength!=Ft.byteLength||!_n(new Vh(xt),new Vh(Ft)));case p:case m:case w:return so(+xt,+Ft);case g:return xt.name==Ft.name&&xt.message==Ft.message;case R:case M:return xt==Ft+"";case T:var Tu=Xn;case D:var Vs=1&$n;if(Tu||(Tu=El),xt.size!=Ft.size&&!Vs)return!1;var Il=Wi.get(xt);if(Il)return Il==Ft;$n|=2,Wi.set(xt,Ft);var Go=Uo(Tu(xt),Tu(Ft),$n,la,_n,Wi);return Wi.delete(xt),Go;case I:if(Ar)return Ar.call(xt)==Ar.call(Ft)}return!1}(se,me,_t,Se,Re,qe,Ge);if(!(1&Se)){var ct=Ye&&Jr.call(se,"__wrapped__"),er=et&&Jr.call(me,"__wrapped__");if(ct||er){var Kt=ct?se.value():se,zr=er?me.value():me;return Ge||(Ge=new yr),qe(Kt,zr,Se,Re,Ge)}}return!!Pt&&(Ge||(Ge=new yr),function(xt,Ft,di,$n,la,_n){var Wi=1&di,Tu=Kc(xt),Vs=Tu.length;if(Vs!=Kc(Ft).length&&!Wi)return!1;for(var Il=Vs;Il--;){var Go=Tu[Il];if(!(Wi?Go in Ft:Jr.call(Ft,Go)))return!1}var Pm=_n.get(xt),$1=_n.get(Ft);if(Pm&&$1)return Pm==Ft&&$1==xt;var Op=!0;_n.set(xt,Ft),_n.set(Ft,xt);for(var Dm=Wi;++Il<Vs;){var Tp=xt[Go=Tu[Il]],xp=Ft[Go];if($n)var K1=Wi?$n(xp,Tp,Go,Ft,xt,_n):$n(Tp,xp,Go,xt,Ft,_n);if(!(K1===i?Tp===xp||la(Tp,xp,di,$n,_n):K1)){Op=!1;break}Dm||(Dm=Go=="constructor")}if(Op&&!Dm){var Cp=xt.constructor,Ap=Ft.constructor;Cp==Ap||!("constructor"in xt)||!("constructor"in Ft)||typeof Cp=="function"&&Cp instanceof Cp&&typeof Ap=="function"&&Ap instanceof Ap||(Op=!1)}return _n.delete(xt),_n.delete(Ft),Op}(se,me,Se,Re,qe,Ge))}(x,P,L,V,Al,K))}function Is(x,P,L,V){var K=L.length,se=K,me=!V;if(x==null)return!se;for(x=on(x);K--;){var Se=L[K];if(me&&Se[2]?Se[1]!==x[Se[0]]:!(Se[0]in x))return!1}for(;++K<se;){var Re=(Se=L[K])[0],qe=x[Re],Ge=Se[1];if(me&&Se[2]){if(qe===i&&!(Re in x))return!1}else{var Ke=new yr;if(V)var pt=V(qe,Ge,Re,x,P,Ke);if(!(pt===i?Al(Ge,qe,3,V,Ke):pt))return!1}}return!0}function Gc(x){return!(!xn(x)||(P=x,Gh&&Gh in P))&&(rs(x)?B_:re).test(es(x));var P}function Vc(x){return typeof x=="function"?x:x==null?Da:typeof x=="object"?Jt(x)?$_(x[0],x[1]):X_(x):Y1(x)}function Hc(x){if(!od(x))return jy(x);var P=[];for(var L in on(x))Jr.call(x,L)&&L!="constructor"&&P.push(L);return P}function Ns(x,P){return x<P}function W_(x,P){var L=-1,V=Pa(x)?ht(x.length):[];return Aa(x,function(K,se,me){V[++L]=P(K,se,me)}),V}function X_(x){var P=Qy(x);return P.length==1&&P[0][2]?em(P[0][0],P[0][1]):function(L){return L===x||Is(L,x,P)}}function $_(x,P){return ad(x)&&f1(P)?em(wu(x),P):function(L){var V=ym(L,x);return V===i&&V===P?mm(L,x):Al(P,V,3)}}function Kv(x,P,L,V,K){x!==P&&zc(P,function(se,me){if(K||(K=new yr),xn(se))(function(Re,qe,Ge,Ke,pt,_t,kt){var Ye=ud(Re,Ge),et=ud(qe,Ge),Pt=kt.get(et);if(Pt)Uy(Re,Ge,Pt);else{var ct=_t?_t(Ye,et,Ge+"",Re,qe,kt):i,er=ct===i;if(er){var Kt=Jt(et),zr=!Kt&&qo(et),xt=!Kt&&!zr&&qs(et);ct=et,Kt||zr||xt?Jt(Ye)?ct=Ye:Un(Ye)?ct=aa(Ye):zr?(er=!1,ct=r1(et,!0)):xt?(er=!1,ct=n1(et,!0)):ct=[]:pd(et)||Eu(et)?(ct=Ye,Eu(Ye)?ct=bp(Ye):xn(Ye)&&!rs(Ye)||(ct=c1(et))):er=!1}er&&(kt.set(et,ct),pt(ct,et,Ke,_t,kt),kt.delete(et)),Uy(Re,Ge,ct)}})(x,P,me,L,Kv,V,K);else{var Se=V?V(ud(x,me),se,me+"",x,P,K):i;Se===i&&(Se=se),Uy(x,me,Se)}},Yi)}function K_(x,P){var L=x.length;if(L)return Ju(P+=P<0?L:0,L)?x[P]:i}function Jh(x,P,L){P=P.length?fn(P,function(se){return Jt(se)?function(me){return xl(me,se.length===1?se[0]:se)}:se}):[Da];var V=-1;P=fn(P,hr(jt()));var K=W_(x,function(se,me,Se){var Re=fn(P,function(qe){return qe(se)});return{criteria:Re,index:++V,value:se}});return function(se){var me=se.length;for(se.sort(function(Se,Re){return function(qe,Ge,Ke){for(var pt=-1,_t=qe.criteria,kt=Ge.criteria,Ye=_t.length,et=Ke.length;++pt<Ye;){var Pt=i1(_t[pt],kt[pt]);if(Pt)return pt>=et?Pt:Pt*(Ke[pt]=="desc"?-1:1)}return qe.index-Ge.index}(Se,Re,L)});me--;)se[me]=se[me].value;return se}(K)}function Yc(x,P,L){for(var V=-1,K=P.length,se={};++V<K;){var me=P[V],Se=xl(x,me);L(Se,me)&&ed(se,Ra(me,x),Se)}return se}function Zv(x,P,L,V){var K=V?Iy:xs,se=-1,me=P.length,Se=x;for(x===P&&(P=aa(P)),L&&(Se=fn(x,hr(L)));++se<me;)for(var Re=0,qe=P[se],Ge=L?L(qe):qe;(Re=K(Se,Ge,Re,V))>-1;)Se!==x&&Hh.call(Se,Re,1),Hh.call(x,Re,1);return x}function ne(x,P){for(var L=x?P.length:0,V=L-1;L--;){var K=P[L];if(L==V||K!==se){var se=K;Ju(K)?Hh.call(x,K,1):Vy(x,K)}}return x}function ks(x,P){return x+Fv(G_()*(P-x+1))}function Wc(x,P){var L="";if(!x||P<1||P>f)return L;do P%2&&(L+=x),(P=Fv(P/2))&&(x+=x);while(P);return L}function Ut(x,P){return lp(sp(x,P,Da),x+"")}function Tr(x){return By(nf(x))}function NT(x,P){var L=nf(x);return ld(L,Ms(P,0,L.length))}function ed(x,P,L,V){if(!xn(x))return x;for(var K=-1,se=(P=Ra(P,x)).length,me=se-1,Se=x;Se!=null&&++K<se;){var Re=wu(P[K]),qe=L;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return x;if(K!=me){var Ge=Se[Re];(qe=V?V(Ge,Re,Se):i)===i&&(qe=xn(Ge)?Ge:Ju(P[K+1])?[]:{})}$h(Se,Re,qe),Se=Se[Re]}return x}var Z_=Gv?function(x,P){return Gv.set(x,P),x}:Da,Rl=Yh?function(x,P){return Yh(x,"toString",{configurable:!0,enumerable:!1,value:is(P),writable:!0})}:Da;function kT(x){return ld(nf(x))}function ao(x,P,L){var V=-1,K=x.length;P<0&&(P=-P>K?0:K+P),(L=L>K?K:L)<0&&(L+=K),K=P>L?0:L-P>>>0,P>>>=0;for(var se=ht(K);++V<K;)se[V]=x[V+P];return se}function LT(x,P){var L;return Aa(x,function(V,K,se){return!(L=P(V,K,se))}),!!L}function Qv(x,P,L){var V=0,K=x==null?V:x.length;if(typeof P=="number"&&P==P&&K<=2147483647){for(;V<K;){var se=V+K>>>1,me=x[se];me!==null&&!ua(me)&&(L?me<=P:me<P)?V=se+1:K=se}return K}return Gy(x,P,Da,L)}function Gy(x,P,L,V){var K=0,se=x==null?0:x.length;if(se===0)return 0;for(var me=(P=L(P))!=P,Se=P===null,Re=ua(P),qe=P===i;K<se;){var Ge=Fv((K+se)/2),Ke=L(x[Ge]),pt=Ke!==i,_t=Ke===null,kt=Ke==Ke,Ye=ua(Ke);if(me)var et=V||kt;else et=qe?kt&&(V||pt):Se?kt&&pt&&(V||!_t):Re?kt&&pt&&!_t&&(V||!Ye):!_t&&!Ye&&(V?Ke<=P:Ke<P);et?K=Ge+1:se=Ge}return Pn(se,4294967294)}function gu(x,P){for(var L=-1,V=x.length,K=0,se=[];++L<V;){var me=x[L],Se=P?P(me):me;if(!L||!so(Se,Re)){var Re=Se;se[K++]=me===0?0:me}}return se}function Q_(x){return typeof x=="number"?x:ua(x)?h:+x}function Ua(x){if(typeof x=="string")return x;if(Jt(x))return fn(x,Ua)+"";if(ua(x))return ti?ti.call(x):"";var P=x+"";return P=="0"&&1/x==-1/0?"-0":P}function Ls(x,P,L){var V=-1,K=Cc,se=x.length,me=!0,Se=[],Re=Se;if(L)me=!1,K=Ac;else if(se>=200){var qe=P?null:np(x);if(qe)return El(qe);me=!1,K=wl,Re=new du}else Re=P?[]:Se;e:for(;++V<se;){var Ge=x[V],Ke=P?P(Ge):Ge;if(Ge=L||Ge!==0?Ge:0,me&&Ke==Ke){for(var pt=Re.length;pt--;)if(Re[pt]===Ke)continue e;P&&Re.push(Ke),Se.push(Ge)}else K(Re,Ke,L)||(Re!==Se&&Re.push(Ke),Se.push(Ge))}return Se}function Vy(x,P){return(x=h1(x,P=Ra(P,x)))==null||delete x[wu(Mn(P))]}function J_(x,P,L,V){return ed(x,P,L(xl(x,P)),V)}function oo(x,P,L,V){for(var K=x.length,se=V?K:-1;(V?se--:++se<K)&&P(x[se],se,x););return L?ao(x,V?0:se,V?se+1:K):ao(x,V?se+1:0,V?K:se)}function e1(x,P){var L=x;return L instanceof gr&&(L=L.value()),Rc(P,function(V,K){return K.func.apply(K.thisArg,Lo([V],K.args))},L)}function Hy(x,P,L){var V=x.length;if(V<2)return V?Ls(x[0]):[];for(var K=-1,se=ht(V);++K<V;)for(var me=x[K],Se=-1;++Se<V;)Se!=K&&(se[K]=Ku(se[K]||me,x[Se],P,L));return Ls(ri(se,1),P,L)}function t1(x,P,L){for(var V=-1,K=x.length,se=P.length,me={};++V<K;){var Se=V<se?P[V]:i;L(me,x[V],Se)}return me}function Yy(x){return Un(x)?x:[]}function Wy(x){return typeof x=="function"?x:Da}function Ra(x,P){return Jt(x)?x:ad(x,P)?[x]:nm(Gr(x))}var jT=Ut;function js(x,P,L){var V=x.length;return L=L===i?V:L,!P&&L>=V?x:ao(x,P,L)}var uo=z_||function(x){return Kr.clearTimeout(x)};function r1(x,P){if(P)return x.slice();var L=x.length,V=U_?U_(L):new x.constructor(L);return x.copy(V),V}function Xy(x){var P=new x.constructor(x.byteLength);return new Vh(P).set(new Vh(x)),P}function n1(x,P){var L=P?Xy(x.buffer):x.buffer;return new x.constructor(L,x.byteOffset,x.length)}function i1(x,P){if(x!==P){var L=x!==i,V=x===null,K=x==x,se=ua(x),me=P!==i,Se=P===null,Re=P==P,qe=ua(P);if(!Se&&!qe&&!se&&x>P||se&&me&&Re&&!Se&&!qe||V&&me&&Re||!L&&Re||!K)return 1;if(!V&&!se&&!qe&&x<P||qe&&L&&K&&!V&&!se||Se&&L&&K||!me&&K||!Re)return-1}return 0}function a1(x,P,L,V){for(var K=-1,se=x.length,me=L.length,Se=-1,Re=P.length,qe=ei(se-me,0),Ge=ht(Re+qe),Ke=!V;++Se<Re;)Ge[Se]=P[Se];for(;++K<me;)(Ke||K<se)&&(Ge[L[K]]=x[K]);for(;qe--;)Ge[Se++]=x[K++];return Ge}function $y(x,P,L,V){for(var K=-1,se=x.length,me=-1,Se=L.length,Re=-1,qe=P.length,Ge=ei(se-Se,0),Ke=ht(Ge+qe),pt=!V;++K<Ge;)Ke[K]=x[K];for(var _t=K;++Re<qe;)Ke[_t+Re]=P[Re];for(;++me<Se;)(pt||K<se)&&(Ke[_t+L[me]]=x[K++]);return Ke}function aa(x,P){var L=-1,V=x.length;for(P||(P=ht(V));++L<V;)P[L]=x[L];return P}function yu(x,P,L,V){var K=!L;L||(L={});for(var se=-1,me=P.length;++se<me;){var Se=P[se],Re=V?V(L[Se],x[Se],Se,L,x):i;Re===i&&(Re=x[Se]),K?vu(L,Se,Re):$h(L,Se,Re)}return L}function Jv(x,P){return function(L,V){var K=Jt(L)?Mh:Ds,se=P?P():{};return K(L,x,jt(V,2),se)}}function Bs(x){return Ut(function(P,L){var V=-1,K=L.length,se=K>1?L[K-1]:i,me=K>2?L[2]:i;for(se=x.length>3&&typeof se=="function"?(K--,se):i,me&&oa(L[0],L[1],me)&&(se=K<3?i:se,K=1),P=on(P);++V<K;){var Se=L[V];Se&&x(P,Se,V,se)}return P})}function Xc(x,P){return function(L,V){if(L==null)return L;if(!Pa(L))return x(L,V);for(var K=L.length,se=P?K:-1,me=on(L);(P?se--:++se<K)&&V(me[se],se,me)!==!1;);return L}}function td(x){return function(P,L,V){for(var K=-1,se=on(P),me=V(P),Se=me.length;Se--;){var Re=me[x?Se:++K];if(L(se[Re],Re,se)===!1)break}return P}}function o1(x){return function(P){var L=Cs(P=Gr(P))?fi(P):i,V=L?L[0]:P.charAt(0),K=L?js(L,1).join(""):P.slice(1);return V[x]()+K}}function Pl(x){return function(P){return Rc(md(Em(P).replace(bn,"")),x,"")}}function rd(x){return function(){var P=arguments;switch(P.length){case 0:return new x;case 1:return new x(P[0]);case 2:return new x(P[0],P[1]);case 3:return new x(P[0],P[1],P[2]);case 4:return new x(P[0],P[1],P[2],P[3]);case 5:return new x(P[0],P[1],P[2],P[3],P[4]);case 6:return new x(P[0],P[1],P[2],P[3],P[4],P[5]);case 7:return new x(P[0],P[1],P[2],P[3],P[4],P[5],P[6])}var L=Ps(x.prototype),V=x.apply(L,P);return xn(V)?V:L}}function mu(x){return function(P,L,V){var K=on(P);if(!Pa(P)){var se=jt(L,3);P=Si(P),L=function(Se){return se(K[Se],Se,K)}}var me=x(P,L,V);return me>-1?K[se?P[me]:me]:i}}function ep(x){return Fo(function(P){var L=P.length,V=L,K=Dn.prototype.thru;for(x&&P.reverse();V--;){var se=P[V];if(typeof se!="function")throw new hi(a);if(K&&!me&&Ei(se)=="wrapper")var me=new Dn([],!0)}for(V=me?V:L;++V<L;){var Se=Ei(se=P[V]),Re=Se=="wrapper"?ap(se):i;me=Re&&up(Re[0])&&Re[1]==424&&!Re[4].length&&Re[9]==1?me[Ei(Re[0])].apply(me,Re[3]):se.length==1&&up(se)?me[Se]():me.thru(se)}return function(){var qe=arguments,Ge=qe[0];if(me&&qe.length==1&&Jt(Ge))return me.plant(Ge).value();for(var Ke=0,pt=L?P[Ke].apply(this,qe):Ge;++Ke<L;)pt=P[Ke].call(this,pt);return pt}})}function bu(x,P,L,V,K,se,me,Se,Re,qe){var Ge=P&l,Ke=1&P,pt=2&P,_t=24&P,kt=512&P,Ye=pt?i:rd(x);return function et(){for(var Pt=arguments.length,ct=ht(Pt),er=Pt;er--;)ct[er]=arguments[er];if(_t)var Kt=Us(et),zr=function($n,la){for(var _n=$n.length,Wi=0;_n--;)$n[_n]===la&&++Wi;return Wi}(ct,Kt);if(V&&(ct=a1(ct,V,K,_t)),se&&(ct=$y(ct,se,me,_t)),Pt-=zr,_t&&Pt<qe){var xt=Vi(ct,Kt);return Ky(x,P,bu,et.placeholder,L,ct,xt,Se,Re,qe-Pt)}var Ft=Ke?L:this,di=pt?Ft[x]:x;return Pt=ct.length,Se?ct=function($n,la){for(var _n=$n.length,Wi=Pn(la.length,_n),Tu=aa($n);Wi--;){var Vs=la[Wi];$n[Wi]=Ju(Vs,_n)?Tu[Vs]:i}return $n}(ct,Se):kt&&Pt>1&&ct.reverse(),Ge&&Re<Pt&&(ct.length=Re),this&&this!==Kr&&this instanceof et&&(di=Ye||rd(di)),di.apply(Ft,ct)}}function Fa(x,P){return function(L,V){return function(K,se,me,Se){return pu(K,function(Re,qe,Ge){se(Se,me(Re),qe,Ge)}),Se}(L,x,P(V),{})}}function tp(x,P){return function(L,V){var K;if(L===i&&V===i)return P;if(L!==i&&(K=L),V!==i){if(K===i)return V;typeof L=="string"||typeof V=="string"?(L=Ua(L),V=Ua(V)):(L=Q_(L),V=Q_(V)),K=x(L,V)}return K}}function rp(x){return Fo(function(P){return P=fn(P,hr(jt())),Ut(function(L){var V=this;return x(P,function(K){return qi(K,V,L)})})})}function nd(x,P){var L=(P=P===i?" ":Ua(P)).length;if(L<2)return L?Wc(P,x):P;var V=Wc(P,Uv(x/ci(P)));return Cs(P)?js(fi(V),0,x).join(""):V.slice(0,x)}function $c(x){return function(P,L,V){return V&&typeof V!="number"&&oa(P,L,V)&&(L=V=i),P=co(P),L===i?(L=P,P=0):L=co(L),function(K,se,me,Se){for(var Re=-1,qe=ei(Uv((se-K)/(me||1)),0),Ge=ht(qe);qe--;)Ge[Se?qe:++Re]=K,K+=me;return Ge}(P,L,V=V===i?P<L?1:-1:co(V),x)}}function Bo(x){return function(P,L){return typeof P=="string"&&typeof L=="string"||(P=fo(P),L=fo(L)),x(P,L)}}function Ky(x,P,L,V,K,se,me,Se,Re,qe){var Ge=8&P;P|=Ge?s:64,4&(P&=~(Ge?64:s))||(P&=-4);var Ke=[x,P,K,Ge?se:i,Ge?me:i,Ge?i:se,Ge?i:me,Se,Re,qe],pt=L.apply(i,Ke);return up(x)&&tm(pt,Ke),pt.placeholder=V,sd(pt,x,P)}function Zy(x){var P=Di[x];return function(L,V){if(L=fo(L),(V=V==null?0:Pn(nr(V),292))&&q_(L)){var K=(Gr(L)+"e").split("e");return+((K=(Gr(P(K[0]+"e"+(+K[1]+V)))+"e").split("e"))[0]+"e"+(+K[1]-V))}return P(L)}}var np=jc&&1/El(new jc([,-0]))[1]==c?function(x){return new jc(x)}:Am;function u1(x){return function(P){var L=Mi(P);return L==T?Xn(P):L==D?zh(P):function(V,K){return fn(K,function(se){return[se,V[se]]})}(P,x(P))}}function _u(x,P,L,V,K,se,me,Se){var Re=2&P;if(!Re&&typeof x!="function")throw new hi(a);var qe=V?V.length:0;if(qe||(P&=-97,V=K=i),me=me===i?me:ei(nr(me),0),Se=Se===i?Se:nr(Se),qe-=K?K.length:0,64&P){var Ge=V,Ke=K;V=K=i}var pt=Re?i:ap(x),_t=[x,P,L,V,K,Ge,Ke,se,me,Se];if(pt&&function(Ye,et){var Pt=Ye[1],ct=et[1],er=Pt|ct,Kt=er<131,zr=ct==l&&Pt==8||ct==l&&Pt==256&&Ye[7].length<=et[8]||ct==384&&et[7].length<=et[8]&&Pt==8;if(!Kt&&!zr)return Ye;1&ct&&(Ye[2]=et[2],er|=1&Pt?0:4);var xt=et[3];if(xt){var Ft=Ye[3];Ye[3]=Ft?a1(Ft,xt,et[4]):xt,Ye[4]=Ft?Vi(Ye[3],u):et[4]}(xt=et[5])&&(Ft=Ye[5],Ye[5]=Ft?$y(Ft,xt,et[6]):xt,Ye[6]=Ft?Vi(Ye[5],u):et[6]),(xt=et[7])&&(Ye[7]=xt),ct&l&&(Ye[8]=Ye[8]==null?et[8]:Pn(Ye[8],et[8])),Ye[9]==null&&(Ye[9]=et[9]),Ye[0]=et[0],Ye[1]=er}(_t,pt),x=_t[0],P=_t[1],L=_t[2],V=_t[3],K=_t[4],!(Se=_t[9]=_t[9]===i?Re?0:x.length:ei(_t[9]-qe,0))&&24&P&&(P&=-25),P&&P!=1)kt=P==8||P==16?function(Ye,et,Pt){var ct=rd(Ye);return function er(){for(var Kt=arguments.length,zr=ht(Kt),xt=Kt,Ft=Us(er);xt--;)zr[xt]=arguments[xt];var di=Kt<3&&zr[0]!==Ft&&zr[Kt-1]!==Ft?[]:Vi(zr,Ft);return(Kt-=di.length)<Pt?Ky(Ye,et,bu,er.placeholder,i,zr,di,i,i,Pt-Kt):qi(this&&this!==Kr&&this instanceof er?ct:Ye,this,zr)}}(x,P,Se):P!=s&&P!=33||K.length?bu.apply(i,_t):function(Ye,et,Pt,ct){var er=1&et,Kt=rd(Ye);return function zr(){for(var xt=-1,Ft=arguments.length,di=-1,$n=ct.length,la=ht($n+Ft),_n=this&&this!==Kr&&this instanceof zr?Kt:Ye;++di<$n;)la[di]=ct[di];for(;Ft--;)la[di++]=arguments[++xt];return qi(_n,er?Pt:this,la)}}(x,P,L,V);else var kt=function(Ye,et,Pt){var ct=1&et,er=rd(Ye);return function Kt(){return(this&&this!==Kr&&this instanceof Kt?er:Ye).apply(ct?Pt:this,arguments)}}(x,P,L);return sd((pt?Z_:tm)(kt,_t),x,P)}function wi(x,P,L,V){return x===i||so(x,As[L])&&!Jr.call(V,L)?P:x}function ip(x,P,L,V,K,se){return xn(x)&&xn(P)&&(se.set(P,x),Kv(x,P,i,ip,se),se.delete(P)),x}function s1(x){return pd(x)?i:x}function Uo(x,P,L,V,K,se){var me=1&L,Se=x.length,Re=P.length;if(Se!=Re&&!(me&&Re>Se))return!1;var qe=se.get(x),Ge=se.get(P);if(qe&&Ge)return qe==P&&Ge==x;var Ke=-1,pt=!0,_t=2&L?new du:i;for(se.set(x,P),se.set(P,x);++Ke<Se;){var kt=x[Ke],Ye=P[Ke];if(V)var et=me?V(Ye,kt,Ke,P,x,se):V(kt,Ye,Ke,x,P,se);if(et!==i){if(et)continue;pt=!1;break}if(_t){if(!Nh(P,function(Pt,ct){if(!wl(_t,ct)&&(kt===Pt||K(kt,Pt,L,V,se)))return _t.push(ct)})){pt=!1;break}}else if(kt!==Ye&&!K(kt,Ye,L,V,se)){pt=!1;break}}return se.delete(x),se.delete(P),pt}function Fo(x){return lp(sp(x,i,p1),x+"")}function Kc(x){return ni(x,Si,Jy)}function Zu(x){return ni(x,Yi,Zc)}var ap=Gv?function(x){return Gv.get(x)}:Am;function Ei(x){for(var P=x.name+"",L=Bc[P],V=Jr.call(Bc,P)?L.length:0;V--;){var K=L[V],se=K.func;if(se==null||se==x)return K.name}return P}function Us(x){return(Jr.call(J,"placeholder")?J:x).placeholder}function jt(){var x=J.iteratee||xm;return x=x===xm?Vc:x,arguments.length?x(arguments[0],arguments[1]):x}function op(x,P){var L,V,K=x.__data__;return((V=typeof(L=P))=="string"||V=="number"||V=="symbol"||V=="boolean"?L!=="__proto__":L===null)?K[typeof P=="string"?"string":"hash"]:K.map}function Qy(x){for(var P=Si(x),L=P.length;L--;){var V=P[L],K=x[V];P[L]=[V,K,f1(K)]}return P}function Qu(x,P){var L=function(V,K){return V==null?i:V[K]}(x,P);return Gc(L)?L:i}var Jy=Ly?function(x){return x==null?[]:(x=on(x),ko(Ly(x),function(P){return F_.call(x,P)}))}:Ep,Zc=Ly?function(x){for(var P=[];x;)Lo(P,Jy(x)),x=kc(x);return P}:Ep,Mi=Zr;function l1(x,P,L){for(var V=-1,K=(P=Ra(P,x)).length,se=!1;++V<K;){var me=wu(P[V]);if(!(se=x!=null&&L(x,me)))break;x=x[me]}return se||++V!=K?se:!!(K=x==null?0:x.length)&&lo(K)&&Ju(me,K)&&(Jt(x)||Eu(x))}function c1(x){return typeof x.constructor!="function"||od(x)?{}:Ps(kc(x))}function id(x){return Jt(x)||Eu(x)||!!(xa&&x&&x[xa])}function Ju(x,P){var L=typeof x;return!!(P=P??f)&&(L=="number"||L!="symbol"&&Pe.test(x))&&x>-1&&x%1==0&&x<P}function oa(x,P,L){if(!xn(L))return!1;var V=typeof P;return!!(V=="number"?Pa(L)&&Ju(P,L.length):V=="string"&&P in L)&&so(L[P],x)}function ad(x,P){if(Jt(x))return!1;var L=typeof x;return!(L!="number"&&L!="symbol"&&L!="boolean"&&x!=null&&!ua(x))||be.test(x)||!Ae.test(x)||P!=null&&x in on(P)}function up(x){var P=Ei(x),L=J[P];if(typeof L!="function"||!(P in gr.prototype))return!1;if(x===L)return!0;var V=ap(L);return!!V&&x===V[0]}(Rs&&Mi(new Rs(new ArrayBuffer(1)))!=F||ia&&Mi(new ia)!=T||qv&&Mi(qv.resolve())!=C||jc&&Mi(new jc)!=D||Wh&&Mi(new Wh)!=k)&&(Mi=function(x){var P=Zr(x),L=P==S?x.constructor:i,V=L?es(L):"";if(V)switch(V){case Uc:return F;case xe:return T;case Be:return C;case ke:return D;case gt:return k}return P});var BT=Lv?rs:Sp;function od(x){var P=x&&x.constructor;return x===(typeof P=="function"&&P.prototype||As)}function f1(x){return x==x&&!xn(x)}function em(x,P){return function(L){return L!=null&&L[x]===P&&(P!==i||x in on(L))}}function sp(x,P,L){return P=ei(P===i?x.length-1:P,0),function(){for(var V=arguments,K=-1,se=ei(V.length-P,0),me=ht(se);++K<se;)me[K]=V[P+K];K=-1;for(var Se=ht(P+1);++K<P;)Se[K]=V[K];return Se[P]=L(me),qi(x,this,Se)}}function h1(x,P){return P.length<2?x:xl(x,ao(P,0,-1))}function ud(x,P){if((P!=="constructor"||typeof x[P]!="function")&&P!="__proto__")return x[P]}var tm=d1(Z_),Qc=CT||function(x,P){return Kr.setTimeout(x,P)},lp=d1(Rl);function sd(x,P,L){var V=P+"";return lp(x,function(K,se){var me=se.length;if(!me)return K;var Se=me-1;return se[Se]=(me>1?"& ":"")+se[Se],se=se.join(me>2?", ":" "),K.replace(ge,`{
/* [wrapped with `+se+`] */
`)}(V,function(K,se){return Gi(v,function(me){var Se="_."+me[0];se&me[1]&&!Cc(K,Se)&&K.push(Se)}),K.sort()}(function(K){var se=K.match(Oe);return se?se[1].split(Le):[]}(V),L)))}function d1(x){var P=0,L=0;return function(){var V=zv(),K=16-(V-L);if(L=V,K>0){if(++P>=800)return arguments[0]}else P=0;return x.apply(i,arguments)}}function ld(x,P){var L=-1,V=x.length,K=V-1;for(P=P===i?V:P;++L<P;){var se=ks(L,K),me=x[se];x[se]=x[L],x[L]=me}return x.length=P,x}var cp,rm,nm=(cp=pp(function(x){var P=[];return x.charCodeAt(0)===46&&P.push(""),x.replace(j,function(L,V,K,se){P.push(K?se.replace(Ze,"$1"):V||L)}),P},function(x){return rm.size===500&&rm.clear(),x}),rm=cp.cache,cp);function wu(x){if(typeof x=="string"||ua(x))return x;var P=x+"";return P=="0"&&1/x==-1/0?"-0":P}function es(x){if(x!=null){try{return jv.call(x)}catch{}try{return x+""}catch{}}return""}function im(x){if(x instanceof gr)return x.clone();var P=new Dn(x.__wrapped__,x.__chain__);return P.__actions__=aa(x.__actions__),P.__index__=x.__index__,P.__values__=x.__values__,P}var am=Ut(function(x,P){return Un(x)?Ku(x,ri(P,1,Un,!0)):[]}),UT=Ut(function(x,P){var L=Mn(P);return Un(L)&&(L=i),Un(x)?Ku(x,ri(P,1,Un,!0),jt(L,2)):[]}),om=Ut(function(x,P){var L=Mn(P);return Un(L)&&(L=i),Un(x)?Ku(x,ri(P,1,Un,!0),i,L):[]});function dr(x,P,L){var V=x==null?0:x.length;if(!V)return-1;var K=L==null?0:nr(L);return K<0&&(K=ei(V+K,0)),Pc(x,jt(P,3),K)}function v1(x,P,L){var V=x==null?0:x.length;if(!V)return-1;var K=V-1;return L!==i&&(K=nr(L),K=L<0?ei(V+K,0):Pn(K,V-1)),Pc(x,jt(P,3),K,!0)}function p1(x){return x!=null&&x.length?ri(x,1):[]}function Jc(x){return x&&x.length?x[0]:i}var g1=Ut(function(x){var P=fn(x,Yy);return P.length&&P[0]===x[0]?qy(P):[]}),FT=Ut(function(x){var P=Mn(x),L=fn(x,Yy);return P===Mn(L)?P=i:L.pop(),L.length&&L[0]===x[0]?qy(L,jt(P,2)):[]}),zT=Ut(function(x){var P=Mn(x),L=fn(x,Yy);return(P=typeof P=="function"?P:i)&&L.pop(),L.length&&L[0]===x[0]?qy(L,i,P):[]});function Mn(x){var P=x==null?0:x.length;return P?x[P-1]:i}var qT=Ut(cd);function cd(x,P){return x&&x.length&&P&&P.length?Zv(x,P):x}var um=Fo(function(x,P){var L=x==null?0:x.length,V=Fc(x,P);return ne(x,fn(P,function(K){return Ju(K,L)?+K:K}).sort(i1)),V});function fp(x){return x==null?x:PT.call(x)}var y1=Ut(function(x){return Ls(ri(x,1,Un,!0))}),za=Ut(function(x){var P=Mn(x);return Un(P)&&(P=i),Ls(ri(x,1,Un,!0),jt(P,2))}),Fs=Ut(function(x){var P=Mn(x);return P=typeof P=="function"?P:i,Ls(ri(x,1,Un,!0),i,P)});function fd(x){if(!x||!x.length)return[];var P=0;return x=ko(x,function(L){if(Un(L))return P=ei(L.length,P),!0}),Uh(P,function(L){return fn(x,Lh(L))})}function sm(x,P){if(!x||!x.length)return[];var L=fd(x);return P==null?L:fn(L,function(V){return qi(P,i,V)})}var hp=Ut(function(x,P){return Un(x)?Ku(x,P):[]}),m1=Ut(function(x){return Hy(ko(x,Un))}),lm=Ut(function(x){var P=Mn(x);return Un(P)&&(P=i),Hy(ko(x,Un),jt(P,2))}),b1=Ut(function(x){var P=Mn(x);return P=typeof P=="function"?P:i,Hy(ko(x,Un),i,P)}),cm=Ut(fd),fm=Ut(function(x){var P=x.length,L=P>1?x[P-1]:i;return L=typeof L=="function"?(x.pop(),L):i,sm(x,L)});function ts(x){var P=J(x);return P.__chain__=!0,P}function dp(x,P){return P(x)}var zs=Fo(function(x){var P=x.length,L=P?x[0]:0,V=this.__wrapped__,K=function(se){return Fc(se,x)};return!(P>1||this.__actions__.length)&&V instanceof gr&&Ju(L)?((V=V.slice(L,+L+(P?1:0))).__actions__.push({func:dp,args:[K],thisArg:i}),new Dn(V,this.__chain__).thru(function(se){return P&&!se.length&&se.push(i),se})):this.thru(K)}),_1=Jv(function(x,P,L){Jr.call(x,L)?++x[L]:vu(x,L,1)}),w1=mu(dr),hm=mu(v1);function E1(x,P){return(Jt(x)?Gi:Aa)(x,jt(P,3))}function S1(x,P){return(Jt(x)?Ts:Qh)(x,jt(P,3))}var GT=Jv(function(x,P,L){Jr.call(x,L)?x[L].push(P):vu(x,L,[P])}),O1=Ut(function(x,P,L){var V=-1,K=typeof P=="function",se=Pa(x)?ht(x.length):[];return Aa(x,function(me){se[++V]=K?qi(P,me,L):Cl(me,P,L)}),se}),T1=Jv(function(x,P,L){vu(x,L,P)});function vp(x,P){return(Jt(x)?fn:W_)(x,jt(P,3))}var x1=Jv(function(x,P,L){x[L?0:1].push(P)},function(){return[[],[]]}),C1=Ut(function(x,P){if(x==null)return[];var L=P.length;return L>1&&oa(x,P[0],P[1])?P=[]:L>2&&oa(P[0],P[1],P[2])&&(P=[P[0]]),Jh(x,ri(P,1),[])}),Ii=xT||function(){return Kr.Date.now()};function zo(x,P,L){return P=L?i:P,P=x&&P==null?x.length:P,_u(x,l,i,i,i,i,P)}function A1(x,P){var L;if(typeof P!="function")throw new hi(a);return x=nr(x),function(){return--x>0&&(L=P.apply(this,arguments)),x<=1&&(P=i),L}}var dm=Ut(function(x,P,L){var V=1;if(L.length){var K=Vi(L,Us(dm));V|=s}return _u(x,V,P,L,K)}),hd=Ut(function(x,P,L){var V=3;if(L.length){var K=Vi(L,Us(hd));V|=s}return _u(P,V,x,L,K)});function Dl(x,P,L){var V,K,se,me,Se,Re,qe=0,Ge=!1,Ke=!1,pt=!0;if(typeof x!="function")throw new hi(a);function _t(ct){var er=V,Kt=K;return V=K=i,qe=ct,me=x.apply(Kt,er)}function kt(ct){var er=ct-Re;return Re===i||er>=P||er<0||Ke&&ct-qe>=se}function Ye(){var ct=Ii();if(kt(ct))return et(ct);Se=Qc(Ye,function(er){var Kt=P-(er-Re);return Ke?Pn(Kt,se-(er-qe)):Kt}(ct))}function et(ct){return Se=i,pt&&V?_t(ct):(V=K=i,me)}function Pt(){var ct=Ii(),er=kt(ct);if(V=arguments,K=this,Re=ct,er){if(Se===i)return function(Kt){return qe=Kt,Se=Qc(Ye,P),Ge?_t(Kt):me}(Re);if(Ke)return uo(Se),Se=Qc(Ye,P),_t(Re)}return Se===i&&(Se=Qc(Ye,P)),me}return P=fo(P)||0,xn(L)&&(Ge=!!L.leading,se=(Ke="maxWait"in L)?ei(fo(L.maxWait)||0,P):se,pt="trailing"in L?!!L.trailing:pt),Pt.cancel=function(){Se!==i&&uo(Se),qe=0,V=Re=K=Se=i},Pt.flush=function(){return Se===i?me:et(Ii())},Pt}var R1=Ut(function(x,P){return Fy(x,1,P)}),P1=Ut(function(x,P,L){return Fy(x,fo(P)||0,L)});function pp(x,P){if(typeof x!="function"||P!=null&&typeof P!="function")throw new hi(a);var L=function(){var V=arguments,K=P?P.apply(this,V):V[0],se=L.cache;if(se.has(K))return se.get(K);var me=x.apply(this,V);return L.cache=se.set(K,me)||se,me};return L.cache=new(pp.Cache||io),L}function dd(x){if(typeof x!="function")throw new hi(a);return function(){var P=arguments;switch(P.length){case 0:return!x.call(this);case 1:return!x.call(this,P[0]);case 2:return!x.call(this,P[0],P[1]);case 3:return!x.call(this,P[0],P[1],P[2])}return!x.apply(this,P)}}pp.Cache=io;var ef=jT(function(x,P){var L=(P=P.length==1&&Jt(P[0])?fn(P[0],hr(jt())):fn(ri(P,1),hr(jt()))).length;return Ut(function(V){for(var K=-1,se=Pn(V.length,L);++K<se;)V[K]=P[K].call(this,V[K]);return qi(x,this,V)})}),Ml=Ut(function(x,P){var L=Vi(P,Us(Ml));return _u(x,s,i,P,L)}),D1=Ut(function(x,P){var L=Vi(P,Us(D1));return _u(x,64,i,P,L)}),M1=Fo(function(x,P){return _u(x,256,i,i,i,P)});function so(x,P){return x===P||x!=x&&P!=P}var gp=Bo(zy),I1=Bo(function(x,P){return x>=P}),Eu=qc(function(){return arguments}())?qc:function(x){return In(x)&&Jr.call(x,"callee")&&!F_.call(x,"callee")},Jt=ht.isArray,yp=Rh?hr(Rh):function(x){return In(x)&&Zr(x)==U};function Pa(x){return x!=null&&lo(x.length)&&!rs(x)}function Un(x){return In(x)&&Pa(x)}var qo=Lc||Sp,N1=Rv?hr(Rv):function(x){return In(x)&&Zr(x)==m};function vd(x){if(!In(x))return!1;var P=Zr(x);return P==g||P=="[object DOMException]"||typeof x.message=="string"&&typeof x.name=="string"&&!pd(x)}function rs(x){if(!xn(x))return!1;var P=Zr(x);return P==_||P==E||P=="[object AsyncFunction]"||P=="[object Proxy]"}function vm(x){return typeof x=="number"&&x==nr(x)}function lo(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=f}function xn(x){var P=typeof x;return x!=null&&(P=="object"||P=="function")}function In(x){return x!=null&&typeof x=="object"}var k1=Ph?hr(Ph):function(x){return In(x)&&Mi(x)==T};function pm(x){return typeof x=="number"||In(x)&&Zr(x)==w}function pd(x){if(!In(x)||Zr(x)!=S)return!1;var P=kc(x);if(P===null)return!0;var L=Jr.call(P,"constructor")&&P.constructor;return typeof L=="function"&&L instanceof L&&jv.call(L)==TT}var gm=Dh?hr(Dh):function(x){return In(x)&&Zr(x)==R},Su=xc?hr(xc):function(x){return In(x)&&Mi(x)==D};function tf(x){return typeof x=="string"||!Jt(x)&&In(x)&&Zr(x)==M}function ua(x){return typeof x=="symbol"||In(x)&&Zr(x)==I}var qs=Pv?hr(Pv):function(x){return In(x)&&lo(x.length)&&!!Vt[Zr(x)]},mp=Bo(Ns),rf=Bo(function(x,P){return x<=P});function Nt(x){if(!x)return[];if(Pa(x))return tf(x)?fi(x):aa(x);if(Sl&&x[Sl])return function(L){for(var V,K=[];!(V=L.next()).done;)K.push(V.value);return K}(x[Sl]());var P=Mi(x);return(P==T?Xn:P==D?El:nf)(x)}function co(x){return x?(x=fo(x))===c||x===-1/0?17976931348623157e292*(x<0?-1:1):x==x?x:0:x===0?x:0}function nr(x){var P=co(x),L=P%1;return P==P?L?P-L:P:0}function Gs(x){return x?Ms(nr(x),0,d):0}function fo(x){if(typeof x=="number")return x;if(ua(x))return h;if(xn(x)){var P=typeof x.valueOf=="function"?x.valueOf():x;x=xn(P)?P+"":P}if(typeof x!="string")return x===0?x:+x;x=an(x);var L=Ie.test(x);return L||Ee.test(x)?Os(x.slice(2),L?2:8):$e.test(x)?h:+x}function bp(x){return yu(x,Yi(x))}function Gr(x){return x==null?"":Ua(x)}var Hi=Bs(function(x,P){if(od(P)||Pa(P))yu(P,Si(P),x);else for(var L in P)Jr.call(P,L)&&$h(x,L,P[L])}),L1=Bs(function(x,P){yu(P,Yi(P),x)}),_p=Bs(function(x,P,L,V){yu(P,Yi(P),x,V)}),j1=Bs(function(x,P,L,V){yu(P,Si(P),x,V)}),VT=Fo(Fc),B1=Ut(function(x,P){x=on(x);var L=-1,V=P.length,K=V>2?P[2]:i;for(K&&oa(P[0],P[1],K)&&(V=1);++L<V;)for(var se=P[L],me=Yi(se),Se=-1,Re=me.length;++Se<Re;){var qe=me[Se],Ge=x[qe];(Ge===i||so(Ge,As[qe])&&!Jr.call(x,qe))&&(x[qe]=se[qe])}return x}),HT=Ut(function(x){return x.push(i,ip),qi(U1,i,x)});function ym(x,P,L){var V=x==null?i:xl(x,P);return V===i?L:V}function mm(x,P){return x!=null&&l1(x,P,Y_)}var ns=Fa(function(x,P,L){P!=null&&typeof P.toString!="function"&&(P=$u.call(P)),x[P]=L},is(Da)),sa=Fa(function(x,P,L){P!=null&&typeof P.toString!="function"&&(P=$u.call(P)),Jr.call(x,P)?x[P].push(L):x[P]=[L]},jt),bm=Ut(Cl);function Si(x){return Pa(x)?V_(x):Hc(x)}function Yi(x){return Pa(x)?V_(x,!0):function(P){if(!xn(P))return function(se){var me=[];if(se!=null)for(var Se in on(se))me.push(Se);return me}(P);var L=od(P),V=[];for(var K in P)(K!="constructor"||!L&&Jr.call(P,K))&&V.push(K);return V}(x)}var YT=Bs(function(x,P,L){Kv(x,P,L)}),U1=Bs(function(x,P,L,V){Kv(x,P,L,V)}),gd=Fo(function(x,P){var L={};if(x==null)return L;var V=!1;P=fn(P,function(se){return se=Ra(se,x),V||(V=se.length>1),se}),yu(x,Zu(x),L),V&&(L=Ba(L,7,s1));for(var K=P.length;K--;)Vy(L,P[K]);return L}),F1=Fo(function(x,P){return x==null?{}:function(L,V){return Yc(L,V,function(K,se){return mm(L,se)})}(x,P)});function _m(x,P){if(x==null)return{};var L=fn(Zu(x),function(V){return[V]});return P=jt(P),Yc(x,L,function(V,K){return P(V,K[0])})}var z1=u1(Si),q1=u1(Yi);function nf(x){return x==null?[]:Fh(x,Si(x))}var WT=Pl(function(x,P,L){return P=P.toLowerCase(),x+(L?wm(P):P)});function wm(x){return wp(Gr(x).toLowerCase())}function Em(x){return(x=Gr(x))&&x.replace(Me,Ny).replace(Cr,"")}var XT=Pl(function(x,P,L){return x+(L?"-":"")+P.toLowerCase()}),Sm=Pl(function(x,P,L){return x+(L?" ":"")+P.toLowerCase()}),G1=o1("toLowerCase"),yd=Pl(function(x,P,L){return x+(L?"_":"")+P.toLowerCase()}),Om=Pl(function(x,P,L){return x+(L?" ":"")+wp(P)}),V1=Pl(function(x,P,L){return x+(L?" ":"")+P.toUpperCase()}),wp=o1("toUpperCase");function md(x,P,L){return x=Gr(x),(P=L?i:P)===i?function(V){return cu.test(V)}(x)?function(V){return V.match(_i)||[]}(x):function(V){return V.match(We)||[]}(x):x.match(P)||[]}var Tm=Ut(function(x,P){try{return qi(x,i,P)}catch(L){return vd(L)?L:new kr(L)}}),Ou=Fo(function(x,P){return Gi(P,function(L){L=wu(L),vu(x,L,dm(x[L],x))}),x});function is(x){return function(){return x}}var $T=ep(),H1=ep(!0);function Da(x){return x}function xm(x){return Vc(typeof x=="function"?x:Ba(x,1))}var KT=Ut(function(x,P){return function(L){return Cl(L,x,P)}}),ZT=Ut(function(x,P){return function(L){return Cl(x,L,P)}});function Cm(x,P,L){var V=Si(P),K=$v(P,V);L!=null||xn(P)&&(K.length||!V.length)||(L=P,P=x,x=this,K=$v(P,Si(P)));var se=!(xn(L)&&"chain"in L&&!L.chain),me=rs(x);return Gi(K,function(Se){var Re=P[Se];x[Se]=Re,me&&(x.prototype[Se]=function(){var qe=this.__chain__;if(se||qe){var Ge=x(this.__wrapped__);return(Ge.__actions__=aa(this.__actions__)).push({func:Re,args:arguments,thisArg:x}),Ge.__chain__=qe,Ge}return Re.apply(x,Lo([this.value()],arguments))})}),x}function Am(){}var QT=rp(fn),JT=rp(Ih),ex=rp(Nh);function Y1(x){return ad(x)?Lh(wu(x)):function(P){return function(L){return xl(L,P)}}(x)}var tx=$c(),W1=$c(!0);function Ep(){return[]}function Sp(){return!1}var Rm,rx=tp(function(x,P){return x+P},0),nx=Zy("ceil"),X1=tp(function(x,P){return x/P},1),ix=Zy("floor"),ax=tp(function(x,P){return x*P},1),ox=Zy("round"),ux=tp(function(x,P){return x-P},0);return J.after=function(x,P){if(typeof P!="function")throw new hi(a);return x=nr(x),function(){if(--x<1)return P.apply(this,arguments)}},J.ary=zo,J.assign=Hi,J.assignIn=L1,J.assignInWith=_p,J.assignWith=j1,J.at=VT,J.before=A1,J.bind=dm,J.bindAll=Ou,J.bindKey=hd,J.castArray=function(){if(!arguments.length)return[];var x=arguments[0];return Jt(x)?x:[x]},J.chain=ts,J.chunk=function(x,P,L){P=(L?oa(x,P,L):P===i)?1:ei(nr(P),0);var V=x==null?0:x.length;if(!V||P<1)return[];for(var K=0,se=0,me=ht(Uv(V/P));K<V;)me[se++]=ao(x,K,K+=P);return me},J.compact=function(x){for(var P=-1,L=x==null?0:x.length,V=0,K=[];++P<L;){var se=x[P];se&&(K[V++]=se)}return K},J.concat=function(){var x=arguments.length;if(!x)return[];for(var P=ht(x-1),L=arguments[0],V=x;V--;)P[V-1]=arguments[V];return Lo(Jt(L)?aa(L):[L],ri(P,1))},J.cond=function(x){var P=x==null?0:x.length,L=jt();return x=P?fn(x,function(V){if(typeof V[1]!="function")throw new hi(a);return[L(V[0]),V[1]]}):[],Ut(function(V){for(var K=-1;++K<P;){var se=x[K];if(qi(se[0],this,V))return qi(se[1],this,V)}})},J.conforms=function(x){return function(P){var L=Si(P);return function(V){return Zh(V,P,L)}}(Ba(x,1))},J.constant=is,J.countBy=_1,J.create=function(x,P){var L=Ps(x);return P==null?L:Kh(L,P)},J.curry=function x(P,L,V){var K=_u(P,8,i,i,i,i,i,L=V?i:L);return K.placeholder=x.placeholder,K},J.curryRight=function x(P,L,V){var K=_u(P,16,i,i,i,i,i,L=V?i:L);return K.placeholder=x.placeholder,K},J.debounce=Dl,J.defaults=B1,J.defaultsDeep=HT,J.defer=R1,J.delay=P1,J.difference=am,J.differenceBy=UT,J.differenceWith=om,J.drop=function(x,P,L){var V=x==null?0:x.length;return V?ao(x,(P=L||P===i?1:nr(P))<0?0:P,V):[]},J.dropRight=function(x,P,L){var V=x==null?0:x.length;return V?ao(x,0,(P=V-(P=L||P===i?1:nr(P)))<0?0:P):[]},J.dropRightWhile=function(x,P){return x&&x.length?oo(x,jt(P,3),!0,!0):[]},J.dropWhile=function(x,P){return x&&x.length?oo(x,jt(P,3),!0):[]},J.fill=function(x,P,L,V){var K=x==null?0:x.length;return K?(L&&typeof L!="number"&&oa(x,P,L)&&(L=0,V=K),function(se,me,Se,Re){var qe=se.length;for((Se=nr(Se))<0&&(Se=-Se>qe?0:qe+Se),(Re=Re===i||Re>qe?qe:nr(Re))<0&&(Re+=qe),Re=Se>Re?0:Gs(Re);Se<Re;)se[Se++]=me;return se}(x,P,L,V)):[]},J.filter=function(x,P){return(Jt(x)?ko:H_)(x,jt(P,3))},J.flatMap=function(x,P){return ri(vp(x,P),1)},J.flatMapDeep=function(x,P){return ri(vp(x,P),c)},J.flatMapDepth=function(x,P,L){return L=L===i?1:nr(L),ri(vp(x,P),L)},J.flatten=p1,J.flattenDeep=function(x){return x!=null&&x.length?ri(x,c):[]},J.flattenDepth=function(x,P){return x!=null&&x.length?ri(x,P=P===i?1:nr(P)):[]},J.flip=function(x){return _u(x,512)},J.flow=$T,J.flowRight=H1,J.fromPairs=function(x){for(var P=-1,L=x==null?0:x.length,V={};++P<L;){var K=x[P];V[K[0]]=K[1]}return V},J.functions=function(x){return x==null?[]:$v(x,Si(x))},J.functionsIn=function(x){return x==null?[]:$v(x,Yi(x))},J.groupBy=GT,J.initial=function(x){return x!=null&&x.length?ao(x,0,-1):[]},J.intersection=g1,J.intersectionBy=FT,J.intersectionWith=zT,J.invert=ns,J.invertBy=sa,J.invokeMap=O1,J.iteratee=xm,J.keyBy=T1,J.keys=Si,J.keysIn=Yi,J.map=vp,J.mapKeys=function(x,P){var L={};return P=jt(P,3),pu(x,function(V,K,se){vu(L,P(V,K,se),V)}),L},J.mapValues=function(x,P){var L={};return P=jt(P,3),pu(x,function(V,K,se){vu(L,K,P(V,K,se))}),L},J.matches=function(x){return X_(Ba(x,1))},J.matchesProperty=function(x,P){return $_(x,Ba(P,1))},J.memoize=pp,J.merge=YT,J.mergeWith=U1,J.method=KT,J.methodOf=ZT,J.mixin=Cm,J.negate=dd,J.nthArg=function(x){return x=nr(x),Ut(function(P){return K_(P,x)})},J.omit=gd,J.omitBy=function(x,P){return _m(x,dd(jt(P)))},J.once=function(x){return A1(2,x)},J.orderBy=function(x,P,L,V){return x==null?[]:(Jt(P)||(P=P==null?[]:[P]),Jt(L=V?i:L)||(L=L==null?[]:[L]),Jh(x,P,L))},J.over=QT,J.overArgs=ef,J.overEvery=JT,J.overSome=ex,J.partial=Ml,J.partialRight=D1,J.partition=x1,J.pick=F1,J.pickBy=_m,J.property=Y1,J.propertyOf=function(x){return function(P){return x==null?i:xl(x,P)}},J.pull=qT,J.pullAll=cd,J.pullAllBy=function(x,P,L){return x&&x.length&&P&&P.length?Zv(x,P,jt(L,2)):x},J.pullAllWith=function(x,P,L){return x&&x.length&&P&&P.length?Zv(x,P,i,L):x},J.pullAt=um,J.range=tx,J.rangeRight=W1,J.rearg=M1,J.reject=function(x,P){return(Jt(x)?ko:H_)(x,dd(jt(P,3)))},J.remove=function(x,P){var L=[];if(!x||!x.length)return L;var V=-1,K=[],se=x.length;for(P=jt(P,3);++V<se;){var me=x[V];P(me,V,x)&&(L.push(me),K.push(V))}return ne(x,K),L},J.rest=function(x,P){if(typeof x!="function")throw new hi(a);return Ut(x,P=P===i?P:nr(P))},J.reverse=fp,J.sampleSize=function(x,P,L){return P=(L?oa(x,P,L):P===i)?1:nr(P),(Jt(x)?Hv:NT)(x,P)},J.set=function(x,P,L){return x==null?x:ed(x,P,L)},J.setWith=function(x,P,L,V){return V=typeof V=="function"?V:i,x==null?x:ed(x,P,L,V)},J.shuffle=function(x){return(Jt(x)?DT:kT)(x)},J.slice=function(x,P,L){var V=x==null?0:x.length;return V?(L&&typeof L!="number"&&oa(x,P,L)?(P=0,L=V):(P=P==null?0:nr(P),L=L===i?V:nr(L)),ao(x,P,L)):[]},J.sortBy=C1,J.sortedUniq=function(x){return x&&x.length?gu(x):[]},J.sortedUniqBy=function(x,P){return x&&x.length?gu(x,jt(P,2)):[]},J.split=function(x,P,L){return L&&typeof L!="number"&&oa(x,P,L)&&(P=L=i),(L=L===i?d:L>>>0)?(x=Gr(x))&&(typeof P=="string"||P!=null&&!gm(P))&&!(P=Ua(P))&&Cs(x)?js(fi(x),0,L):x.split(P,L):[]},J.spread=function(x,P){if(typeof x!="function")throw new hi(a);return P=P==null?0:ei(nr(P),0),Ut(function(L){var V=L[P],K=js(L,0,P);return V&&Lo(K,V),qi(x,this,K)})},J.tail=function(x){var P=x==null?0:x.length;return P?ao(x,1,P):[]},J.take=function(x,P,L){return x&&x.length?ao(x,0,(P=L||P===i?1:nr(P))<0?0:P):[]},J.takeRight=function(x,P,L){var V=x==null?0:x.length;return V?ao(x,(P=V-(P=L||P===i?1:nr(P)))<0?0:P,V):[]},J.takeRightWhile=function(x,P){return x&&x.length?oo(x,jt(P,3),!1,!0):[]},J.takeWhile=function(x,P){return x&&x.length?oo(x,jt(P,3)):[]},J.tap=function(x,P){return P(x),x},J.throttle=function(x,P,L){var V=!0,K=!0;if(typeof x!="function")throw new hi(a);return xn(L)&&(V="leading"in L?!!L.leading:V,K="trailing"in L?!!L.trailing:K),Dl(x,P,{leading:V,maxWait:P,trailing:K})},J.thru=dp,J.toArray=Nt,J.toPairs=z1,J.toPairsIn=q1,J.toPath=function(x){return Jt(x)?fn(x,wu):ua(x)?[x]:aa(nm(Gr(x)))},J.toPlainObject=bp,J.transform=function(x,P,L){var V=Jt(x),K=V||qo(x)||qs(x);if(P=jt(P,4),L==null){var se=x&&x.constructor;L=K?V?new se:[]:xn(x)&&rs(se)?Ps(kc(x)):{}}return(K?Gi:pu)(x,function(me,Se,Re){return P(L,me,Se,Re)}),L},J.unary=function(x){return zo(x,1)},J.union=y1,J.unionBy=za,J.unionWith=Fs,J.uniq=function(x){return x&&x.length?Ls(x):[]},J.uniqBy=function(x,P){return x&&x.length?Ls(x,jt(P,2)):[]},J.uniqWith=function(x,P){return P=typeof P=="function"?P:i,x&&x.length?Ls(x,i,P):[]},J.unset=function(x,P){return x==null||Vy(x,P)},J.unzip=fd,J.unzipWith=sm,J.update=function(x,P,L){return x==null?x:J_(x,P,Wy(L))},J.updateWith=function(x,P,L,V){return V=typeof V=="function"?V:i,x==null?x:J_(x,P,Wy(L),V)},J.values=nf,J.valuesIn=function(x){return x==null?[]:Fh(x,Yi(x))},J.without=hp,J.words=md,J.wrap=function(x,P){return Ml(Wy(P),x)},J.xor=m1,J.xorBy=lm,J.xorWith=b1,J.zip=cm,J.zipObject=function(x,P){return t1(x||[],P||[],$h)},J.zipObjectDeep=function(x,P){return t1(x||[],P||[],ed)},J.zipWith=fm,J.entries=z1,J.entriesIn=q1,J.extend=L1,J.extendWith=_p,Cm(J,J),J.add=rx,J.attempt=Tm,J.camelCase=WT,J.capitalize=wm,J.ceil=nx,J.clamp=function(x,P,L){return L===i&&(L=P,P=i),L!==i&&(L=(L=fo(L))==L?L:0),P!==i&&(P=(P=fo(P))==P?P:0),Ms(fo(x),P,L)},J.clone=function(x){return Ba(x,4)},J.cloneDeep=function(x){return Ba(x,5)},J.cloneDeepWith=function(x,P){return Ba(x,5,P=typeof P=="function"?P:i)},J.cloneWith=function(x,P){return Ba(x,4,P=typeof P=="function"?P:i)},J.conformsTo=function(x,P){return P==null||Zh(x,P,Si(P))},J.deburr=Em,J.defaultTo=function(x,P){return x==null||x!=x?P:x},J.divide=X1,J.endsWith=function(x,P,L){x=Gr(x),P=Ua(P);var V=x.length,K=L=L===i?V:Ms(nr(L),0,V);return(L-=P.length)>=0&&x.slice(L,K)==P},J.eq=so,J.escape=function(x){return(x=Gr(x))&&ae.test(x)?x.replace(Q,ky):x},J.escapeRegExp=function(x){return(x=Gr(x))&&X.test(x)?x.replace(G,"\\$&"):x},J.every=function(x,P,L){var V=Jt(x)?Ih:MT;return L&&oa(x,P,L)&&(P=i),V(x,jt(P,3))},J.find=w1,J.findIndex=dr,J.findKey=function(x,P){return kh(x,jt(P,3),pu)},J.findLast=hm,J.findLastIndex=v1,J.findLastKey=function(x,P){return kh(x,jt(P,3),Xv)},J.floor=ix,J.forEach=E1,J.forEachRight=S1,J.forIn=function(x,P){return x==null?x:zc(x,jt(P,3),Yi)},J.forInRight=function(x,P){return x==null?x:Wv(x,jt(P,3),Yi)},J.forOwn=function(x,P){return x&&pu(x,jt(P,3))},J.forOwnRight=function(x,P){return x&&Xv(x,jt(P,3))},J.get=ym,J.gt=gp,J.gte=I1,J.has=function(x,P){return x!=null&&l1(x,P,IT)},J.hasIn=mm,J.head=Jc,J.identity=Da,J.includes=function(x,P,L,V){x=Pa(x)?x:nf(x),L=L&&!V?nr(L):0;var K=x.length;return L<0&&(L=ei(K+L,0)),tf(x)?L<=K&&x.indexOf(P,L)>-1:!!K&&xs(x,P,L)>-1},J.indexOf=function(x,P,L){var V=x==null?0:x.length;if(!V)return-1;var K=L==null?0:nr(L);return K<0&&(K=ei(V+K,0)),xs(x,P,K)},J.inRange=function(x,P,L){return P=co(P),L===i?(L=P,P=0):L=co(L),function(V,K,se){return V>=Pn(K,se)&&V<ei(K,se)}(x=fo(x),P,L)},J.invoke=bm,J.isArguments=Eu,J.isArray=Jt,J.isArrayBuffer=yp,J.isArrayLike=Pa,J.isArrayLikeObject=Un,J.isBoolean=function(x){return x===!0||x===!1||In(x)&&Zr(x)==p},J.isBuffer=qo,J.isDate=N1,J.isElement=function(x){return In(x)&&x.nodeType===1&&!pd(x)},J.isEmpty=function(x){if(x==null)return!0;if(Pa(x)&&(Jt(x)||typeof x=="string"||typeof x.splice=="function"||qo(x)||qs(x)||Eu(x)))return!x.length;var P=Mi(x);if(P==T||P==D)return!x.size;if(od(x))return!Hc(x).length;for(var L in x)if(Jr.call(x,L))return!1;return!0},J.isEqual=function(x,P){return Al(x,P)},J.isEqualWith=function(x,P,L){var V=(L=typeof L=="function"?L:i)?L(x,P):i;return V===i?Al(x,P,i,L):!!V},J.isError=vd,J.isFinite=function(x){return typeof x=="number"&&q_(x)},J.isFunction=rs,J.isInteger=vm,J.isLength=lo,J.isMap=k1,J.isMatch=function(x,P){return x===P||Is(x,P,Qy(P))},J.isMatchWith=function(x,P,L){return L=typeof L=="function"?L:i,Is(x,P,Qy(P),L)},J.isNaN=function(x){return pm(x)&&x!=+x},J.isNative=function(x){if(BT(x))throw new kr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Gc(x)},J.isNil=function(x){return x==null},J.isNull=function(x){return x===null},J.isNumber=pm,J.isObject=xn,J.isObjectLike=In,J.isPlainObject=pd,J.isRegExp=gm,J.isSafeInteger=function(x){return vm(x)&&x>=-9007199254740991&&x<=f},J.isSet=Su,J.isString=tf,J.isSymbol=ua,J.isTypedArray=qs,J.isUndefined=function(x){return x===i},J.isWeakMap=function(x){return In(x)&&Mi(x)==k},J.isWeakSet=function(x){return In(x)&&Zr(x)=="[object WeakSet]"},J.join=function(x,P){return x==null?"":AT.call(x,P)},J.kebabCase=XT,J.last=Mn,J.lastIndexOf=function(x,P,L){var V=x==null?0:x.length;if(!V)return-1;var K=V;return L!==i&&(K=(K=nr(L))<0?ei(V+K,0):Pn(K,V-1)),P==P?function(se,me,Se){for(var Re=Se+1;Re--;)if(se[Re]===me)return Re;return Re}(x,P,K):Pc(x,Dv,K,!0)},J.lowerCase=Sm,J.lowerFirst=G1,J.lt=mp,J.lte=rf,J.max=function(x){return x&&x.length?Yv(x,Da,zy):i},J.maxBy=function(x,P){return x&&x.length?Yv(x,jt(P,2),zy):i},J.mean=function(x){return Dc(x,Da)},J.meanBy=function(x,P){return Dc(x,jt(P,2))},J.min=function(x){return x&&x.length?Yv(x,Da,Ns):i},J.minBy=function(x,P){return x&&x.length?Yv(x,jt(P,2),Ns):i},J.stubArray=Ep,J.stubFalse=Sp,J.stubObject=function(){return{}},J.stubString=function(){return""},J.stubTrue=function(){return!0},J.multiply=ax,J.nth=function(x,P){return x&&x.length?K_(x,nr(P)):i},J.noConflict=function(){return Kr._===this&&(Kr._=j_),this},J.noop=Am,J.now=Ii,J.pad=function(x,P,L){x=Gr(x);var V=(P=nr(P))?ci(x):0;if(!P||V>=P)return x;var K=(P-V)/2;return nd(Fv(K),L)+x+nd(Uv(K),L)},J.padEnd=function(x,P,L){x=Gr(x);var V=(P=nr(P))?ci(x):0;return P&&V<P?x+nd(P-V,L):x},J.padStart=function(x,P,L){x=Gr(x);var V=(P=nr(P))?ci(x):0;return P&&V<P?nd(P-V,L)+x:x},J.parseInt=function(x,P,L){return L||P==null?P=0:P&&(P=+P),RT(Gr(x).replace(ie,""),P||0)},J.random=function(x,P,L){if(L&&typeof L!="boolean"&&oa(x,P,L)&&(P=L=i),L===i&&(typeof P=="boolean"?(L=P,P=i):typeof x=="boolean"&&(L=x,x=i)),x===i&&P===i?(x=0,P=1):(x=co(x),P===i?(P=x,x=0):P=co(P)),x>P){var V=x;x=P,P=V}if(L||x%1||P%1){var K=G_();return Pn(x+K*(P-x+Mo("1e-"+((K+"").length-1))),P)}return ks(x,P)},J.reduce=function(x,P,L){var V=Jt(x)?Rc:Mv,K=arguments.length<3;return V(x,jt(P,4),L,K,Aa)},J.reduceRight=function(x,P,L){var V=Jt(x)?Dy:Mv,K=arguments.length<3;return V(x,jt(P,4),L,K,Qh)},J.repeat=function(x,P,L){return P=(L?oa(x,P,L):P===i)?1:nr(P),Wc(Gr(x),P)},J.replace=function(){var x=arguments,P=Gr(x[0]);return x.length<3?P:P.replace(x[1],x[2])},J.result=function(x,P,L){var V=-1,K=(P=Ra(P,x)).length;for(K||(K=1,x=i);++V<K;){var se=x==null?i:x[wu(P[V])];se===i&&(V=K,se=L),x=rs(se)?se.call(x):se}return x},J.round=ox,J.runInContext=De,J.sample=function(x){return(Jt(x)?By:Tr)(x)},J.size=function(x){if(x==null)return 0;if(Pa(x))return tf(x)?ci(x):x.length;var P=Mi(x);return P==T||P==D?x.size:Hc(x).length},J.snakeCase=yd,J.some=function(x,P,L){var V=Jt(x)?Nh:LT;return L&&oa(x,P,L)&&(P=i),V(x,jt(P,3))},J.sortedIndex=function(x,P){return Qv(x,P)},J.sortedIndexBy=function(x,P,L){return Gy(x,P,jt(L,2))},J.sortedIndexOf=function(x,P){var L=x==null?0:x.length;if(L){var V=Qv(x,P);if(V<L&&so(x[V],P))return V}return-1},J.sortedLastIndex=function(x,P){return Qv(x,P,!0)},J.sortedLastIndexBy=function(x,P,L){return Gy(x,P,jt(L,2),!0)},J.sortedLastIndexOf=function(x,P){if(x!=null&&x.length){var L=Qv(x,P,!0)-1;if(so(x[L],P))return L}return-1},J.startCase=Om,J.startsWith=function(x,P,L){return x=Gr(x),L=L==null?0:Ms(nr(L),0,x.length),P=Ua(P),x.slice(L,L+P.length)==P},J.subtract=ux,J.sum=function(x){return x&&x.length?Bh(x,Da):0},J.sumBy=function(x,P){return x&&x.length?Bh(x,jt(P,2)):0},J.template=function(x,P,L){var V=J.templateSettings;L&&oa(x,P,L)&&(P=i),x=Gr(x),P=_p({},P,V,wi);var K,se,me=_p({},P.imports,V.imports,wi),Se=Si(me),Re=Fh(me,Se),qe=0,Ge=P.interpolate||Ne,Ke="__p += '",pt=qh((P.escape||Ne).source+"|"+Ge.source+"|"+(Ge===Te?tt:Ne).source+"|"+(P.evaluate||Ne).source+"|$","g"),_t="//# sourceURL="+(Jr.call(P,"sourceURL")?(P.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ta+"]")+`
`;x.replace(pt,function(et,Pt,ct,er,Kt,zr){return ct||(ct=er),Ke+=x.slice(qe,zr).replace(at,kv),Pt&&(K=!0,Ke+=`' +
__e(`+Pt+`) +
'`),Kt&&(se=!0,Ke+=`';
`+Kt+`;
__p += '`),ct&&(Ke+=`' +
((__t = (`+ct+`)) == null ? '' : __t) +
'`),qe=zr+et.length,et}),Ke+=`';
`;var kt=Jr.call(P,"variable")&&P.variable;if(kt){if(ut.test(kt))throw new kr("Invalid `variable` option passed into `_.template`")}else Ke=`with (obj) {
`+Ke+`
}
`;Ke=(se?Ke.replace(de,""):Ke).replace(he,"$1").replace(fe,"$1;"),Ke="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(K?", __e = _.escape":"")+(se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ke+`return __p
}`;var Ye=Tm(function(){return Jn(Se,_t+"return "+Ke).apply(i,Re)});if(Ye.source=Ke,vd(Ye))throw Ye;return Ye},J.times=function(x,P){if((x=nr(x))<1||x>f)return[];var L=d,V=Pn(x,d);P=jt(P),x-=d;for(var K=Uh(V,P);++L<x;)P(L);return K},J.toFinite=co,J.toInteger=nr,J.toLength=Gs,J.toLower=function(x){return Gr(x).toLowerCase()},J.toNumber=fo,J.toSafeInteger=function(x){return x?Ms(nr(x),-9007199254740991,f):x===0?x:0},J.toString=Gr,J.toUpper=function(x){return Gr(x).toUpperCase()},J.trim=function(x,P,L){if((x=Gr(x))&&(L||P===i))return an(x);if(!x||!(P=Ua(P)))return x;var V=fi(x),K=fi(P);return js(V,Iv(V,K),Nv(V,K)+1).join("")},J.trimEnd=function(x,P,L){if((x=Gr(x))&&(L||P===i))return x.slice(0,fu(x)+1);if(!x||!(P=Ua(P)))return x;var V=fi(x);return js(V,0,Nv(V,fi(P))+1).join("")},J.trimStart=function(x,P,L){if((x=Gr(x))&&(L||P===i))return x.replace(ie,"");if(!x||!(P=Ua(P)))return x;var V=fi(x);return js(V,Iv(V,fi(P))).join("")},J.truncate=function(x,P){var L=30,V="...";if(xn(P)){var K="separator"in P?P.separator:K;L="length"in P?nr(P.length):L,V="omission"in P?Ua(P.omission):V}var se=(x=Gr(x)).length;if(Cs(x)){var me=fi(x);se=me.length}if(L>=se)return x;var Se=L-ci(V);if(Se<1)return V;var Re=me?js(me,0,Se).join(""):x.slice(0,Se);if(K===i)return Re+V;if(me&&(Se+=Re.length-Se),gm(K)){if(x.slice(Se).search(K)){var qe,Ge=Re;for(K.global||(K=qh(K.source,Gr(Qe.exec(K))+"g")),K.lastIndex=0;qe=K.exec(Ge);)var Ke=qe.index;Re=Re.slice(0,Ke===i?Se:Ke)}}else if(x.indexOf(Ua(K),Se)!=Se){var pt=Re.lastIndexOf(K);pt>-1&&(Re=Re.slice(0,pt))}return Re+V},J.unescape=function(x){return(x=Gr(x))&&ee.test(x)?x.replace(te,no):x},J.uniqueId=function(x){var P=++L_;return Gr(x)+P},J.upperCase=V1,J.upperFirst=wp,J.each=E1,J.eachRight=S1,J.first=Jc,Cm(J,(Rm={},pu(J,function(x,P){Jr.call(J.prototype,P)||(Rm[P]=x)}),Rm),{chain:!1}),J.VERSION="4.17.21",Gi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){J[x].placeholder=J}),Gi(["drop","take"],function(x,P){gr.prototype[x]=function(L){L=L===i?1:ei(nr(L),0);var V=this.__filtered__&&!P?new gr(this):this.clone();return V.__filtered__?V.__takeCount__=Pn(L,V.__takeCount__):V.__views__.push({size:Pn(L,d),type:x+(V.__dir__<0?"Right":"")}),V},gr.prototype[x+"Right"]=function(L){return this.reverse()[x](L).reverse()}}),Gi(["filter","map","takeWhile"],function(x,P){var L=P+1,V=L==1||L==3;gr.prototype[x]=function(K){var se=this.clone();return se.__iteratees__.push({iteratee:jt(K,3),type:L}),se.__filtered__=se.__filtered__||V,se}}),Gi(["head","last"],function(x,P){var L="take"+(P?"Right":"");gr.prototype[x]=function(){return this[L](1).value()[0]}}),Gi(["initial","tail"],function(x,P){var L="drop"+(P?"":"Right");gr.prototype[x]=function(){return this.__filtered__?new gr(this):this[L](1)}}),gr.prototype.compact=function(){return this.filter(Da)},gr.prototype.find=function(x){return this.filter(x).head()},gr.prototype.findLast=function(x){return this.reverse().find(x)},gr.prototype.invokeMap=Ut(function(x,P){return typeof x=="function"?new gr(this):this.map(function(L){return Cl(L,x,P)})}),gr.prototype.reject=function(x){return this.filter(dd(jt(x)))},gr.prototype.slice=function(x,P){x=nr(x);var L=this;return L.__filtered__&&(x>0||P<0)?new gr(L):(x<0?L=L.takeRight(-x):x&&(L=L.drop(x)),P!==i&&(L=(P=nr(P))<0?L.dropRight(-P):L.take(P-x)),L)},gr.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},gr.prototype.toArray=function(){return this.take(d)},pu(gr.prototype,function(x,P){var L=/^(?:filter|find|map|reject)|While$/.test(P),V=/^(?:head|last)$/.test(P),K=J[V?"take"+(P=="last"?"Right":""):P],se=V||/^find/.test(P);K&&(J.prototype[P]=function(){var me=this.__wrapped__,Se=V?[1]:arguments,Re=me instanceof gr,qe=Se[0],Ge=Re||Jt(me),Ke=function(Pt){var ct=K.apply(J,Lo([Pt],Se));return V&&pt?ct[0]:ct};Ge&&L&&typeof qe=="function"&&qe.length!=1&&(Re=Ge=!1);var pt=this.__chain__,_t=!!this.__actions__.length,kt=se&&!pt,Ye=Re&&!_t;if(!se&&Ge){me=Ye?me:new gr(this);var et=x.apply(me,Se);return et.__actions__.push({func:dp,args:[Ke],thisArg:i}),new Dn(et,pt)}return kt&&Ye?x.apply(this,Se):(et=this.thru(Ke),kt?V?et.value()[0]:et.value():et)})}),Gi(["pop","push","shift","sort","splice","unshift"],function(x){var P=Ic[x],L=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",V=/^(?:pop|shift)$/.test(x);J.prototype[x]=function(){var K=arguments;if(V&&!this.__chain__){var se=this.value();return P.apply(Jt(se)?se:[],K)}return this[L](function(me){return P.apply(Jt(me)?me:[],K)})}}),pu(gr.prototype,function(x,P){var L=J[P];if(L){var V=L.name+"";Jr.call(Bc,V)||(Bc[V]=[]),Bc[V].push({name:P,func:L})}}),Bc[bu(i,2).name]=[{name:"wrapper",func:i}],gr.prototype.clone=function(){var x=new gr(this.__wrapped__);return x.__actions__=aa(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=aa(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=aa(this.__views__),x},gr.prototype.reverse=function(){if(this.__filtered__){var x=new gr(this);x.__dir__=-1,x.__filtered__=!0}else(x=this.clone()).__dir__*=-1;return x},gr.prototype.value=function(){var x=this.__wrapped__.value(),P=this.__dir__,L=Jt(x),V=P<0,K=L?x.length:0,se=function(zr,xt,Ft){for(var di=-1,$n=Ft.length;++di<$n;){var la=Ft[di],_n=la.size;switch(la.type){case"drop":zr+=_n;break;case"dropRight":xt-=_n;break;case"take":xt=Pn(xt,zr+_n);break;case"takeRight":zr=ei(zr,xt-_n)}}return{start:zr,end:xt}}(0,K,this.__views__),me=se.start,Se=se.end,Re=Se-me,qe=V?Se:me-1,Ge=this.__iteratees__,Ke=Ge.length,pt=0,_t=Pn(Re,this.__takeCount__);if(!L||!V&&K==Re&&_t==Re)return e1(x,this.__actions__);var kt=[];e:for(;Re--&&pt<_t;){for(var Ye=-1,et=x[qe+=P];++Ye<Ke;){var Pt=Ge[Ye],ct=Pt.iteratee,er=Pt.type,Kt=ct(et);if(er==2)et=Kt;else if(!Kt){if(er==1)continue e;break e}}kt[pt++]=et}return kt},J.prototype.at=zs,J.prototype.chain=function(){return ts(this)},J.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},J.prototype.next=function(){this.__values__===i&&(this.__values__=Nt(this.value()));var x=this.__index__>=this.__values__.length;return{done:x,value:x?i:this.__values__[this.__index__++]}},J.prototype.plant=function(x){for(var P,L=this;L instanceof Vv;){var V=im(L);V.__index__=0,V.__values__=i,P?K.__wrapped__=V:P=V;var K=V;L=L.__wrapped__}return K.__wrapped__=x,P},J.prototype.reverse=function(){var x=this.__wrapped__;if(x instanceof gr){var P=x;return this.__actions__.length&&(P=new gr(this)),(P=P.reverse()).__actions__.push({func:dp,args:[fp],thisArg:i}),new Dn(P,this.__chain__)}return this.thru(fp)},J.prototype.toJSON=J.prototype.valueOf=J.prototype.value=function(){return e1(this.__wrapped__,this.__actions__)},J.prototype.first=J.prototype.head,Sl&&(J.prototype[Sl]=function(){return this}),J}();Kr._=ja,(n=(function(){return ja}).call(e,r,e,t))===i||(t.exports=n)}).call(this)},5267:function(t,e,r){var n=this&&this.__extends||function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAction=void 0;var i=r(4671),a=r(5649),o=r(7479),u=function(s){function l(c,f){var h=s.call(this,c,f)||this;return h.scheduler=c,h.work=f,h.pending=!1,h}return n(l,s),l.prototype.schedule=function(c,f){var h;if(f===void 0&&(f=0),this.closed)return this;this.state=c;var d=this.id,v=this.scheduler;return d!=null&&(this.id=this.recycleAsyncId(v,d,f)),this.pending=!0,this.delay=f,this.id=(h=this.id)!==null&&h!==void 0?h:this.requestAsyncId(v,this.id,f),this},l.prototype.requestAsyncId=function(c,f,h){return h===void 0&&(h=0),a.intervalProvider.setInterval(c.flush.bind(c,this),h)},l.prototype.recycleAsyncId=function(c,f,h){if(h===void 0&&(h=0),h!=null&&this.delay===h&&this.pending===!1)return f;f!=null&&a.intervalProvider.clearInterval(f)},l.prototype.execute=function(c,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var h=this._execute(c,f);if(h)return h;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},l.prototype._execute=function(c,f){var h,d=!1;try{this.work(c)}catch(v){d=!0,h=v||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),h},l.prototype.unsubscribe=function(){if(!this.closed){var c=this.id,f=this.scheduler,h=f.actions;this.work=this.state=this.scheduler=null,this.pending=!1,o.arrRemove(h,this),c!=null&&(this.id=this.recycleAsyncId(f,c,null)),this.delay=null,s.prototype.unsubscribe.call(this)}},l}(i.Action);e.AsyncAction=u},5319:function(t,e,r){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}(),i=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.alloc=void 0;var a=i(r(1048)),o=function(u){function s(l){var c=this,f=function(h){return h instanceof a.default.Buffer?h:typeof h=="number"&&typeof a.default.Buffer.alloc=="function"?a.default.Buffer.alloc(h):new a.default.Buffer(h)}(l);return(c=u.call(this,f.length)||this)._buffer=f,c}return n(s,u),s.prototype.getUInt8=function(l){return this._buffer.readUInt8(l)},s.prototype.getInt8=function(l){return this._buffer.readInt8(l)},s.prototype.getFloat64=function(l){return this._buffer.readDoubleBE(l)},s.prototype.getVarInt=function(l){for(var c=0,f=this._buffer.readInt8(l+c),h=f%128;f/128>=1;)c+=1,h+=(f=this._buffer.readInt8(l+c))%128;return{length:c+1,value:h}},s.prototype.putUInt8=function(l,c){this._buffer.writeUInt8(c,l)},s.prototype.putInt8=function(l,c){this._buffer.writeInt8(c,l)},s.prototype.putFloat64=function(l,c){this._buffer.writeDoubleBE(c,l)},s.prototype.putBytes=function(l,c){if(c instanceof s){var f=Math.min(c.length-c.position,this.length-l);c._buffer.copy(this._buffer,l,c.position,c.position+f),c.position+=f}else u.prototype.putBytes.call(this,l,c)},s.prototype.getSlice=function(l,c){return new s(this._buffer.slice(l,l+c))},s}(i(r(7174)).default);e.default=o,e.alloc=function(u){return new o(u)}},5337:function(t,e,r){var n=this&&this.__read||function(v,y){var b=typeof Symbol=="function"&&v[Symbol.iterator];if(!b)return v;var p,m,g=b.call(v),_=[];try{for(;(y===void 0||y-- >0)&&!(p=g.next()).done;)_.push(p.value)}catch(E){m={error:E}}finally{try{p&&!p.done&&(b=g.return)&&b.call(g)}finally{if(m)throw m.error}}return _};Object.defineProperty(e,"__esModule",{value:!0}),e.fromEvent=void 0;var i=r(9445),a=r(4662),o=r(983),u=r(8046),s=r(1018),l=r(1251),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],h=["on","off"];function d(v,y){return function(b){return function(p){return v[b](y,p)}}}e.fromEvent=function v(y,b,p,m){if(s.isFunction(p)&&(m=p,p=void 0),m)return v(y,b,p).pipe(l.mapOneOrManyArgs(m));var g=n(function(T){return s.isFunction(T.addEventListener)&&s.isFunction(T.removeEventListener)}(y)?f.map(function(T){return function(w){return y[T](b,w,p)}}):function(T){return s.isFunction(T.addListener)&&s.isFunction(T.removeListener)}(y)?c.map(d(y,b)):function(T){return s.isFunction(T.on)&&s.isFunction(T.off)}(y)?h.map(d(y,b)):[],2),_=g[0],E=g[1];if(!_&&u.isArrayLike(y))return o.mergeMap(function(T){return v(T,b,p)})(i.innerFrom(y));if(!_)throw new TypeError("Invalid event target");return new a.Observable(function(T){var w=function(){for(var S=[],C=0;C<arguments.length;C++)S[C]=arguments[C];return T.next(1<S.length?S:S[0])};return _(w),function(){return E(w)}})}},5348:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(7521));e.default=n({},a.default)},5361:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var n=r(7452),i=r(6781),a=r(7665),o=r(9305),u=o.error.PROTOCOL_ERROR,s=function(){function c(f){this._ch=f,this._byteArraysSupported=!0}return c.prototype.packable=function(f,h){var d,v=this;h===void 0&&(h=i.functional.identity);try{f=h(f)}catch(p){return function(){throw p}}if(f===null)return function(){return v._ch.writeUInt8(192)};if(f===!0)return function(){return v._ch.writeUInt8(195)};if(f===!1)return function(){return v._ch.writeUInt8(194)};if(typeof f=="number")return function(){return v.packFloat(f)};if(typeof f=="string")return function(){return v.packString(f)};if(typeof f=="bigint")return function(){return v.packInteger((0,o.int)(f))};if((0,o.isInt)(f))return function(){return v.packInteger(f)};if(f instanceof Int8Array)return function(){return v.packBytes(f)};if(f instanceof Array)return function(){v.packListHeader(f.length);for(var p=0;p<f.length;p++)v.packable(f[p]===void 0?null:f[p],h)()};if((d=f)!=null&&typeof d[Symbol.iterator]=="function")return this.packableIterable(f,h);if(f instanceof a.Structure){for(var y=[],b=0;b<f.fields.length;b++)y[b]=this.packable(f.fields[b],h);return function(){return v.packStruct(f.signature,y)}}return typeof f=="object"?function(){for(var p=Object.keys(f),m=0,g=0;g<p.length;g++)f[p[g]]!==void 0&&m++;for(v.packMapHeader(m),g=0;g<p.length;g++){var _=p[g];f[_]!==void 0&&(v.packString(_),v.packable(f[_],h)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(f))},c.prototype.packableIterable=function(f,h){try{var d=Array.from(f);return this.packable(d,h)}catch(v){throw(0,o.newError)("Cannot pack given iterable, ".concat(v.message,": ").concat(f))}},c.prototype.packStruct=function(f,h){h=h||[],this.packStructHeader(h.length,f);for(var d=0;d<h.length;d++)h[d]()},c.prototype.packInteger=function(f){var h=f.high,d=f.low;f.greaterThanOrEqual(-16)&&f.lessThan(128)?this._ch.writeInt8(d):f.greaterThanOrEqual(-128)&&f.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(d)):f.greaterThanOrEqual(-32768)&&f.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(d)):f.greaterThanOrEqual(-2147483648)&&f.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(d)):(this._ch.writeUInt8(203),this._ch.writeInt32(h),this._ch.writeInt32(d))},c.prototype.packFloat=function(f){this._ch.writeUInt8(193),this._ch.writeFloat64(f)},c.prototype.packString=function(f){var h=n.utf8.encode(f),d=h.length;if(d<16)this._ch.writeUInt8(128|d),this._ch.writeBytes(h);else if(d<256)this._ch.writeUInt8(208),this._ch.writeUInt8(d),this._ch.writeBytes(h);else if(d<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(d/256|0),this._ch.writeUInt8(d%256),this._ch.writeBytes(h);else{if(!(d<4294967296))throw(0,o.newError)("UTF-8 strings of size "+d+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((d/16777216|0)%256),this._ch.writeUInt8((d/65536|0)%256),this._ch.writeUInt8((d/256|0)%256),this._ch.writeUInt8(d%256),this._ch.writeBytes(h)}},c.prototype.packListHeader=function(f){if(f<16)this._ch.writeUInt8(144|f);else if(f<256)this._ch.writeUInt8(212),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Lists of size "+f+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((f/16777216|0)%256),this._ch.writeUInt8((f/65536|0)%256),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packBytes=function(f){if(!this._byteArraysSupported)throw(0,o.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(f.length);for(var h=0;h<f.length;h++)this._ch.writeInt8(f[h])},c.prototype.packBytesHeader=function(f){if(f<256)this._ch.writeUInt8(204),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Byte arrays of size "+f+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((f/16777216|0)%256),this._ch.writeUInt8((f/65536|0)%256),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packMapHeader=function(f){if(f<16)this._ch.writeUInt8(160|f);else if(f<256)this._ch.writeUInt8(216),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(f/256|0),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,o.newError)("Maps of size "+f+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((f/16777216|0)%256),this._ch.writeUInt8((f/65536|0)%256),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packStructHeader=function(f,h){if(f<16)this._ch.writeUInt8(176|f),this._ch.writeUInt8(h);else if(f<256)this._ch.writeUInt8(220),this._ch.writeUInt8(f),this._ch.writeUInt8(h);else{if(!(f<65536))throw(0,o.newError)("Structures of size "+f+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(f/256|0),this._ch.writeUInt8(f%256)}},c.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},c.prototype._nonPackableValue=function(f){return function(){throw(0,o.newError)(f,u)}},c}();e.Packer=s;var l=function(){function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=!1),this._disableLosslessIntegers=f,this._useBigInt=h}return c.prototype.unpack=function(f,h){h===void 0&&(h=i.functional.identity);var d=f.readUInt8(),v=240&d,y=15&d;if(d===192)return null;var b=this._unpackBoolean(d);if(b!==null)return b;var p=this._unpackNumberOrInteger(d,f);if(p!==null){if((0,o.isInt)(p)){if(this._useBigInt)return p.toBigInt();if(this._disableLosslessIntegers)return p.toNumberOrInfinity()}return p}var m=this._unpackString(d,v,y,f);if(m!==null)return m;var g=this._unpackList(d,v,y,f,h);if(g!==null)return g;var _=this._unpackByteArray(d,f);if(_!==null)return _;var E=this._unpackMap(d,v,y,f,h);if(E!==null)return E;var T=this._unpackStruct(d,v,y,f,h);if(T!==null)return T;throw(0,o.newError)("Unknown packed value with marker "+d.toString(16))},c.prototype.unpackInteger=function(f){var h=f.readUInt8(),d=this._unpackInteger(h,f);if(d==null)throw(0,o.newError)("Unable to unpack integer value with marker "+h.toString(16));return d},c.prototype._unpackBoolean=function(f){return f===195||f!==194&&null},c.prototype._unpackNumberOrInteger=function(f,h){return f===193?h.readFloat64():this._unpackInteger(f,h)},c.prototype._unpackInteger=function(f,h){if(f>=0&&f<128)return(0,o.int)(f);if(f>=240&&f<256)return(0,o.int)(f-256);if(f===200)return(0,o.int)(h.readInt8());if(f===201)return(0,o.int)(h.readInt16());if(f===202){var d=h.readInt32();return(0,o.int)(d)}if(f===203){var v=h.readInt32(),y=h.readInt32();return new o.Integer(y,v)}return null},c.prototype._unpackString=function(f,h,d,v){return h===128?n.utf8.decode(v,d):f===208?n.utf8.decode(v,v.readUInt8()):f===209?n.utf8.decode(v,v.readUInt16()):f===210?n.utf8.decode(v,v.readUInt32()):null},c.prototype._unpackList=function(f,h,d,v,y){return h===144?this._unpackListWithSize(d,v,y):f===212?this._unpackListWithSize(v.readUInt8(),v,y):f===213?this._unpackListWithSize(v.readUInt16(),v,y):f===214?this._unpackListWithSize(v.readUInt32(),v,y):null},c.prototype._unpackListWithSize=function(f,h,d){for(var v=[],y=0;y<f;y++)v.push(this.unpack(h,d));return v},c.prototype._unpackByteArray=function(f,h){return f===204?this._unpackByteArrayWithSize(h.readUInt8(),h):f===205?this._unpackByteArrayWithSize(h.readUInt16(),h):f===206?this._unpackByteArrayWithSize(h.readUInt32(),h):null},c.prototype._unpackByteArrayWithSize=function(f,h){for(var d=new Int8Array(f),v=0;v<f;v++)d[v]=h.readInt8();return d},c.prototype._unpackMap=function(f,h,d,v,y){return h===160?this._unpackMapWithSize(d,v,y):f===216?this._unpackMapWithSize(v.readUInt8(),v,y):f===217?this._unpackMapWithSize(v.readUInt16(),v,y):f===218?this._unpackMapWithSize(v.readUInt32(),v,y):null},c.prototype._unpackMapWithSize=function(f,h,d){for(var v={},y=0;y<f;y++)v[this.unpack(h,d)]=this.unpack(h,d);return v},c.prototype._unpackStruct=function(f,h,d,v,y){return h===176?this._unpackStructWithSize(d,v,y):f===220?this._unpackStructWithSize(v.readUInt8(),v,y):f===221?this._unpackStructWithSize(v.readUInt16(),v,y):null},c.prototype._unpackStructWithSize=function(f,h,d){for(var v=h.readUInt8(),y=new a.Structure(v,[]),b=0;b<f;b++)y.fields.push(this.unpack(h,d));return d(y)},c}();e.Unpacker=l},5365:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=void 0;var n=r(7843),i=r(3111),a=r(1342),o=r(9445);e.distinct=function(u,s){return n.operate(function(l,c){var f=new Set;l.subscribe(i.createOperatorSubscriber(c,function(h){var d=u?u(h):h;f.has(d)||(f.add(d),c.next(h))})),s&&o.innerFrom(s).subscribe(i.createOperatorSubscriber(c,function(){return f.clear()},a.noop))})}},5382:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.single=void 0;var n=r(2823),i=r(1505),a=r(1759),o=r(7843),u=r(3111);e.single=function(s){return o.operate(function(l,c){var f,h=!1,d=!1,v=0;l.subscribe(u.createOperatorSubscriber(c,function(y){d=!0,s&&!s(y,v++,l)||(h&&c.error(new i.SequenceError("Too many matching values")),h=!0,f=y)},function(){h?(c.next(f),c.complete()):c.error(d?new a.NotFoundError("No matching values"):new n.EmptyError)}))})}},5442:function(t,e,r){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,b=d.call(f),p=[];try{for(;(h===void 0||h-- >0)&&!(v=b.next()).done;)p.push(v.value)}catch(m){y={error:m}}finally{try{v&&!v.done&&(d=b.return)&&d.call(b)}finally{if(y)throw y.error}}return p},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.withLatestFrom=void 0;var a=r(7843),o=r(3111),u=r(9445),s=r(6640),l=r(1342),c=r(1107);e.withLatestFrom=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var d=c.popResultSelector(f);return a.operate(function(v,y){for(var b=f.length,p=new Array(b),m=f.map(function(){return!1}),g=!1,_=function(T){u.innerFrom(f[T]).subscribe(o.createOperatorSubscriber(y,function(w){p[T]=w,g||m[T]||(m[T]=!0,(g=m.every(s.identity))&&(m=null))},l.noop))},E=0;E<b;E++)_(E);v.subscribe(o.createOperatorSubscriber(y,function(T){if(g){var w=i([T],n(p));y.next(d?d.apply(void 0,i([],n(w))):w)}}))})}},5459:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(D,M,I,k){k===void 0&&(k=I);var U=Object.getOwnPropertyDescriptor(M,I);U&&!("get"in U?!M.__esModule:U.writable||U.configurable)||(U={enumerable:!0,get:function(){return M[I]}}),Object.defineProperty(D,k,U)}:function(D,M,I,k){k===void 0&&(k=I),D[k]=M[I]}),i=this&&this.__setModuleDefault||(Object.create?function(D,M){Object.defineProperty(D,"default",{enumerable:!0,value:M})}:function(D,M){D.default=M}),a=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var M={};if(D!=null)for(var I in D)I!=="default"&&Object.prototype.hasOwnProperty.call(D,I)&&n(M,D,I);return i(M,D),M},o=this&&this.__read||function(D,M){var I=typeof Symbol=="function"&&D[Symbol.iterator];if(!I)return D;var k,U,F=I.call(D),B=[];try{for(;(M===void 0||M-- >0)&&!(k=F.next()).done;)B.push(k.value)}catch(z){U={error:z}}finally{try{k&&!k.done&&(I=F.return)&&I.call(F)}finally{if(U)throw U.error}}return B};Object.defineProperty(e,"__esModule",{value:!0}),e.isDateTime=e.DateTime=e.isLocalDateTime=e.LocalDateTime=e.isDate=e.Date=e.isTime=e.Time=e.isLocalTime=e.LocalTime=e.isDuration=e.Duration=void 0;var u=a(r(5022)),s=r(6587),l=r(9691),c=a(r(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},h="__isDuration__",d="__isLocalTime__",v="__isTime__",y="__isDate__",b="__isLocalDateTime__",p="__isDateTime__",m=function(){function D(M,I,k,U){this.months=(0,s.assertNumberOrInteger)(M,"Months"),this.days=(0,s.assertNumberOrInteger)(I,"Days"),(0,s.assertNumberOrInteger)(k,"Seconds"),(0,s.assertNumberOrInteger)(U,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(k,U),this.nanoseconds=u.normalizeNanosecondsForDuration(U),Object.freeze(this)}return D.prototype.toString=function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},D}();e.Duration=m,Object.defineProperty(m.prototype,h,f),e.isDuration=function(D){return S(D,h)};var g=function(){function D(M,I,k,U){this.hour=u.assertValidHour(M),this.minute=u.assertValidMinute(I),this.second=u.assertValidSecond(k),this.nanosecond=u.assertValidNanosecond(U),Object.freeze(this)}return D.fromStandardDate=function(M,I){R(M,I);var k=u.totalNanoseconds(M,I);return new D(M.getHours(),M.getMinutes(),M.getSeconds(),k instanceof c.default?k.toInt():typeof k=="bigint"?(0,c.int)(k).toInt():k)},D.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},D}();e.LocalTime=g,Object.defineProperty(g.prototype,d,f),e.isLocalTime=function(D){return S(D,d)};var _=function(){function D(M,I,k,U,F){this.hour=u.assertValidHour(M),this.minute=u.assertValidMinute(I),this.second=u.assertValidSecond(k),this.nanosecond=u.assertValidNanosecond(U),this.timeZoneOffsetSeconds=(0,s.assertNumberOrInteger)(F,"Time zone offset in seconds"),Object.freeze(this)}return D.fromStandardDate=function(M,I){return R(M,I),new D(M.getHours(),M.getMinutes(),M.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(M,I)),u.timeZoneOffsetInSeconds(M))},D.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},D}();e.Time=_,Object.defineProperty(_.prototype,v,f),e.isTime=function(D){return S(D,v)};var E=function(){function D(M,I,k){this.year=u.assertValidYear(M),this.month=u.assertValidMonth(I),this.day=u.assertValidDay(k),Object.freeze(this)}return D.fromStandardDate=function(M){return R(M),new D(M.getFullYear(),M.getMonth()+1,M.getDate())},D.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},D.prototype.toString=function(){return u.dateToIsoString(this.year,this.month,this.day)},D}();e.Date=E,Object.defineProperty(E.prototype,y,f),e.isDate=function(D){return S(D,y)};var T=function(){function D(M,I,k,U,F,B,z){this.year=u.assertValidYear(M),this.month=u.assertValidMonth(I),this.day=u.assertValidDay(k),this.hour=u.assertValidHour(U),this.minute=u.assertValidMinute(F),this.second=u.assertValidSecond(B),this.nanosecond=u.assertValidNanosecond(z),Object.freeze(this)}return D.fromStandardDate=function(M,I){return R(M,I),new D(M.getFullYear(),M.getMonth()+1,M.getDate(),M.getHours(),M.getMinutes(),M.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(M,I)))},D.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},D.prototype.toString=function(){return C(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},D}();e.LocalDateTime=T,Object.defineProperty(T.prototype,b,f),e.isLocalDateTime=function(D){return S(D,b)};var w=function(){function D(M,I,k,U,F,B,z,H,Y){this.year=u.assertValidYear(M),this.month=u.assertValidMonth(I),this.day=u.assertValidDay(k),this.hour=u.assertValidHour(U),this.minute=u.assertValidMinute(F),this.second=u.assertValidSecond(B),this.nanosecond=u.assertValidNanosecond(z);var W=o(function(ce,ue){var de=ce!=null,he=ue!=null&&ue!=="";if(!de&&!he)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(ce," and id: ").concat(ue));var fe=[void 0,void 0];return de&&((0,s.assertNumberOrInteger)(ce,"Time zone offset in seconds"),fe[0]=ce),he&&((0,s.assertString)(ue,"Time zone ID"),u.assertValidZoneId("Time zone ID",ue),fe[1]=ue),fe}(H,Y),2),Z=W[0],le=W[1];this.timeZoneOffsetSeconds=Z,this.timeZoneId=le??void 0,Object.freeze(this)}return D.fromStandardDate=function(M,I){return R(M,I),new D(M.getFullYear(),M.getMonth()+1,M.getDate(),M.getHours(),M.getMinutes(),M.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(M,I)),u.timeZoneOffsetInSeconds(M),null)},D.prototype.toStandardDate=function(){return u.toStandardDate(this._toUTC())},D.prototype.toString=function(){var M;return C(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneOffsetSeconds!=null?u.timeZoneOffsetToIsoString((M=this.timeZoneOffsetSeconds)!==null&&M!==void 0?M:0):"")+(this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"")},D.prototype._toUTC=function(){var M;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var I=u.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract((M=this.timeZoneOffsetSeconds)!==null&&M!==void 0?M:0);return(0,c.int)(I).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},D}();function S(D,M){return D!=null&&D[M]===!0}function C(D,M,I,k,U,F,B){return u.dateToIsoString(D,M,I)+"T"+u.timeToIsoString(k,U,F,B)}function R(D,M){(0,s.assertValidDate)(D,"Standard date"),M!=null&&(0,s.assertNumberOrInteger)(M,"Nanosecond")}e.DateTime=w,Object.defineProperty(w.prototype,p,f),e.isDateTime=function(D){return S(D,p)}},5471:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0;var n=r(7843),i=r(3111);e.map=function(a,o){return n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){s.next(a.call(o,c,l++))}))})}},5477:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.window=void 0;var n=r(2483),i=r(7843),a=r(3111),o=r(1342),u=r(9445);e.window=function(s){return i.operate(function(l,c){var f=new n.Subject;c.next(f.asObservable());var h=function(d){f.error(d),c.error(d)};return l.subscribe(a.createOperatorSubscriber(c,function(d){return f==null?void 0:f.next(d)},function(){f.complete(),c.complete()},h)),u.innerFrom(s).subscribe(a.createOperatorSubscriber(c,function(){f.complete(),c.next(f=new n.Subject)},o.noop,h)),function(){f==null||f.unsubscribe(),f=null}})}},5481:function(t,e,r){var n=this&&this.__awaiter||function(E,T,w,S){return new(w||(w=Promise))(function(C,R){function D(k){try{I(S.next(k))}catch(U){R(U)}}function M(k){try{I(S.throw(k))}catch(U){R(U)}}function I(k){var U;k.done?C(k.value):(U=k.value,U instanceof w?U:new w(function(F){F(U)})).then(D,M)}I((S=S.apply(E,T||[])).next())})},i=this&&this.__generator||function(E,T){var w,S,C,R,D={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return R={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function M(I){return function(k){return function(U){if(w)throw new TypeError("Generator is already executing.");for(;R&&(R=0,U[0]&&(D=0)),D;)try{if(w=1,S&&(C=2&U[0]?S.return:U[0]?S.throw||((C=S.return)&&C.call(S),0):S.next)&&!(C=C.call(S,U[1])).done)return C;switch(S=0,C&&(U=[2&U[0],C.value]),U[0]){case 0:case 1:C=U;break;case 4:return D.label++,{value:U[1],done:!1};case 5:D.label++,S=U[1],U=[0];continue;case 7:U=D.ops.pop(),D.trys.pop();continue;default:if(!((C=(C=D.trys).length>0&&C[C.length-1])||U[0]!==6&&U[0]!==2)){D=0;continue}if(U[0]===3&&(!C||U[1]>C[0]&&U[1]<C[3])){D.label=U[1];break}if(U[0]===6&&D.label<C[1]){D.label=C[1],C=U;break}if(C&&D.label<C[2]){D.label=C[2],D.ops.push(U);break}C[2]&&D.ops.pop(),D.trys.pop();continue}U=T.call(E,D)}catch(F){U=[6,F],S=0}finally{w=C=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([I,k])}}},a=this&&this.__read||function(E,T){var w=typeof Symbol=="function"&&E[Symbol.iterator];if(!w)return E;var S,C,R=w.call(E),D=[];try{for(;(T===void 0||T-- >0)&&!(S=R.next()).done;)D.push(S.value)}catch(M){C={error:M}}finally{try{S&&!S.done&&(w=R.return)&&w.call(R)}finally{if(C)throw C.error}}return D},o=this&&this.__spreadArray||function(E,T,w){if(w||arguments.length===2)for(var S,C=0,R=T.length;C<R;C++)!S&&C in T||(S||(S=Array.prototype.slice.call(T,0,C)),S[C]=T[C]);return E.concat(S||Array.prototype.slice.call(T))},u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(2696),l=r(6587),c=r(326),f=r(9691),h=u(r(9512)),d=r(3618),v=r(6189),y=r(9730),b=r(754),p=u(r(4569)),m=u(r(5909)),g=r(6030),_=function(){function E(T){var w,S=T.mode,C=T.connectionProvider,R=T.bookmarks,D=T.database,M=T.config,I=T.reactive,k=T.fetchSize,U=T.impersonatedUser,F=T.bookmarkManager,B=T.notificationFilter,z=T.auth,H=T.log,Y=T.homeDatabaseCallback;this._mode=S,this._database=D,this._reactive=I,this._fetchSize=k,this._homeDatabaseCallback=Y,this._auth=z,this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new d.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:z,database:D,bookmarks:R,connectionProvider:C,impersonatedUser:U,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:H}),this._writeConnectionHolder=new d.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:z,database:D,bookmarks:R,connectionProvider:C,impersonatedUser:U,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:H}),this._open=!0,this._hasTx=!1,this._impersonatedUser=U,this._lastBookmarks=R??y.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(Z){var le,ce=(le=Z==null?void 0:Z.maxTransactionRetryTime)!==null&&le!==void 0?le:null;return new v.TransactionExecutor(ce)}(M),this._databaseNameResolved=this._database!=="";var W=this._calculateWatermaks();this._lowRecordWatermark=W.low,this._highRecordWatermark=W.high,this._results=[],this._bookmarkManager=F,this._notificationFilter=B,this._log=H,this._databaseGuess=M==null?void 0:M.cachedHomeDatabase,this._isRoutingSession=(w=M==null?void 0:M.routingDriver)!==null&&w!==void 0&&w}return E.prototype.run=function(T,w,S){var C=this,R=(0,l.validateQueryAndParameters)(T,w),D=R.validatedQuery,M=R.params,I=S!=null?new b.TxConfig(S,this._log):b.TxConfig.empty(),k=this._run(D,M,function(U){return n(C,void 0,void 0,function(){var F,B=this;return i(this,function(z){switch(z.label){case 0:return[4,this._bookmarks()];case 1:return F=z.sent(),this._assertSessionIsOpen(),[2,U.run(D,M,{bookmarks:F,txConfig:I,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(H){return B._onCompleteCallback(H,F)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,onDb:this._onDatabaseNameResolved.bind(this)})]}})})});return this._results.push(k),k},E.prototype._run=function(T,w,S){var C=this._acquireAndConsumeConnection(S),R=C.connectionHolder,D=C.resultPromise.catch(function(I){return Promise.resolve(new s.FailedObserver({error:I}))}),M={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new h.default(D,T,w,R,M)},E.prototype._acquireConnection=function(T){var w=this,S=this._acquireAndConsumeConnection(T),C=S.connectionHolder;return S.resultPromise.then(function(R){return n(w,void 0,void 0,function(){return i(this,function(D){switch(D.label){case 0:return[4,C.releaseConnection()];case 1:return D.sent(),[2,R]}})})})},E.prototype._acquireAndConsumeConnection=function(T){var w,S=this._connectionHolderWithMode(this._mode);return w=this._open?!this._hasTx&&S.initializeConnection(this._databaseGuess)?S.getConnection().then(function(C){return T(C)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:S,resultPromise:w}},E.prototype.beginTransaction=function(T){var w=T,S=b.TxConfig.empty();return w!=null&&(S=new b.TxConfig(w,this._log)),this._beginTransaction(this._mode,S,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},E.prototype._beginTransaction=function(T,w,S){var C=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var R=E._validateSessionMode(T),D=this._connectionHolderWithMode(R);D.initializeConnection(this._databaseGuess),this._hasTx=!0;var M=new p.default({connectionHolder:D,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(I,k,U){return C._updateBookmarks(I,k,U)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:S,onDbCallback:this._onDatabaseNameResolved.bind(this)});return M._begin(function(){return C._bookmarks()},w),M},E.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},E.prototype._transactionClosed=function(){this._hasTx=!1},E.prototype.lastBookmark=function(){return this.lastBookmarks()},E.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},E.prototype._bookmarks=function(){var T;return n(this,void 0,void 0,function(){var w;return i(this,function(S){switch(S.label){case 0:return[4,(T=this._bookmarkManager)===null||T===void 0?void 0:T.getBookmarks()];case 1:return(w=S.sent())===void 0?[2,this._lastBookmarks]:[2,new y.Bookmarks(o(o([],a(w),!1),a(this._configuredBookmarks),!1))]}})})},E.prototype.readTransaction=function(T,w){var S=new b.TxConfig(w,this._log);return this._runTransaction(c.ACCESS_MODE_READ,S,T)},E.prototype.writeTransaction=function(T,w){var S=new b.TxConfig(w,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,S,T)},E.prototype._runTransaction=function(T,w,S){var C=this;return this._transactionExecutor.execute(function(R){return C._beginTransaction(T,w,R)},S)},E.prototype.executeRead=function(T,w){var S=new b.TxConfig(w,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,S,T)},E.prototype.executeWrite=function(T,w){var S=new b.TxConfig(w,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,S,T)},E.prototype._executeInTransaction=function(T,w,S){var C=this;return this._transactionExecutor.execute(function(R){return C._beginTransaction(T,w,R)},S,m.default.fromTransaction)},E.prototype._onDatabaseNameResolved=function(T){if(this._isRoutingSession&&(this._databaseGuess=T,!this._databaseNameResolved)){var w=T??"";this._database=w,this._readConnectionHolder.setDatabase(w),this._writeConnectionHolder.setDatabase(w),this._databaseNameResolved=!0,this._homeDatabaseCallback!=null&&this._homeDatabaseCallback((0,g.cacheKey)(this._auth,this._impersonatedUser),T)}},E.prototype._getConnectionAcquistionBookmarks=function(){var T;return n(this,void 0,void 0,function(){var w;return i(this,function(S){switch(S.label){case 0:return[4,(T=this._bookmarkManager)===null||T===void 0?void 0:T.getBookmarks()];case 1:return(w=S.sent())===void 0?[2,this._lastBookmarks]:[2,new y.Bookmarks(o(o([],a(this._configuredBookmarks),!1),a(w),!1))]}})})},E.prototype._updateBookmarks=function(T,w,S){var C,R,D;T==null||T.isEmpty()||((C=this._bookmarkManager)===null||C===void 0||C.updateBookmarks((R=w==null?void 0:w.values())!==null&&R!==void 0?R:[],(D=T==null?void 0:T.values())!==null&&D!==void 0?D:[]).catch(function(){}),this._lastBookmarks=T,this._configuredBookmarks=y.Bookmarks.empty())},E.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(T){switch(T.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(w){return w._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return T.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:T.sent(),T.label=3;case 3:return[2]}})})},E.prototype[Symbol.asyncDispose]=function(){return this.close()},E.prototype._connectionHolderWithMode=function(T){if(T===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(T===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+T)},E.prototype._onCompleteCallback=function(T,w){this._updateBookmarks(new y.Bookmarks(T.bookmark),w,T.db)},E.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},E.prototype._configureTransactionExecutor=function(T,w){this._transactionExecutor.pipelineBegin=T,this._transactionExecutor.telemetryApi=w},E._validateSessionMode=function(T){var w=T??c.ACCESS_MODE_WRITE;if(w!==c.ACCESS_MODE_READ&&w!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+w);return w},E}();e.default=_},5510:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.every=void 0;var n=r(7843),i=r(3111);e.every=function(a,o){return n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){a.call(o,c,l++,u)||(s.next(!1),s.complete())},function(){s.next(!0),s.complete()}))})}},5553:function(t,e,r){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(7174),a=r(5319),o=function(u){function s(l){for(var c=this,f=0,h=0;h<l.length;h++)f+=l[h].length;return(c=u.call(this,f)||this)._buffers=l,c}return n(s,u),s.prototype.getUInt8=function(l){for(var c=0;c<this._buffers.length;c++){var f=this._buffers[c];if(!(l>=f.length))return f.getUInt8(l);l-=f.length}},s.prototype.getInt8=function(l){for(var c=0;c<this._buffers.length;c++){var f=this._buffers[c];if(!(l>=f.length))return f.getInt8(l);l-=f.length}},s.prototype.getFloat64=function(l){for(var c=(0,a.alloc)(8),f=0;f<8;f++)c.putUInt8(f,this.getUInt8(l+f));return c.getFloat64(0)},s}(i.BaseBuffer);e.default=o},5568:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorClass=void 0,e.createErrorClass=function(r){var n=r(function(i){Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}},5572:function(t,e,r){var n=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&u[s],c=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferCount=void 0;var i=r(7843),a=r(3111),o=r(7479);e.bufferCount=function(u,s){return s===void 0&&(s=null),s=s??u,i.operate(function(l,c){var f=[],h=0;l.subscribe(a.createOperatorSubscriber(c,function(d){var v,y,b,p,m=null;h++%s===0&&f.push([]);try{for(var g=n(f),_=g.next();!_.done;_=g.next())(w=_.value).push(d),u<=w.length&&(m=m??[]).push(w)}catch(S){v={error:S}}finally{try{_&&!_.done&&(y=g.return)&&y.call(g)}finally{if(v)throw v.error}}if(m)try{for(var E=n(m),T=E.next();!T.done;T=E.next()){var w=T.value;o.arrRemove(f,w),c.next(w)}}catch(S){b={error:S}}finally{try{T&&!T.done&&(p=E.return)&&p.call(E)}finally{if(b)throw b.error}}},function(){var d,v;try{for(var y=n(f),b=y.next();!b.done;b=y.next()){var p=b.value;c.next(p)}}catch(m){d={error:m}}finally{try{b&&!b.done&&(v=y.return)&&v.call(y)}finally{if(d)throw d.error}}c.complete()},void 0,function(){f=null}))})}},5584:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.raceInit=e.race=void 0;var n=r(4662),i=r(9445),a=r(8535),o=r(3111);function u(s){return function(l){for(var c=[],f=function(d){c.push(i.innerFrom(s[d]).subscribe(o.createOperatorSubscriber(l,function(v){if(c){for(var y=0;y<c.length;y++)y!==d&&c[y].unsubscribe();c=null}l.next(v)})))},h=0;c&&!l.closed&&h<s.length;h++)f(h)}}e.race=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(s=a.argsOrArgArray(s)).length===1?i.innerFrom(s[0]):new n.Observable(u(s))},e.raceInit=u},5592:(t,e,r)=>{var n=r(7192);n=n.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},5600:function(t,e,r){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,d=c.call(s),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v},i=this&&this.__spreadArray||function(s,l){for(var c=0,f=l.length,h=s.length;c<f;c++,h++)s[h]=l[c];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.raceWith=void 0;var a=r(5584),o=r(7843),u=r(6640);e.raceWith=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return s.length?o.operate(function(c,f){a.raceInit(i([c],n(s)))(f)}):u.identity}},5636:(t,e,r)=>{var n=r(1048),i=n.Buffer;function a(u,s){for(var l in u)s[l]=u[l]}function o(u,s,l){return i(u,s,l)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(u,s,l){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,s,l)},o.alloc=function(u,s,l){if(typeof u!="number")throw new TypeError("Argument must be a number");var c=i(u);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}},5642:function(t,e,r){var n=this&&this.__extends||function(){var g=function(_,E){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(T[S]=w[S])},g(_,E)};return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function T(){this.constructor=_}g(_,E),_.prototype=E===null?Object.create(E):(T.prototype=E.prototype,new T)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(g){for(var _,E=1,T=arguments.length;E<T;E++)for(var w in _=arguments[E])Object.prototype.hasOwnProperty.call(_,w)&&(g[w]=_[w]);return g},i.apply(this,arguments)},a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(2857)),u=a(r(7021)),s=r(397),l=r(9014),c=a(r(1175)),f=a(r(3321)),h=r(9305),d=(h.internal.bookmarks.Bookmarks,h.internal.constants.BOLT_PROTOCOL_V3),v=h.internal.txConfig.TxConfig,y="context",b="CALL dbms.cluster.routing.getRoutingTable($".concat(y,")"),p=new l.StreamObserver,m=function(g){function _(){return g!==null&&g.apply(this,arguments)||this}return n(_,g),Object.defineProperty(_.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"transformer",{get:function(){var E=this;return this._transformer===void 0&&(this._transformer=new f.default(Object.values(c.default).map(function(T){return T(E._config,E._log)}))),this._transformer},enumerable:!1,configurable:!0}),_.prototype.transformMetadata=function(E){return"t_first"in E&&(E.result_available_after=E.t_first,delete E.t_first),"t_last"in E&&(E.result_consumed_after=E.t_last,delete E.t_last),E},_.prototype.initialize=function(E){var T=this,w=E===void 0?{}:E,S=w.userAgent,C=(w.boltAgent,w.authToken),R=w.notificationFilter,D=w.onError,M=w.onComplete,I=new l.LoginObserver({onError:function(k){return T._onLoginError(k,D)},onCompleted:function(k){return T._onLoginCompleted(k,C,M)}});return(0,s.assertNotificationFilterIsEmpty)(R,this._onProtocolError,I),this.write(u.default.hello(S,C),I,!0),I},_.prototype.prepareToClose=function(){this.write(u.default.goodbye(),p,!0)},_.prototype.beginTransaction=function(E){var T=E===void 0?{}:E,w=T.bookmarks,S=T.txConfig,C=T.database,R=T.impersonatedUser,D=T.notificationFilter,M=T.mode,I=T.beforeError,k=T.afterError,U=T.beforeComplete,F=T.afterComplete,B=new l.ResultStreamObserver({server:this._server,beforeError:I,afterError:k,beforeComplete:U,afterComplete:F});return B.prepareToHandleSingleResponse(),(0,s.assertDatabaseIsEmpty)(C,this._onProtocolError,B),(0,s.assertImpersonatedUserIsEmpty)(R,this._onProtocolError,B),(0,s.assertNotificationFilterIsEmpty)(D,this._onProtocolError,B),this.write(u.default.begin({bookmarks:w,txConfig:S,mode:M}),B,!0),B},_.prototype.commitTransaction=function(E){var T=E===void 0?{}:E,w=T.beforeError,S=T.afterError,C=T.beforeComplete,R=T.afterComplete,D=new l.ResultStreamObserver({server:this._server,beforeError:w,afterError:S,beforeComplete:C,afterComplete:R});return D.prepareToHandleSingleResponse(),this.write(u.default.commit(),D,!0),D},_.prototype.rollbackTransaction=function(E){var T=E===void 0?{}:E,w=T.beforeError,S=T.afterError,C=T.beforeComplete,R=T.afterComplete,D=new l.ResultStreamObserver({server:this._server,beforeError:w,afterError:S,beforeComplete:C,afterComplete:R});return D.prepareToHandleSingleResponse(),this.write(u.default.rollback(),D,!0),D},_.prototype.run=function(E,T,w){var S=w===void 0?{}:w,C=S.bookmarks,R=S.txConfig,D=S.database,M=S.impersonatedUser,I=S.notificationFilter,k=S.mode,U=S.beforeKeys,F=S.afterKeys,B=S.beforeError,z=S.afterError,H=S.beforeComplete,Y=S.afterComplete,W=S.flush,Z=W===void 0||W,le=S.highRecordWatermark,ce=le===void 0?Number.MAX_VALUE:le,ue=S.lowRecordWatermark,de=ue===void 0?Number.MAX_VALUE:ue,he=new l.ResultStreamObserver({server:this._server,beforeKeys:U,afterKeys:F,beforeError:B,afterError:z,beforeComplete:H,afterComplete:Y,highRecordWatermark:ce,lowRecordWatermark:de});return(0,s.assertDatabaseIsEmpty)(D,this._onProtocolError,he),(0,s.assertImpersonatedUserIsEmpty)(M,this._onProtocolError,he),(0,s.assertNotificationFilterIsEmpty)(I,this._onProtocolError,he),this.write(u.default.runWithMetadata(E,T,{bookmarks:C,txConfig:R,mode:k}),he,!1),this.write(u.default.pullAll(),he,Z),he},_.prototype.requestRoutingInformation=function(E){var T,w=E.routingContext,S=w===void 0?{}:w,C=E.sessionContext,R=C===void 0?{}:C,D=E.onError,M=E.onCompleted,I=this.run(b,((T={})[y]=S,T),i(i({},R),{txConfig:v.empty()}));return new l.ProcedureRouteObserver({resultObserver:I,onProtocolError:this._onProtocolError,onError:D,onCompleted:M})},_}(o.default);e.default=m},5648:function(t,e,r){var n=this&&this.__extends||function(){var o=function(u,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},o(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}o(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScheduler=void 0;var i=r(8986),a=function(o){function u(s,l){l===void 0&&(l=i.Scheduler.now);var c=o.call(this,s,l)||this;return c.actions=[],c._active=!1,c}return n(u,o),u.prototype.flush=function(s){var l=this.actions;if(this._active)l.push(s);else{var c;this._active=!0;do if(c=s.execute(s.state,s.delay))break;while(s=l.shift());if(this._active=!1,c){for(;s=l.shift();)s.unsubscribe();throw c}}},u}(i.Scheduler);e.AsyncScheduler=a},5649:function(t,e){var r=this&&this.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var u,s,l=o.call(i),c=[];try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}return c},n=this&&this.__spreadArray||function(i,a){for(var o=0,u=a.length,s=i.length;o<u;o++,s++)i[s]=a[o];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(i,a){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,n([i,a],r(o))):setInterval.apply(void 0,n([i,a],r(o)))},clearInterval:function(i){var a=e.intervalProvider.delegate;return((a==null?void 0:a.clearInterval)||clearInterval)(i)},delegate:void 0}},5742:function(t,e,r){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(8813),a=n(r(3057)),o=(n(r(9305)),function(){function u(s){this._txc=s}return u.prototype.run=function(s,l){var c=this;return new a.default(new i.Observable(function(f){try{f.next(c._txc.run(s,l)),f.complete()}catch(h){f.error(h)}return function(){}}))},u.prototype.commit=function(){var s=this;return new i.Observable(function(l){s._txc.commit().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},u.prototype.rollback=function(){var s=this;return new i.Observable(function(l){s._txc.rollback().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},u.prototype.isOpen=function(){return this._txc.isOpen()},u.prototype.close=function(){var s=this;return new i.Observable(function(l){s._txc.close().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},u}());e.default=o},5788:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnsubscriptionError=void 0;var n=r(5568);e.UnsubscriptionError=n.createErrorClass(function(i){return function(a){i(this),this.message=a?a.length+` errors occurred during unsubscription:
`+a.map(function(o,u){return u+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=a}})},5815:function(t,e,r){var n=this&&this.__extends||function(){var b=function(p,m){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(g[E]=_[E])},b(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=p}b(p,m),p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(b){for(var p,m=1,g=arguments.length;m<g;m++)for(var _ in p=arguments[m])Object.prototype.hasOwnProperty.call(p,_)&&(b[_]=p[_]);return b},i.apply(this,arguments)},a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(9744)),u=a(r(9238)),s=a(r(3321)),l=a(r(7021)),c=r(9014),f=r(9305).internal.constants,h=f.BOLT_PROTOCOL_V5_5,d=f.FETCH_ALL,v=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),y=function(b){function p(){return b!==null&&b.apply(this,arguments)||this}return n(p,b),Object.defineProperty(p.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(g){return g(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),p.prototype.initialize=function(m){var g=this,_=m===void 0?{}:m,E=_.userAgent,T=_.boltAgent,w=_.authToken,S=_.notificationFilter,C=_.onError,R=_.onComplete,D={},M=new c.LoginObserver({onError:function(I){return g._onLoginError(I,C)},onCompleted:function(I){return D.metadata=I,g._onLoginCompleted(I)}});return this.write(l.default.hello5x5(E,T,S,this._serversideRouting),M,!1),this.logon({authToken:w,onComplete:function(I){return R(i(i({},I),D.metadata))},onError:C,flush:!0})},p.prototype.beginTransaction=function(m){var g=m===void 0?{}:m,_=g.bookmarks,E=g.txConfig,T=g.database,w=g.mode,S=g.impersonatedUser,C=g.notificationFilter,R=g.beforeError,D=g.afterError,M=g.beforeComplete,I=g.afterComplete,k=new c.ResultStreamObserver({server:this._server,beforeError:R,afterError:D,beforeComplete:M,afterComplete:I});return k.prepareToHandleSingleResponse(),this.write(l.default.begin5x5({bookmarks:_,txConfig:E,database:T,mode:w,impersonatedUser:S,notificationFilter:C}),k,!0),k},p.prototype.run=function(m,g,_){var E=_===void 0?{}:_,T=E.bookmarks,w=E.txConfig,S=E.database,C=E.mode,R=E.impersonatedUser,D=E.notificationFilter,M=E.beforeKeys,I=E.afterKeys,k=E.beforeError,U=E.afterError,F=E.beforeComplete,B=E.afterComplete,z=E.flush,H=z===void 0||z,Y=E.reactive,W=Y!==void 0&&Y,Z=E.fetchSize,le=Z===void 0?d:Z,ce=E.highRecordWatermark,ue=ce===void 0?Number.MAX_VALUE:ce,de=E.lowRecordWatermark,he=de===void 0?Number.MAX_VALUE:de,fe=new c.ResultStreamObserver({server:this._server,reactive:W,fetchSize:le,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:M,afterKeys:I,beforeError:k,afterError:U,beforeComplete:F,afterComplete:B,highRecordWatermark:ue,lowRecordWatermark:he,enrichMetadata:this._enrichMetadata}),te=W;return this.write(l.default.runWithMetadata5x5(m,g,{bookmarks:T,txConfig:w,database:S,mode:C,impersonatedUser:R,notificationFilter:D}),fe,te&&H),W||this.write(l.default.pull({n:le}),fe,H),fe},p.prototype._enrichMetadata=function(m){return Array.isArray(m.statuses)&&(m.statuses=m.statuses.map(function(g){return i(i({},g),{description:g.neo4j_code!=null?g.status_description:g.description,diagnostic_record:g.diagnostic_record!==null?i(i({},v),g.diagnostic_record):null})})),m},p}(o.default);e.default=y},5837:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromVersion=void 0,e.fromVersion=function(r,n){n===void 0&&(n=function(){return{get userAgent(){}}});var i=n(),a=i.userAgent!=null?i.userAgent.split("(")[1].split(")")[0]:void 0,o=i.userAgent||void 0;return{product:"neo4j-javascript/".concat(r),platform:a,languageDetails:o}}},5880:function(t,e,r){var n,i;n=function(){var a=function(){},o="undefined",u=typeof window!==o&&typeof window.navigator!==o&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],l={},c=null;function f(m,g){var _=m[g];if(typeof _.bind=="function")return _.bind(m);try{return Function.prototype.bind.call(_,m)}catch{return function(){return Function.prototype.apply.apply(_,[m,arguments])}}}function h(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(){for(var m=this.getLevel(),g=0;g<s.length;g++){var _=s[g];this[_]=g<m?a:this.methodFactory(_,m,this.name)}if(this.log=this.debug,typeof console===o&&m<this.levels.SILENT)return"No console available for logging"}function v(m){return function(){typeof console!==o&&(d.call(this),this[m].apply(this,arguments))}}function y(m,g,_){return function(E){return E==="debug"&&(E="log"),typeof console!==o&&(E==="trace"&&u?h:console[E]!==void 0?f(console,E):console.log!==void 0?f(console,"log"):a)}(m)||v.apply(this,arguments)}function b(m,g){var _,E,T,w=this,S="loglevel";function C(){var M;if(typeof window!==o&&S){try{M=window.localStorage[S]}catch{}if(typeof M===o)try{var I=window.document.cookie,k=encodeURIComponent(S),U=I.indexOf(k+"=");U!==-1&&(M=/^([^;]+)/.exec(I.slice(U+k.length+1))[1])}catch{}return w.levels[M]===void 0&&(M=void 0),M}}function R(M){var I=M;if(typeof I=="string"&&w.levels[I.toUpperCase()]!==void 0&&(I=w.levels[I.toUpperCase()]),typeof I=="number"&&I>=0&&I<=w.levels.SILENT)return I;throw new TypeError("log.setLevel() called with invalid level: "+M)}typeof m=="string"?S+=":"+m:typeof m=="symbol"&&(S=void 0),w.name=m,w.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},w.methodFactory=g||y,w.getLevel=function(){return T??E??_},w.setLevel=function(M,I){return T=R(M),I!==!1&&function(k){var U=(s[k]||"silent").toUpperCase();if(typeof window!==o&&S){try{return void(window.localStorage[S]=U)}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+U+";"}catch{}}}(T),d.call(w)},w.setDefaultLevel=function(M){E=R(M),C()||w.setLevel(M,!1)},w.resetLevel=function(){T=null,function(){if(typeof window!==o&&S){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),d.call(w)},w.enableAll=function(M){w.setLevel(w.levels.TRACE,M)},w.disableAll=function(M){w.setLevel(w.levels.SILENT,M)},w.rebuild=function(){if(c!==w&&(_=R(c.getLevel())),d.call(w),c===w)for(var M in l)l[M].rebuild()},_=R(c?c.getLevel():"WARN");var D=C();D!=null&&(T=R(D)),d.call(w)}(c=new b).getLogger=function(m){if(typeof m!="symbol"&&typeof m!="string"||m==="")throw new TypeError("You must supply a name when creating a logger.");var g=l[m];return g||(g=l[m]=new b(m,c.methodFactory)),g};var p=typeof window!==o?window.log:void 0;return c.noConflict=function(){return typeof window!==o&&window.log===c&&(window.log=p),c},c.getLoggers=function(){return l},c.default=c,c},(i=n.call(e,r,e,t))===void 0||(t.exports=i)},5909:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(i){var a=i.run;this._run=a}return n.fromTransaction=function(i){return new n({run:i.run.bind(i)})},n.prototype.run=function(i,a){return this._run(i,a)},n}();e.default=r},5918:function(t,e,r){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),d=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)d.push(c.value)}catch(v){f={error:v}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return d},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var a=r(7286),o=r(7843);e.zip=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return o.operate(function(l,c){a.zip.apply(void 0,i([l],n(u))).subscribe(c)})}},5973:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.epochSecondAndNanoToLocalDateTime=e.nanoOfDayToLocalTime=e.epochDayToDate=void 0;var n=r(9305),i=n.internal.temporalUtil,a=i.DAYS_0000_TO_1970,o=i.DAYS_PER_400_YEAR_CYCLE,u=i.NANOS_PER_HOUR,s=i.NANOS_PER_MINUTE,l=i.NANOS_PER_SECOND,c=i.SECONDS_PER_DAY,f=i.floorDiv,h=i.floorMod;function d(y){var b=(y=(0,n.int)(y)).add(a).subtract(60),p=(0,n.int)(0);if(b.lessThan(0)){var m=b.add(1).div(o).subtract(1);p=m.multiply(400),b=b.add(m.multiply(-o))}var g=b.multiply(400).add(591).div(o),_=b.subtract(g.multiply(365).add(g.div(4)).subtract(g.div(100)).add(g.div(400)));_.lessThan(0)&&(g=g.subtract(1),_=b.subtract(g.multiply(365).add(g.div(4)).subtract(g.div(100)).add(g.div(400)))),g=g.add(p);var E=_,T=E.multiply(5).add(2).div(153),w=T.add(2).modulo(12).add(1),S=E.subtract(T.multiply(306).add(5).div(10)).add(1);return g=g.add(T.div(10)),new n.Date(g,w,S)}function v(y){var b=(y=(0,n.int)(y)).div(u),p=(y=y.subtract(b.multiply(u))).div(s),m=(y=y.subtract(p.multiply(s))).div(l),g=y.subtract(m.multiply(l));return new n.LocalTime(b,p,m,g)}e.epochDayToDate=d,e.nanoOfDayToLocalTime=v,e.epochSecondAndNanoToLocalDateTime=function(y,b){var p=f(y,c),m=h(y,c).multiply(l).add(b),g=d(p),_=v(m);return new n.LocalDateTime(g.year,g.month,g.day,_.hour,_.minute,_.second,_.nanosecond)}},6013:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createObject=void 0,e.createObject=function(r,n){return r.reduce(function(i,a,o){return i[a]=n[o],i},{})}},6030:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cacheKey=void 0;var n=r(4027);e.cacheKey=function(i,a){var o;return a!=null?"basic:"+a:i===void 0?"DEFAULT":i.scheme==="basic"?"basic:"+((o=i.principal)!==null&&o!==void 0?o:""):i.scheme==="kerberos"?"kerberos:"+i.credentials:i.scheme==="bearer"?"bearer:"+i.credentials:i.scheme==="none"?"none":(0,n.stringify)(i,{sortedElements:!0})}},6033:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ServerInfo=e.queryType=void 0;var n=r(6995),i=r(1866),a=function(){function f(h,d,v,y){var b,p,m;this.query={text:h,parameters:d},this.queryType=v.type,this.counters=new s((b=v.stats)!==null&&b!==void 0?b:{}),this.updateStatistics=this.counters,this.plan=(v.plan!=null||v.profile!=null)&&new o((p=v.plan)!==null&&p!==void 0?p:v.profile),this.profile=v.profile!=null&&new u(v.profile),this.notifications=(0,i.buildNotificationsFromMetadata)(v),this.gqlStatusObjects=(0,i.buildGqlStatusObjectFromMetadata)(v),this.server=new l(v.server,y),this.resultConsumedAfter=v.result_consumed_after,this.resultAvailableAfter=v.result_available_after,this.database={name:(m=v.db)!==null&&m!==void 0?m:null}}return f.prototype.hasPlan=function(){return this.plan instanceof o},f.prototype.hasProfile=function(){return this.profile instanceof u},f}(),o=function f(h){this.operatorType=h.operatorType,this.identifiers=h.identifiers,this.arguments=h.args,this.children=h.children!=null?h.children.map(function(d){return new f(d)}):[]};e.Plan=o;var u=function(){function f(h){this.operatorType=h.operatorType,this.identifiers=h.identifiers,this.arguments=h.args,this.dbHits=c("dbHits",h),this.rows=c("rows",h),this.pageCacheMisses=c("pageCacheMisses",h),this.pageCacheHits=c("pageCacheHits",h),this.pageCacheHitRatio=c("pageCacheHitRatio",h),this.time=c("time",h),this.children=h.children!=null?h.children.map(function(d){return new f(d)}):[]}return f.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},f}();e.ProfiledPlan=u,e.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var s=function(){function f(h){var d=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(h).forEach(function(v){var y=v.replace(/(-\w)/g,function(b){return b[1].toUpperCase()});y in d._stats?d._stats[y]=n.util.toNumber(h[v]):y==="systemUpdates"?d._systemUpdates=n.util.toNumber(h[v]):y==="containsSystemUpdates"?d._containsSystemUpdates=h[v]:y==="containsUpdates"&&(d._containsUpdates=h[v])}),this._stats=Object.freeze(this._stats)}return f.prototype.containsUpdates=function(){var h=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(d,v){return d+h._stats[v]},0)>0},f.prototype.updates=function(){return this._stats},f.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},f.prototype.systemUpdates=function(){return this._systemUpdates},f}();e.QueryStatistics=s;var l=function(f,h){f!=null&&(this.address=f.address,this.agent=f.version),this.protocolVersion=h};function c(f,h,d){if(d===void 0&&(d=0),h!==!1&&f in h){var v=h[f];return n.util.toNumber(v)}return d}e.ServerInfo=l,e.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},e.default=a},6038:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},6086:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sampleTime=void 0;var n=r(7961),i=r(1731),a=r(6472);e.sampleTime=function(o,u){return u===void 0&&(u=n.asyncScheduler),i.sample(a.interval(o,u))}},6102:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=void 0;var n=r(4662),i=r(8535),a=r(3111),o=r(1342),u=r(9445);e.onErrorResumeNext=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=i.argsOrArgArray(s);return new n.Observable(function(f){var h=0,d=function(){if(h<c.length){var v=void 0;try{v=u.innerFrom(c[h++])}catch{return void d()}var y=new a.OperatorSubscriber(f,void 0,o.noop,o.noop);v.subscribe(y),y.add(d)}else f.complete()};d()})}},6106:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishLast=void 0;var n=r(95),i=r(8918);e.publishLast=function(){return function(a){var o=new n.AsyncSubject;return new i.ConnectableObservable(a,function(){return o})}}},6161:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(6248));e.default=n({},a.default)},6189:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(v){for(var y,b=1,p=arguments.length;b<p;b++)for(var m in y=arguments[b])Object.prototype.hasOwnProperty.call(y,m)&&(v[m]=y[m]);return v},n.apply(this,arguments)},i=this&&this.__awaiter||function(v,y,b,p){return new(b||(b=Promise))(function(m,g){function _(w){try{T(p.next(w))}catch(S){g(S)}}function E(w){try{T(p.throw(w))}catch(S){g(S)}}function T(w){var S;w.done?m(w.value):(S=w.value,S instanceof b?S:new b(function(C){C(S)})).then(_,E)}T((p=p.apply(v,y||[])).next())})},a=this&&this.__generator||function(v,y){var b,p,m,g,_={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(T){return function(w){return function(S){if(b)throw new TypeError("Generator is already executing.");for(;g&&(g=0,S[0]&&(_=0)),_;)try{if(b=1,p&&(m=2&S[0]?p.return:S[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,S[1])).done)return m;switch(p=0,m&&(S=[2&S[0],m.value]),S[0]){case 0:case 1:m=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,p=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(!((m=(m=_.trys).length>0&&m[m.length-1])||S[0]!==6&&S[0]!==2)){_=0;continue}if(S[0]===3&&(!m||S[1]>m[0]&&S[1]<m[3])){_.label=S[1];break}if(S[0]===6&&_.label<m[1]){_.label=m[1],m=S;break}if(m&&_.label<m[2]){_.label=m[2],_.ops.push(S);break}m[2]&&_.ops.pop(),_.trys.pop();continue}S=y.call(v,_)}catch(C){S=[6,C],p=0}finally{b=m=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([T,w])}}},o=this&&this.__read||function(v,y){var b=typeof Symbol=="function"&&v[Symbol.iterator];if(!b)return v;var p,m,g=b.call(v),_=[];try{for(;(y===void 0||y-- >0)&&!(p=g.next()).done;)_.push(p.value)}catch(E){m={error:E}}finally{try{p&&!p.done&&(b=g.return)&&b.call(g)}finally{if(m)throw m.error}}return _},u=this&&this.__spreadArray||function(v,y,b){if(b||arguments.length===2)for(var p,m=0,g=y.length;m<g;m++)!p&&m in y||(p||(p=Array.prototype.slice.call(y,0,m)),p[m]=y[m]);return v.concat(p||Array.prototype.slice.call(y))};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionExecutor=void 0;var s=r(9691),l=r(326);function c(v,y){for(var b=[],p=2;p<arguments.length;p++)b[p-2]=arguments[p];return setTimeout.apply(void 0,u([v,y],o(b),!1))}function f(v){return clearTimeout(v)}var h=function(){function v(y,b,p,m,g){g===void 0&&(g={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=d(y,3e4),this._initialRetryDelayMs=d(b,1e3),this._multiplier=d(p,2),this._jitterFactor=d(m,.2),this._setTimeout=g.setTimeout,this._clearTimeout=g.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return v.prototype.execute=function(y,b,p){var m=this,g={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){g.apiTransactionConfig=void 0}}};return new Promise(function(_,E){m._executeTransactionInsidePromise(y,b,_,E,p,g).catch(E)}).catch(function(_){var E=Date.now(),T=m._initialRetryDelayMs;return m._retryTransactionPromise(y,b,_,E,T,p,g)})},v.prototype.close=function(){var y=this;this._inFlightTimeoutIds.forEach(function(b){return y._clearTimeout(b)}),this._inFlightTimeoutIds=[]},v.prototype._retryTransactionPromise=function(y,b,p,m,g,_,E){var T=this;return Date.now()-m>this._maxRetryTimeMs||!(0,s.isRetriableError)(p)?Promise.reject(p):new Promise(function(w,S){var C=T._computeDelayWithJitter(g),R=T._setTimeout(function(){T._inFlightTimeoutIds=T._inFlightTimeoutIds.filter(function(D){return D!==R}),T._executeTransactionInsidePromise(y,b,w,S,_,E).catch(S)},C);T._inFlightTimeoutIds.push(R)}).catch(function(w){var S=g*T._multiplier;return T._retryTransactionPromise(y,b,w,m,S,_,E)})},v.prototype._executeTransactionInsidePromise=function(y,b,p,m,g,_){return i(this,void 0,void 0,function(){var E,T,w,S,C,R,D=this;return a(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),T=y((_==null?void 0:_.apiTransactionConfig)!=null?n({},_==null?void 0:_.apiTransactionConfig):void 0),this.pipelineBegin?(w=T,[3,3]):[3,1];case 1:return[4,T];case 2:w=M.sent(),M.label=3;case 3:return E=w,[3,5];case 4:return S=M.sent(),m(S),[2];case 5:return C=g??function(I){return I},R=C(E),this._safeExecuteTransactionWork(R,b).then(function(I){return D._handleTransactionWorkSuccess(I,E,p,m)}).catch(function(I){return D._handleTransactionWorkFailure(I,E,m)}),[2]}})})},v.prototype._safeExecuteTransactionWork=function(y,b){try{var p=b(y);return Promise.resolve(p)}catch(m){return Promise.reject(m)}},v.prototype._handleTransactionWorkSuccess=function(y,b,p,m){b.isOpen()?b.commit().then(function(){p(y)}).catch(function(g){m(g)}):p(y)},v.prototype._handleTransactionWorkFailure=function(y,b,p){b.isOpen()?b.rollback().catch(function(m){}).then(function(){return p(y)}).catch(p):p(y)},v.prototype._computeDelayWithJitter=function(y){var b=y*this._jitterFactor,p=y-b,m=y+b;return Math.random()*(m-p)+p},v.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,s.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,s.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,s.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,s.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},v}();function d(v,y){return v??y}e.TransactionExecutor=h},6245:function(t,e,r){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(r(5319)),a=r(9305),o=a.internal.util,u=o.ENCRYPTION_OFF,s=o.ENCRYPTION_ON,l=function(){function f(h,d,v){d===void 0&&(d=c),v===void 0&&(v=function(_){return new WebSocket(_)});var y=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=h,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var b=function(_,E){var T=function(R){return R.encrypted===!0||R.encrypted===s}(_),w=function(R){return R.encrypted===!1||R.encrypted===u}(_),S=_.trust,C=function(R){var D=typeof R=="function"?R():"";return D&&D.toLowerCase().indexOf("https")>=0}(E);return function(R,D,M){M===null||(R&&!M?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):D&&M&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(T,w,C),w?{scheme:"ws",error:null}:C?{scheme:"wss",error:null}:T?S&&S!=="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"?{scheme:null,error:(0,a.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+S+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(h,d),p=b.scheme,m=b.error;if(m)this._error=m;else{this._ws=function(_,E,T){var w=_+"://"+E.asHostPort();try{return T(w)}catch(C){if(function(R,D){return R.name==="SyntaxError"&&(M=D.asHostPort()).charAt(0)==="["&&M.indexOf("]")!==-1;var M}(C,E)){var S=function(R,D){var M=D.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(R,"://").concat(M,":").concat(D.port())}(_,E);return T(S)}throw C}}(p,h.address,v),this._ws.binaryType="arraybuffer";var g=this;this._ws.onclose=function(_){_&&!_.wasClean&&g._handleConnectionError(),g._open=!1},this._ws.onopen=function(){g._clearConnectionTimeout();var _=g._pending;g._pending=null;for(var E=0;E<_.length;E++)g.write(_[E])},this._ws.onmessage=function(_){if(y._resetTimeout(),g.onmessage){var E=new i.default(_.data);g.onmessage(E)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return f.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,a.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,a.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},f.prototype.write=function(h){if(this._pending!==null)this._pending.push(h);else{if(!(h instanceof i.default))throw(0,a.newError)("Don't know how to send buffer: "+h);try{this._ws.send(h._buffer)}catch(d){if(this._ws.readyState===1)throw d;this._handleConnectionError()}}},f.prototype.close=function(){var h=this;return this._closingPromise===null&&(this._closingPromise=new Promise(function(d,v){h._clearConnectionTimeout(),h._ws&&h._ws.readyState!==3?(h._open=!1,h.stopReceiveTimeout(),h._ws.onclose=function(){d()},h._ws.close()):d()})),this._closingPromise},f.prototype.setupReceiveTimeout=function(h){this._receiveTimeout=h},f.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},f.prototype.startReceiveTimeout=function(){this._open&&this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},f.prototype._resetTimeout=function(){var h=this;this._receiveTimeoutStarted&&(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){h._receiveTimeoutId=null,h._timedout=!0,h.stopReceiveTimeout(),h._error=(0,a.newError)("Connection lost. Server didn't respond in ".concat(h._receiveTimeout,"ms"),h._config.connectionErrorCode),h.close(),h.onerror&&h.onerror(h._error)},this._receiveTimeout))},f.prototype._setupConnectionTimeout=function(){var h=this,d=this._config.connectionTimeout;if(d){var v=this._ws;return setTimeout(function(){v.readyState!==1&&(h._connectionTimeoutFired=!0,v.close())},d)}return null},f.prototype._clearConnectionTimeout=function(){var h=this._connectionTimeoutId;(h||h===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(h))},f}();function c(){return typeof window<"u"&&window.location?window.location.protocol:null}e.default=l},6248:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(3399));e.default=n({},a.default)},6293:function(t,e,r){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,d=c.call(s),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v},i=this&&this.__spreadArray||function(s,l){for(var c=0,f=l.length,h=s.length;c<f;c++,h++)s[h]=l[c];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var a=r(7245),o=a.Immediate.setImmediate,u=a.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=e.immediateProvider.delegate;return((c==null?void 0:c.setImmediate)||o).apply(void 0,i([],n(s)))},clearImmediate:function(s){var l=e.immediateProvider.delegate;return((l==null?void 0:l.clearImmediate)||u)(s)},delegate:void 0}},6345:function(t,e,r){var n=this&&this.__extends||function(){var v=function(y,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},v(y,b)};return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function p(){this.constructor=y}v(y,b),y.prototype=b===null?Object.create(b):(p.prototype=b.prototype,new p)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(v){for(var y,b=1,p=arguments.length;b<p;b++)for(var m in y=arguments[b])Object.prototype.hasOwnProperty.call(y,m)&&(v[m]=y[m]);return v},i.apply(this,arguments)},a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(844)),u=r(397),s=a(r(9994)),l=a(r(3321)),c=a(r(7021)),f=r(9014),h=r(9305).internal.constants.BOLT_PROTOCOL_V5_1,d=function(v){function y(){return v!==null&&v.apply(this,arguments)||this}return n(y,v),Object.defineProperty(y.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(s.default).map(function(p){return p(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.initialize=function(b){var p=this,m=b===void 0?{}:b,g=m.userAgent,_=(m.boltAgent,m.authToken),E=m.notificationFilter,T=m.onError,w=m.onComplete,S={},C=new f.LoginObserver({onError:function(R){return p._onLoginError(R,T)},onCompleted:function(R){return S.metadata=R,p._onLoginCompleted(R)}});return(0,u.assertNotificationFilterIsEmpty)(E,this._onProtocolError,C),this.write(c.default.hello5x1(g,this._serversideRouting),C,!1),this.logon({authToken:_,onComplete:function(R){return w(i(i({},R),S.metadata))},onError:T,flush:!0})},y.prototype.logon=function(b){var p=this,m=b===void 0?{}:b,g=m.authToken,_=m.onComplete,E=m.onError,T=m.flush,w=new f.LoginObserver({onCompleted:function(){return p._onLoginCompleted(null,g,_)},onError:function(S){return p._onLoginError(S,E)}});return this.write(c.default.logon(g),w,T),w},y.prototype.logoff=function(b){var p=b===void 0?{}:b,m=p.onComplete,g=p.onError,_=p.flush,E=new f.LogoffObserver({onCompleted:m,onError:g});return this.write(c.default.logoff(),E,_),E},y}(o.default);e.default=d},6368:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isIterable=void 0;var n=r(1964),i=r(1018);e.isIterable=function(a){return i.isFunction(a==null?void 0:a[n.iterator])}},6377:function(t,e,r){var n=this&&this.__extends||function(){var h=function(d,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},h(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}h(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(h){for(var d,v=1,y=arguments.length;v<y;v++)for(var b in d=arguments[v])Object.prototype.hasOwnProperty.call(d,b)&&(h[b]=d[b]);return h},i.apply(this,arguments)},a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(6890)),u=a(r(6248)),s=a(r(3321)),l=r(9305).internal.constants.BOLT_PROTOCOL_V5_7,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return n(d,h),Object.defineProperty(d.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(y){return y(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),d.prototype.enrichErrorMetadata=function(v){return i(i({},v),{cause:v.cause!==null&&v.cause!==void 0?this.enrichErrorMetadata(v.cause):null,code:v.neo4j_code,diagnostic_record:v.diagnostic_record!==null?i(i({},c),v.diagnostic_record):null})},d}(o.default);e.default=f},6384:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scanInternals=void 0;var n=r(3111);e.scanInternals=function(i,a,o,u,s){return function(l,c){var f=o,h=a,d=0;l.subscribe(n.createOperatorSubscriber(c,function(v){var y=d++;h=f?i(h,v,y):(f=!0,v),u&&c.next(h)},s&&function(){f&&c.next(h),c.complete()}))}}},6385:function(t,e,r){var n=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),r(7666);var i=function(a){function o(u){var s=a.call(this)||this;return s._errorHandler=u,s}return n(o,a),Object.defineProperty(o.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),o.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(o.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),o.prototype.connect=function(u,s,l,c){throw new Error("not implemented")},o.prototype.write=function(u,s,l){throw new Error("not implemented")},o.prototype.close=function(){throw new Error("not implemented")},o.prototype.handleAndTransformError=function(u,s){return this._errorHandler?this._errorHandler.handleAndTransformError(u,s,this):u},o}(r(9305).Connection);e.default=i},6445:function(t,e,r){var n=this&&this.__extends||function(){var f=function(h,d){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(v[b]=y[b])},f(h,d)};return function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function v(){this.constructor=h}f(h,d),h.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),i=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(4596)),o=r(9305),u=i(r(5348)),s=i(r(3321)),l=o.internal.constants.BOLT_PROTOCOL_V4_2,c=function(f){function h(){return f!==null&&f.apply(this,arguments)||this}return n(h,f),Object.defineProperty(h.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(v){return v(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),h}(a.default);e.default=c},6472:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;var n=r(7961),i=r(4092);e.interval=function(a,o){return a===void 0&&(a=0),o===void 0&&(o=n.asyncScheduler),a<0&&(a=0),i.timer(a,a,o)}},6492:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reuseOngoingRequest=e.identity=void 0;var n=r(9305);e.identity=function(i){return i},e.reuseOngoingRequest=function(i,a){a===void 0&&(a=null);var o=new Map;return function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];var l=n.json.stringify(u);if(o.has(l))return o.get(l);var c=i.apply(a,u);return o.set(l,c),c.finally(function(){o.delete(l)})}}},6505:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timestamp=void 0;var n=r(9568),i=r(5471);e.timestamp=function(a){return a===void 0&&(a=n.dateTimestampProvider),i.map(function(o){return{value:o,timestamp:a.now()}})}},6544:function(t,e,r){var n=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(9305),a=n(r(8320)),o=n(r(2857)),u=n(r(5642)),s=n(r(2539)),l=n(r(4596)),c=n(r(6445)),f=n(r(9054)),h=n(r(1711)),d=n(r(844)),v=n(r(6345)),y=n(r(934)),b=n(r(9125)),p=n(r(9744)),m=n(r(5815)),g=n(r(6890)),_=n(r(6377)),E=n(r(1092)),T=(r(7452),n(r(2578)));e.default=function(w){var S=w===void 0?{}:w,C=S.version,R=S.chunker,D=S.dechunker,M=S.channel,I=S.disableLosslessIntegers,k=S.useBigInt,U=S.serversideRouting,F=S.server,B=S.log,z=S.observer;return function(H,Y,W,Z,le,ce,ue,de){switch(H){case 1:return new a.default(Y,W,Z,ce,de,ue);case 2:return new o.default(Y,W,Z,ce,de,ue);case 3:return new u.default(Y,W,Z,ce,de,ue);case 4:return new s.default(Y,W,Z,ce,de,ue);case 4.1:return new l.default(Y,W,Z,ce,de,ue,le);case 4.2:return new c.default(Y,W,Z,ce,de,ue,le);case 4.3:return new f.default(Y,W,Z,ce,de,ue,le);case 4.4:return new h.default(Y,W,Z,ce,de,ue,le);case 5:return new d.default(Y,W,Z,ce,de,ue,le);case 5.1:return new v.default(Y,W,Z,ce,de,ue,le);case 5.2:return new y.default(Y,W,Z,ce,de,ue,le);case 5.3:return new b.default(Y,W,Z,ce,de,ue,le);case 5.4:return new p.default(Y,W,Z,ce,de,ue,le);case 5.5:return new m.default(Y,W,Z,ce,de,ue,le);case 5.6:return new g.default(Y,W,Z,ce,de,ue,le);case 5.7:return new _.default(Y,W,Z,ce,de,ue,le);case 5.8:return new E.default(Y,W,Z,ce,de,ue,le);default:throw(0,i.newError)("Unknown Bolt protocol version: "+H)}}(C,F,R,{disableLosslessIntegers:I,useBigInt:k},U,function(H){var Y=new T.default({transformMetadata:H.transformMetadata.bind(H),enrichErrorMetadata:H.enrichErrorMetadata.bind(H),log:B,observer:z});return M.onerror=z.onError.bind(z),M.onmessage=function(W){return D.write(W)},D.onmessage=function(W){try{Y.handleResponse(H.unpack(W))}catch(Z){return z.onError(Z)}},Y},z.onProtocolError.bind(z),B)}},6566:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeatWhen=void 0;var n=r(9445),i=r(2483),a=r(7843),o=r(3111);e.repeatWhen=function(u){return a.operate(function(s,l){var c,f,h=!1,d=!1,v=!1,y=function(){return v&&d&&(l.complete(),!0)},b=function(){v=!1,c=s.subscribe(o.createOperatorSubscriber(l,void 0,function(){v=!0,!y()&&(f||(f=new i.Subject,n.innerFrom(u(f)).subscribe(o.createOperatorSubscriber(l,function(){c?b():h=!0},function(){d=!0,y()}))),f).next()})),h&&(c.unsubscribe(),c=null,h=!1,b())};b()})}},6586:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMapTo=void 0;var n=r(983),i=r(1018);e.mergeMapTo=function(a,o,u){return u===void 0&&(u=1/0),i.isFunction(o)?n.mergeMap(function(){return a},o,u):(typeof o=="number"&&(u=o),n.mergeMap(function(){return a},u))}},6587:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(h,d,v,y){y===void 0&&(y=v);var b=Object.getOwnPropertyDescriptor(d,v);b&&!("get"in b?!d.__esModule:b.writable||b.configurable)||(b={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(h,y,b)}:function(h,d,v,y){y===void 0&&(y=v),h[y]=d[v]}),i=this&&this.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),a=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&n(d,h,v);return i(d,h),d},o=this&&this.__values||function(h){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&h[d],y=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ENCRYPTION_OFF=e.ENCRYPTION_ON=e.equals=e.validateQueryAndParameters=e.toNumber=e.assertValidDate=e.assertNumberOrInteger=e.assertNumber=e.assertString=e.assertObject=e.isString=e.isObject=e.isEmptyObjectOrNull=void 0;var u=a(r(3371)),s=r(4027);function l(h){return typeof h=="object"&&!Array.isArray(h)&&h!==null}function c(h,d){if(!f(h))throw new TypeError((0,s.stringify)(d)+" expected to be string but was: "+(0,s.stringify)(h));return h}function f(h){return Object.prototype.toString.call(h)==="[object String]"}e.ENCRYPTION_ON="ENCRYPTION_ON",e.ENCRYPTION_OFF="ENCRYPTION_OFF",e.isEmptyObjectOrNull=function(h){if(h===null)return!0;if(!l(h))return!1;for(var d in h)if(h[d]!==void 0)return!1;return!0},e.isObject=l,e.validateQueryAndParameters=function(h,d,v){var y,b,p="",m=d??{},g=(y=v==null?void 0:v.skipAsserts)!==null&&y!==void 0&&y;return typeof h=="string"?p=h:h instanceof String?p=h.toString():typeof h=="object"&&h.text!=null&&(p=h.text,m=(b=h.parameters)!==null&&b!==void 0?b:{}),g||(function(_){if(c(_,"Cypher query"),_.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}(p),function(_){if(!l(_)){var E=_.constructor!=null?" "+_.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(E," ").concat(JSON.stringify(_)))}}(m)),{validatedQuery:p,params:m}},e.assertObject=function(h,d){if(!l(h))throw new TypeError(d+" expected to be an object but was: "+(0,s.stringify)(h));return h},e.assertString=c,e.assertNumber=function(h,d){if(typeof h!="number")throw new TypeError(d+" expected to be a number but was: "+(0,s.stringify)(h));return h},e.assertNumberOrInteger=function(h,d){if(typeof h!="number"&&typeof h!="bigint"&&!(0,u.isInt)(h))throw new TypeError(d+" expected to be either a number or an Integer object but was: "+(0,s.stringify)(h));return h},e.assertValidDate=function(h,d){if(Object.prototype.toString.call(h)!=="[object Date]")throw new TypeError(d+" expected to be a standard JavaScript Date but was: "+(0,s.stringify)(h));if(Number.isNaN(h.getTime()))throw new TypeError(d+" expected to be valid JavaScript Date but its time was NaN: "+(0,s.stringify)(h));return h},e.isString=f,e.equals=function h(d,v){var y,b;if(d===v)return!0;if(d===null||v===null)return!1;if(typeof d=="object"&&typeof v=="object"){var p=Object.keys(d),m=Object.keys(v);if(p.length!==m.length)return!1;try{for(var g=o(p),_=g.next();!_.done;_=g.next()){var E=_.value;if(!h(d[E],v[E]))return!1}}catch(T){y={error:T}}finally{try{_&&!_.done&&(b=g.return)&&b.call(g)}finally{if(y)throw y.error}}return!0}return!1},e.toNumber=function(h){return h instanceof u.default?h.toNumber():typeof h=="bigint"?(0,u.int)(h).toNumber():h}},6625:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineAll=void 0;var n=r(6728);e.combineAll=n.combineLatestAll},6637:function(t,e,r){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&f[h],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowToggle=void 0;var i=r(2483),a=r(8014),o=r(7843),u=r(9445),s=r(3111),l=r(1342),c=r(7479);e.windowToggle=function(f,h){return o.operate(function(d,v){var y=[],b=function(p){for(;0<y.length;)y.shift().error(p);v.error(p)};u.innerFrom(f).subscribe(s.createOperatorSubscriber(v,function(p){var m=new i.Subject;y.push(m);var g,_=new a.Subscription;try{g=u.innerFrom(h(p))}catch(E){return void b(E)}v.next(m.asObservable()),_.add(g.subscribe(s.createOperatorSubscriber(v,function(){c.arrRemove(y,m),m.complete(),_.unsubscribe()},l.noop,b)))},l.noop)),d.subscribe(s.createOperatorSubscriber(v,function(p){var m,g,_=y.slice();try{for(var E=n(_),T=E.next();!T.done;T=E.next())T.value.next(p)}catch(w){m={error:w}}finally{try{T&&!T.done&&(g=E.return)&&g.call(E)}finally{if(m)throw m.error}}},function(){for(;0<y.length;)y.shift().complete();v.complete()},b,function(){for(;0<y.length;)y.shift().unsubscribe()}))})}},6640:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.identity=void 0,e.identity=function(r){return r}},6661:function(t,e,r){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,d=c.call(s),v=[];try{for(;(l===void 0||l-- >0)&&!(f=d.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(h)throw h.error}}return v};Object.defineProperty(e,"__esModule",{value:!0});var i=r(9305),a=r(7168),o=r(3321),u=i.error.PROTOCOL_ERROR;e.default={createNodeTransformer:function(){return new o.TypeTransformer({signature:78,isTypeInstance:function(s){return s instanceof i.Node},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(s),u)},fromStructure:function(s){a.structure.verifyStructSize("Node",3,s.size);var l=n(s.fields,3),c=l[0],f=l[1],h=l[2];return new i.Node(c,f,h)}})},createRelationshipTransformer:function(){return new o.TypeTransformer({signature:82,isTypeInstance:function(s){return s instanceof i.Relationship},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(s),u)},fromStructure:function(s){a.structure.verifyStructSize("Relationship",5,s.size);var l=n(s.fields,5),c=l[0],f=l[1],h=l[2],d=l[3],v=l[4];return new i.Relationship(c,f,h,d,v)}})},createUnboundRelationshipTransformer:function(){return new o.TypeTransformer({signature:114,isTypeInstance:function(s){return s instanceof i.UnboundRelationship},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(s),u)},fromStructure:function(s){a.structure.verifyStructSize("UnboundRelationship",3,s.size);var l=n(s.fields,3),c=l[0],f=l[1],h=l[2];return new i.UnboundRelationship(c,f,h)}})},createPathTransformer:function(){return new o.TypeTransformer({signature:80,isTypeInstance:function(s){return s instanceof i.Path},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass paths in query parameters, given: ".concat(s),u)},fromStructure:function(s){a.structure.verifyStructSize("Path",3,s.size);for(var l=n(s.fields,3),c=l[0],f=l[1],h=l[2],d=[],v=c[0],y=0;y<h.length;y+=2){var b=c[h[y+1]],p=(0,i.toNumber)(h[y]),m=void 0;p>0?(m=f[p-1])instanceof i.UnboundRelationship&&(f[p-1]=m=m.bindTo(v,b)):(m=f[-p-1])instanceof i.UnboundRelationship&&(f[-p-1]=m=m.bindTo(b,v)),d.push(new i.PathSegment(v,m,b)),v=b}return new i.Path(c[0],c[c.length-1],d)}})}}},6672:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(u,s,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(s,l);f&&!("get"in f?!s.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(u,c,f)}:function(u,s,l,c){c===void 0&&(c=l),u[c]=s[l]}),i=this&&this.__setModuleDefault||(Object.create?function(u,s){Object.defineProperty(u,"default",{enumerable:!0,value:s})}:function(u,s){u.default=s}),a=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var s={};if(u!=null)for(var l in u)l!=="default"&&Object.prototype.hasOwnProperty.call(u,l)&&n(s,u,l);return i(s,u),s},o=this&&this.__exportStar||function(u,s){for(var l in u)l==="default"||Object.prototype.hasOwnProperty.call(s,l)||n(s,u,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=a(r(4455)),e.bolt=a(r(7666)),e.buf=a(r(7174)),e.channel=a(r(7452)),e.packstream=a(r(7168)),o(r(9689),e)},6702:function(t,e){var r=this&&this.__values||function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.equals=void 0,e.equals=function(n,i){var a,o;if(n===i)return!0;if(n===null||i===null)return!1;if(typeof n=="object"&&typeof i=="object"){var u=Object.keys(n),s=Object.keys(i);if(u.length!==s.length)return!1;try{for(var l=r(u),c=l.next();!c.done;c=l.next()){var f=c.value;if(n[f]!==i[f])return!1}}catch(h){a={error:h}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return!0}return!1}},6728:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestAll=void 0;var n=r(3247),i=r(3638);e.combineLatestAll=function(a){return i.joinAllInternals(n.combineLatest,a)}},6746:function(t,e,r){var n=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&u[s],c=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowCount=void 0;var i=r(2483),a=r(7843),o=r(3111);e.windowCount=function(u,s){s===void 0&&(s=0);var l=s>0?s:u;return a.operate(function(c,f){var h=[new i.Subject],d=0;f.next(h[0].asObservable()),c.subscribe(o.createOperatorSubscriber(f,function(v){var y,b;try{for(var p=n(h),m=p.next();!m.done;m=p.next())m.value.next(v)}catch(E){y={error:E}}finally{try{m&&!m.done&&(b=p.return)&&b.call(p)}finally{if(y)throw y.error}}var g=d-u+1;if(g>=0&&g%l===0&&h.shift().complete(),++d%l===0){var _=new i.Subject;h.push(_),f.next(_.asObservable())}},function(){for(;h.length>0;)h.shift().complete();f.complete()},function(v){for(;h.length>0;)h.shift().error(v);f.error(v)},function(){h=null}))})}},6755:function(t,e){var r=this&&this.__awaiter||function(l,c,f,h){return new(f||(f=Promise))(function(d,v){function y(m){try{p(h.next(m))}catch(g){v(g)}}function b(m){try{p(h.throw(m))}catch(g){v(g)}}function p(m){var g;m.done?d(m.value):(g=m.value,g instanceof f?g:new f(function(_){_(g)})).then(y,b)}p((h=h.apply(l,c||[])).next())})},n=this&&this.__generator||function(l,c){var f,h,d,v,y={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return v={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function b(p){return function(m){return function(g){if(f)throw new TypeError("Generator is already executing.");for(;v&&(v=0,g[0]&&(y=0)),y;)try{if(f=1,h&&(d=2&g[0]?h.return:g[0]?h.throw||((d=h.return)&&d.call(h),0):h.next)&&!(d=d.call(h,g[1])).done)return d;switch(h=0,d&&(g=[2&g[0],d.value]),g[0]){case 0:case 1:d=g;break;case 4:return y.label++,{value:g[1],done:!1};case 5:y.label++,h=g[1],g=[0];continue;case 7:g=y.ops.pop(),y.trys.pop();continue;default:if(!((d=(d=y.trys).length>0&&d[d.length-1])||g[0]!==6&&g[0]!==2)){y=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){y.label=g[1];break}if(g[0]===6&&y.label<d[1]){y.label=d[1],d=g;break}if(d&&y.label<d[2]){y.label=d[2],y.ops.push(g);break}d[2]&&y.ops.pop(),y.trys.pop();continue}g=c.call(l,y)}catch(_){g=[6,_],h=0}finally{f=d=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([p,m])}}},i=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,f=c&&l[c],h=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,d,v=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=v.next()).done;)y.push(h.value)}catch(b){d={error:b}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(d)throw d.error}}return y},o=this&&this.__spreadArray||function(l,c,f){if(f||arguments.length===2)for(var h,d=0,v=c.length;d<v;d++)!h&&d in c||(h||(h=Array.prototype.slice.call(c,0,d)),h[d]=c[d]);return l.concat(h||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.bookmarkManager=void 0;var u=function(){function l(){throw new Error("Not implemented")}return l.prototype.updateBookmarks=function(c,f){return r(this,void 0,void 0,function(){return n(this,function(h){throw new Error("Not implemented")})})},l.prototype.getBookmarks=function(){return r(this,void 0,void 0,function(){return n(this,function(c){throw new Error("Not implemented")})})},l}();e.default=u,e.bookmarkManager=function(l){l===void 0&&(l={});var c=new Set(l.initialBookmarks);return new s(c,l.bookmarksSupplier,l.bookmarksConsumer)};var s=function(){function l(c,f,h){this._bookmarks=c,this._bookmarksSupplier=f,this._bookmarksConsumer=h}return l.prototype.updateBookmarks=function(c,f){return r(this,void 0,void 0,function(){var h,d,v,y,b,p,m,g,_,E;return n(this,function(T){switch(T.label){case 0:h=this._bookmarks;try{for(d=i(c),v=d.next();!v.done;v=d.next())p=v.value,h.delete(p)}catch(w){m={error:w}}finally{try{v&&!v.done&&(g=d.return)&&g.call(d)}finally{if(m)throw m.error}}try{for(y=i(f),b=y.next();!b.done;b=y.next())p=b.value,h.add(p)}catch(w){_={error:w}}finally{try{b&&!b.done&&(E=y.return)&&E.call(y)}finally{if(_)throw _.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(o([],a(h),!1))];case 1:T.sent(),T.label=2;case 2:return[2]}})})},l.prototype.getBookmarks=function(){var c;return r(this,void 0,void 0,function(){var f,h,d,v,y,b,p;return n(this,function(m){switch(m.label){case 0:return f=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:h=(c=m.sent())!==null&&c!==void 0?c:[];try{for(d=i(h),v=d.next();!v.done;v=d.next())y=v.value,f.add(y)}catch(g){b={error:g}}finally{try{v&&!v.done&&(p=d.return)&&p.call(d)}finally{if(b)throw b.error}}m.label=2;case 2:return[2,o([],a(f),!1)]}})})},l}()},6781:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(o,u,s,l){l===void 0&&(l=s);var c=Object.getOwnPropertyDescriptor(u,s);c&&!("get"in c?!u.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(o,l,c)}:function(o,u,s,l){l===void 0&&(l=s),o[l]=u[s]}),i=this&&this.__setModuleDefault||(Object.create?function(o,u){Object.defineProperty(o,"default",{enumerable:!0,value:u})}:function(o,u){o.default=u}),a=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var u={};if(o!=null)for(var s in o)s!=="default"&&Object.prototype.hasOwnProperty.call(o,s)&&n(u,o,s);return i(u,o),u};Object.defineProperty(e,"__esModule",{value:!0}),e.object=e.functional=void 0,e.functional=a(r(6492)),e.object=a(r(6702))},6804:t=>{t.exports=function(i,a){Array.isArray(a)||(a=[a]);var o=function(l){for(var c=-1,f=0;f<l.length;f++){var h=l[f];if(h.type==="preprocessor")/^#(extension|version)/.test(h.data)&&(c=Math.max(c,f));else if(h.type==="keyword"&&h.data==="precision"){var d=n(l,f);if(d===-1)throw new Error("precision statement not followed by any semicolons!");c=Math.max(c,d)}}return c+1}(i),u=o>0?i[o-1]:null;u&&r.test(u.data)&&i.splice(o++,0,e),i.splice.apply(i,[o,0].concat(a));var s=o+a.length;return i[s]&&/[^\r\n]$/.test(i[s].data)&&i.splice(s,0,e),i};var e={data:`
`,type:"whitespace"},r=/[^\r\n]$/;function n(i,a){for(var o=a;o<i.length;o++)if(i[o].type==="operator"&&i[o].data===";")return o;return-1}},6824:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromSubscribable=void 0;var n=r(4662);e.fromSubscribable=function(i){return new n.Observable(function(a){return i.subscribe(a)})}},6842:function(t,e,r){var n=this&&this.__awaiter||function(v,y,b,p){return new(b||(b=Promise))(function(m,g){function _(w){try{T(p.next(w))}catch(S){g(S)}}function E(w){try{T(p.throw(w))}catch(S){g(S)}}function T(w){var S;w.done?m(w.value):(S=w.value,S instanceof b?S:new b(function(C){C(S)})).then(_,E)}T((p=p.apply(v,y||[])).next())})},i=this&&this.__generator||function(v,y){var b,p,m,g,_={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return g={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function E(T){return function(w){return function(S){if(b)throw new TypeError("Generator is already executing.");for(;g&&(g=0,S[0]&&(_=0)),_;)try{if(b=1,p&&(m=2&S[0]?p.return:S[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,S[1])).done)return m;switch(p=0,m&&(S=[2&S[0],m.value]),S[0]){case 0:case 1:m=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,p=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(!((m=(m=_.trys).length>0&&m[m.length-1])||S[0]!==6&&S[0]!==2)){_=0;continue}if(S[0]===3&&(!m||S[1]>m[0]&&S[1]<m[3])){_.label=S[1];break}if(S[0]===6&&_.label<m[1]){_.label=m[1],m=S;break}if(m&&_.label<m[2]){_.label=m[2],_.ops.push(S);break}m[2]&&_.ops.pop(),_.trys.pop();continue}S=y.call(v,_)}catch(C){S=[6,C],p=0}finally{b=m=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([T,w])}}},a=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(7589)),u=r(9691),s=r(4883),l=function(){function v(y){var b=y.create,p=b===void 0?function(B,z,H){return n(F,void 0,void 0,function(){return i(this,function(Y){switch(Y.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,Y.sent()]}})})}:b,m=y.destroy,g=m===void 0?function(B){return n(F,void 0,void 0,function(){return i(this,function(z){switch(z.label){case 0:return[4,Promise.resolve()];case 1:return[2,z.sent()]}})})}:m,_=y.validateOnAcquire,E=_===void 0?function(B,z){return!0}:_,T=y.validateOnRelease,w=T===void 0?function(B){return!0}:T,S=y.installIdleObserver,C=S===void 0?function(B,z){}:S,R=y.removeIdleObserver,D=R===void 0?function(B){}:R,M=y.config,I=M===void 0?o.default.defaultConfig():M,k=y.log,U=k===void 0?s.Logger.noOp():k,F=this;this._create=p,this._destroy=g,this._validateOnAcquire=E,this._validateOnRelease=w,this._installIdleObserver=C,this._removeIdleObserver=D,this._maxSize=I.maxSize,this._acquisitionTimeout=I.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=U,this._closed=!1}return v.prototype.acquire=function(y,b,p){return n(this,void 0,void 0,function(){var m,g,_=this;return i(this,function(E){switch(E.label){case 0:return m=b.asKey(),(g=this._acquireRequests)[m]==null&&(g[m]=[]),[4,new Promise(function(T,w){var S=setTimeout(function(){var R=g[m];if(R!=null&&(g[m]=R.filter(function(I){return I!==C})),!C.isCompleted()){var D=_.activeResourceCount(b),M=_.has(b)?_._pools[m].length:0;C.reject((0,u.newError)("Connection acquisition timed out in ".concat(_._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(D,", Idle conn count = ").concat(M,".")))}},_._acquisitionTimeout);typeof S=="object"&&S.unref();var C=new h(m,y,p,T,w,S,_._log);g[m].push(C),_._processPendingAcquireRequests(b)})];case 1:return[2,E.sent()]}})})},v.prototype.purge=function(y){return n(this,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return[4,this._purgeKey(y.asKey())];case 1:return[2,b.sent()]}})})},v.prototype.apply=function(y,b){var p=y.asKey();p in this._pools&&this._pools[p].apply(b)},v.prototype.close=function(){return n(this,void 0,void 0,function(){var y=this;return i(this,function(b){switch(b.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(p){return n(y,void 0,void 0,function(){return i(this,function(m){switch(m.label){case 0:return[4,this._purgeKey(p)];case 1:return[2,m.sent()]}})})})).then()];case 1:return[2,b.sent()]}})})},v.prototype.keepAll=function(y){return n(this,void 0,void 0,function(){var b,p,m,g=this;return i(this,function(_){switch(_.label){case 0:return b=y.map(function(E){return E.asKey()}),p=Object.keys(this._pools),m=p.filter(function(E){return!b.includes(E)}),[4,Promise.all(m.map(function(E){return n(g,void 0,void 0,function(){return i(this,function(T){switch(T.label){case 0:return[4,this._purgeKey(E)];case 1:return[2,T.sent()]}})})})).then()];case 1:return[2,_.sent()]}})})},v.prototype.has=function(y){return y.asKey()in this._pools},v.prototype.activeResourceCount=function(y){var b;return(b=this._activeResourceCounts[y.asKey()])!==null&&b!==void 0?b:0},v.prototype._getOrInitializePoolFor=function(y){var b=this._pools[y];return b==null&&(b=new d,this._pools[y]=b,this._pendingCreates[y]=0),b},v.prototype._acquire=function(y,b,p){return n(this,void 0,void 0,function(){var m,g,_,E,T,w,S,C=this;return i(this,function(R){switch(R.label){case 0:if(this._closed)throw(0,u.newError)("Pool is closed, it is no more able to serve requests.");if(m=b.asKey(),g=this._getOrInitializePoolFor(m),p)return[3,10];R.label=1;case 1:if(!(g.length>0))return[3,10];if((_=g.pop())==null)return[3,1];c(m,this._activeResourceCounts),this._removeIdleObserver!=null&&this._removeIdleObserver(_),E=!1,R.label=2;case 2:return R.trys.push([2,4,,6]),[4,this._validateOnAcquire(y,_)];case 3:return E=R.sent(),[3,6];case 4:return T=R.sent(),f(m,this._activeResourceCounts),g.removeInUse(_),[4,this._destroy(_)];case 5:throw R.sent(),T;case 6:return E?(this._log.isDebugEnabled()&&this._log.debug("".concat(_," acquired from the pool ").concat(m)),[2,{resource:_,pool:g}]):[3,7];case 7:return f(m,this._activeResourceCounts),g.removeInUse(_),[4,this._destroy(_)];case 8:R.sent(),R.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(b)+this._pendingCreates[m]>=this._maxSize)return[2,{resource:null,pool:g}];this._pendingCreates[m]=this._pendingCreates[m]+1,R.label=11;case 11:return R.trys.push([11,,15,16]),this.activeResourceCount(b)+g.length>=this._maxSize&&p?(S=g.pop())==null?[3,13]:(this._removeIdleObserver!=null&&this._removeIdleObserver(S),g.removeInUse(S),[4,this._destroy(S)]):[3,13];case 12:R.sent(),R.label=13;case 13:return[4,this._create(y,b,function(D,M){return n(C,void 0,void 0,function(){return i(this,function(I){switch(I.label){case 0:return[4,this._release(D,M,g)];case 1:return[2,I.sent()]}})})})];case 14:return w=R.sent(),g.pushInUse(w),c(m,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(w," created for the pool ").concat(m)),[3,16];case 15:return this._pendingCreates[m]=this._pendingCreates[m]-1,[7];case 16:return[2,{resource:w,pool:g}]}})})},v.prototype._release=function(y,b,p){return n(this,void 0,void 0,function(){var m,g=this;return i(this,function(_){switch(_.label){case 0:m=y.asKey(),_.label=1;case 1:return _.trys.push([1,,9,10]),p.isActive()?[4,this._validateOnRelease(b)]:[3,6];case 2:return _.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(b," destroyed and can't be released to the pool ").concat(m," because it is not functional")),p.removeInUse(b),[4,this._destroy(b)]);case 3:return _.sent(),[3,5];case 4:this._installIdleObserver!=null&&this._installIdleObserver(b,{onError:function(E){g._log.debug("Idle connection ".concat(b," destroyed because of error: ").concat(E));var T=g._pools[m];T!=null&&(g._pools[m]=T.filter(function(w){return w!==b}),T.removeInUse(b)),g._destroy(b).catch(function(){})}}),p.push(b),this._log.isDebugEnabled()&&this._log.debug("".concat(b," released to the pool ").concat(m)),_.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(b," destroyed and can't be released to the pool ").concat(m," because pool has been purged")),p.removeInUse(b),[4,this._destroy(b)];case 7:_.sent(),_.label=8;case 8:return[3,10];case 9:return f(m,this._activeResourceCounts),this._processPendingAcquireRequests(y),[7];case 10:return[2]}})})},v.prototype._purgeKey=function(y){return n(this,void 0,void 0,function(){var b,p,m;return i(this,function(g){switch(g.label){case 0:if(b=this._pools[y],p=[],b==null)return[3,2];for(;b.length>0;)(m=b.pop())!=null&&(this._removeIdleObserver!=null&&this._removeIdleObserver(m),p.push(this._destroy(m)));return b.close(),delete this._pools[y],[4,Promise.all(p)];case 1:g.sent(),g.label=2;case 2:return[2]}})})},v.prototype._processPendingAcquireRequests=function(y){var b=this,p=y.asKey(),m=this._acquireRequests[p];if(m!=null){var g=m.shift();g!=null?this._acquire(g.context,y,g.requireNew).catch(function(_){return g.reject(_),{resource:null,pool:null}}).then(function(_){var E=_.resource,T=_.pool;E!=null&&T!=null?g.isCompleted()?b._release(y,E,T).catch(function(w){b._log.isDebugEnabled()&&b._log.debug("".concat(E," could not be release back to the pool. Cause: ").concat(w))}):g.resolve(E):g.isCompleted()||(b._acquireRequests[p]==null&&(b._acquireRequests[p]=[]),b._acquireRequests[p].unshift(g))}).catch(function(_){return g.reject(_)}):delete this._acquireRequests[p]}},v}();function c(v,y){var b,p=(b=y[v])!==null&&b!==void 0?b:0;y[v]=p+1}function f(v,y){var b,p=((b=y[v])!==null&&b!==void 0?b:0)-1;p>0?y[v]=p:delete y[v]}var h=function(){function v(y,b,p,m,g,_,E){this._key=y,this._context=b,this._resolve=m,this._reject=g,this._timeoutId=_,this._log=E,this._completed=!1,this._config=p??{}}return Object.defineProperty(v.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"requireNew",{get:function(){var y;return(y=this._config.requireNew)!==null&&y!==void 0&&y},enumerable:!1,configurable:!0}),v.prototype.isCompleted=function(){return this._completed},v.prototype.resolve=function(y){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(y," acquired from the pool ").concat(this._key)),this._resolve(y))},v.prototype.reject=function(y){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(y))},v}(),d=function(){function v(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return v.prototype.isActive=function(){return this._active},v.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},v.prototype.filter=function(y){return this._elements=this._elements.filter(y),this},v.prototype.apply=function(y){this._elements.forEach(y),this._elementsInUse.forEach(y)},Object.defineProperty(v.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),v.prototype.pop=function(){var y=this._elements.pop();return y!=null&&this._elementsInUse.add(y),y},v.prototype.push=function(y){return this._elementsInUse.delete(y),this._elements.push(y)},v.prototype.pushInUse=function(y){this._elementsInUse.add(y)},v.prototype.removeInUse=function(y){this._elementsInUse.delete(y)},v}();e.default=l},6872:function(t,e){var r=this&&this.__extends||function(){var a=function(o,u){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},a(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=o}a(o,u),o.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.InternalConfig=e.Config=void 0;var n=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};e.Config=n;var i=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return r(o,a),o}(n);e.InternalConfig=i},6890:function(t,e,r){var n=this&&this.__extends||function(){var h=function(d,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},h(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}h(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(h){for(var d,v=1,y=arguments.length;v<y;v++)for(var b in d=arguments[v])Object.prototype.hasOwnProperty.call(d,b)&&(h[b]=d[b]);return h},i.apply(this,arguments)},a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(5815)),u=a(r(3399)),s=a(r(3321)),l=r(9305).internal.constants.BOLT_PROTOCOL_V5_6,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return n(d,h),Object.defineProperty(d.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(y){return y(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),d.prototype._enrichMetadata=function(v){return Array.isArray(v.statuses)&&(v.statuses=v.statuses.map(function(y){return i(i({},y),{diagnostic_record:y.diagnostic_record!==null?i(i({},c),y.diagnostic_record):null})})),v},d}(o.default);e.default=f},6894:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.lastValueFrom=void 0;var n=r(2823);e.lastValueFrom=function(i,a){var o=typeof a=="object";return new Promise(function(u,s){var l,c=!1;i.subscribe({next:function(f){l=f,c=!0},error:s,complete:function(){c?u(l):o?u(a.defaultValue):s(new n.EmptyError)}})})}},6902:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.flatMap=void 0;var n=r(983);e.flatMap=n.mergeMap},6931:t=>{t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6985:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleArray=void 0;var n=r(4662);e.scheduleArray=function(i,a){return new n.Observable(function(o){var u=0;return a.schedule(function(){u===i.length?o.complete():(o.next(i[u++]),o.closed||this.schedule())})})}},6995:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(E,T,w,S){S===void 0&&(S=w);var C=Object.getOwnPropertyDescriptor(T,w);C&&!("get"in C?!T.__esModule:C.writable||C.configurable)||(C={enumerable:!0,get:function(){return T[w]}}),Object.defineProperty(E,S,C)}:function(E,T,w,S){S===void 0&&(S=w),E[S]=T[w]}),i=this&&this.__setModuleDefault||(Object.create?function(E,T){Object.defineProperty(E,"default",{enumerable:!0,value:T})}:function(E,T){E.default=T}),a=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var T={};if(E!=null)for(var w in E)w!=="default"&&Object.prototype.hasOwnProperty.call(E,w)&&n(T,E,w);return i(T,E),T};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.boltAgent=e.objectUtil=e.resolver=e.serverAddress=e.urlUtil=e.logger=e.transactionExecutor=e.txConfig=e.connectionHolder=e.constants=e.bookmarks=e.observer=e.temporalUtil=e.util=void 0;var o=a(r(6587));e.util=o;var u=a(r(5022));e.temporalUtil=u;var s=a(r(2696));e.observer=s;var l=a(r(9730));e.bookmarks=l;var c=a(r(326));e.constants=c;var f=a(r(3618));e.connectionHolder=f;var h=a(r(754));e.txConfig=h;var d=a(r(6189));e.transactionExecutor=d;var v=a(r(4883));e.logger=v;var y=a(r(407));e.urlUtil=y;var b=a(r(7509));e.serverAddress=b;var p=a(r(9470));e.resolver=p;var m=a(r(93));e.objectUtil=m;var g=a(r(3488));e.boltAgent=g;var _=a(r(2906));e.pool=_},7021:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SIGNATURES=void 0;var n=r(9305),i=n.internal.constants,a=i.ACCESS_MODE_READ,o=i.FETCH_ALL,u=n.internal.util.assertString,s=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});e.SIGNATURES=s;var l=function(){function g(_,E,T){this.signature=_,this.fields=E,this.toString=T}return g.init=function(_,E){return new g(1,[_,E],function(){return"INIT ".concat(_," {...}")})},g.run=function(_,E){return new g(16,[_,E],function(){return"RUN ".concat(_," ").concat(n.json.stringify(E))})},g.pullAll=function(){return v},g.reset=function(){return y},g.hello=function(_,E,T,w){T===void 0&&(T=null),w===void 0&&(w=null);var S=Object.assign({user_agent:_},E);return T&&(S.routing=T),w&&(S.patch_bolt=w),new g(1,[S],function(){return"HELLO {user_agent: '".concat(_,"', ...}")})},g.hello5x1=function(_,E){E===void 0&&(E=null);var T={user_agent:_};return E&&(T.routing=E),new g(1,[T],function(){return"HELLO {user_agent: '".concat(_,"', ...}")})},g.hello5x2=function(_,E,T){E===void 0&&(E=null),T===void 0&&(T=null);var w={user_agent:_};return h(w,E),T&&(w.routing=T),new g(1,[w],function(){return"HELLO ".concat(n.json.stringify(w))})},g.hello5x3=function(_,E,T,w){T===void 0&&(T=null),w===void 0&&(w=null);var S={};return _&&(S.user_agent=_),E&&(S.bolt_agent={product:E.product,platform:E.platform,language:E.language,language_details:E.languageDetails}),h(S,T),w&&(S.routing=w),new g(1,[S],function(){return"HELLO ".concat(n.json.stringify(S))})},g.hello5x5=function(_,E,T,w){T===void 0&&(T=null),w===void 0&&(w=null);var S={};return _&&(S.user_agent=_),E&&(S.bolt_agent={product:E.product,platform:E.platform,language:E.language,language_details:E.languageDetails}),d(S,T),w&&(S.routing=w),new g(1,[S],function(){return"HELLO ".concat(n.json.stringify(S))})},g.logon=function(_){return new g(106,[_],function(){return"LOGON { ... }"})},g.logoff=function(){return new g(107,[],function(){return"LOGOFF"})},g.begin=function(_){var E=_===void 0?{}:_,T=c(E.bookmarks,E.txConfig,E.database,E.mode,E.impersonatedUser,E.notificationFilter);return new g(17,[T],function(){return"BEGIN ".concat(n.json.stringify(T))})},g.begin5x5=function(_){var E=_===void 0?{}:_,T=c(E.bookmarks,E.txConfig,E.database,E.mode,E.impersonatedUser,E.notificationFilter,{appendNotificationFilter:d});return new g(17,[T],function(){return"BEGIN ".concat(n.json.stringify(T))})},g.commit=function(){return b},g.rollback=function(){return p},g.runWithMetadata=function(_,E,T){var w=T===void 0?{}:T,S=c(w.bookmarks,w.txConfig,w.database,w.mode,w.impersonatedUser,w.notificationFilter);return new g(16,[_,E,S],function(){return"RUN ".concat(_," ").concat(n.json.stringify(E)," ").concat(n.json.stringify(S))})},g.runWithMetadata5x5=function(_,E,T){var w=T===void 0?{}:T,S=c(w.bookmarks,w.txConfig,w.database,w.mode,w.impersonatedUser,w.notificationFilter,{appendNotificationFilter:d});return new g(16,[_,E,S],function(){return"RUN ".concat(_," ").concat(n.json.stringify(E)," ").concat(n.json.stringify(S))})},g.goodbye=function(){return m},g.pull=function(_){var E=_===void 0?{}:_,T=E.stmtId,w=T===void 0?-1:T,S=E.n,C=f(w??-1,(S===void 0?o:S)||o);return new g(63,[C],function(){return"PULL ".concat(n.json.stringify(C))})},g.discard=function(_){var E=_===void 0?{}:_,T=E.stmtId,w=T===void 0?-1:T,S=E.n,C=f(w??-1,(S===void 0?o:S)||o);return new g(47,[C],function(){return"DISCARD ".concat(n.json.stringify(C))})},g.telemetry=function(_){var E=_.api,T=(0,n.int)(E);return new g(84,[T],function(){return"TELEMETRY ".concat(T.toString())})},g.route=function(_,E,T){return _===void 0&&(_={}),E===void 0&&(E=[]),T===void 0&&(T=null),new g(102,[_,E,T],function(){return"ROUTE ".concat(n.json.stringify(_)," ").concat(n.json.stringify(E)," ").concat(T)})},g.routeV4x4=function(_,E,T){_===void 0&&(_={}),E===void 0&&(E=[]),T===void 0&&(T={});var w={};return T.databaseName&&(w.db=T.databaseName),T.impersonatedUser&&(w.imp_user=T.impersonatedUser),new g(102,[_,E,w],function(){return"ROUTE ".concat(n.json.stringify(_)," ").concat(n.json.stringify(E)," ").concat(n.json.stringify(w))})},g}();function c(g,_,E,T,w,S,C){var R;C===void 0&&(C={});var D={};return g.isEmpty()||(D.bookmarks=g.values()),_.timeout!==null&&(D.tx_timeout=_.timeout),_.metadata&&(D.tx_metadata=_.metadata),E&&(D.db=u(E,"database")),w&&(D.imp_user=u(w,"impersonatedUser")),T===a&&(D.mode="r"),((R=C.appendNotificationFilter)!==null&&R!==void 0?R:h)(D,S),D}function f(g,_){var E={n:(0,n.int)(_)};return g!==-1&&(E.qid=(0,n.int)(g)),E}function h(g,_){_&&(_.minimumSeverityLevel&&(g.notifications_minimum_severity=_.minimumSeverityLevel),_.disabledCategories&&(g.notifications_disabled_categories=_.disabledCategories),_.disabledClassifications&&(g.notifications_disabled_categories=_.disabledClassifications))}function d(g,_){_&&(_.minimumSeverityLevel&&(g.notifications_minimum_severity=_.minimumSeverityLevel),_.disabledCategories&&(g.notifications_disabled_classifications=_.disabledCategories),_.disabledClassifications&&(g.notifications_disabled_classifications=_.disabledClassifications))}e.default=l;var v=new l(63,[],function(){return"PULL_ALL"}),y=new l(15,[],function(){return"RESET"}),b=new l(18,[],function(){return"COMMIT"}),p=new l(19,[],function(){return"ROLLBACK"}),m=new l(2,[],function(){return"GOODBYE"})},7041:function(t,e,r){var n=this&&this.__awaiter||function(u,s,l,c){return new(l||(l=Promise))(function(f,h){function d(b){try{y(c.next(b))}catch(p){h(p)}}function v(b){try{y(c.throw(b))}catch(p){h(p)}}function y(b){var p;b.done?f(b.value):(p=b.value,p instanceof l?p:new l(function(m){m(p)})).then(d,v)}y((c=c.apply(u,s||[])).next())})},i=this&&this.__generator||function(u,s){var l,c,f,h,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(y){return function(b){return function(p){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(d=0)),d;)try{if(l=1,c&&(f=2&p[0]?c.return:p[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,p[1])).done)return f;switch(c=0,f&&(p=[2&p[0],f.value]),p[0]){case 0:case 1:f=p;break;case 4:return d.label++,{value:p[1],done:!1};case 5:d.label++,c=p[1],p=[0];continue;case 7:p=d.ops.pop(),d.trys.pop();continue;default:if(!((f=(f=d.trys).length>0&&f[f.length-1])||p[0]!==6&&p[0]!==2)){d=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){d.label=p[1];break}if(p[0]===6&&d.label<f[1]){d.label=f[1],f=p;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(p);break}f[2]&&d.ops.pop(),d.trys.pop();continue}p=s.call(u,d)}catch(m){p=[6,m],c=0}finally{l=f=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([y,b])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(326),o=function(){function u(s){this._createSession=s}return u.prototype.execute=function(s,l,c){return n(this,void 0,void 0,function(){var f,h,d=this;return i(this,function(v){switch(v.label){case 0:f=this._createSession({database:s.database,bookmarkManager:s.bookmarkManager,impersonatedUser:s.impersonatedUser,auth:s.auth}),y=s.signal,b="abort",p=function(){return n(d,void 0,void 0,function(){return i(this,function(m){switch(m.label){case 0:return[4,f.close()];case 1:return[2,m.sent()]}})})},typeof(y==null?void 0:y.addEventListener)=="function"&&y.addEventListener(b,p),h={uninstall:function(){typeof(y==null?void 0:y.removeEventListener)=="function"&&y.removeEventListener(b,p)}},f._configureTransactionExecutor(!0,a.TELEMETRY_APIS.EXECUTE_QUERY),v.label=1;case 1:return v.trys.push([1,,3,5]),[4,(s.routing==="READ"?f.executeRead.bind(f):f.executeWrite.bind(f))(function(m){return n(d,void 0,void 0,function(){var g;return i(this,function(_){switch(_.label){case 0:return g=m.run(l,c),[4,s.resultTransformer(g)];case 1:return[2,_.sent()]}})})},s.transactionConfig)];case 2:return[2,v.sent()];case 3:return h.uninstall(),[4,f.close()];case 4:return v.sent(),[7];case 5:return[2]}var y,b,p})})},u}();e.default=o},7045:(t,e,r)=>{var n=r(3206);t.exports=function(i,a){var o=n(a),u=[];return(u=u.concat(o(i))).concat(o(null))}},7057:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ArgumentOutOfRangeError=void 0;var n=r(5568);e.ArgumentOutOfRangeError=n.createErrorClass(function(i){return function(){i(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},7093:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPoint=e.Point=void 0;var n=r(6587),i="__isPoint__",a=function(){function u(s,l,c,f){this.srid=(0,n.assertNumberOrInteger)(s,"SRID"),this.x=(0,n.assertNumber)(l,"X coordinate"),this.y=(0,n.assertNumber)(c,"Y coordinate"),this.z=f==null?f:(0,n.assertNumber)(f,"Z coordinate"),Object.freeze(this)}return u.prototype.toString=function(){return this.z==null||isNaN(this.z)?"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),"}"):"Point{srid=".concat(o(this.srid),", x=").concat(o(this.x),", y=").concat(o(this.y),", z=").concat(o(this.z),"}")},u}();function o(u){return Number.isInteger(u)?u.toString()+".0":u.toString()}e.Point=a,Object.defineProperty(a.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1}),e.isPoint=function(u){return u!=null&&u[i]===!0}},7101:t=>{t.exports=function(e){return!(!e||typeof e=="string")&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String"))}},7110:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.executeSchedule=void 0,e.executeSchedule=function(r,n,i,a,o){a===void 0&&(a=0),o===void 0&&(o=!1);var u=n.schedule(function(){i(),o?r.add(this.schedule(null,a)):this.unsubscribe()},a);if(r.add(u),!o)return u}},7168:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.structure=e.v2=e.v1=void 0;var o=a(r(5361));e.v1=o;var u=a(r(2072));e.v2=u;var s=a(r(7665));e.structure=s,e.default=u},7174:function(t,e,r){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseBuffer=void 0;var i=n(r(45));e.BaseBuffer=i.default,e.default=i.default},7192:t=>{t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7210:function(t,e,r){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&f[h],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferTime=void 0;var i=r(8014),a=r(7843),o=r(3111),u=r(7479),s=r(7961),l=r(1107),c=r(7110);e.bufferTime=function(f){for(var h,d,v=[],y=1;y<arguments.length;y++)v[y-1]=arguments[y];var b=(h=l.popScheduler(v))!==null&&h!==void 0?h:s.asyncScheduler,p=(d=v[0])!==null&&d!==void 0?d:null,m=v[1]||1/0;return a.operate(function(g,_){var E=[],T=!1,w=function(R){var D=R.buffer;R.subs.unsubscribe(),u.arrRemove(E,R),_.next(D),T&&S()},S=function(){if(E){var R=new i.Subscription;_.add(R);var D={buffer:[],subs:R};E.push(D),c.executeSchedule(R,b,function(){return w(D)},f)}};p!==null&&p>=0?c.executeSchedule(_,b,S,p,!0):T=!0,S();var C=o.createOperatorSubscriber(_,function(R){var D,M,I=E.slice();try{for(var k=n(I),U=k.next();!U.done;U=k.next()){var F=U.value,B=F.buffer;B.push(R),m<=B.length&&w(F)}}catch(z){D={error:z}}finally{try{U&&!U.done&&(M=k.return)&&M.call(k)}finally{if(D)throw D.error}}},function(){for(;E!=null&&E.length;)_.next(E.shift().buffer);C==null||C.unsubscribe(),_.complete(),_.unsubscribe()},void 0,function(){return E=null});g.subscribe(C)})}},7220:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishBehavior=void 0;var n=r(1637),i=r(8918);e.publishBehavior=function(a){return function(o){var u=new n.BehaviorSubject(a);return new i.ConnectableObservable(o,function(){return u})}}},7245:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestTools=e.Immediate=void 0;var r,n=1,i={};function a(o){return o in i&&(delete i[o],!0)}e.Immediate={setImmediate:function(o){var u=n++;return i[u]=!0,r||(r=Promise.resolve()),r.then(function(){return a(u)&&o()}),u},clearImmediate:function(o){a(o)}},e.TestTools={pending:function(){return Object.keys(i).length}}},7264:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(R){for(var D,M=1,I=arguments.length;M<I;M++)for(var k in D=arguments[M])Object.prototype.hasOwnProperty.call(D,k)&&(R[k]=D[k]);return R},n.apply(this,arguments)},i=this&&this.__awaiter||function(R,D,M,I){return new(M||(M=Promise))(function(k,U){function F(H){try{z(I.next(H))}catch(Y){U(Y)}}function B(H){try{z(I.throw(H))}catch(Y){U(Y)}}function z(H){var Y;H.done?k(H.value):(Y=H.value,Y instanceof M?Y:new M(function(W){W(Y)})).then(F,B)}z((I=I.apply(R,D||[])).next())})},a=this&&this.__generator||function(R,D){var M,I,k,U,F={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return U={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function B(z){return function(H){return function(Y){if(M)throw new TypeError("Generator is already executing.");for(;U&&(U=0,Y[0]&&(F=0)),F;)try{if(M=1,I&&(k=2&Y[0]?I.return:Y[0]?I.throw||((k=I.return)&&k.call(I),0):I.next)&&!(k=k.call(I,Y[1])).done)return k;switch(I=0,k&&(Y=[2&Y[0],k.value]),Y[0]){case 0:case 1:k=Y;break;case 4:return F.label++,{value:Y[1],done:!1};case 5:F.label++,I=Y[1],Y=[0];continue;case 7:Y=F.ops.pop(),F.trys.pop();continue;default:if(!((k=(k=F.trys).length>0&&k[k.length-1])||Y[0]!==6&&Y[0]!==2)){F=0;continue}if(Y[0]===3&&(!k||Y[1]>k[0]&&Y[1]<k[3])){F.label=Y[1];break}if(Y[0]===6&&F.label<k[1]){F.label=k[1],k=Y;break}if(k&&F.label<k[2]){F.label=k[2],F.ops.push(Y);break}k[2]&&F.ops.pop(),F.trys.pop();continue}Y=D.call(R,F)}catch(W){Y=[6,W],I=0}finally{M=k=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([z,H])}}},o=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryConfig=e.SessionConfig=e.routing=e.WRITE=e.READ=e.Driver=void 0;var u=r(9730),s=o(r(8341)),l=r(326),c=r(4883),f=o(r(5481)),h=r(6587),d=r(6755),v=o(r(1573)),y=o(r(7041)),b=r(9691),p=o(r(3001)),m=r(6030),g=l.ACCESS_MODE_READ;e.READ=g;var _=l.ACCESS_MODE_WRITE;e.WRITE=_;var E=0;e.SessionConfig=function(){this.defaultAccessMode=_,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var T={WRITE:"WRITE",READ:"READ"};e.routing=T,Object.freeze(T),e.QueryConfig=function(){this.routing=T.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var w=function(){function R(D,M,I,k,U){M===void 0&&(M={}),k===void 0&&(k=function(B){return new f.default(B)}),U===void 0&&(U=function(B){return new y.default(B)}),function(B){B.maxConnectionLifetime=S(B.maxConnectionLifetime,36e5),B.maxConnectionPoolSize=S(B.maxConnectionPoolSize,l.DEFAULT_POOL_MAX_SIZE),B.connectionAcquisitionTimeout=S(B.connectionAcquisitionTimeout,l.DEFAULT_POOL_ACQUISITION_TIMEOUT),B.fetchSize=C(B.fetchSize,1e3),B.connectionTimeout=function(z){var H=parseInt(z.connectionTimeout,10);return H===0||!isNaN(H)&&H<0?null:isNaN(H)?l.DEFAULT_CONNECTION_TIMEOUT_MILLIS:H}(B),B.connectionLivenessCheckTimeout=function(z){if(z!=null){var H=parseInt(z,10);if(H<0||Number.isNaN(H))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(H));return H}}(B.connectionLivenessCheckTimeout)}(M);var F=c.Logger.create(M);(function(B,z){var H,Y,W=B.resolver;if(W!=null&&typeof W!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof W));if(B.connectionAcquisitionTimeout<B.connectionTimeout&&z.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),((H=B.notificationFilter)===null||H===void 0?void 0:H.disabledCategories)!=null&&((Y=B.notificationFilter)===null||Y===void 0?void 0:Y.disabledClassifications)!=null)throw new Error(`The notificationFilter can't have both "disabledCategories" and  "disabledClassifications" configured at the same time.`)})(M,F),this._id=E++,this._meta=D,this._config=M,this._log=F,this._createConnectionProvider=I,this._createSession=k,this._defaultExecuteQueryBookmarkManager=(0,d.bookmarkManager)(),this._queryExecutor=U(this.session.bind(this)),this._connectionProvider=null,this.homeDatabaseCache=new p.default(1e4),this._afterConstruction()}return Object.defineProperty(R.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),R.prototype.executeQuery=function(D,M,I){var k,U,F;return I===void 0&&(I={}),i(this,void 0,void 0,function(){var B,z,H;return a(this,function(Y){switch(Y.label){case 0:if(B=I.bookmarkManager===null?void 0:(k=I.bookmarkManager)!==null&&k!==void 0?k:this.executeQueryBookmarkManager,z=(U=I.resultTransformer)!==null&&U!==void 0?U:v.default.eagerResultTransformer(),(H=(F=I.routing)!==null&&F!==void 0?F:T.WRITE)!==T.READ&&H!==T.WRITE)throw(0,b.newError)('Illegal query routing config: "'.concat(H,'"'));return[4,this._queryExecutor.execute({resultTransformer:z,bookmarkManager:B,routing:H,database:I.database,impersonatedUser:I.impersonatedUser,transactionConfig:I.transactionConfig,auth:I.auth,signal:I.signal},D,M)];case 1:return[2,Y.sent()]}})})},R.prototype.verifyConnectivity=function(D){var M=(D===void 0?{}:D).database,I=M===void 0?"":M;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:I,accessMode:g})},R.prototype.verifyAuthentication=function(D){var M=D===void 0?{}:D,I=M.database,k=M.auth;return i(this,void 0,void 0,function(){return a(this,function(U){switch(U.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:I??"system",auth:k,accessMode:g})];case 1:return[2,U.sent()]}})})},R.prototype.getServerInfo=function(D){var M=(D===void 0?{}:D).database,I=M===void 0?"":M;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:I,accessMode:g})},R.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},R.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},R.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},R.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},R.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},R.prototype.isEncrypted=function(){return this._isEncrypted()},R.prototype._supportsRouting=function(){return this._meta.routing},R.prototype._isEncrypted=function(){return this._config.encrypted===h.ENCRYPTION_ON||this._config.encrypted===!0},R.prototype._getTrust=function(){return this._config.trust},R.prototype.session=function(D){var M=D===void 0?{}:D,I=M.defaultAccessMode,k=I===void 0?_:I,U=M.bookmarks,F=M.database,B=F===void 0?"":F,z=M.impersonatedUser,H=M.fetchSize,Y=M.bookmarkManager,W=M.notificationFilter,Z=M.auth;return this._newSession({defaultAccessMode:k,bookmarkOrBookmarks:U,database:B,reactive:!1,impersonatedUser:z,fetchSize:C(H,this._config.fetchSize),bookmarkManager:Y,notificationFilter:W,auth:Z})},R.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},R.prototype[Symbol.asyncDispose]=function(){return this.close()},R.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},R.prototype._homeDatabaseCallback=function(D,M){this.homeDatabaseCache.set(D,M)},R.prototype._newSession=function(D){var M=D.defaultAccessMode,I=D.bookmarkOrBookmarks,k=D.database,U=D.reactive,F=D.impersonatedUser,B=D.fetchSize,z=D.bookmarkManager,H=D.notificationFilter,Y=D.auth,W=f.default._validateSessionMode(M),Z=this._getOrCreateConnectionProvider(),le=this.homeDatabaseCache.get((0,m.cacheKey)(Y,F)),ce=this._homeDatabaseCallback.bind(this),ue=I!=null?new u.Bookmarks(I):u.Bookmarks.empty();return this._createSession({mode:W,database:k??"",connectionProvider:Z,bookmarks:ue,config:n({cachedHomeDatabase:le,routingDriver:this._supportsRouting()},this._config),reactive:U,impersonatedUser:F,fetchSize:B,bookmarkManager:z,notificationFilter:H,auth:Y,log:this._log,homeDatabaseCallback:ce})},R.prototype._getOrCreateConnectionProvider=function(){var D;return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(D=this._config,new s.default(D.resolver)))),this._connectionProvider},R}();function S(R,D){var M=parseInt(R,10);return M>0||M===0?M:M<0?Number.MAX_SAFE_INTEGER:D}function C(R,D){var M=parseInt(R,10);if(M>0||M===l.FETCH_ALL)return M;if(M===0||M<0)throw new Error("The fetch size can only be a positive value or ".concat(l.FETCH_ALL," for ALL. However fetchSize = ").concat(M));return D}e.Driver=w,e.default=w},7286:function(t,e,r){var n=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,b=d.call(f),p=[];try{for(;(h===void 0||h-- >0)&&!(v=b.next()).done;)p.push(v.value)}catch(m){y={error:m}}finally{try{v&&!v.done&&(d=b.return)&&d.call(b)}finally{if(y)throw y.error}}return p},i=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var a=r(4662),o=r(9445),u=r(8535),s=r(8616),l=r(3111),c=r(1107);e.zip=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var d=c.popResultSelector(f),v=u.argsOrArgArray(f);return v.length?new a.Observable(function(y){var b=v.map(function(){return[]}),p=v.map(function(){return!1});y.add(function(){b=p=null});for(var m=function(_){o.innerFrom(v[_]).subscribe(l.createOperatorSubscriber(y,function(E){if(b[_].push(E),b.every(function(w){return w.length})){var T=b.map(function(w){return w.shift()});y.next(d?d.apply(void 0,i([],n(T))):T),b.some(function(w,S){return!w.length&&p[S]})&&y.complete()}},function(){p[_]=!0,!b[_].length&&y.complete()}))},g=0;!y.closed&&g<v.length;g++)m(g);return function(){b=p=null}}):s.EMPTY}},7302:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=void 0;var n=r(983),i=r(6640);e.mergeAll=function(a){return a===void 0&&(a=1/0),n.mergeMap(i.identity,a)}},7315:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportUnhandledError=void 0;var n=r(3413),i=r(9155);e.reportUnhandledError=function(a){i.timeoutProvider.setTimeout(function(){var o=n.config.onUnhandledError;if(!o)throw a;o(a)})}},7331:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(5348));e.default=n({},a.default)},7360:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsArgArrayOrObject=void 0;var r=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,a=Object.keys;e.argsArgArrayOrObject=function(o){if(o.length===1){var u=o[0];if(r(u))return{args:u,keys:null};if((l=u)&&typeof l=="object"&&n(l)===i){var s=a(u);return{args:s.map(function(c){return u[c]}),keys:s}}}var l;return{args:o,keys:null}}},7372:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipUntil=void 0;var n=r(7843),i=r(3111),a=r(9445),o=r(1342);e.skipUntil=function(u){return n.operate(function(s,l){var c=!1,f=i.createOperatorSubscriber(l,function(){f==null||f.unsubscribe(),c=!0},o.noop);a.innerFrom(u).subscribe(f),s.subscribe(i.createOperatorSubscriber(l,function(h){return c&&l.next(h)}))})}},7428:function(t,e,r){var n=this&&this.__extends||function(){var he=function(fe,te){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,ee){Q.__proto__=ee}||function(Q,ee){for(var ae in ee)Object.prototype.hasOwnProperty.call(ee,ae)&&(Q[ae]=ee[ae])},he(fe,te)};return function(fe,te){if(typeof te!="function"&&te!==null)throw new TypeError("Class extends value "+String(te)+" is not a constructor or null");function Q(){this.constructor=fe}he(fe,te),fe.prototype=te===null?Object.create(te):(Q.prototype=te.prototype,new Q)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(he){for(var fe,te=1,Q=arguments.length;te<Q;te++)for(var ee in fe=arguments[te])Object.prototype.hasOwnProperty.call(fe,ee)&&(he[ee]=fe[ee]);return he},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(he,fe,te,Q){Q===void 0&&(Q=te);var ee=Object.getOwnPropertyDescriptor(fe,te);ee&&!("get"in ee?!fe.__esModule:ee.writable||ee.configurable)||(ee={enumerable:!0,get:function(){return fe[te]}}),Object.defineProperty(he,Q,ee)}:function(he,fe,te,Q){Q===void 0&&(Q=te),he[Q]=fe[te]}),o=this&&this.__setModuleDefault||(Object.create?function(he,fe){Object.defineProperty(he,"default",{enumerable:!0,value:fe})}:function(he,fe){he.default=fe}),u=this&&this.__importStar||function(he){if(he&&he.__esModule)return he;var fe={};if(he!=null)for(var te in he)te!=="default"&&Object.prototype.hasOwnProperty.call(he,te)&&a(fe,he,te);return o(fe,he),fe},s=this&&this.__awaiter||function(he,fe,te,Q){return new(te||(te=Promise))(function(ee,ae){function pe(Ae){try{Te(Q.next(Ae))}catch(be){ae(be)}}function _e(Ae){try{Te(Q.throw(Ae))}catch(be){ae(be)}}function Te(Ae){var be;Ae.done?ee(Ae.value):(be=Ae.value,be instanceof te?be:new te(function(j){j(be)})).then(pe,_e)}Te((Q=Q.apply(he,fe||[])).next())})},l=this&&this.__generator||function(he,fe){var te,Q,ee,ae,pe={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return ae={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(ae[Symbol.iterator]=function(){return this}),ae;function _e(Te){return function(Ae){return function(be){if(te)throw new TypeError("Generator is already executing.");for(;ae&&(ae=0,be[0]&&(pe=0)),pe;)try{if(te=1,Q&&(ee=2&be[0]?Q.return:be[0]?Q.throw||((ee=Q.return)&&ee.call(Q),0):Q.next)&&!(ee=ee.call(Q,be[1])).done)return ee;switch(Q=0,ee&&(be=[2&be[0],ee.value]),be[0]){case 0:case 1:ee=be;break;case 4:return pe.label++,{value:be[1],done:!1};case 5:pe.label++,Q=be[1],be=[0];continue;case 7:be=pe.ops.pop(),pe.trys.pop();continue;default:if(!((ee=(ee=pe.trys).length>0&&ee[ee.length-1])||be[0]!==6&&be[0]!==2)){pe=0;continue}if(be[0]===3&&(!ee||be[1]>ee[0]&&be[1]<ee[3])){pe.label=be[1];break}if(be[0]===6&&pe.label<ee[1]){pe.label=ee[1],ee=be;break}if(ee&&pe.label<ee[2]){pe.label=ee[2],pe.ops.push(be);break}ee[2]&&pe.ops.pop(),pe.trys.pop();continue}be=fe.call(he,pe)}catch(j){be=[6,j],Q=0}finally{te=ee=0}if(5&be[0])throw be[1];return{value:be[0]?be[1]:void 0,done:!0}}([Te,Ae])}}},c=this&&this.__values||function(he){var fe=typeof Symbol=="function"&&Symbol.iterator,te=fe&&he[fe],Q=0;if(te)return te.call(he);if(he&&typeof he.length=="number")return{next:function(){return he&&Q>=he.length&&(he=void 0),{value:he&&he[Q++],done:!he}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(he,fe){var te=typeof Symbol=="function"&&he[Symbol.iterator];if(!te)return he;var Q,ee,ae=te.call(he),pe=[];try{for(;(fe===void 0||fe-- >0)&&!(Q=ae.next()).done;)pe.push(Q.value)}catch(_e){ee={error:_e}}finally{try{Q&&!Q.done&&(te=ae.return)&&te.call(ae)}finally{if(ee)throw ee.error}}return pe},h=this&&this.__importDefault||function(he){return he&&he.__esModule?he:{default:he}};Object.defineProperty(e,"__esModule",{value:!0});var d=r(9305),v=u(r(206)),y=r(7452),b=h(r(4132)),p=h(r(8987)),m=r(4455),g=r(7721),_=r(6781),E=d.error.SERVICE_UNAVAILABLE,T=d.error.SESSION_EXPIRED,w=d.internal.bookmarks.Bookmarks,S=d.internal.constants,C=S.ACCESS_MODE_READ,R=S.ACCESS_MODE_WRITE,D=S.BOLT_PROTOCOL_V3,M=S.BOLT_PROTOCOL_V4_0,I=S.BOLT_PROTOCOL_V4_4,k=S.BOLT_PROTOCOL_V5_1,U="Neo.ClientError.Database.DatabaseNotFound",F="Neo.ClientError.Transaction.InvalidBookmark",B="Neo.ClientError.Transaction.InvalidBookmarkMixture",z="Neo.ClientError.Security.AuthorizationExpired",H="Neo.ClientError.Statement.ArgumentError",Y="Neo.ClientError.Request.Invalid",W="Neo.ClientError.Statement.TypeError",Z="N/A",le=null,ce=(0,d.int)(3e4),ue=function(he){function fe(te){var Q=te.id,ee=te.address,ae=te.routingContext,pe=te.hostNameResolver,_e=te.config,Te=te.log,Ae=te.userAgent,be=te.boltAgent,j=te.authTokenManager,G=te.routingTablePurgeDelay,X=te.newPool,ie=he.call(this,{id:Q,config:_e,log:Te,userAgent:Ae,boltAgent:be,authTokenManager:j,newPool:X},function(ve){return s(ie,void 0,void 0,function(){var ge,Oe;return l(this,function(Le){switch(Le.label){case 0:return ge=g.createChannelConnection,Oe=[ve,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,ge.apply(void 0,Oe.concat([Le.sent(),this._routingContext,this._channelSsrCallback.bind(this)]))]}})})})||this;return ie._routingContext=i(i({},ae),{address:ee.toString()}),ie._seedRouter=ee,ie._rediscovery=new v.default(ie._routingContext),ie._loadBalancingStrategy=new m.LeastConnectedLoadBalancingStrategy(ie._connectionPool),ie._hostNameResolver=pe,ie._dnsResolver=new y.HostNameResolver,ie._log=Te,ie._useSeedRouter=!0,ie._routingTableRegistry=new de(G?(0,d.int)(G):ce),ie._refreshRoutingTable=_.functional.reuseOngoingRequest(ie._refreshRoutingTable,ie),ie._withSSR=0,ie._withoutSSR=0,ie}return n(fe,he),fe.prototype._createConnectionErrorHandler=function(){return new g.ConnectionErrorHandler(T)},fe.prototype._handleUnavailability=function(te,Q,ee){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(Q," for database '").concat(ee,"' because of an error ").concat(te.code," '").concat(te.message,"'")),this.forget(Q,ee||le),te},fe.prototype._handleSecurityError=function(te,Q,ee,ae){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(Q," for database '").concat(ae,"' because of an error ").concat(te.code," '").concat(te.message,"'")),he.prototype._handleSecurityError.call(this,te,Q,ee,ae)},fe.prototype._handleWriteFailure=function(te,Q,ee){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(Q," for database '").concat(ee,"' because of an error ").concat(te.code," '").concat(te.message,"'")),this.forgetWriter(Q,ee||le),(0,d.newError)("No longer possible to write to server at "+Q,T,te)},fe.prototype.acquireConnection=function(te){var Q=te===void 0?{}:te,ee=Q.accessMode,ae=Q.database,pe=Q.bookmarks,_e=Q.impersonatedUser,Te=Q.onDatabaseNameResolved,Ae=Q.auth,be=Q.homeDb;return s(this,void 0,void 0,function(){var j,G,X,ie,ve,ge=this;return l(this,function(Oe){switch(Oe.label){case 0:return j={database:ae||le},G=new g.ConnectionErrorHandler(T,function(Le,We){return ge._handleUnavailability(Le,We,j.database)},function(Le,We){return ge._handleWriteFailure(Le,We,be??j.database)},function(Le,We,ut){return ge._handleSecurityError(Le,We,ut,j.database)}),this.SSREnabled()&&be!==void 0&&ae===""?!(ie=this._routingTableRegistry.get(be,function(){return new v.RoutingTable({database:be})}))||ie.isStaleFor(ee)?[3,2]:[4,this.getConnectionFromRoutingTable(ie,Ae,ee,G)]:[3,2];case 1:if(X=Oe.sent(),this.SSREnabled())return[2,X];X.release(),Oe.label=2;case 2:return[4,this._freshRoutingTable({accessMode:ee,database:j.database,bookmarks:pe,impersonatedUser:_e,auth:Ae,onDatabaseNameResolved:function(Le){j.database=j.database||Le,Te&&Te(Le)}})];case 3:return ve=Oe.sent(),[2,this.getConnectionFromRoutingTable(ve,Ae,ee,G)]}})})},fe.prototype.getConnectionFromRoutingTable=function(te,Q,ee,ae){return s(this,void 0,void 0,function(){var pe,_e,Te,Ae;return l(this,function(be){switch(be.label){case 0:if(ee===C)_e=this._loadBalancingStrategy.selectReader(te.readers),pe="read";else{if(ee!==R)throw(0,d.newError)("Illegal mode "+ee);_e=this._loadBalancingStrategy.selectWriter(te.writers),pe="write"}if(!_e)throw(0,d.newError)("Failed to obtain connection towards ".concat(pe," server. Known routing table is: ").concat(te),T);be.label=1;case 1:return be.trys.push([1,5,,6]),[4,this._connectionPool.acquire({auth:Q},_e)];case 2:return Te=be.sent(),Q?[4,this._verifyStickyConnection({auth:Q,connection:Te,address:_e})]:[3,4];case 3:return be.sent(),[2,Te];case 4:return[2,new g.DelegateConnection(Te,ae)];case 5:throw Ae=be.sent(),ae.handleAndTransformError(Ae,_e);case 6:return[2]}})})},fe.prototype._hasProtocolVersion=function(te){return s(this,void 0,void 0,function(){var Q,ee,ae,pe,_e,Te;return l(this,function(Ae){switch(Ae.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:Q=Ae.sent(),ae=0,Ae.label=2;case 2:if(!(ae<Q.length))return[3,8];Ae.label=3;case 3:return Ae.trys.push([3,6,,7]),[4,this._createChannelConnection(Q[ae])];case 4:return pe=Ae.sent(),_e=pe.protocol()?pe.protocol().version:null,[4,pe.close()];case 5:return Ae.sent(),_e?[2,te(_e)]:[2,!1];case 6:return Te=Ae.sent(),ee=Te,[3,7];case 7:return ae++,[3,2];case 8:if(ee)throw ee;return[2,!1]}})})},fe.prototype.supportsMultiDb=function(){return s(this,void 0,void 0,function(){return l(this,function(te){switch(te.label){case 0:return[4,this._hasProtocolVersion(function(Q){return Q>=M})];case 1:return[2,te.sent()]}})})},fe.prototype.supportsTransactionConfig=function(){return s(this,void 0,void 0,function(){return l(this,function(te){switch(te.label){case 0:return[4,this._hasProtocolVersion(function(Q){return Q>=D})];case 1:return[2,te.sent()]}})})},fe.prototype.supportsUserImpersonation=function(){return s(this,void 0,void 0,function(){return l(this,function(te){switch(te.label){case 0:return[4,this._hasProtocolVersion(function(Q){return Q>=I})];case 1:return[2,te.sent()]}})})},fe.prototype.supportsSessionAuth=function(){return s(this,void 0,void 0,function(){return l(this,function(te){switch(te.label){case 0:return[4,this._hasProtocolVersion(function(Q){return Q>=k})];case 1:return[2,te.sent()]}})})},fe.prototype.getNegotiatedProtocolVersion=function(){var te=this;return new Promise(function(Q,ee){te._hasProtocolVersion(Q).catch(ee)})},fe.prototype.verifyAuthentication=function(te){var Q=te.database,ee=te.accessMode,ae=te.auth;return s(this,void 0,void 0,function(){var pe=this;return l(this,function(_e){return[2,this._verifyAuthentication({auth:ae,getAddress:function(){return s(pe,void 0,void 0,function(){var Te,Ae,be;return l(this,function(j){switch(j.label){case 0:return Te={database:Q||le},[4,this._freshRoutingTable({accessMode:ee,database:Te.database,auth:ae,onDatabaseNameResolved:function(G){Te.database=Te.database||G}})];case 1:if(Ae=j.sent(),(be=ee===R?Ae.writers:Ae.readers).length===0)throw(0,d.newError)("No servers available for database '".concat(Te.database,"' with access mode '").concat(ee,"'"),E);return[2,be[0]]}})})}})]})})},fe.prototype.verifyConnectivityAndGetServerInfo=function(te){var Q=te.database,ee=te.accessMode;return s(this,void 0,void 0,function(){var ae,pe,_e,Te,Ae,be,j,G,X,ie,ve;return l(this,function(ge){switch(ge.label){case 0:return ae={database:Q||le},[4,this._freshRoutingTable({accessMode:ee,database:ae.database,onDatabaseNameResolved:function(Oe){ae.database=ae.database||Oe}})];case 1:pe=ge.sent(),_e=ee===R?pe.writers:pe.readers,Te=(0,d.newError)("No servers available for database '".concat(ae.database,"' with access mode '").concat(ee,"'"),E),ge.label=2;case 2:ge.trys.push([2,9,10,11]),Ae=c(_e),be=Ae.next(),ge.label=3;case 3:if(be.done)return[3,8];j=be.value,ge.label=4;case 4:return ge.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:j})];case 5:return[2,ge.sent()];case 6:return G=ge.sent(),Te=G,[3,7];case 7:return be=Ae.next(),[3,3];case 8:return[3,11];case 9:return X=ge.sent(),ie={error:X},[3,11];case 10:try{be&&!be.done&&(ve=Ae.return)&&ve.call(Ae)}finally{if(ie)throw ie.error}return[7];case 11:throw Te}})})},fe.prototype.forget=function(te,Q){this._routingTableRegistry.apply(Q,{applyWhenExists:function(ee){return ee.forget(te)}}),this._connectionPool.purge(te).catch(function(){})},fe.prototype.forgetWriter=function(te,Q){this._routingTableRegistry.apply(Q,{applyWhenExists:function(ee){return ee.forgetWriter(te)}})},fe.prototype._freshRoutingTable=function(te){var Q=te===void 0?{}:te,ee=Q.accessMode,ae=Q.database,pe=Q.bookmarks,_e=Q.impersonatedUser,Te=Q.onDatabaseNameResolved,Ae=Q.auth,be=this._routingTableRegistry.get(ae,function(){return new v.RoutingTable({database:ae})});return be.isStaleFor(ee)?(this._log.info('Routing table is stale for database: "'.concat(ae,'" and access mode: "').concat(ee,'": ').concat(be)),this._refreshRoutingTable(be,pe,_e,Ae).then(function(j){return Te(j.database),j})):be},fe.prototype._refreshRoutingTable=function(te,Q,ee,ae){var pe=te.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(pe,te,Q,ee,ae):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(pe,te,Q,ee,ae)},fe.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(te,Q,ee,ae,pe){return s(this,void 0,void 0,function(){var _e,Te,Ae,be,j,G,X;return l(this,function(ie){switch(ie.label){case 0:return _e=[],[4,this._fetchRoutingTableUsingSeedRouter(_e,this._seedRouter,Q,ee,ae,pe)];case 1:return Te=f.apply(void 0,[ie.sent(),2]),Ae=Te[0],be=Te[1],Ae?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(te,Q,ee,ae,pe)];case 3:j=f.apply(void 0,[ie.sent(),2]),G=j[0],X=j[1],Ae=G,be=X||be,ie.label=4;case 4:return[4,this._applyRoutingTableIfPossible(Q,Ae,be)];case 5:return[2,ie.sent()]}})})},fe.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(te,Q,ee,ae,pe){return s(this,void 0,void 0,function(){var _e,Te,Ae,be;return l(this,function(j){switch(j.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(te,Q,ee,ae,pe)];case 1:return _e=f.apply(void 0,[j.sent(),2]),Te=_e[0],Ae=_e[1],Te?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(te,this._seedRouter,Q,ee,ae,pe)];case 2:be=f.apply(void 0,[j.sent(),2]),Te=be[0],Ae=be[1],j.label=3;case 3:return[4,this._applyRoutingTableIfPossible(Q,Te,Ae)];case 4:return[2,j.sent()]}})})},fe.prototype._fetchRoutingTableUsingKnownRouters=function(te,Q,ee,ae,pe){return s(this,void 0,void 0,function(){var _e,Te,Ae,be;return l(this,function(j){switch(j.label){case 0:return[4,this._fetchRoutingTable(te,Q,ee,ae,pe)];case 1:return _e=f.apply(void 0,[j.sent(),2]),Te=_e[0],Ae=_e[1],Te?[2,[Te,null]]:(be=te.length-1,fe._forgetRouter(Q,te,be),[2,[null,Ae]])}})})},fe.prototype._fetchRoutingTableUsingSeedRouter=function(te,Q,ee,ae,pe,_e){return s(this,void 0,void 0,function(){var Te,Ae;return l(this,function(be){switch(be.label){case 0:return[4,this._resolveSeedRouter(Q)];case 1:return Te=be.sent(),Ae=Te.filter(function(j){return te.indexOf(j)<0}),[4,this._fetchRoutingTable(Ae,ee,ae,pe,_e)];case 2:return[2,be.sent()]}})})},fe.prototype._resolveSeedRouter=function(te){return s(this,void 0,void 0,function(){var Q,ee,ae=this;return l(this,function(pe){switch(pe.label){case 0:return[4,this._hostNameResolver.resolve(te)];case 1:return Q=pe.sent(),[4,Promise.all(Q.map(function(_e){return ae._dnsResolver.resolve(_e)}))];case 2:return ee=pe.sent(),[2,[].concat.apply([],ee)]}})})},fe.prototype._fetchRoutingTable=function(te,Q,ee,ae,pe){return s(this,void 0,void 0,function(){var _e=this;return l(this,function(Te){return[2,te.reduce(function(Ae,be,j){return s(_e,void 0,void 0,function(){var G,X,ie,ve,ge,Oe,Le;return l(this,function(We){switch(We.label){case 0:return[4,Ae];case 1:return G=f.apply(void 0,[We.sent(),1]),(X=G[0])?[2,[X,null]]:(ie=j-1,fe._forgetRouter(Q,te,ie),[4,this._createSessionForRediscovery(be,ee,ae,pe)]);case 2:if(ve=f.apply(void 0,[We.sent(),2]),ge=ve[0],Oe=ve[1],!ge)return[3,8];We.label=3;case 3:return We.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(ge,Q.database,be,ae)];case 4:return[2,[We.sent(),null]];case 5:return Le=We.sent(),[2,this._handleRediscoveryError(Le,be)];case 6:return ge.close(),[7];case 7:return[3,9];case 8:return[2,[null,Oe]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},fe.prototype._createSessionForRediscovery=function(te,Q,ee,ae){return s(this,void 0,void 0,function(){var pe,_e,Te,Ae,be,j=this;return l(this,function(G){switch(G.label){case 0:return G.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:ae},te)];case 1:return pe=G.sent(),ae?[4,this._verifyStickyConnection({auth:ae,connection:pe,address:te})]:[3,3];case 2:G.sent(),G.label=3;case 3:return _e=g.ConnectionErrorHandler.create({errorCode:T,handleSecurityError:function(X,ie,ve){return j._handleSecurityError(X,ie,ve)}}),Te=pe._sticky?new g.DelegateConnection(pe):new g.DelegateConnection(pe,_e),Ae=new b.default(Te),pe.protocol().version<4?[2,[new d.Session({mode:R,bookmarks:w.empty(),connectionProvider:Ae}),null]]:[2,[new d.Session({mode:C,database:"system",bookmarks:Q,connectionProvider:Ae,impersonatedUser:ee}),null]];case 4:return be=G.sent(),[2,this._handleRediscoveryError(be,te)];case 5:return[2]}})})},fe.prototype._handleRediscoveryError=function(te,Q){if(function(ee){return[U,F,B,H,Y,W,Z].includes(ee.code)}(te)||function(ee){return ee.code.startsWith("Neo.ClientError.Security.")&&![z].includes(ee.code)}(te))throw te;if(te.code==="Neo.ClientError.Procedure.ProcedureNotFound")throw(0,d.newError)("Server at ".concat(Q.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),E,te);return this._log.warn("unable to fetch routing table because of an error ".concat(te)),[null,te]},fe.prototype._applyRoutingTableIfPossible=function(te,Q,ee){return s(this,void 0,void 0,function(){return l(this,function(ae){switch(ae.label){case 0:if(!Q)throw(0,d.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(te),E,ee);return Q.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(Q)];case 1:return ae.sent(),[2,Q]}})})},fe.prototype._updateRoutingTable=function(te){return s(this,void 0,void 0,function(){return l(this,function(Q){switch(Q.label){case 0:return[4,this._connectionPool.keepAll(te.allServers())];case 1:return Q.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(te),this._log.info("Updated routing table ".concat(te)),[2]}})})},fe._forgetRouter=function(te,Q,ee){var ae=Q[ee];te&&ae&&te.forgetRouter(ae)},fe.prototype._channelSsrCallback=function(te,Q){if(Q==="OPEN")te===!0?this._withSSR=this._withSSR+1:this._withoutSSR=this._withoutSSR+1;else{if(Q!=="CLOSE")throw(0,d.newError)("Channel SSR Callback invoked with action other than 'OPEN' or 'CLOSE'");te===!0?this._withSSR=this._withSSR-1:this._withoutSSR=this._withoutSSR-1}},fe.prototype.SSREnabled=function(){return this._withSSR>0&&this._withoutSSR===0},fe}(p.default);e.default=ue;var de=function(){function he(fe){this._tables=new Map,this._routingTablePurgeDelay=fe}return he.prototype.register=function(fe){return this._tables.set(fe.database,fe),this},he.prototype.apply=function(fe,te){var Q=te===void 0?{}:te,ee=Q.applyWhenExists,ae=Q.applyWhenDontExists,pe=ae===void 0?function(){}:ae;return this._tables.has(fe)?ee(this._tables.get(fe)):typeof fe=="string"||fe===null?pe():this._forEach(ee),this},he.prototype.get=function(fe,te){return this._tables.has(fe)?this._tables.get(fe):typeof te=="function"?te():te},he.prototype.removeExpired=function(){var fe=this;return this._removeIf(function(te){return te.isExpiredFor(fe._routingTablePurgeDelay)})},he.prototype._forEach=function(fe){var te,Q;try{for(var ee=c(this._tables),ae=ee.next();!ae.done;ae=ee.next())fe(f(ae.value,2)[1])}catch(pe){te={error:pe}}finally{try{ae&&!ae.done&&(Q=ee.return)&&Q.call(ee)}finally{if(te)throw te.error}}return this},he.prototype._remove=function(fe){return this._tables.delete(fe),this},he.prototype._removeIf=function(fe){var te,Q;try{for(var ee=c(this._tables),ae=ee.next();!ae.done;ae=ee.next()){var pe=f(ae.value,2),_e=pe[0];fe(pe[1])&&this._remove(_e)}}catch(Te){te={error:Te}}finally{try{ae&&!ae.done&&(Q=ee.return)&&Q.call(ee)}finally{if(te)throw te.error}}return this},he}()},7441:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dematerialize=void 0;var n=r(7800),i=r(7843),a=r(3111);e.dematerialize=function(){return i.operate(function(o,u){o.subscribe(a.createOperatorSubscriber(u,function(s){return n.observeNotification(s,u)}))})}},7449:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,d=arguments.length;h<d;h++)for(var v in f=arguments[h])Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),b=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)b.push(d.value)}catch(p){v={error:p}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return b},a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(7168),u=r(9305),s=a(r(7518)),l=a(r(5045));e.default=n(n(n({},s.default),l.default),{createNodeTransformer:function(c){return s.default.createNodeTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("Node",4,f.size);var h=i(f.fields,4),d=h[0],v=h[1],y=h[2],b=h[3];return new u.Node(d,v,y,b)}})},createRelationshipTransformer:function(c){return s.default.createRelationshipTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("Relationship",8,f.size);var h=i(f.fields,8),d=h[0],v=h[1],y=h[2],b=h[3],p=h[4],m=h[5],g=h[6],_=h[7];return new u.Relationship(d,v,y,b,p,m,g,_)}})},createUnboundRelationshipTransformer:function(c){return s.default.createUnboundRelationshipTransformer(c).extendsWith({fromStructure:function(f){o.structure.verifyStructSize("UnboundRelationship",4,f.size);var h=i(f.fields,4),d=h[0],v=h[1],y=h[2],b=h[3];return new u.UnboundRelationship(d,v,y,b)}})}})},7452:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__exportStar||function(l,c){for(var f in l)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||n(c,l,f)},a=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,i(r(3951),e),i(r(373),e);var o=r(2481);Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return a(o).default}});var u=r(5319);Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return u.alloc}});var s=r(3473);Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return a(s).default}})},7479:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arrRemove=void 0,e.arrRemove=function(r,n){if(r){var i=r.indexOf(n);0<=i&&r.splice(i,1)}}},7509:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var d=Object.getOwnPropertyDescriptor(c,f);d&&!("get"in d?!c.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,d)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),a=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.ServerAddress=void 0;var o=r(6587),u=a(r(407)),s=function(){function l(c,f,h,d){this._host=(0,o.assertString)(c,"host"),this._resolved=f!=null?(0,o.assertString)(f,"resolved"):null,this._port=(0,o.assertNumber)(h,"port"),this._hostPort=d,this._stringValue=f!=null?"".concat(d,"(").concat(f,")"):"".concat(d)}return l.prototype.host=function(){return this._host},l.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},l.prototype.port=function(){return this._port},l.prototype.resolveWith=function(c){return new l(this._host,c,this._port,this._hostPort)},l.prototype.asHostPort=function(){return this._hostPort},l.prototype.asKey=function(){return this._hostPort},l.prototype.toString=function(){return this._stringValue},l.fromUrl=function(c){var f=u.parseDatabaseUrl(c);return new l(f.host,null,f.port,f.hostAndPort)},l}();e.ServerAddress=s},7518:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(7331));e.default=n({},a.default)},7521:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(2066));e.default=n({},a.default)},7561:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.refCount=void 0;var n=r(7843),i=r(3111);e.refCount=function(){return n.operate(function(a,o){var u=null;a._refCount++;var s=i.createOperatorSubscriber(o,void 0,void 0,void 0,function(){if(!a||a._refCount<=0||0<--a._refCount)u=null;else{var l=a._connection,c=u;u=null,!l||c&&l!==c||l.unsubscribe(),o.unsubscribe()}});a.subscribe(s),s.closed||(u=a.connect())})}},7579:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connectable=void 0;var n=r(2483),i=r(4662),a=r(9353),o={connector:function(){return new n.Subject},resetOnDisconnect:!0};e.connectable=function(u,s){s===void 0&&(s=o);var l=null,c=s.connector,f=s.resetOnDisconnect,h=f===void 0||f,d=c(),v=new i.Observable(function(y){return d.subscribe(y)});return v.connect=function(){return l&&!l.closed||(l=a.defer(function(){return u}).subscribe(d),h&&l.add(function(){return d=c()})),l},v}},7589:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ACQUISITION_TIMEOUT=e.DEFAULT_MAX_SIZE=void 0;var r=100;e.DEFAULT_MAX_SIZE=r;var n=6e4;e.DEFAULT_ACQUISITION_TIMEOUT=n;var i=function(){function u(s,l){this.maxSize=a(s,r),this.acquisitionTimeout=a(l,n)}return u.defaultConfig=function(){return new u(r,n)},u.fromDriverConfig=function(s){return new u(o(s.maxConnectionPoolSize)?s.maxConnectionPoolSize:r,o(s.connectionAcquisitionTimeout)?s.connectionAcquisitionTimeout:n)},u}();function a(u,s){return o(u)?u:s}function o(u){return u===0||u!=null}e.default=i},7601:function(t,e,r){var n=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,d,v=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=v.next()).done;)y.push(h.value)}catch(b){d={error:b}}finally{try{h&&!h.done&&(f=v.return)&&f.call(v)}finally{if(d)throw d.error}}return y},i=this&&this.__spreadArray||function(l,c){for(var f=0,h=c.length,d=l.length;f<h;f++,d++)l[d]=c[f];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var a=r(7843),o=r(8158),u=r(1107),s=r(4917);e.concat=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=u.popScheduler(l);return a.operate(function(h,d){o.concatAll()(s.from(i([h],n(l)),f)).subscribe(d)})}},7610:function(t,e,r){var n=this&&this.__generator||function(s,l){var c,f,h,d,v={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return d={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(b){return function(p){return function(m){if(c)throw new TypeError("Generator is already executing.");for(;v;)try{if(c=1,f&&(h=2&m[0]?f.return:m[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,m[1])).done)return h;switch(f=0,h&&(m=[2&m[0],h.value]),m[0]){case 0:case 1:h=m;break;case 4:return v.label++,{value:m[1],done:!1};case 5:v.label++,f=m[1],m=[0];continue;case 7:m=v.ops.pop(),v.trys.pop();continue;default:if(!((h=(h=v.trys).length>0&&h[h.length-1])||m[0]!==6&&m[0]!==2)){v=0;continue}if(m[0]===3&&(!h||m[1]>h[0]&&m[1]<h[3])){v.label=m[1];break}if(m[0]===6&&v.label<h[1]){v.label=h[1],h=m;break}if(h&&v.label<h[2]){v.label=h[2],v.ops.push(m);break}h[2]&&v.ops.pop(),v.trys.pop();continue}m=l.call(s,v)}catch(g){m=[6,g],f=0}finally{c=h=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([b,p])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.generate=void 0;var i=r(6640),a=r(8613),o=r(9353),u=r(8808);e.generate=function(s,l,c,f,h){var d,v,y,b;function p(){var m;return n(this,function(g){switch(g.label){case 0:m=b,g.label=1;case 1:return l&&!l(m)?[3,4]:[4,y(m)];case 2:g.sent(),g.label=3;case 3:return m=c(m),[3,1];case 4:return[2]}})}return arguments.length===1?(b=(d=s).initialState,l=d.condition,c=d.iterate,v=d.resultSelector,y=v===void 0?i.identity:v,h=d.scheduler):(b=s,!f||a.isScheduler(f)?(y=i.identity,h=f):y=f),o.defer(h?function(){return u.scheduleIterable(p(),h)}:p)}},7614:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createInvalidObservableTypeError=void 0,e.createInvalidObservableTypeError=function(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},7629:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=void 0;var n=r(1018);e.isPromise=function(i){return n.isFunction(i==null?void 0:i.then)}},7640:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttleTime=void 0;var n=r(7961),i=r(8941),a=r(4092);e.throttleTime=function(o,u,s){u===void 0&&(u=n.asyncScheduler);var l=a.timer(o,u);return i.throttle(function(){return l},s)}},7661:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.expand=void 0;var n=r(7843),i=r(1983);e.expand=function(a,o,u){return o===void 0&&(o=1/0),o=(o||0)<1?1/0:o,n.operate(function(s,l){return i.mergeInternals(s,l,a,o,void 0,!0,u)})}},7665:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.verifyStructSize=e.Structure=void 0;var n=r(9305),i=n.error.PROTOCOL_ERROR,a=function(){function o(u,s){this.signature=u,this.fields=s}return Object.defineProperty(o.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),o.prototype.toString=function(){for(var u="",s=0;s<this.fields.length;s++)s>0&&(u+=", "),u+=this.fields[s];return"Structure("+this.signature+", ["+u+"])"},o}();e.Structure=a,e.verifyStructSize=function(o,u,s){if(u!==s)throw(0,n.newError)("Wrong struct size for ".concat(o,", expected ").concat(u," but was ").concat(s),i)},e.default=a},7666:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(c,f,h,d){d===void 0&&(d=h);var v=Object.getOwnPropertyDescriptor(f,h);v&&!("get"in v?!f.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,d,v)}:function(c,f,h,d){d===void 0&&(d=h),c[d]=f[h]}),i=this&&this.__exportStar||function(c,f){for(var h in c)h==="default"||Object.prototype.hasOwnProperty.call(f,h)||n(f,c,h)},a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var o=a(r(8731)),u=a(r(6544)),s=a(r(9054)),l=a(r(7790));i(r(9014),e),e.BoltProtocol=s.default,e.RawRoutingTable=l.default,e.default={handshake:o.default,create:u.default}},7714:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createFind=e.find=void 0;var n=r(7843),i=r(3111);function a(o,u,s){var l=s==="index";return function(c,f){var h=0;c.subscribe(i.createOperatorSubscriber(f,function(d){var v=h++;o.call(u,d,v,c)&&(f.next(l?v:d),f.complete())},function(){f.next(l?-1:void 0),f.complete()}))}}e.find=function(o,u){return n.operate(a(o,u,"value"))},e.createFind=a},7721:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(f,h,d,v){v===void 0&&(v=d);var y=Object.getOwnPropertyDescriptor(h,d);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(f,v,y)}:function(f,h,d,v){v===void 0&&(v=d),f[v]=h[d]}),i=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),a=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var d in f)d!=="default"&&Object.prototype.hasOwnProperty.call(f,d)&&n(h,f,d);return i(h,f),h},o=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var u=o(r(6385));e.Connection=u.default;var s=a(r(8031));e.ChannelConnection=s.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return s.createChannelConnection}});var l=o(r(9857));e.DelegateConnection=l.default;var c=o(r(2363));e.ConnectionErrorHandler=c.default,e.default=u.default},7740:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairs=void 0;var n=r(4917);e.pairs=function(i,a){return n.from(Object.entries(i),a)}},7790:function(t,e,r){var n=this&&this.__extends||function(){var l=function(c,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(h[v]=d[v])},l(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=c}l(c,f),c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),i=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),i(r(9305));var a=function(){function l(){}return l.ofRecord=function(c){return c===null?l.ofNull():new s(c)},l.ofMessageResponse=function(c){return c===null?l.ofNull():new o(c)},l.ofNull=function(){return new u},Object.defineProperty(l.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),l}();e.default=a;var o=function(l){function c(f){var h=l.call(this)||this;return h._response=f,h}return n(c,l),Object.defineProperty(c.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),c}(a),u=function(l){function c(){return l!==null&&l.apply(this,arguments)||this}return n(c,l),Object.defineProperty(c.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),c}(a),s=function(l){function c(f){var h=l.call(this)||this;return h._record=f,h}return n(c,l),Object.defineProperty(c.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),c}(a)},7800:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var n,i=r(8616),a=r(1004),o=r(1103),u=r(1018);(n=e.NotificationKind||(e.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var s=function(){function c(f,h,d){this.kind=f,this.value=h,this.error=d,this.hasValue=f==="N"}return c.prototype.observe=function(f){return l(this,f)},c.prototype.do=function(f,h,d){var v=this,y=v.kind,b=v.value,p=v.error;return y==="N"?f==null?void 0:f(b):y==="E"?h==null?void 0:h(p):d==null?void 0:d()},c.prototype.accept=function(f,h,d){var v;return u.isFunction((v=f)===null||v===void 0?void 0:v.next)?this.observe(f):this.do(f,h,d)},c.prototype.toObservable=function(){var f=this,h=f.kind,d=f.value,v=f.error,y=h==="N"?a.of(d):h==="E"?o.throwError(function(){return v}):h==="C"?i.EMPTY:0;if(!y)throw new TypeError("Unexpected notification kind "+h);return y},c.createNext=function(f){return new c("N",f)},c.createError=function(f){return new c("E",void 0,f)},c.createComplete=function(){return c.completeNotification},c.completeNotification=new c("C"),c}();function l(c,f){var h,d,v,y=c,b=y.kind,p=y.value,m=y.error;if(typeof b!="string")throw new TypeError('Invalid notification, missing "kind"');b==="N"?(h=f.next)===null||h===void 0||h.call(f,p):b==="E"?(d=f.error)===null||d===void 0||d.call(f,m):(v=f.complete)===null||v===void 0||v.call(f)}e.Notification=s,e.observeNotification=l},7815:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=void 0;var n=r(4662),i=r(9445),a=r(2483),o=r(7843),u=r(3111);e.groupBy=function(s,l,c,f){return o.operate(function(h,d){var v;l&&typeof l!="function"?(c=l.duration,v=l.element,f=l.connector):v=l;var y=new Map,b=function(E){y.forEach(E),E(d)},p=function(E){return b(function(T){return T.error(E)})},m=0,g=!1,_=new u.OperatorSubscriber(d,function(E){try{var T=s(E),w=y.get(T);if(!w){y.set(T,w=f?f():new a.Subject);var S=(R=T,D=w,(M=new n.Observable(function(I){m++;var k=D.subscribe(I);return function(){k.unsubscribe(),--m===0&&g&&_.unsubscribe()}})).key=R,M);if(d.next(S),c){var C=u.createOperatorSubscriber(w,function(){w.complete(),C==null||C.unsubscribe()},void 0,void 0,function(){return y.delete(T)});_.add(i.innerFrom(c(S)).subscribe(C))}}w.next(v?v(E):E)}catch(I){p(I)}var R,D,M},function(){return b(function(E){return E.complete()})},p,function(){return y.clear()},function(){return g=!0,m===0});h.subscribe(_)})}},7835:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retry=void 0;var n=r(7843),i=r(3111),a=r(6640),o=r(4092),u=r(9445);e.retry=function(s){var l;s===void 0&&(s=1/0);var c=(l=s&&typeof s=="object"?s:{count:s}).count,f=c===void 0?1/0:c,h=l.delay,d=l.resetOnSuccess,v=d!==void 0&&d;return f<=0?a.identity:n.operate(function(y,b){var p,m=0,g=function(){var _=!1;p=y.subscribe(i.createOperatorSubscriber(b,function(E){v&&(m=0),b.next(E)},void 0,function(E){if(m++<f){var T=function(){p?(p.unsubscribe(),p=null,g()):_=!0};if(h!=null){var w=typeof h=="number"?o.timer(h):u.innerFrom(h(E,m)),S=i.createOperatorSubscriber(b,function(){S.unsubscribe(),T()},function(){b.complete()});w.subscribe(S)}else T()}else b.error(E)})),_&&(p.unsubscribe(),p=null,g())};g()})}},7843:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.operate=e.hasLift=void 0;var n=r(1018);function i(a){return n.isFunction(a==null?void 0:a.lift)}e.hasLift=i,e.operate=function(a){return function(o){if(i(o))return o.lift(function(u){try{return a(u,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}},7853:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.using=void 0;var n=r(4662),i=r(9445),a=r(8616);e.using=function(o,u){return new n.Observable(function(s){var l=o(),c=u(l);return(c?i.innerFrom(c):a.EMPTY).subscribe(s),function(){l&&l.unsubscribe()}})}},7857:function(t,e,r){var n=this&&this.__extends||function(){var h=function(d,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},h(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}h(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.WRITE=e.READ=e.Driver=void 0;var a=r(9305),o=i(r(3466)),u=a.internal.constants.FETCH_ALL,s=a.driver.READ,l=a.driver.WRITE;e.READ=s,e.WRITE=l;var c=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return n(d,h),d.prototype.rxSession=function(v){var y=v===void 0?{}:v,b=y.defaultAccessMode,p=b===void 0?l:b,m=y.bookmarks,g=y.database,_=g===void 0?"":g,E=y.fetchSize,T=y.impersonatedUser,w=y.bookmarkManager,S=y.notificationFilter,C=y.auth;return new o.default({session:this._newSession({defaultAccessMode:p,bookmarkOrBookmarks:m,database:_,impersonatedUser:T,auth:C,reactive:!1,fetchSize:f(E,this._config.fetchSize),bookmarkManager:w,notificationFilter:S,log:this._log}),config:this._config,log:this._log})},d}(a.Driver);function f(h,d){var v=parseInt(h,10);if(v>0||v===u)return v;if(v===0||v<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(v));return d}e.Driver=c,e.default=c},7961:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var n=r(5267),i=r(5648);e.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),e.async=e.asyncScheduler},7991:(t,e)=>{e.byteLength=function(c){var f=u(c),h=f[0],d=f[1];return 3*(h+d)/4-d},e.toByteArray=function(c){var f,h,d=u(c),v=d[0],y=d[1],b=new i(function(g,_,E){return 3*(_+E)/4-E}(0,v,y)),p=0,m=y>0?v-4:v;for(h=0;h<m;h+=4)f=n[c.charCodeAt(h)]<<18|n[c.charCodeAt(h+1)]<<12|n[c.charCodeAt(h+2)]<<6|n[c.charCodeAt(h+3)],b[p++]=f>>16&255,b[p++]=f>>8&255,b[p++]=255&f;return y===2&&(f=n[c.charCodeAt(h)]<<2|n[c.charCodeAt(h+1)]>>4,b[p++]=255&f),y===1&&(f=n[c.charCodeAt(h)]<<10|n[c.charCodeAt(h+1)]<<4|n[c.charCodeAt(h+2)]>>2,b[p++]=f>>8&255,b[p++]=255&f),b},e.fromByteArray=function(c){for(var f,h=c.length,d=h%3,v=[],y=16383,b=0,p=h-d;b<p;b+=y)v.push(l(c,b,b+y>p?p:b+y));return d===1?(f=c[h-1],v.push(r[f>>2]+r[f<<4&63]+"==")):d===2&&(f=(c[h-2]<<8)+c[h-1],v.push(r[f>>10]+r[f>>4&63]+r[f<<2&63]+"=")),v.join("")};for(var r=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function u(c){var f=c.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=c.indexOf("=");return h===-1&&(h=f),[h,h===f?0:4-h%4]}function s(c){return r[c>>18&63]+r[c>>12&63]+r[c>>6&63]+r[63&c]}function l(c,f,h){for(var d,v=[],y=f;y<h;y+=3)d=(c[y]<<16&16711680)+(c[y+1]<<8&65280)+(255&c[y+2]),v.push(s(d));return v.join("")}n[45]=62,n[95]=63},8014:function(t,e,r){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,d=h&&f[h],v=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&v>=f.length&&(f=void 0),{value:f&&f[v++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(f,h){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var v,y,b=d.call(f),p=[];try{for(;(h===void 0||h-- >0)&&!(v=b.next()).done;)p.push(v.value)}catch(m){y={error:m}}finally{try{v&&!v.done&&(d=b.return)&&d.call(b)}finally{if(y)throw y.error}}return p},a=this&&this.__spreadArray||function(f,h){for(var d=0,v=h.length,y=f.length;d<v;d++,y++)f[y]=h[d];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.isSubscription=e.EMPTY_SUBSCRIPTION=e.Subscription=void 0;var o=r(1018),u=r(5788),s=r(7479),l=function(){function f(d){this.initialTeardown=d,this.closed=!1,this._parentage=null,this._finalizers=null}var h;return f.prototype.unsubscribe=function(){var d,v,y,b,p;if(!this.closed){this.closed=!0;var m=this._parentage;if(m)if(this._parentage=null,Array.isArray(m))try{for(var g=n(m),_=g.next();!_.done;_=g.next())_.value.remove(this)}catch(R){d={error:R}}finally{try{_&&!_.done&&(v=g.return)&&v.call(g)}finally{if(d)throw d.error}}else m.remove(this);var E=this.initialTeardown;if(o.isFunction(E))try{E()}catch(R){p=R instanceof u.UnsubscriptionError?R.errors:[R]}var T=this._finalizers;if(T){this._finalizers=null;try{for(var w=n(T),S=w.next();!S.done;S=w.next()){var C=S.value;try{c(C)}catch(R){p=p??[],R instanceof u.UnsubscriptionError?p=a(a([],i(p)),i(R.errors)):p.push(R)}}}catch(R){y={error:R}}finally{try{S&&!S.done&&(b=w.return)&&b.call(w)}finally{if(y)throw y.error}}}if(p)throw new u.UnsubscriptionError(p)}},f.prototype.add=function(d){var v;if(d&&d!==this)if(this.closed)c(d);else{if(d instanceof f){if(d.closed||d._hasParent(this))return;d._addParent(this)}(this._finalizers=(v=this._finalizers)!==null&&v!==void 0?v:[]).push(d)}},f.prototype._hasParent=function(d){var v=this._parentage;return v===d||Array.isArray(v)&&v.includes(d)},f.prototype._addParent=function(d){var v=this._parentage;this._parentage=Array.isArray(v)?(v.push(d),v):v?[v,d]:d},f.prototype._removeParent=function(d){var v=this._parentage;v===d?this._parentage=null:Array.isArray(v)&&s.arrRemove(v,d)},f.prototype.remove=function(d){var v=this._finalizers;v&&s.arrRemove(v,d),d instanceof f&&d._removeParent(this)},f.EMPTY=((h=new f).closed=!0,h),f}();function c(f){o.isFunction(f)?f():f.unsubscribe()}e.Subscription=l,e.EMPTY_SUBSCRIPTION=l.EMPTY,e.isSubscription=function(f){return f instanceof l||f&&"closed"in f&&o.isFunction(f.remove)&&o.isFunction(f.add)&&o.isFunction(f.unsubscribe)}},8015:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=void 0;var n=r(7843),i=r(1342),a=r(3111),o=r(9445);e.buffer=function(u){return n.operate(function(s,l){var c=[];return s.subscribe(a.createOperatorSubscriber(l,function(f){return c.push(f)},function(){l.next(c),l.complete()})),o.innerFrom(u).subscribe(a.createOperatorSubscriber(l,function(){var f=c;c=[],l.next(f)},i.noop)),function(){c=null}})}},8031:function(t,e,r){var n=this&&this.__extends||function(){var y=function(b,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(m[_]=g[_])},y(b,p)};return function(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function m(){this.constructor=b}y(b,p),b.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),i=this&&this.__awaiter||function(y,b,p,m){return new(p||(p=Promise))(function(g,_){function E(S){try{w(m.next(S))}catch(C){_(C)}}function T(S){try{w(m.throw(S))}catch(C){_(C)}}function w(S){var C;S.done?g(S.value):(C=S.value,C instanceof p?C:new p(function(R){R(C)})).then(E,T)}w((m=m.apply(y,b||[])).next())})},a=this&&this.__generator||function(y,b){var p,m,g,_,E={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return _={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function T(w){return function(S){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;_&&(_=0,C[0]&&(E=0)),E;)try{if(p=1,m&&(g=2&C[0]?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,m=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(!((g=(g=E.trys).length>0&&g[g.length-1])||C[0]!==6&&C[0]!==2)){E=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){E.label=C[1];break}if(C[0]===6&&E.label<g[1]){E.label=g[1],g=C;break}if(g&&E.label<g[2]){E.label=g[2],E.ops.push(C);break}g[2]&&E.ops.pop(),E.trys.pop();continue}C=b.call(y,E)}catch(R){C=[6,R],m=0}finally{p=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([w,S])}}},o=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=void 0;var u=r(7452),s=r(9305),l=o(r(6385)),c=o(r(7666)),f=s.error.PROTOCOL_ERROR,h=s.internal.logger.Logger,d=0;e.createChannelConnection=function(y,b,p,m,g,_,E,T){_===void 0&&(_=null),T===void 0&&(T=function(S){return new u.Channel(S)});var w=T(new u.ChannelConfig(y,b,p.errorCode(),g));return c.default.handshake(w,m).then(function(S){var C=S.protocolVersion,R=S.consumeRemainingBuffer,D=new u.Chunker(w),M=new u.Dechunker,I=new v(w,p,y,m,b.disableLosslessIntegers,_,D,b.notificationFilter,function(k){return c.default.create({version:C,channel:w,chunker:D,dechunker:M,disableLosslessIntegers:b.disableLosslessIntegers,useBigInt:b.useBigInt,serversideRouting:_,server:k.server,log:k.logger,observer:{onObserversCountChange:k._handleOngoingRequestsNumberChange.bind(k),onError:k._handleFatalError.bind(k),onFailure:k._resetOnFailure.bind(k),onProtocolError:k._handleProtocolError.bind(k),onErrorApplyTransformation:function(U){return k.handleAndTransformError(U,k._address)}}})},b.telemetryDisabled,E);return R(function(k){return M.write(k)}),I}).catch(function(S){return w.close().then(function(){throw S})})};var v=function(y){function b(p,m,g,_,E,T,w,S,C,R,D){E===void 0&&(E=!1),T===void 0&&(T=null),D===void 0&&(D=function(U){});var M,I,k=y.call(this,m)||this;return k._authToken=null,k._idle=!1,k._reseting=!1,k._resetObservers=[],k._id=d++,k._address=g,k._server={address:g.asHostPort()},k._creationTimestamp=Date.now(),k._disableLosslessIntegers=E,k._ch=p,k._chunker=w,k._log=(M=k,new h((I=_)._level,function(U,F){return I._loggerFunction(U,"".concat(M," ").concat(F))})),k._serversideRouting=T,k._notificationFilter=S,k._telemetryDisabledDriverConfig=R===!0,k._telemetryDisabledConnection=!0,k._ssrCallback=D,k._dbConnectionId=null,k._protocol=C(k),k._isBroken=!1,k._log.isDebugEnabled()&&k._log.debug("created towards ".concat(g)),k}return n(b,y),b.prototype.beginTransaction=function(p){return this._sendTelemetryIfEnabled(p),this._protocol.beginTransaction(p)},b.prototype.run=function(p,m,g){return this._sendTelemetryIfEnabled(g),this._protocol.run(p,m,g)},b.prototype._sendTelemetryIfEnabled=function(p){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||p==null||p.apiTelemetryConfig==null||this._protocol.telemetry({api:p.apiTelemetryConfig.api},{onCompleted:p.apiTelemetryConfig.onTelemetrySuccess,onError:p.beforeError})},b.prototype.commitTransaction=function(p){return this._protocol.commitTransaction(p)},b.prototype.rollbackTransaction=function(p){return this._protocol.rollbackTransaction(p)},b.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(b.prototype,"authToken",{get:function(){return this._authToken},set:function(p){this._authToken=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(p){this._dbConnectionId=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(p){this._idleTimestamp=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),b.prototype.connect=function(p,m,g,_){return i(this,void 0,void 0,function(){var E=this;return a(this,function(T){switch(T.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,s.newError)("Connection does not support re-auth");return this._authToken=g,this._protocol.initialized?[3,2]:[4,this._initialize(p,m,g)];case 1:case 3:return[2,T.sent()];case 2:return _?[4,new Promise(function(w,S){E._protocol.logoff({onError:S}),E._protocol.logon({authToken:g,onError:S,onComplete:function(){return w(E)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:g,flush:!0}),[2,this]}})})},b.prototype._initialize=function(p,m,g){var _=this,E=this;return new Promise(function(T,w){_._protocol.initialize({userAgent:p,boltAgent:m,authToken:g,notificationFilter:_._notificationFilter,onError:function(S){return w(S)},onComplete:function(S){var C;if(S){var R=S.server;_.version&&!R||(_.version=R);var D=S.connection_id;if(_.databaseId||(_.databaseId=D),S.hints){var M=S.hints["connection.recv_timeout_seconds"];if(M!=null){var I=(0,s.toNumber)(M);Number.isInteger(I)&&I>0?_._ch.setupReceiveTimeout(1e3*I):_._log.info("Server located at ".concat(_._address," supplied an invalid connection receive timeout value (").concat(I,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}S.hints["telemetry.enabled"]===!0&&(_._telemetryDisabledConnection=!1),_.SSREnabledHint=S.hints["ssr.enabled"]}_._ssrCallback((C=_.SSREnabledHint)!==null&&C!==void 0&&C,"OPEN")}T(E)}})})},b.prototype.protocol=function(){return this._protocol},Object.defineProperty(b.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"version",{get:function(){return this._server.version},set:function(p){this._server.version=p},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),b.prototype._handleFatalError=function(p){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||p,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(s.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},b.prototype._setIdle=function(p){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(p)},b.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},b.prototype._queueObserver=function(p){return this._protocol.queueObserverIfProtocolIsNotBroken(p)},b.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},b.prototype.resetAndFlush=function(){var p=this;return new Promise(function(m,g){p._reset({onError:function(_){if(p._isBroken)g(_);else{var E=p._handleProtocolError("Received FAILURE as a response for RESET: ".concat(_));g(E)}},onComplete:function(){m()}})})},b.prototype._resetOnFailure=function(){var p=this;this.isOpen()&&this._reset({onError:function(){p._protocol.resetFailure()},onComplete:function(){p._protocol.resetFailure()}})},b.prototype._reset=function(p){var m=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(p):this._protocol.reset({onError:function(_){p.onError(_)},onComplete:function(){p.onComplete()}});else{this._resetObservers.push(p),this._reseting=!0;var g=function(_){m._reseting=!1;var E=m._resetObservers;m._resetObservers=[],E.forEach(_)};this._protocol.reset({onError:function(_){g(function(E){return E.onError(_)})},onComplete:function(){g(function(_){return _.onComplete()})}})}},b.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},b.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},b.prototype._handleOngoingRequestsNumberChange=function(p){this._idle||(p===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},b.prototype.close=function(){var p;return i(this,void 0,void 0,function(){return a(this,function(m){switch(m.label){case 0:return this._ssrCallback((p=this.SSREnabledHint)!==null&&p!==void 0&&p,"CLOSE"),this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return m.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},b.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},b.prototype._handleProtocolError=function(p){this._protocol.resetFailure(),this._updateCurrentObserver();var m=(0,s.newError)(p,f);return this._handleFatalError(m),m},b}(l.default);e.default=v},8046:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=void 0,e.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}},8079:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounceTime=void 0;var n=r(7961),i=r(7843),a=r(3111);e.debounceTime=function(o,u){return u===void 0&&(u=n.asyncScheduler),i.operate(function(s,l){var c=null,f=null,h=null,d=function(){if(c){c.unsubscribe(),c=null;var y=f;f=null,l.next(y)}};function v(){var y=h+o,b=u.now();if(b<y)return c=this.schedule(void 0,y-b),void l.add(c);d()}s.subscribe(a.createOperatorSubscriber(l,function(y){f=y,h=u.now(),c||(c=u.schedule(v,o),l.add(c))},function(){d(),l.complete()},void 0,function(){f=c=null}))})}},8118:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.catchError=void 0;var n=r(9445),i=r(3111),a=r(7843);e.catchError=function o(u){return a.operate(function(s,l){var c,f=null,h=!1;f=s.subscribe(i.createOperatorSubscriber(l,void 0,void 0,function(d){c=n.innerFrom(u(d,o(u)(s))),f?(f.unsubscribe(),f=null,c.subscribe(l)):h=!0})),h&&(f.unsubscribe(),f=null,c.subscribe(l))})}},8157:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishReplay=void 0;var n=r(1242),i=r(9247),a=r(1018);e.publishReplay=function(o,u,s,l){s&&!a.isFunction(s)&&(l=s);var c=a.isFunction(s)?s:void 0;return function(f){return i.multicast(new n.ReplaySubject(o,u,l),c)(f)}}},8158:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatAll=void 0;var n=r(7302);e.concatAll=function(){return n.mergeAll(1)}},8208:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowTime=void 0;var n=r(2483),i=r(7961),a=r(8014),o=r(7843),u=r(3111),s=r(7479),l=r(1107),c=r(7110);e.windowTime=function(f){for(var h,d,v=[],y=1;y<arguments.length;y++)v[y-1]=arguments[y];var b=(h=l.popScheduler(v))!==null&&h!==void 0?h:i.asyncScheduler,p=(d=v[0])!==null&&d!==void 0?d:null,m=v[1]||1/0;return o.operate(function(g,_){var E=[],T=!1,w=function(D){var M=D.window,I=D.subs;M.complete(),I.unsubscribe(),s.arrRemove(E,D),T&&S()},S=function(){if(E){var D=new a.Subscription;_.add(D);var M=new n.Subject,I={window:M,subs:D,seen:0};E.push(I),_.next(M.asObservable()),c.executeSchedule(D,b,function(){return w(I)},f)}};p!==null&&p>=0?c.executeSchedule(_,b,S,p,!0):T=!0,S();var C=function(D){return E.slice().forEach(D)},R=function(D){C(function(M){var I=M.window;return D(I)}),D(_),_.unsubscribe()};return g.subscribe(u.createOperatorSubscriber(_,function(D){C(function(M){M.window.next(D),m<=++M.seen&&w(M)})},function(){return R(function(D){return D.complete()})},function(D){return R(function(M){return M.error(D)})})),function(){E=null}})}},8239:function(t,e,r){var n=this&&this.__read||function(o,u){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var l,c,f=s.call(o),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,u){for(var s=0,l=u.length,c=o.length;s<l;s++,c++)o[c]=u[s];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestWith=void 0;var a=r(2551);e.combineLatestWith=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a.combineLatest.apply(void 0,i([],n(o)))}},8253:function(t,e,r){var n=this&&this.__read||function(o,u){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var l,c,f=s.call(o),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,u){for(var s=0,l=u.length,c=o.length;s<l;s++,c++)o[c]=u[s];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.mergeWith=void 0;var a=r(361);e.mergeWith=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a.merge.apply(void 0,i([],n(o)))}},8264:function(t,e,r){var n=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(_[T]=E[T])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function _(){this.constructor=m}p(m,g),m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(p){for(var m,g=1,_=arguments.length;g<_;g++)for(var E in m=arguments[g])Object.prototype.hasOwnProperty.call(m,E)&&(p[E]=m[E]);return p},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(p,m,g,_){_===void 0&&(_=g);var E=Object.getOwnPropertyDescriptor(m,g);E&&!("get"in E?!m.__esModule:E.writable||E.configurable)||(E={enumerable:!0,get:function(){return m[g]}}),Object.defineProperty(p,_,E)}:function(p,m,g,_){_===void 0&&(_=g),p[_]=m[g]}),o=this&&this.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),u=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var g in p)g!=="default"&&Object.prototype.hasOwnProperty.call(p,g)&&a(m,p,g);return o(m,p),m};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveCertificateProvider=e.clientCertificateProviders=e.RotatingClientCertificateProvider=e.ClientCertificateProvider=void 0;var s=u(r(4027));e.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var l=function(){function p(){}return p.prototype.hasUpdate=function(){throw new Error("Not Implemented")},p.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},p}();e.ClientCertificateProvider=l;var c=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return n(m,p),m.prototype.updateCertificate=function(g){throw new Error("Not implemented")},m}(l);e.RotatingClientCertificateProvider=c;var f=new(function(){function p(){}return p.prototype.rotating=function(m){var g=m.initialCertificate;if(g==null||!h(g))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(s.stringify(g)));var _=i({},g);return new b(_)},p}());function h(p){return p!=null&&typeof p=="object"&&"certfile"in p&&(d(m=p.certfile)||v(m,d))&&"keyfile"in p&&function(g){function _(E){return typeof E=="string"||E!=null&&typeof E=="object"&&"path"in E&&typeof E.path=="string"&&y("password",E)}return _(g)||v(g,_)}(p.keyfile)&&y("password",p);var m}function d(p){return typeof p=="string"}function v(p,m,g){return g===void 0&&(g=!1),Array.isArray(p)&&(g||p.length>0)&&p.filter(m).length===p.length}function y(p,m){return!(p in m)||m[p]==null||typeof m[p]=="string"}e.clientCertificateProviders=f,Object.freeze(f),e.resolveCertificateProvider=function(p){if(p!=null){if(typeof p=="object"&&"hasUpdate"in p&&"getClientCertificate"in p&&typeof p.getClientCertificate=="function"&&typeof p.hasUpdate=="function")return p;if(h(p)){var m=i({},p);return{getClientCertificate:function(){return m},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(s.stringify(p)))}};var b=function(){function p(m,g){g===void 0&&(g=!1),this._certificate=m,this._updated=g}return p.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},p.prototype.getClientCertificate=function(){return this._certificate},p.prototype.updateCertificate=function(m){if(!h(m))throw new TypeError("certificate should be ClientCertificate, but got ".concat(s.stringify(m)));this._certificate=i({},m),this._updated=!0},p}()},8275:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.first=void 0;var n=r(2823),i=r(783),a=r(846),o=r(378),u=r(4869),s=r(6640);e.first=function(l,c){var f=arguments.length>=2;return function(h){return h.pipe(l?i.filter(function(d,v){return l(d,v,h)}):s.identity,a.take(1),f?o.defaultIfEmpty(c):u.throwIfEmpty(function(){return new n.EmptyError}))}}},8320:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(T){for(var w,S=1,C=arguments.length;S<C;S++)for(var R in w=arguments[S])Object.prototype.hasOwnProperty.call(w,R)&&(T[R]=w[R]);return T},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(T,w,S,C){C===void 0&&(C=S);var R=Object.getOwnPropertyDescriptor(w,S);R&&!("get"in R?!w.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(T,C,R)}:function(T,w,S,C){C===void 0&&(C=S),T[C]=w[S]}),a=this&&this.__setModuleDefault||(Object.create?function(T,w){Object.defineProperty(T,"default",{enumerable:!0,value:w})}:function(T,w){T.default=w}),o=this&&this.__importStar||function(T){if(T&&T.__esModule)return T;var w={};if(T!=null)for(var S in T)S!=="default"&&Object.prototype.hasOwnProperty.call(T,S)&&i(w,T,S);return a(w,T),w},u=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(397),l=(r(7452),r(7168)),c=o(r(7021)),f=r(9014),h=r(9305),d=u(r(6661)),v=u(r(3321)),y=h.internal.bookmarks.Bookmarks,b=h.internal.constants,p=b.ACCESS_MODE_WRITE,m=b.BOLT_PROTOCOL_V1,g=(h.internal.logger.Logger,h.internal.txConfig.TxConfig),_=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),E=function(){function T(w,S,C,R,D,M){var I=C===void 0?{}:C,k=I.disableLosslessIntegers,U=I.useBigInt;R===void 0&&(R=function(){return null}),this._server=w||{},this._chunker=S,this._packer=this._createPacker(S),this._unpacker=this._createUnpacker(k,U),this._responseHandler=R(this),this._log=D,this._onProtocolError=M,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:k,useBigInt:U}}return Object.defineProperty(T.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new v.default(Object.values(d.default).map(function(S){return S(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"version",{get:function(){return m},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),T.prototype.packer=function(){return this._packer},T.prototype.packable=function(w){return this._packer.packable(w,this.transformer.toStructure)},T.prototype.unpacker=function(){return this._unpacker},T.prototype.unpack=function(w){return this._unpacker.unpack(w,this.transformer.fromStructure)},T.prototype.transformMetadata=function(w){return w},T.prototype.enrichErrorMetadata=function(w){return n(n({},w),{diagnostic_record:w.diagnostic_record!==null?n(n({},_),w.diagnostic_record):null})},T.prototype.initialize=function(w){var S=this,C=w===void 0?{}:w,R=C.userAgent,D=(C.boltAgent,C.authToken),M=C.notificationFilter,I=C.onError,k=C.onComplete,U=new f.LoginObserver({onError:function(F){return S._onLoginError(F,I)},onCompleted:function(F){return S._onLoginCompleted(F,k)}});return(0,s.assertNotificationFilterIsEmpty)(M,this._onProtocolError,U),this.write(c.default.init(R,D),U,!0),U},T.prototype.logoff=function(w){var S=w===void 0?{}:w,C=S.onComplete,R=S.onError,D=(S.flush,new f.LogoffObserver({onCompleted:C,onError:R})),M=(0,h.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(M.message),D.onError(M),M},T.prototype.logon=function(w){var S=this,C=w===void 0?{}:w,R=C.authToken,D=C.onComplete,M=C.onError,I=(C.flush,new f.LoginObserver({onCompleted:function(){return S._onLoginCompleted({},R,D)},onError:function(U){return S._onLoginError(U,M)}})),k=(0,h.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(k.message),I.onError(k),k},T.prototype.prepareToClose=function(){},T.prototype.beginTransaction=function(w){var S=w===void 0?{}:w,C=S.bookmarks,R=S.txConfig,D=S.database,M=S.mode,I=S.impersonatedUser,k=S.notificationFilter,U=S.beforeError,F=S.afterError,B=S.beforeComplete,z=S.afterComplete;return this.run("BEGIN",C?C.asBeginTransactionParameters():{},{bookmarks:C,txConfig:R,database:D,mode:M,impersonatedUser:I,notificationFilter:k,beforeError:U,afterError:F,beforeComplete:B,afterComplete:z,flush:!1})},T.prototype.commitTransaction=function(w){var S=w===void 0?{}:w,C=S.beforeError,R=S.afterError,D=S.beforeComplete,M=S.afterComplete;return this.run("COMMIT",{},{bookmarks:y.empty(),txConfig:g.empty(),mode:p,beforeError:C,afterError:R,beforeComplete:D,afterComplete:M})},T.prototype.rollbackTransaction=function(w){var S=w===void 0?{}:w,C=S.beforeError,R=S.afterError,D=S.beforeComplete,M=S.afterComplete;return this.run("ROLLBACK",{},{bookmarks:y.empty(),txConfig:g.empty(),mode:p,beforeError:C,afterError:R,beforeComplete:D,afterComplete:M})},T.prototype.run=function(w,S,C){var R=C===void 0?{}:C,D=(R.bookmarks,R.txConfig),M=R.database,I=(R.mode,R.impersonatedUser),k=R.notificationFilter,U=R.beforeKeys,F=R.afterKeys,B=R.beforeError,z=R.afterError,H=R.beforeComplete,Y=R.afterComplete,W=R.flush,Z=W===void 0||W,le=R.highRecordWatermark,ce=le===void 0?Number.MAX_VALUE:le,ue=R.lowRecordWatermark,de=ue===void 0?Number.MAX_VALUE:ue,he=new f.ResultStreamObserver({server:this._server,beforeKeys:U,afterKeys:F,beforeError:B,afterError:z,beforeComplete:H,afterComplete:Y,highRecordWatermark:ce,lowRecordWatermark:de});return(0,s.assertTxConfigIsEmpty)(D,this._onProtocolError,he),(0,s.assertDatabaseIsEmpty)(M,this._onProtocolError,he),(0,s.assertImpersonatedUserIsEmpty)(I,this._onProtocolError,he),(0,s.assertNotificationFilterIsEmpty)(k,this._onProtocolError,he),this.write(c.default.run(w,S),he,!1),this.write(c.default.pullAll(),he,Z),he},Object.defineProperty(T.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),T.prototype.reset=function(w){var S=w===void 0?{}:w,C=S.onError,R=S.onComplete,D=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:C,onComplete:R});return this.write(c.default.reset(),D,!0),D},T.prototype.telemetry=function(w,S){w.api;var C=S===void 0?{}:S,R=(C.onError,C.onCompleted),D=new f.CompletedObserver;return R&&R(),D},T.prototype._createPacker=function(w){return new l.v1.Packer(w)},T.prototype._createUnpacker=function(w,S){return new l.v1.Unpacker(w,S)},T.prototype.write=function(w,S,C){if(this.queueObserverIfProtocolIsNotBroken(S)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(w)),this._lastMessageSignature=w.signature;var R=new l.structure.Structure(w.signature,w.fields);this.packable(R)(),this._chunker.messageBoundary(),C&&this._chunker.flush()}},T.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},T.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},T.prototype.notifyFatalError=function(w){return this._fatalError=w,this._responseHandler._notifyErrorToObservers(w)},T.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},T.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},T.prototype.queueObserverIfProtocolIsNotBroken=function(w){return this.isBroken()?(this.notifyFatalErrorToObserver(w),!1):this._responseHandler._queueObserver(w)},T.prototype.isBroken=function(){return!!this._fatalError},T.prototype.notifyFatalErrorToObserver=function(w){w&&w.onError&&w.onError(this._fatalError)},T.prototype.resetFailure=function(){this._responseHandler._resetFailure()},T.prototype._onLoginCompleted=function(w,S,C){if(this._initialized=!0,this._authToken=S,w){var R=w.server;this._server.version||(this._server.version=R)}C&&C(w)},T.prototype._onLoginError=function(w,S){this._onProtocolError(w.message),S&&S(w)},T}();e.default=E},8330:function(t,e,r){var n=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&u[s],c=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.takeLast=void 0;var i=r(8616),a=r(7843),o=r(3111);e.takeLast=function(u){return u<=0?function(){return i.EMPTY}:a.operate(function(s,l){var c=[];s.subscribe(o.createOperatorSubscriber(l,function(f){c.push(f),u<c.length&&c.shift()},function(){var f,h;try{for(var d=n(c),v=d.next();!v.done;v=d.next()){var y=v.value;l.next(y)}}catch(b){f={error:b}}finally{try{v&&!v.done&&(h=d.return)&&h.call(d)}finally{if(f)throw f.error}}l.complete()},void 0,function(){c=null}))})}},8341:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(7509);function i(o){return Promise.resolve([o])}var a=function(){function o(u){this._resolverFunction=u??i}return o.prototype.resolve=function(u){var s=this;return new Promise(function(l){return l(s._resolverFunction(u.asHostPort()))}).then(function(l){if(!Array.isArray(l))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(l));return l.map(function(c){return n.ServerAddress.fromUrl(c)})})},o}();e.default=a},8522:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeat=void 0;var n=r(8616),i=r(7843),a=r(3111),o=r(9445),u=r(4092);e.repeat=function(s){var l,c,f=1/0;return s!=null&&(typeof s=="object"?(l=s.count,f=l===void 0?1/0:l,c=s.delay):f=s),f<=0?function(){return n.EMPTY}:i.operate(function(h,d){var v,y=0,b=function(){if(v==null||v.unsubscribe(),v=null,c!=null){var m=typeof c=="number"?u.timer(c):o.innerFrom(c(y)),g=a.createOperatorSubscriber(d,function(){g.unsubscribe(),p()});m.subscribe(g)}else p()},p=function(){var m=!1;v=h.subscribe(a.createOperatorSubscriber(d,void 0,function(){++y<f?v?b():m=!0:d.complete()})),m&&b()};p()})}},8535:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsOrArgArray=void 0;var r=Array.isArray;e.argsOrArgArray=function(n){return n.length===1&&r(n[0])?n[0]:n}},8538:function(t,e,r){var n=this&&this.__read||function(o,u){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var l,c,f=s.call(o),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,u){for(var s=0,l=u.length,c=o.length;s<l;s++,c++)o[c]=u[s];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.zipWith=void 0;var a=r(5918);e.zipWith=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a.zip.apply(void 0,i([],n(o)))}},8561:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindNodeCallback=void 0;var n=r(1439);e.bindNodeCallback=function(i,a,o){return n.bindCallbackInternals(!0,i,a,o)}},8613:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=void 0;var n=r(1018);e.isScheduler=function(i){return i&&n.isFunction(i.schedule)}},8616:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var n=r(4662);e.EMPTY=new n.Observable(function(i){return i.complete()}),e.empty=function(i){return i?function(a){return new n.Observable(function(o){return a.schedule(function(){return o.complete()})})}(i):e.EMPTY}},8624:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scan=void 0;var n=r(7843),i=r(6384);e.scan=function(a,o){return n.operate(i.scanInternals(a,o,arguments.length>=2,!0))}},8655:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var n=r(4662),i=r(1342);e.NEVER=new n.Observable(i.noop),e.never=function(){return e.NEVER}},8669:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.last=void 0;var n=r(2823),i=r(783),a=r(8330),o=r(4869),u=r(378),s=r(6640);e.last=function(l,c){var f=arguments.length>=2;return function(h){return h.pipe(l?i.filter(function(d,v){return l(d,v,h)}):s.identity,a.takeLast(1),f?u.defaultIfEmpty(c):o.throwIfEmpty(function(){return new n.EmptyError}))}}},8712:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchScan=void 0;var n=r(3879),i=r(7843);e.switchScan=function(a,o){return i.operate(function(u,s){var l=o;return n.switchMap(function(c,f){return a(l,c,f)},function(c,f){return l=f,f})(u).subscribe(s),function(){l=null}})}},8731:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(7452),i=r(9305),a=["5.8","5.7","5.6","5.4","5.3","5.2","5.1","5.0","4.4","4.3","4.2","3.0"];function o(s,l){return{major:s,minor:l}}function u(s){for(var l=[],c=s[3],f=s[2],h=0;h<=s[1];h++)l.push({major:c,minor:f-h});return l}e.default=function(s,l){return function(c,f){var h=this;return new Promise(function(d,v){var y=function(b){v(b)};c.onerror=y.bind(h),c._error&&y(c._error),c.onmessage=function(b){try{var p=function(m,g){var _=[m.readUInt8(),m.readUInt8(),m.readUInt8(),m.readUInt8()];if(_[0]===72&&_[1]===84&&_[2]===84&&_[3]===80)throw g.error("Handshake failed since server responded with HTTP."),(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return+(_[3]+"."+_[2])}(b,f);d({protocolVersion:p,capabilites:0,buffer:b,consumeRemainingBuffer:function(m){b.hasRemaining()&&m(b.readSlice(b.remaining()))}})}catch(m){v(m)}},c.write(function(b){if(b.length>4)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var p=(0,n.alloc)(20);return p.writeInt32(1616949271),b.forEach(function(m){if(m instanceof Array){var g=m[0],_=g.major,E=(T=g.minor)-m[1].minor;p.writeInt32(E<<16|T<<8|_)}else{_=m.major;var T=m.minor;p.writeInt32(T<<8|_)}}),p.reset(),p}([o(255,1),[o(5,8),o(5,0)],[o(4,4),o(4,2)],o(3,0)]))})}(s,l).then(function(c){return c.protocolVersion===255.1?function(f,h){for(var d=h.readVarInt(),v=[],y=0;y<d;y++){var b=[h.readUInt8(),h.readUInt8(),h.readUInt8(),h.readUInt8()];v=v.concat(u(b))}h.readVarInt();var p=0,m=0;for(v.sort(function(_,E){return Number(_.major)!==Number(E.major)?Number(E.major)-Number(_.major):Number(E.minor)-Number(_.minor)}),y=0;y<v.length;y++){var g=v[y];if(a.includes(g.major+"."+g.minor)){p=g.major,m=g.minor;break}}return new Promise(function(_,E){try{var T=(0,n.alloc)(5);T.writeInt32(m<<8|p),T.writeVarInt(0),f.write(T),_({protocolVersion:+(p+"."+m),capabilites:0,consumeRemainingBuffer:function(w){h.hasRemaining()&&w(h.readSlice(h.remaining()))}})}catch(w){E(w)}})}(s,c.buffer):c})}},8766:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delayWhen=void 0;var n=r(3865),i=r(846),a=r(490),o=r(3218),u=r(983),s=r(9445);e.delayWhen=function l(c,f){return f?function(h){return n.concat(f.pipe(i.take(1),a.ignoreElements()),h.pipe(l(c)))}:u.mergeMap(function(h,d){return s.innerFrom(c(h,d)).pipe(i.take(1),o.mapTo(h))})}},8774:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchAll=void 0;var n=r(3879),i=r(6640);e.switchAll=function(){return n.switchMap(i.identity)}},8784:(t,e,r)=>{var n=r(4704);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},8808:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleIterable=void 0;var n=r(4662),i=r(1964),a=r(1018),o=r(7110);e.scheduleIterable=function(u,s){return new n.Observable(function(l){var c;return o.executeSchedule(l,s,function(){c=u[i.iterator](),o.executeSchedule(l,s,function(){var f,h,d;try{h=(f=c.next()).value,d=f.done}catch(v){return void l.error(v)}d?l.complete():l.next(h)},0,!0)}),function(){return a.isFunction(c==null?void 0:c.return)&&c.return()}})}},8813:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(fi,fu,no,ja){ja===void 0&&(ja=no),Object.defineProperty(fi,ja,{enumerable:!0,get:function(){return fu[no]}})}:function(fi,fu,no,ja){ja===void 0&&(ja=no),fi[ja]=fu[no]}),i=this&&this.__exportStar||function(fi,fu){for(var no in fi)no==="default"||Object.prototype.hasOwnProperty.call(fu,no)||n(fu,fi,no)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var a=r(4662);Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return a.Observable}});var o=r(8918);Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return o.ConnectableObservable}});var u=r(3327);Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return u.observable}});var s=r(3110);Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var l=r(2483);Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=r(1637);Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=r(1242);Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var h=r(95);Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return h.AsyncSubject}});var d=r(3692);Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var v=r(7961);Object.defineProperty(e,"async",{enumerable:!0,get:function(){return v.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return v.asyncScheduler}});var y=r(2886);Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return y.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return y.queueScheduler}});var b=r(3862);Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return b.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return b.animationFrameScheduler}});var p=r(182);Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return p.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return p.VirtualAction}});var m=r(8986);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var g=r(8014);Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return g.Subscription}});var _=r(5);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var E=r(7800);Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return E.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return E.NotificationKind}});var T=r(2706);Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return T.pipe}});var w=r(1342);Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return w.noop}});var S=r(6640);Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return S.identity}});var C=r(1751);Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return C.isObservable}});var R=r(6894);Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return R.lastValueFrom}});var D=r(9060);Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return D.firstValueFrom}});var M=r(7057);Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return M.ArgumentOutOfRangeError}});var I=r(2823);Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return I.EmptyError}});var k=r(1759);Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return k.NotFoundError}});var U=r(9686);Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return U.ObjectUnsubscribedError}});var F=r(1505);Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return F.SequenceError}});var B=r(1554);Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return B.TimeoutError}});var z=r(5788);Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return z.UnsubscriptionError}});var H=r(2713);Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return H.bindCallback}});var Y=r(8561);Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return Y.bindNodeCallback}});var W=r(3247);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return W.combineLatest}});var Z=r(3865);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return Z.concat}});var le=r(7579);Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return le.connectable}});var ce=r(9353);Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return ce.defer}});var ue=r(8616);Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return ue.empty}});var de=r(9105);Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return de.forkJoin}});var he=r(4917);Object.defineProperty(e,"from",{enumerable:!0,get:function(){return he.from}});var fe=r(5337);Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return fe.fromEvent}});var te=r(347);Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return te.fromEventPattern}});var Q=r(7610);Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return Q.generate}});var ee=r(4209);Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return ee.iif}});var ae=r(6472);Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return ae.interval}});var pe=r(2833);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return pe.merge}});var _e=r(8655);Object.defineProperty(e,"never",{enumerable:!0,get:function(){return _e.never}});var Te=r(1004);Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Te.of}});var Ae=r(6102);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Ae.onErrorResumeNext}});var be=r(7740);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return be.pairs}});var j=r(1699);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return j.partition}});var G=r(5584);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return G.race}});var X=r(9376);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return X.range}});var ie=r(1103);Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return ie.throwError}});var ve=r(4092);Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return ve.timer}});var ge=r(7853);Object.defineProperty(e,"using",{enumerable:!0,get:function(){return ge.using}});var Oe=r(7286);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Oe.zip}});var Le=r(1656);Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Le.scheduled}});var We=r(8616);Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return We.EMPTY}});var ut=r(8655);Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return ut.NEVER}}),i(r(6038),e);var Ze=r(3413);Object.defineProperty(e,"config",{enumerable:!0,get:function(){return Ze.config}});var tt=r(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return tt.audit}});var Qe=r(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return Qe.auditTime}});var $e=r(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return $e.buffer}});var Ie=r(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return Ie.bufferCount}});var re=r(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return re.bufferTime}});var Ee=r(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Ee.bufferToggle}});var Pe=r(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return Pe.bufferWhen}});var Me=r(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return Me.catchError}});var Ne=r(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Ne.combineAll}});var at=r(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return at.combineLatestAll}});var je=r(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return je.combineLatestWith}});var ft=r(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return ft.concatAll}});var nt=r(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return nt.concatMap}});var vt=r(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return vt.concatMapTo}});var Mt=r(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Mt.concatWith}});var Rt=r(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return Rt.connect}});var lt=r(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return lt.count}});var It=r(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return It.debounce}});var rt=r(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return rt.debounceTime}});var Lt=r(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return Lt.defaultIfEmpty}});var Gt=r(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Gt.delay}});var wt=r(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return wt.delayWhen}});var mt=r(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return mt.dematerialize}});var ir=r(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return ir.distinct}});var Bt=r(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return Bt.distinctUntilChanged}});var ar=r(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return ar.distinctUntilKeyChanged}});var Qt=r(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return Qt.elementAt}});var fr=r(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return fr.endWith}});var Mr=r(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return Mr.every}});var Xr=r(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Xr.exhaust}});var vn=r(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return vn.exhaustAll}});var Pi=r(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Pi.exhaustMap}});var pn=r(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return pn.expand}});var bt=r(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return bt.filter}});var rr=r(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return rr.finalize}});var Er=r(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Er.find}});var Ir=r(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return Ir.findIndex}});var $r=r(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return $r.first}});var Nr=r(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Nr.groupBy}});var bn=r(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return bn.ignoreElements}});var Cr=r(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Cr.isEmpty}});var zi=r(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return zi.last}});var _i=r(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return _i.map}});var Oa=r(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return Oa.mapTo}});var cu=r(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return cu.materialize}});var Xu=r(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Xu.max}});var Ta=r(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Ta.mergeAll}});var Vt=r(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return Vt.flatMap}});var $t=r(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return $t.mergeMap}});var Do=r(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Do.mergeMapTo}});var Mo=r(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return Mo.mergeScan}});var Os=r(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Os.mergeWith}});var si=r(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return si.min}});var Io=r(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Io.multicast}});var Kr=r(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Kr.observeOn}});var No=r(1226);Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return No.onErrorResumeNextWith}});var Wn=r(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Wn.pairwise}});var Tc=r(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Tc.pluck}});var _l=r(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return _l.publish}});var li=r(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return li.publishBehavior}});var Rh=r(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Rh.publishLast}});var Rv=r(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Rv.publishReplay}});var Ph=r(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Ph.raceWith}});var Dh=r(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Dh.reduce}});var xc=r(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return xc.repeat}});var Pv=r(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Pv.repeatWhen}});var qi=r(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return qi.retry}});var Mh=r(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Mh.retryWhen}});var Gi=r(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Gi.refCount}});var Ts=r(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Ts.sample}});var Ih=r(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Ih.sampleTime}});var ko=r(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return ko.scan}});var Cc=r(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Cc.sequenceEqual}});var Ac=r(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Ac.share}});var fn=r(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return fn.shareReplay}});var Lo=r(5382);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Lo.single}});var Rc=r(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Rc.skip}});var Dy=r(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Dy.skipLast}});var Nh=r(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return Nh.skipUntil}});var My=r(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return My.skipWhile}});var kh=r(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return kh.startWith}});var Pc=r(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Pc.subscribeOn}});var xs=r(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return xs.switchAll}});var Iy=r(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Iy.switchMap}});var Dv=r(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Dv.switchMapTo}});var Dc=r(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Dc.switchScan}});var Lh=r(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Lh.take}});var jh=r(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return jh.takeLast}});var Mv=r(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Mv.takeUntil}});var Bh=r(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return Bh.takeWhile}});var Uh=r(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return Uh.tap}});var an=r(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return an.throttle}});var hr=r(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return hr.throttleTime}});var Fh=r(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return Fh.throwIfEmpty}});var wl=r(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return wl.timeInterval}});var Iv=r(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Iv.timeout}});var Nv=r(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Nv.timeoutWith}});var Ny=r(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Ny.timestamp}});var ky=r(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return ky.toArray}});var kv=r(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return kv.window}});var Cs=r(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return Cs.windowCount}});var Xn=r(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return Xn.windowTime}});var Mc=r(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Mc.windowToggle}});var Vi=r(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Vi.windowWhen}});var El=r(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return El.withLatestFrom}});var zh=r(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return zh.zipAll}});var ci=r(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return ci.zipWith}})},8831:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bufferWhen=void 0;var n=r(7843),i=r(1342),a=r(3111),o=r(9445);e.bufferWhen=function(u){return n.operate(function(s,l){var c=null,f=null,h=function(){f==null||f.unsubscribe();var d=c;c=[],d&&l.next(d),o.innerFrom(u()).subscribe(f=a.createOperatorSubscriber(l,h,i.noop))};h(),s.subscribe(a.createOperatorSubscriber(l,function(d){return c==null?void 0:c.push(d)},function(){c&&l.next(c),l.complete()},void 0,function(){return c=f=null}))})}},8888:(t,e,r)=>{var n=r(5636).Buffer,i=n.isEncoding||function(v){switch((v=""+v)&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(v){var y;switch(this.encoding=function(b){var p=function(m){if(!m)return"utf8";for(var g;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(g)return;m=(""+m).toLowerCase(),g=!0}}(b);if(typeof p!="string"&&(n.isEncoding===i||!i(b)))throw new Error("Unknown encoding: "+b);return p||b}(v),this.encoding){case"utf16le":this.text=s,this.end=l,y=4;break;case"utf8":this.fillLast=u,y=4;break;case"base64":this.text=c,this.end=f,y=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(y)}function o(v){return v<=127?0:v>>5==6?2:v>>4==14?3:v>>3==30?4:v>>6==2?-1:-2}function u(v){var y=this.lastTotal-this.lastNeed,b=function(p,m){if((192&m[0])!=128)return p.lastNeed=0,"";if(p.lastNeed>1&&m.length>1){if((192&m[1])!=128)return p.lastNeed=1,"";if(p.lastNeed>2&&m.length>2&&(192&m[2])!=128)return p.lastNeed=2,""}}(this,v);return b!==void 0?b:this.lastNeed<=v.length?(v.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(v.copy(this.lastChar,y,0,v.length),void(this.lastNeed-=v.length))}function s(v,y){if((v.length-y)%2==0){var b=v.toString("utf16le",y);if(b){var p=b.charCodeAt(b.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",y,v.length-1)}function l(v){var y=v&&v.length?this.write(v):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function c(v,y){var b=(v.length-y)%3;return b===0?v.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",y,v.length-b))}function f(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function h(v){return v.toString(this.encoding)}function d(v){return v&&v.length?this.write(v):""}e.StringDecoder=a,a.prototype.write=function(v){if(v.length===0)return"";var y,b;if(this.lastNeed){if((y=this.fillLast(v))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<v.length?y?y+this.text(v,b):this.text(v,b):y||""},a.prototype.end=function(v){var y=v&&v.length?this.write(v):"";return this.lastNeed?y+"":y},a.prototype.text=function(v,y){var b=function(m,g,_){var E=g.length-1;if(E<_)return 0;var T=o(g[E]);return T>=0?(T>0&&(m.lastNeed=T-1),T):--E<_||T===-2?0:(T=o(g[E]))>=0?(T>0&&(m.lastNeed=T-2),T):--E<_||T===-2?0:(T=o(g[E]))>=0?(T>0&&(T===2?T=0:m.lastNeed=T-3),T):0}(this,v,y);if(!this.lastNeed)return v.toString("utf8",y);this.lastTotal=b;var p=v.length-(b-this.lastNeed);return v.copy(this.lastChar,0,p),v.toString("utf8",y,p)},a.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length}},8917:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r,n,i){this.keys=r,this.records=n,this.summary=i}},8918:function(t,e,r){var n=this&&this.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(d[y]=v[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=f}c(f,h),f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectableObservable=void 0;var i=r(4662),a=r(8014),o=r(7561),u=r(3111),s=r(7843),l=function(c){function f(h,d){var v=c.call(this)||this;return v.source=h,v.subjectFactory=d,v._subject=null,v._refCount=0,v._connection=null,s.hasLift(h)&&(v.lift=h.lift),v}return n(f,c),f.prototype._subscribe=function(h){return this.getSubject().subscribe(h)},f.prototype.getSubject=function(){var h=this._subject;return h&&!h.isStopped||(this._subject=this.subjectFactory()),this._subject},f.prototype._teardown=function(){this._refCount=0;var h=this._connection;this._subject=this._connection=null,h==null||h.unsubscribe()},f.prototype.connect=function(){var h=this,d=this._connection;if(!d){d=this._connection=new a.Subscription;var v=this.getSubject();d.add(this.source.subscribe(u.createOperatorSubscriber(v,void 0,function(){h._teardown(),v.complete()},function(y){h._teardown(),v.error(y)},function(){return h._teardown()}))),d.closed&&(this._connection=null,d=a.Subscription.EMPTY)}return d},f.prototype.refCount=function(){return o.refCount()(this)},f}(i.Observable);e.ConnectableObservable=l},8937:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilChanged=void 0;var n=r(6640),i=r(7843),a=r(3111);function o(u,s){return u===s}e.distinctUntilChanged=function(u,s){return s===void 0&&(s=n.identity),u=u??o,i.operate(function(l,c){var f,h=!0;l.subscribe(a.createOperatorSubscriber(c,function(d){var v=s(d);!h&&u(f,v)||(h=!1,f=v,c.next(d))}))})}},8941:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0;var n=r(7843),i=r(3111),a=r(9445);e.throttle=function(o,u){return n.operate(function(s,l){var c=u??{},f=c.leading,h=f===void 0||f,d=c.trailing,v=d!==void 0&&d,y=!1,b=null,p=null,m=!1,g=function(){p==null||p.unsubscribe(),p=null,v&&(T(),m&&l.complete())},_=function(){p=null,m&&l.complete()},E=function(w){return p=a.innerFrom(o(w)).subscribe(i.createOperatorSubscriber(l,g,_))},T=function(){if(y){y=!1;var w=b;b=null,l.next(w),!m&&E(w)}};s.subscribe(i.createOperatorSubscriber(l,function(w){y=!0,b=w,(!p||p.closed)&&(h?T():E(w))},function(){m=!0,(!(v&&y&&p)||p.closed)&&l.complete()}))})}},8960:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeOn=void 0;var n=r(7843);e.subscribeOn=function(i,a){return a===void 0&&(a=0),n.operate(function(o,u){u.add(i.schedule(function(){return o.subscribe(u)},a))})}},8977:function(t,e,r){var n=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var d,v,y=h.call(c),b=[];try{for(;(f===void 0||f-- >0)&&!(d=y.next()).done;)b.push(d.value)}catch(p){v={error:p}}finally{try{d&&!d.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return b},i=this&&this.__spreadArray||function(c,f){for(var h=0,d=f.length,v=c.length;h<d;h++,v++)c[v]=f[h];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.share=void 0;var a=r(9445),o=r(2483),u=r(5),s=r(7843);function l(c,f){for(var h=[],d=2;d<arguments.length;d++)h[d-2]=arguments[d];if(f!==!0){if(f!==!1){var v=new u.SafeSubscriber({next:function(){v.unsubscribe(),c()}});return a.innerFrom(f.apply(void 0,i([],n(h)))).subscribe(v)}}else c()}e.share=function(c){c===void 0&&(c={});var f=c.connector,h=f===void 0?function(){return new o.Subject}:f,d=c.resetOnError,v=d===void 0||d,y=c.resetOnComplete,b=y===void 0||y,p=c.resetOnRefCountZero,m=p===void 0||p;return function(g){var _,E,T,w=0,S=!1,C=!1,R=function(){E==null||E.unsubscribe(),E=void 0},D=function(){R(),_=T=void 0,S=C=!1},M=function(){var I=_;D(),I==null||I.unsubscribe()};return s.operate(function(I,k){w++,C||S||R();var U=T=T??h();k.add(function(){--w!==0||C||S||(E=l(M,m))}),U.subscribe(k),!_&&w>0&&(_=new u.SafeSubscriber({next:function(F){return U.next(F)},error:function(F){C=!0,R(),E=l(D,v,F),U.error(F)},complete:function(){S=!0,R(),E=l(D,b),U.complete()}}),a.innerFrom(I).subscribe(_))})(g)}}},8986:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var n=r(9568),i=function(){function a(o,u){u===void 0&&(u=a.now),this.schedulerActionCtor=o,this.now=u}return a.prototype.schedule=function(o,u,s){return u===void 0&&(u=0),new this.schedulerActionCtor(this,o).schedule(s,u)},a.now=n.dateTimestampProvider.now,a}();e.Scheduler=i},8987:function(t,e,r){var n=this&&this.__extends||function(){var E=function(T,w){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(S[R]=C[R])},E(T,w)};return function(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=T}E(T,w),T.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}}(),i=this&&this.__awaiter||function(E,T,w,S){return new(w||(w=Promise))(function(C,R){function D(k){try{I(S.next(k))}catch(U){R(U)}}function M(k){try{I(S.throw(k))}catch(U){R(U)}}function I(k){var U;k.done?C(k.value):(U=k.value,U instanceof w?U:new w(function(F){F(U)})).then(D,M)}I((S=S.apply(E,T||[])).next())})},a=this&&this.__generator||function(E,T){var w,S,C,R,D={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return R={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function M(I){return function(k){return function(U){if(w)throw new TypeError("Generator is already executing.");for(;R&&(R=0,U[0]&&(D=0)),D;)try{if(w=1,S&&(C=2&U[0]?S.return:U[0]?S.throw||((C=S.return)&&C.call(S),0):S.next)&&!(C=C.call(S,U[1])).done)return C;switch(S=0,C&&(U=[2&U[0],C.value]),U[0]){case 0:case 1:C=U;break;case 4:return D.label++,{value:U[1],done:!1};case 5:D.label++,S=U[1],U=[0];continue;case 7:U=D.ops.pop(),D.trys.pop();continue;default:if(!((C=(C=D.trys).length>0&&C[C.length-1])||U[0]!==6&&U[0]!==2)){D=0;continue}if(U[0]===3&&(!C||U[1]>C[0]&&U[1]<C[3])){D.label=U[1];break}if(U[0]===6&&D.label<C[1]){D.label=C[1],C=U;break}if(C&&D.label<C[2]){D.label=C[2],D.ops.push(U);break}C[2]&&D.ops.pop(),D.trys.pop();continue}U=T.call(E,D)}catch(F){U=[6,F],S=0}finally{w=C=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([I,k])}}},o=this&&this.__read||function(E,T){var w=typeof Symbol=="function"&&E[Symbol.iterator];if(!w)return E;var S,C,R=w.call(E),D=[];try{for(;(T===void 0||T-- >0)&&!(S=R.next()).done;)D.push(S.value)}catch(M){C={error:M}}finally{try{S&&!S.done&&(w=R.return)&&w.call(R)}finally{if(C)throw C.error}}return D},u=this&&this.__spreadArray||function(E,T,w){if(w||arguments.length===2)for(var S,C=0,R=T.length;C<R;C++)!S&&C in T||(S||(S=Array.prototype.slice.call(T,0,C)),S[C]=T[C]);return E.concat(S||Array.prototype.slice.call(T))},s=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var l=r(7721),c=r(9305),f=s(r(1839)),h=r(6781),d=s(r(4531)),v=s(r(4271)),y=c.error.SERVICE_UNAVAILABLE,b=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],p=c.internal.pool,m=p.Pool,g=p.PoolConfig,_=function(E){function T(w,S){var C=w.id,R=w.config,D=w.log,M=w.userAgent,I=w.boltAgent,k=w.authTokenManager,U=w.newPool,F=U===void 0?function(){for(var z=[],H=0;H<arguments.length;H++)z[H]=arguments[H];return new(m.bind.apply(m,u([void 0],o(z),!1)))}:U;S===void 0&&(S=null);var B=E.call(this)||this;return B._id=C,B._config=R,B._log=D,B._clientCertificateHolder=new v.default({clientCertificateProvider:B._config.clientCertificate}),B._authenticationProvider=new f.default({authTokenManager:k,userAgent:M,boltAgent:I}),B._livenessCheckProvider=new d.default({connectionLivenessCheckTimeout:R.connectionLivenessCheckTimeout}),B._userAgent=M,B._boltAgent=I,B._createChannelConnection=S||function(z){return i(B,void 0,void 0,function(){var H,Y;return a(this,function(W){switch(W.label){case 0:return H=l.createChannelConnection,Y=[z,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,H.apply(void 0,Y.concat([W.sent()]))]}})})},B._connectionPool=F({create:B._createConnection.bind(B),destroy:B._destroyConnection.bind(B),validateOnAcquire:B._validateConnectionOnAcquire.bind(B),validateOnRelease:B._validateConnectionOnRelease.bind(B),installIdleObserver:T._installIdleObserverOnConnection.bind(B),removeIdleObserver:T._removeIdleObserverOnConnection.bind(B),config:g.fromDriverConfig(R),log:B._log}),B._openConnections={},B}return n(T,E),T.prototype._createConnectionErrorHandler=function(){return new l.ConnectionErrorHandler(y)},T.prototype._getClientCertificate=function(){return i(this,void 0,void 0,function(){return a(this,function(w){return[2,this._config.clientCertificate.getClientCertificate()]})})},T.prototype._createConnection=function(w,S,C){var R=this,D=w.auth;return this._createChannelConnection(S).then(function(M){return M.release=function(){return M.idleTimestamp=Date.now(),C(S,M)},R._openConnections[M.id]=M,R._authenticationProvider.authenticate({connection:M,auth:D}).catch(function(I){throw R._destroyConnection(M),I})})},T.prototype._validateConnectionOnAcquire=function(w,S){var C=w.auth,R=w.skipReAuth;return i(this,void 0,void 0,function(){var D,M;return a(this,function(I){switch(I.label){case 0:if(!this._validateConnection(S))return[2,!1];I.label=1;case 1:return I.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(S)];case 2:return I.sent(),[3,4];case 3:return D=I.sent(),this._log.debug("The connection ".concat(S.id," is not alive because of an error ").concat(D.code," '").concat(D.message,"'")),[2,!1];case 4:return I.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:S,auth:C,skipReAuth:R})];case 5:return I.sent(),[2,!0];case 6:return M=I.sent(),this._log.debug("The connection ".concat(S.id," is not valid because of an error ").concat(M.code," '").concat(M.message,"'")),[2,!1];case 7:return[2]}})})},T.prototype._validateConnectionOnRelease=function(w){return w._sticky!==!0&&this._validateConnection(w)},T.prototype._validateConnection=function(w){if(!w.isOpen())return!1;var S=this._config.maxConnectionLifetime;return!(Date.now()-w.creationTimestamp>S)},T.prototype._destroyConnection=function(w){return delete this._openConnections[w.id],w.close()},T.prototype._verifyConnectivityAndGetServerVersion=function(w){var S=w.address;return i(this,void 0,void 0,function(){var C,R;return a(this,function(D){switch(D.label){case 0:return[4,this._connectionPool.acquire({},S)];case 1:C=D.sent(),R=new c.ServerInfo(C.server,C.protocol().version),D.label=2;case 2:return D.trys.push([2,,5,7]),C.protocol().isLastMessageLogon()?[3,4]:[4,C.resetAndFlush()];case 3:D.sent(),D.label=4;case 4:return[3,7];case 5:return[4,C.release()];case 6:return D.sent(),[7];case 7:return[2,R]}})})},T.prototype._verifyAuthentication=function(w){var S=w.getAddress,C=w.auth;return i(this,void 0,void 0,function(){var R,D,M,I,k,U;return a(this,function(F){switch(F.label){case 0:R=[],F.label=1;case 1:return F.trys.push([1,8,9,11]),[4,S()];case 2:return D=F.sent(),[4,this._connectionPool.acquire({auth:C,skipReAuth:!0},D)];case 3:if(M=F.sent(),R.push(M),I=!M.protocol().isLastMessageLogon(),!M.supportsReAuth)throw(0,c.newError)("Driver is connected to a database that does not support user switch.");return I&&M.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:M,auth:C,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return F.sent(),[3,7];case 5:return!I||M.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:C},D,{requireNew:!0})];case 6:(k=F.sent())._sticky=!0,R.push(k),F.label=7;case 7:return[2,!0];case 8:if(U=F.sent(),b.includes(U.code))return[2,!1];throw U;case 9:return[4,Promise.all(R.map(function(B){return B.release()}))];case 10:return F.sent(),[7];case 11:return[2]}})})},T.prototype._verifyStickyConnection=function(w){var S=w.auth,C=w.connection;return w.address,i(this,void 0,void 0,function(){var R,D;return a(this,function(M){switch(M.label){case 0:return R=h.object.equals(S,C.authToken),D=!R,C._sticky=R&&!C.supportsReAuth,D||C._sticky?[4,C.release()]:[3,2];case 1:throw M.sent(),(0,c.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},T.prototype.close=function(){return i(this,void 0,void 0,function(){return a(this,function(w){switch(w.label){case 0:return[4,this._connectionPool.close()];case 1:return w.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(S){return S.close()}))];case 2:return w.sent(),[2]}})})},T._installIdleObserverOnConnection=function(w,S){w._setIdle(S)},T._removeIdleObserverOnConnection=function(w){w._unsetIdle()},T.prototype._handleSecurityError=function(w,S,C){return this._authenticationProvider.handleError({connection:C,code:w.code})&&(w.retriable=!0),w.code==="Neo.ClientError.Security.AuthorizationExpired"&&this._connectionPool.apply(S,function(R){R.authToken=null}),C&&C.close().catch(function(){}),w},T}(c.ConnectionProvider);e.default=_},8995:function(t,e,r){var n=this&&this.__values||function(c){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&c[f],d=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&d>=c.length&&(c=void 0),{value:c&&c[d++],done:!c}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferToggle=void 0;var i=r(8014),a=r(7843),o=r(9445),u=r(3111),s=r(1342),l=r(7479);e.bufferToggle=function(c,f){return a.operate(function(h,d){var v=[];o.innerFrom(c).subscribe(u.createOperatorSubscriber(d,function(y){var b=[];v.push(b);var p=new i.Subscription;p.add(o.innerFrom(f(y)).subscribe(u.createOperatorSubscriber(d,function(){l.arrRemove(v,b),d.next(b),p.unsubscribe()},s.noop)))},s.noop)),h.subscribe(u.createOperatorSubscriber(d,function(y){var b,p;try{for(var m=n(v),g=m.next();!g.done;g=m.next())g.value.push(y)}catch(_){b={error:_}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(b)throw b.error}}},function(){for(;v.length>0;)d.next(v.shift());d.complete()}))})}},9014:function(t,e,r){var n=this&&this.__extends||function(){var E=function(T,w){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(S[R]=C[R])},E(T,w)};return function(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function S(){this.constructor=T}E(T,w),T.prototype=w===null?Object.create(w):(S.prototype=w.prototype,new S)}}(),i=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryObserver=e.ProcedureRouteObserver=e.RouteObserver=e.CompletedObserver=e.FailedObserver=e.ResetObserver=e.LogoffObserver=e.LoginObserver=e.ResultStreamObserver=e.StreamObserver=void 0;var a=r(9305),o=i(r(7790)),u=r(6781),s=a.internal.constants.FETCH_ALL,l=a.error.PROTOCOL_ERROR,c=function(){function E(){}return E.prototype.onNext=function(T){},E.prototype.onError=function(T){},E.prototype.onCompleted=function(T){},E}();e.StreamObserver=c;var f=function(E){function T(w){var S=w===void 0?{}:w,C=S.reactive,R=C!==void 0&&C,D=S.moreFunction,M=S.discardFunction,I=S.fetchSize,k=I===void 0?s:I,U=S.beforeError,F=S.afterError,B=S.beforeKeys,z=S.afterKeys,H=S.beforeComplete,Y=S.afterComplete,W=S.server,Z=S.highRecordWatermark,le=Z===void 0?Number.MAX_VALUE:Z,ce=S.lowRecordWatermark,ue=ce===void 0?Number.MAX_VALUE:ce,de=S.enrichMetadata,he=S.onDb,fe=E.call(this)||this;return fe._fieldKeys=null,fe._fieldLookup=null,fe._head=null,fe._queuedRecords=[],fe._tail=null,fe._error=null,fe._observers=[],fe._meta={},fe._server=W,fe._beforeError=U,fe._afterError=F,fe._beforeKeys=B,fe._afterKeys=z,fe._beforeComplete=H,fe._afterComplete=Y,fe._enrichMetadata=de||u.functional.identity,fe._queryId=null,fe._moreFunction=D,fe._discardFunction=M,fe._discard=!1,fe._fetchSize=k,fe._lowRecordWatermark=ue,fe._highRecordWatermark=le,fe._setState(R?_.READY:_.READY_STREAMING),fe._setupAutoPull(),fe._paused=!1,fe._pulled=!R,fe._haveRecordStreamed=!1,fe._onDb=he,fe}return n(T,E),T.prototype.pause=function(){this._paused=!0},T.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},T.prototype.onNext=function(w){this._haveRecordStreamed=!0;var S=new a.Record(this._fieldKeys,w,this._fieldLookup);this._observers.some(function(C){return C.onNext})?this._observers.forEach(function(C){C.onNext&&C.onNext(S)}):(this._queuedRecords.push(S),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},T.prototype.onCompleted=function(w){this._state.onSuccess(this,w)},T.prototype.onError=function(w){this._state.onError(this,w)},T.prototype.cancel=function(){this._discard=!0},T.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(_.STREAMING)},T.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(_.SUCCEEDED)},T.prototype.subscribe=function(w){if(this._head&&w.onKeys&&w.onKeys(this._head),this._queuedRecords.length>0&&w.onNext)for(var S=0;S<this._queuedRecords.length;S++)w.onNext(this._queuedRecords[S]),this._queuedRecords.length-S-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===_.READY&&this._handleStreaming());this._tail&&w.onCompleted&&w.onCompleted(this._tail),this._error&&w.onError(this._error),this._observers.push(w),this._state===_.READY&&this._handleStreaming()},T.prototype._handleHasMore=function(w){this._setState(_.READY),this._handleStreaming(),delete w.has_more},T.prototype._handlePullSuccess=function(w){var S=this,C=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},w));if([void 0,null,"r","w","rw","s"].includes(C.type)){this._setState(_.SUCCEEDED);var R=null;this._beforeComplete&&(R=this._beforeComplete(C));var D=function(){S._tail=C,S._observers.some(function(M){return M.onCompleted})&&S._observers.forEach(function(M){M.onCompleted&&M.onCompleted(C)}),S._afterComplete&&S._afterComplete(C)};R?Promise.resolve(R).then(function(){return D()}):D()}else this.onError((0,a.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(C.type,"'"),l))},T.prototype._handleRunSuccess=function(w,S){var C=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},w.fields&&w.fields.length>0){this._fieldKeys=w.fields;for(var R=0;R<w.fields.length;R++)this._fieldLookup[w.fields[R]]=R}w.db!==null&&this._onDb!==void 0&&this._onDb(w.db),w.fields!=null&&delete w.fields,w.qid!==null&&w.qid!==void 0&&(this._queryId=w.qid,delete w.qid),this._storeMetadataForCompletion(w);var D=null;this._beforeKeys&&(D=this._beforeKeys(this._fieldKeys));var M=function(){C._head=C._fieldKeys,C._observers.some(function(I){return I.onKeys})&&C._observers.forEach(function(I){I.onKeys&&I.onKeys(C._fieldKeys)}),C._afterKeys&&C._afterKeys(C._fieldKeys),S()};D?Promise.resolve(D).then(function(){return M()}):M()}},T.prototype._handleError=function(w){var S=this;this._setState(_.FAILED),this._error=w;var C=null;this._beforeError&&(C=this._beforeError(w));var R=function(){S._observers.some(function(D){return D.onError})&&S._observers.forEach(function(D){D.onError&&D.onError(w)}),S._afterError&&S._afterError(w)};C?Promise.resolve(C).then(function(){return R()}):R()},T.prototype._handleStreaming=function(){this._head&&this._observers.some(function(w){return w.onNext||w.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},T.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(_.STREAMING)},T.prototype._storeMetadataForCompletion=function(w){for(var S=Object.keys(w),C=S.length,R="";C--;)R=S[C],this._meta[R]=w[R]},T.prototype._setState=function(w){this._state=w},T.prototype._setupAutoPull=function(){this._autoPull=!0},T}(c);e.ResultStreamObserver=f;var h=function(E){function T(w){var S=w===void 0?{}:w,C=S.onError,R=S.onCompleted,D=E.call(this)||this;return D._onError=C,D._onCompleted=R,D}return n(T,E),T.prototype.onNext=function(w){this.onError((0,a.newError)("Received RECORD when initializing "+a.json.stringify(w)))},T.prototype.onError=function(w){this._onError&&this._onError(w)},T.prototype.onCompleted=function(w){this._onCompleted&&this._onCompleted(w)},T}(c);e.LoginObserver=h;var d=function(E){function T(w){var S=w===void 0?{}:w,C=S.onError,R=S.onCompleted,D=E.call(this)||this;return D._onError=C,D._onCompleted=R,D}return n(T,E),T.prototype.onNext=function(w){this.onError((0,a.newError)("Received RECORD when logging off "+a.json.stringify(w)))},T.prototype.onError=function(w){this._onError&&this._onError(w)},T.prototype.onCompleted=function(w){this._onCompleted&&this._onCompleted(w)},T}(c);e.LogoffObserver=d;var v=function(E){function T(w){var S=w===void 0?{}:w,C=S.onProtocolError,R=S.onError,D=S.onComplete,M=E.call(this)||this;return M._onProtocolError=C,M._onError=R,M._onComplete=D,M}return n(T,E),T.prototype.onNext=function(w){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(w),l))},T.prototype.onError=function(w){w.code===l&&this._onProtocolError&&this._onProtocolError(w.message),this._onError&&this._onError(w)},T.prototype.onCompleted=function(w){this._onComplete&&this._onComplete(w)},T}(c);e.ResetObserver=v;var y=function(E){function T(w){var S=w===void 0?{}:w,C=S.onError,R=S.onCompleted,D=E.call(this)||this;return D._onError=C,D._onCompleted=R,D}return n(T,E),T.prototype.onNext=function(w){this.onError((0,a.newError)("Received RECORD when sending telemetry "+a.json.stringify(w),l))},T.prototype.onError=function(w){this._onError&&this._onError(w)},T.prototype.onCompleted=function(w){this._onCompleted&&this._onCompleted(w)},T}(f);e.TelemetryObserver=y;var b=function(E){function T(w){var S=w.error,C=w.onError,R=E.call(this,{beforeError:C})||this;return R.onError(S),R}return n(T,E),T}(f);e.FailedObserver=b;var p=function(E){function T(){var w=E.call(this)||this;return E.prototype.markCompleted.call(w),w}return n(T,E),T}(f);e.CompletedObserver=p;var m=function(E){function T(w){var S=w.resultObserver,C=w.onProtocolError,R=w.onError,D=w.onCompleted,M=E.call(this)||this;return M._resultObserver=S,M._onError=R,M._onCompleted=D,M._records=[],M._onProtocolError=C,S.subscribe(M),M}return n(T,E),T.prototype.onNext=function(w){this._records.push(w)},T.prototype.onError=function(w){w.code===l&&this._onProtocolError&&this._onProtocolError(w.message),this._onError&&this._onError(w)},T.prototype.onCompleted=function(){this._records===null||this._records.length===1?this._onCompleted&&this._onCompleted(o.default.ofRecord(this._records[0])):this.onError((0,a.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+a.json.stringify(this._records),l))},T}(c);e.ProcedureRouteObserver=m;var g=function(E){function T(w){var S=w===void 0?{}:w,C=S.onProtocolError,R=S.onError,D=S.onCompleted,M=E.call(this)||this;return M._onProtocolError=C,M._onError=R,M._onCompleted=D,M}return n(T,E),T.prototype.onNext=function(w){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(w),l))},T.prototype.onError=function(w){w.code===l&&this._onProtocolError&&this._onProtocolError(w.message),this._onError&&this._onError(w)},T.prototype.onCompleted=function(w){this._onCompleted&&this._onCompleted(o.default.ofMessageResponse(w))},T}(c);e.RouteObserver=g;var _={READY_STREAMING:{onSuccess:function(E,T){E._handleRunSuccess(T,function(){E._setState(_.STREAMING)})},onError:function(E,T){E._handleError(T)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(E,T){E._handleRunSuccess(T,function(){return E._handleStreaming()})},onError:function(E,T){E._handleError(T)},name:function(){return"READY"},pull:function(E){return E._more()}},STREAMING:{onSuccess:function(E,T){T.has_more?E._handleHasMore(T):E._handlePullSuccess(T)},onError:function(E,T){E._handleError(T)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(E){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},9018:function(t,e,r){var n=this&&this.__read||function(b,p){var m=typeof Symbol=="function"&&b[Symbol.iterator];if(!m)return b;var g,_,E=m.call(b),T=[];try{for(;(p===void 0||p-- >0)&&!(g=E.next()).done;)T.push(g.value)}catch(w){_={error:w}}finally{try{g&&!g.done&&(m=E.return)&&m.call(E)}finally{if(_)throw _.error}}return T},i=this&&this.__spreadArray||function(b,p,m){if(m||arguments.length===2)for(var g,_=0,E=p.length;_<E;_++)!g&&_ in p||(g||(g=Array.prototype.slice.call(p,0,_)),g[_]=p[_]);return b.concat(g||Array.prototype.slice.call(p))};Object.defineProperty(e,"__esModule",{value:!0}),e.createValidRoutingTable=void 0;var a=r(9305),o=a.internal.constants,u=o.ACCESS_MODE_WRITE,s=o.ACCESS_MODE_READ,l=a.internal.serverAddress.ServerAddress,c=a.error.PROTOCOL_ERROR,f=function(){function b(p){var m=p===void 0?{}:p,g=m.database,_=m.routers,E=m.readers,T=m.writers,w=m.expirationTime,S=m.ttl;this.database=g||null,this.databaseName=g||"default database",this.routers=_||[],this.readers=E||[],this.writers=T||[],this.expirationTime=w||(0,a.int)(0),this.ttl=S}return b.fromRawRoutingTable=function(p,m,g){return d(p,m,g)},b.prototype.forget=function(p){this.readers=h(this.readers,p),this.writers=h(this.writers,p)},b.prototype.forgetRouter=function(p){this.routers=h(this.routers,p)},b.prototype.forgetWriter=function(p){this.writers=h(this.writers,p)},b.prototype.isStaleFor=function(p){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||p===s&&this.readers.length===0||p===u&&this.writers.length===0},b.prototype.isExpiredFor=function(p){return this.expirationTime.add(p).lessThan(Date.now())},b.prototype.allServers=function(){return i(i(i([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},b.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},b}();function h(b,p){return b.filter(function(m){return m.asKey()!==p.asKey()})}function d(b,p,m){var g=m.ttl,_=function(C,R){try{var D=(0,a.int)(Date.now()),M=(0,a.int)(C.ttl).multiply(1e3).add(D);return M.lessThan(D)?a.Integer.MAX_VALUE:M}catch(I){throw(0,a.newError)("Unable to parse TTL entry from router ".concat(R,` from raw routing table:
`).concat(a.json.stringify(C),`
Error message: `).concat(I.message),c)}}(m,p),E=function(C,R){try{var D=[],M=[],I=[];return C.servers.forEach(function(k){var U=k.role,F=k.addresses;U==="ROUTE"?D=y(F).map(function(B){return l.fromUrl(B)}):U==="WRITE"?I=y(F).map(function(B){return l.fromUrl(B)}):U==="READ"&&(M=y(F).map(function(B){return l.fromUrl(B)}))}),{routers:D,readers:M,writers:I}}catch(k){throw(0,a.newError)("Unable to parse servers entry from router ".concat(R,` from addresses:
`).concat(a.json.stringify(C.servers),`
Error message: `).concat(k.message),c)}}(m,p),T=E.routers,w=E.readers,S=E.writers;return v(T,"routers",p),v(w,"readers",p),new f({database:b||m.db,routers:T,readers:w,writers:S,expirationTime:_,ttl:g})}function v(b,p,m){if(b.length===0)throw(0,a.newError)("Received no "+p+" from router "+m,c)}function y(b){if(!Array.isArray(b))throw new TypeError("Array expected but got: "+b);return Array.from(b)}e.default=f,e.createValidRoutingTable=d},9052:(t,e)=>{function r(n,i,a){return{kind:n,value:i,error:a}}Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.nextNotification=e.errorNotification=e.COMPLETE_NOTIFICATION=void 0,e.COMPLETE_NOTIFICATION=r("C",void 0,void 0),e.errorNotification=function(n){return r("E",void 0,n)},e.nextNotification=function(n){return r("N",n,void 0)},e.createNotification=r},9054:function(t,e,r){var n=this&&this.__extends||function(){var p=function(m,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(_[T]=E[T])},p(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function _(){this.constructor=m}p(m,g),m.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(p){for(var m,g=1,_=arguments.length;g<_;g++)for(var E in m=arguments[g])Object.prototype.hasOwnProperty.call(m,E)&&(p[E]=m[E]);return p},i.apply(this,arguments)},a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(6445)),u=a(r(7021)),s=r(9014),l=r(397),c=a(r(7331)),f=a(r(5045)),h=a(r(3321)),d=r(9305),v=d.internal.bookmarks.Bookmarks,y=d.internal.constants.BOLT_PROTOCOL_V4_3,b=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return n(m,p),Object.defineProperty(m.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"transformer",{get:function(){var g=this;return this._transformer===void 0&&(this._transformer=new h.default(Object.values(c.default).map(function(_){return _(g._config,g._log)}))),this._transformer},enumerable:!1,configurable:!0}),m.prototype.requestRoutingInformation=function(g){var _=g.routingContext,E=_===void 0?{}:_,T=g.databaseName,w=T===void 0?null:T,S=g.sessionContext,C=S===void 0?{}:S,R=g.onError,D=g.onCompleted,M=new s.RouteObserver({onProtocolError:this._onProtocolError,onError:R,onCompleted:D}),I=C.bookmarks||v.empty();return this.write(u.default.route(E,I.values(),w),M,!0),M},m.prototype.initialize=function(g){var _=this,E=g===void 0?{}:g,T=E.userAgent,w=(E.boltAgent,E.authToken),S=E.notificationFilter,C=E.onError,R=E.onComplete,D=new s.LoginObserver({onError:function(M){return _._onLoginError(M,C)},onCompleted:function(M){return M.patch_bolt!==void 0&&_._applyPatches(M.patch_bolt),_._onLoginCompleted(M,w,R)}});return(0,l.assertNotificationFilterIsEmpty)(S,this._onProtocolError,D),this.write(u.default.hello(T,w,this._serversideRouting,["utc"]),D,!0),D},m.prototype._applyPatches=function(g){g.includes("utc")&&this._applyUtcPatch()},m.prototype._applyUtcPatch=function(){var g=this;this._transformer=new h.default(Object.values(i(i({},c.default),f.default)).map(function(_){return _(g._config,g._log)}))},m}(o.default);e.default=b},9060:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.firstValueFrom=void 0;var n=r(2823),i=r(5);e.firstValueFrom=function(a,o){var u=typeof o=="object";return new Promise(function(s,l){var c=new i.SafeSubscriber({next:function(f){s(f),c.unsubscribe()},error:l,complete:function(){u?s(o.defaultValue):l(new n.EmptyError)}});a.subscribe(c)})}},9098:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipLast=void 0;var n=r(6640),i=r(7843),a=r(3111);e.skipLast=function(o){return o<=0?n.identity:i.operate(function(u,s){var l=new Array(o),c=0;return u.subscribe(a.createOperatorSubscriber(s,function(f){var h=c++;if(h<o)l[h]=f;else{var d=h%o,v=l[d];l[d]=f,s.next(v)}})),function(){l=null}})}},9105:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forkJoin=void 0;var n=r(4662),i=r(7360),a=r(9445),o=r(1107),u=r(3111),s=r(1251),l=r(6013);e.forkJoin=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var h=o.popResultSelector(c),d=i.argsArgArrayOrObject(c),v=d.args,y=d.keys,b=new n.Observable(function(p){var m=v.length;if(m)for(var g=new Array(m),_=m,E=m,T=function(S){var C=!1;a.innerFrom(v[S]).subscribe(u.createOperatorSubscriber(p,function(R){C||(C=!0,E--),g[S]=R},function(){return _--},void 0,function(){_&&C||(E||p.next(y?l.createObject(y,g):g),p.complete())}))},w=0;w<m;w++)T(w);else p.complete()});return h?b.pipe(s.mapOneOrManyArgs(h)):b}},9125:function(t,e,r){var n=this&&this.__extends||function(){var d=function(v,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,p){b.__proto__=p}||function(b,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(b[m]=p[m])},d(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function b(){this.constructor=v}d(v,y),v.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(d){for(var v,y=1,b=arguments.length;y<b;y++)for(var p in v=arguments[y])Object.prototype.hasOwnProperty.call(v,p)&&(d[p]=v[p]);return d},i.apply(this,arguments)},a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(934)),u=a(r(2204)),s=a(r(3321)),l=a(r(7021)),c=r(9014),f=r(9305).internal.constants.BOLT_PROTOCOL_V5_3,h=function(d){function v(){return d!==null&&d.apply(this,arguments)||this}return n(v,d),Object.defineProperty(v.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(b){return b(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.initialize=function(y){var b=this,p=y===void 0?{}:y,m=p.userAgent,g=p.boltAgent,_=p.authToken,E=p.notificationFilter,T=p.onError,w=p.onComplete,S={},C=new c.LoginObserver({onError:function(R){return b._onLoginError(R,T)},onCompleted:function(R){return S.metadata=R,b._onLoginCompleted(R)}});return this.write(l.default.hello5x3(m,g,E,this._serversideRouting),C,!1),this.logon({authToken:_,onComplete:function(R){return w(i(i({},R),S.metadata))},onError:T,flush:!0})},v}(o.default);e.default=h},9135:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMap=void 0;var n=r(983),i=r(1018);e.concatMap=function(a,o){return i.isFunction(o)?n.mergeMap(a,o,1):n.mergeMap(a,1)}},9137:function(t,e,r){var n=this&&this.__generator||function(u,s){var l,c,f,h,d={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function v(y){return function(b){return function(p){if(l)throw new TypeError("Generator is already executing.");for(;d;)try{if(l=1,c&&(f=2&p[0]?c.return:p[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,p[1])).done)return f;switch(c=0,f&&(p=[2&p[0],f.value]),p[0]){case 0:case 1:f=p;break;case 4:return d.label++,{value:p[1],done:!1};case 5:d.label++,c=p[1],p=[0];continue;case 7:p=d.ops.pop(),d.trys.pop();continue;default:if(!((f=(f=d.trys).length>0&&f[f.length-1])||p[0]!==6&&p[0]!==2)){d=0;continue}if(p[0]===3&&(!f||p[1]>f[0]&&p[1]<f[3])){d.label=p[1];break}if(p[0]===6&&d.label<f[1]){d.label=f[1],f=p;break}if(f&&d.label<f[2]){d.label=f[2],d.ops.push(p);break}f[2]&&d.ops.pop(),d.trys.pop();continue}p=s.call(u,d)}catch(m){p=[6,m],c=0}finally{l=f=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([y,b])}}},i=this&&this.__await||function(u){return this instanceof i?(this.v=u,this):new i(u)},a=this&&this.__asyncGenerator||function(u,s,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=l.apply(u,s||[]),h=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(m){f[m]&&(c[m]=function(g){return new Promise(function(_,E){h.push([m,g,_,E])>1||v(m,g)})})}function v(m,g){try{(_=f[m](g)).value instanceof i?Promise.resolve(_.value.v).then(y,b):p(h[0][2],_)}catch(E){p(h[0][3],E)}var _}function y(m){v("next",m)}function b(m){v("throw",m)}function p(m,g){m(g),h.shift(),h.length&&v(h[0][0],h[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableStreamLike=e.readableStreamLikeToAsyncGenerator=void 0;var o=r(1018);e.readableStreamLikeToAsyncGenerator=function(u){return a(this,arguments,function(){var s,l,c;return n(this,function(f){switch(f.label){case 0:s=u.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,i(s.read())];case 3:return l=f.sent(),c=l.value,l.done?[4,i(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,i(c)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return s.releaseLock(),[7];case 10:return[2]}})})},e.isReadableStreamLike=function(u){return o.isFunction(u==null?void 0:u.getReader)}},9139:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=void 0;var n=r(6384),i=r(7843);e.reduce=function(a,o){return i.operate(n.scanInternals(a,o,arguments.length>=2,!1,!0))}},9155:function(t,e){var r=this&&this.__read||function(i,a){var o=typeof Symbol=="function"&&i[Symbol.iterator];if(!o)return i;var u,s,l=o.call(i),c=[];try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(f){s={error:f}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(s)throw s.error}}return c},n=this&&this.__spreadArray||function(i,a){for(var o=0,u=a.length,s=i.length;o<u;o++,s++)i[s]=a[o];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(i,a){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,n([i,a],r(o))):setTimeout.apply(void 0,n([i,a],r(o)))},clearTimeout:function(i){var a=e.timeoutProvider.delegate;return((a==null?void 0:a.clearTimeout)||clearTimeout)(i)},delegate:void 0}},9223:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.captureError=e.errorContext=void 0;var n=r(3413),i=null;e.errorContext=function(a){if(n.config.useDeprecatedSynchronousErrorHandling){var o=!i;if(o&&(i={errorThrown:!1,error:null}),a(),o){var u=i,s=u.errorThrown,l=u.error;if(i=null,s)throw l}}else a()},e.captureError=function(a){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=a)}},9238:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(4325));e.default=n({},a.default)},9247:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.multicast=void 0;var n=r(8918),i=r(1018),a=r(1483);e.multicast=function(o,u){var s=i.isFunction(o)?o:function(){return o};return i.isFunction(u)?a.connect(u,{connector:s}):function(l){return new n.ConnectableObservable(l,s)}}},9305:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(W,Z,le,ce){ce===void 0&&(ce=le);var ue=Object.getOwnPropertyDescriptor(Z,le);ue&&!("get"in ue?!Z.__esModule:ue.writable||ue.configurable)||(ue={enumerable:!0,get:function(){return Z[le]}}),Object.defineProperty(W,ce,ue)}:function(W,Z,le,ce){ce===void 0&&(ce=le),W[ce]=Z[le]}),i=this&&this.__setModuleDefault||(Object.create?function(W,Z){Object.defineProperty(W,"default",{enumerable:!0,value:Z})}:function(W,Z){W.default=Z}),a=this&&this.__importStar||function(W){if(W&&W.__esModule)return W;var Z={};if(W!=null)for(var le in W)le!=="default"&&Object.prototype.hasOwnProperty.call(W,le)&&n(Z,W,le);return i(Z,W),Z},o=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(e,"__esModule",{value:!0}),e.EagerResult=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.GqlStatusObject=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.GQLError=e.newGQLError=e.Neo4jError=e.newError=e.authTokenManagers=void 0,e.resolveCertificateProvider=e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.routing=e.staticAuthTokenManager=e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=e.TransactionPromise=e.ManagedTransaction=e.Transaction=e.Connection=e.Releasable=e.ConnectionProvider=void 0;var u=r(9691);Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(e,"newGQLError",{enumerable:!0,get:function(){return u.newGQLError}}),Object.defineProperty(e,"GQLError",{enumerable:!0,get:function(){return u.GQLError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return u.isRetriableError}});var s=a(r(3371));e.Integer=s.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return s.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return s.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return s.toString}});var l=r(5459);Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return l.Time}});var c=r(1517);Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=o(r(4820));e.Record=f.default;var h=r(7093);Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return h.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return h.Point}});var d=a(r(6033));e.ResultSummary=d.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return d.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return d.ServerInfo}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return d.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return d.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return d.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return d.Stats}});var v=a(r(1866));e.Notification=v.default,Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return v.GqlStatusObject}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return v.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return v.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return v.notificationSeverityLevel}});var y=r(1985);Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return y.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return y.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return y.notificationFilterMinimumSeverityLevel}});var b=o(r(9512));e.Result=b.default;var p=o(r(8917));e.EagerResult=p.default;var m=a(r(2007));e.ConnectionProvider=m.default,Object.defineProperty(e,"Releasable",{enumerable:!0,get:function(){return m.Releasable}});var g=o(r(1409));e.Connection=g.default;var _=o(r(9473));e.Transaction=_.default;var E=o(r(5909));e.ManagedTransaction=E.default;var T=o(r(4569));e.TransactionPromise=T.default;var w=o(r(5481));e.Session=w.default;var S=a(r(7264)),C=S;e.Driver=S.default,e.driver=C;var R=o(r(1967));e.auth=R.default;var D=r(6755);Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return D.bookmarkManager}});var M=r(2069);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return M.authTokenManagers}}),Object.defineProperty(e,"staticAuthTokenManager",{enumerable:!0,get:function(){return M.staticAuthTokenManager}});var I=r(7264);Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return I.routing}});var k=a(r(6872));e.types=k;var U=a(r(4027));e.json=U;var F=o(r(1573));e.resultTransformers=F.default;var B=r(8264);Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return B.clientCertificateProviders}}),Object.defineProperty(e,"resolveCertificateProvider",{enumerable:!0,get:function(){return B.resolveCertificateProvider}});var z=a(r(6995));e.internal=z;var H={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};e.error=H;var Y={authTokenManagers:M.authTokenManagers,newError:u.newError,Neo4jError:u.Neo4jError,newGQLError:u.newGQLError,GQLError:u.GQLError,isRetriableError:u.isRetriableError,error:H,Integer:s.default,int:s.int,isInt:s.isInt,inSafeRange:s.inSafeRange,toNumber:s.toNumber,toString:s.toString,internal:z,isPoint:h.isPoint,Point:h.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:d.default,queryType:d.queryType,ServerInfo:d.ServerInfo,Notification:v.default,GqlStatusObject:v.GqlStatusObject,Plan:d.Plan,ProfiledPlan:d.ProfiledPlan,QueryStatistics:d.QueryStatistics,Stats:d.Stats,Result:b.default,EagerResult:p.default,Transaction:_.default,ManagedTransaction:E.default,TransactionPromise:T.default,Session:w.default,Driver:S.default,Connection:g.default,Releasable:m.Releasable,types:k,driver:C,json:U,auth:R.default,bookmarkManager:D.bookmarkManager,routing:I.routing,resultTransformers:F.default,notificationCategory:v.notificationCategory,notificationClassification:v.notificationClassification,notificationSeverityLevel:v.notificationSeverityLevel,notificationFilterDisabledCategory:y.notificationFilterDisabledCategory,notificationFilterDisabledClassification:y.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:y.notificationFilterMinimumSeverityLevel,clientCertificateProviders:B.clientCertificateProviders,resolveCertificateProvider:B.resolveCertificateProvider};e.default=Y},9318:(t,e)=>{e.read=function(r,n,i,a,o){var u,s,l=8*o-a-1,c=(1<<l)-1,f=c>>1,h=-7,d=i?o-1:0,v=i?-1:1,y=r[n+d];for(d+=v,u=y&(1<<-h)-1,y>>=-h,h+=l;h>0;u=256*u+r[n+d],d+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=a;h>0;s=256*s+r[n+d],d+=v,h-=8);if(u===0)u=1-f;else{if(u===c)return s?NaN:1/0*(y?-1:1);s+=Math.pow(2,a),u-=f}return(y?-1:1)*s*Math.pow(2,u-a)},e.write=function(r,n,i,a,o,u){var s,l,c,f=8*u-o-1,h=(1<<f)-1,d=h>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=a?0:u-1,b=a?1:-1,p=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,s=h):(s=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-s))<1&&(s--,c*=2),(n+=s+d>=1?v/c:v*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=h?(l=0,s=h):s+d>=1?(l=(n*c-1)*Math.pow(2,o),s+=d):(l=n*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;r[i+y]=255&l,y+=b,l/=256,o-=8);for(s=s<<o|l,f+=o;f>0;r[i+y]=255&s,y+=b,s/=256,f-=8);r[i+y-b]|=128*p}},9353:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defer=void 0;var n=r(4662),i=r(9445);e.defer=function(a){return new n.Observable(function(o){i.innerFrom(a()).subscribe(o)})}},9356:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var n=r(7843),i=r(3111);e.isEmpty=function(){return n.operate(function(a,o){a.subscribe(i.createOperatorSubscriber(o,function(){o.next(!1),o.complete()},function(){o.next(!0),o.complete()}))})}},9376:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.range=void 0;var n=r(4662),i=r(8616);e.range=function(a,o,u){if(o==null&&(o=a,a=0),o<=0)return i.EMPTY;var s=o+a;return new n.Observable(u?function(l){var c=a;return u.schedule(function(){c<s?(l.next(c++),this.schedule()):l.complete()})}:function(l){for(var c=a;c<s&&!l.closed;)l.next(c++);l.complete()})}},9419:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0,e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0,e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var n=r(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return n.audit}});var i=r(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var a=r(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return a.buffer}});var o=r(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return o.bufferCount}});var u=r(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return u.bufferTime}});var s=r(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return s.bufferToggle}});var l=r(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=r(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=r(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var h=r(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return h.combineLatestAll}});var d=r(2551);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return d.combineLatest}});var v=r(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return v.combineLatestWith}});var y=r(7601);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return y.concat}});var b=r(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return b.concatAll}});var p=r(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return p.concatMap}});var m=r(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var g=r(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return g.concatWith}});var _=r(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return _.connect}});var E=r(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return E.count}});var T=r(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return T.debounce}});var w=r(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return w.debounceTime}});var S=r(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return S.defaultIfEmpty}});var C=r(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return C.delay}});var R=r(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return R.delayWhen}});var D=r(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return D.dematerialize}});var M=r(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return M.distinct}});var I=r(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return I.distinctUntilChanged}});var k=r(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return k.distinctUntilKeyChanged}});var U=r(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return U.elementAt}});var F=r(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return F.endWith}});var B=r(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return B.every}});var z=r(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return z.exhaust}});var H=r(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return H.exhaustAll}});var Y=r(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Y.exhaustMap}});var W=r(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return W.expand}});var Z=r(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return Z.filter}});var le=r(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return le.finalize}});var ce=r(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return ce.find}});var ue=r(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ue.findIndex}});var de=r(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return de.first}});var he=r(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return he.groupBy}});var fe=r(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return fe.ignoreElements}});var te=r(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return te.isEmpty}});var Q=r(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Q.last}});var ee=r(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return ee.map}});var ae=r(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return ae.mapTo}});var pe=r(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return pe.materialize}});var _e=r(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return _e.max}});var Te=r(361);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Te.merge}});var Ae=r(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Ae.mergeAll}});var be=r(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return be.flatMap}});var j=r(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return j.mergeMap}});var G=r(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return G.mergeMapTo}});var X=r(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return X.mergeScan}});var ie=r(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return ie.mergeWith}});var ve=r(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return ve.min}});var ge=r(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return ge.multicast}});var Oe=r(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Oe.observeOn}});var Le=r(1226);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Le.onErrorResumeNext}});var We=r(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return We.pairwise}});var ut=r(2171);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return ut.partition}});var Ze=r(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Ze.pluck}});var tt=r(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return tt.publish}});var Qe=r(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Qe.publishBehavior}});var $e=r(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return $e.publishLast}});var Ie=r(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Ie.publishReplay}});var re=r(4440);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return re.race}});var Ee=r(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Ee.raceWith}});var Pe=r(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Pe.reduce}});var Me=r(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Me.repeat}});var Ne=r(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Ne.repeatWhen}});var at=r(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return at.retry}});var je=r(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return je.retryWhen}});var ft=r(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return ft.refCount}});var nt=r(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return nt.sample}});var vt=r(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return vt.sampleTime}});var Mt=r(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Mt.scan}});var Rt=r(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Rt.sequenceEqual}});var lt=r(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return lt.share}});var It=r(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return It.shareReplay}});var rt=r(5382);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return rt.single}});var Lt=r(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Lt.skip}});var Gt=r(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Gt.skipLast}});var wt=r(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return wt.skipUntil}});var mt=r(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return mt.skipWhile}});var ir=r(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return ir.startWith}});var Bt=r(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Bt.subscribeOn}});var ar=r(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return ar.switchAll}});var Qt=r(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Qt.switchMap}});var fr=r(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return fr.switchMapTo}});var Mr=r(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Mr.switchScan}});var Xr=r(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Xr.take}});var vn=r(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return vn.takeLast}});var Pi=r(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Pi.takeUntil}});var pn=r(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return pn.takeWhile}});var bt=r(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return bt.tap}});var rr=r(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return rr.throttle}});var Er=r(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Er.throttleTime}});var Ir=r(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return Ir.throwIfEmpty}});var $r=r(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return $r.timeInterval}});var Nr=r(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Nr.timeout}});var bn=r(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return bn.timeoutWith}});var Cr=r(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Cr.timestamp}});var zi=r(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return zi.toArray}});var _i=r(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return _i.window}});var Oa=r(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return Oa.windowCount}});var cu=r(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return cu.windowTime}});var Xu=r(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Xu.windowToggle}});var Ta=r(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Ta.windowWhen}});var Vt=r(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Vt.withLatestFrom}});var $t=r(5918);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return $t.zip}});var Do=r(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Do.zipAll}});var Mo=r(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return Mo.zipWith}})},9445:function(t,e,r){var n=this&&this.__awaiter||function(S,C,R,D){return new(R||(R=Promise))(function(M,I){function k(B){try{F(D.next(B))}catch(z){I(z)}}function U(B){try{F(D.throw(B))}catch(z){I(z)}}function F(B){var z;B.done?M(B.value):(z=B.value,z instanceof R?z:new R(function(H){H(z)})).then(k,U)}F((D=D.apply(S,C||[])).next())})},i=this&&this.__generator||function(S,C){var R,D,M,I,k={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return I={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function U(F){return function(B){return function(z){if(R)throw new TypeError("Generator is already executing.");for(;k;)try{if(R=1,D&&(M=2&z[0]?D.return:z[0]?D.throw||((M=D.return)&&M.call(D),0):D.next)&&!(M=M.call(D,z[1])).done)return M;switch(D=0,M&&(z=[2&z[0],M.value]),z[0]){case 0:case 1:M=z;break;case 4:return k.label++,{value:z[1],done:!1};case 5:k.label++,D=z[1],z=[0];continue;case 7:z=k.ops.pop(),k.trys.pop();continue;default:if(!((M=(M=k.trys).length>0&&M[M.length-1])||z[0]!==6&&z[0]!==2)){k=0;continue}if(z[0]===3&&(!M||z[1]>M[0]&&z[1]<M[3])){k.label=z[1];break}if(z[0]===6&&k.label<M[1]){k.label=M[1],M=z;break}if(M&&k.label<M[2]){k.label=M[2],k.ops.push(z);break}M[2]&&k.ops.pop(),k.trys.pop();continue}z=C.call(S,k)}catch(H){z=[6,H],D=0}finally{R=M=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([F,B])}}},a=this&&this.__asyncValues||function(S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,R=S[Symbol.asyncIterator];return R?R.call(S):(S=typeof o=="function"?o(S):S[Symbol.iterator](),C={},D("next"),D("throw"),D("return"),C[Symbol.asyncIterator]=function(){return this},C);function D(M){C[M]=S[M]&&function(I){return new Promise(function(k,U){(function(F,B,z,H){Promise.resolve(H).then(function(Y){F({value:Y,done:z})},B)})(k,U,(I=S[M](I)).done,I.value)})}}},o=this&&this.__values||function(S){var C=typeof Symbol=="function"&&Symbol.iterator,R=C&&S[C],D=0;if(R)return R.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&D>=S.length&&(S=void 0),{value:S&&S[D++],done:!S}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.fromReadableStreamLike=e.fromAsyncIterable=e.fromIterable=e.fromPromise=e.fromArrayLike=e.fromInteropObservable=e.innerFrom=void 0;var u=r(8046),s=r(7629),l=r(4662),c=r(1116),f=r(1358),h=r(7614),d=r(6368),v=r(9137),y=r(1018),b=r(7315),p=r(3327);function m(S){return new l.Observable(function(C){var R=S[p.observable]();if(y.isFunction(R.subscribe))return R.subscribe(C);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function g(S){return new l.Observable(function(C){for(var R=0;R<S.length&&!C.closed;R++)C.next(S[R]);C.complete()})}function _(S){return new l.Observable(function(C){S.then(function(R){C.closed||(C.next(R),C.complete())},function(R){return C.error(R)}).then(null,b.reportUnhandledError)})}function E(S){return new l.Observable(function(C){var R,D;try{for(var M=o(S),I=M.next();!I.done;I=M.next()){var k=I.value;if(C.next(k),C.closed)return}}catch(U){R={error:U}}finally{try{I&&!I.done&&(D=M.return)&&D.call(M)}finally{if(R)throw R.error}}C.complete()})}function T(S){return new l.Observable(function(C){(function(R,D){var M,I,k,U;return n(this,void 0,void 0,function(){var F,B;return i(this,function(z){switch(z.label){case 0:z.trys.push([0,5,6,11]),M=a(R),z.label=1;case 1:return[4,M.next()];case 2:if((I=z.sent()).done)return[3,4];if(F=I.value,D.next(F),D.closed)return[2];z.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return B=z.sent(),k={error:B},[3,11];case 6:return z.trys.push([6,,9,10]),I&&!I.done&&(U=M.return)?[4,U.call(M)]:[3,8];case 7:z.sent(),z.label=8;case 8:return[3,10];case 9:if(k)throw k.error;return[7];case 10:return[7];case 11:return D.complete(),[2]}})})})(S,C).catch(function(R){return C.error(R)})})}function w(S){return T(v.readableStreamLikeToAsyncGenerator(S))}e.innerFrom=function(S){if(S instanceof l.Observable)return S;if(S!=null){if(c.isInteropObservable(S))return m(S);if(u.isArrayLike(S))return g(S);if(s.isPromise(S))return _(S);if(f.isAsyncIterable(S))return T(S);if(d.isIterable(S))return E(S);if(v.isReadableStreamLike(S))return w(S)}throw h.createInvalidObservableTypeError(S)},e.fromInteropObservable=m,e.fromArrayLike=g,e.fromPromise=_,e.fromIterable=E,e.fromAsyncIterable=T,e.fromReadableStreamLike=w},9470:function(t,e,r){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfiguredCustomResolver=e.BaseHostNameResolver=void 0;var i=n(r(3389));e.BaseHostNameResolver=i.default;var a=n(r(8341));e.ConfiguredCustomResolver=a.default},9473:function(t,e,r){var n=this&&this.__awaiter||function(p,m,g,_){return new(g||(g=Promise))(function(E,T){function w(R){try{C(_.next(R))}catch(D){T(D)}}function S(R){try{C(_.throw(R))}catch(D){T(D)}}function C(R){var D;R.done?E(R.value):(D=R.value,D instanceof g?D:new g(function(M){M(D)})).then(w,S)}C((_=_.apply(p,m||[])).next())})},i=this&&this.__generator||function(p,m){var g,_,E,T,w={label:0,sent:function(){if(1&E[0])throw E[1];return E[1]},trys:[],ops:[]};return T={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function S(C){return function(R){return function(D){if(g)throw new TypeError("Generator is already executing.");for(;T&&(T=0,D[0]&&(w=0)),w;)try{if(g=1,_&&(E=2&D[0]?_.return:D[0]?_.throw||((E=_.return)&&E.call(_),0):_.next)&&!(E=E.call(_,D[1])).done)return E;switch(_=0,E&&(D=[2&D[0],E.value]),D[0]){case 0:case 1:E=D;break;case 4:return w.label++,{value:D[1],done:!1};case 5:w.label++,_=D[1],D=[0];continue;case 7:D=w.ops.pop(),w.trys.pop();continue;default:if(!((E=(E=w.trys).length>0&&E[E.length-1])||D[0]!==6&&D[0]!==2)){w=0;continue}if(D[0]===3&&(!E||D[1]>E[0]&&D[1]<E[3])){w.label=D[1];break}if(D[0]===6&&w.label<E[1]){w.label=E[1],E=D;break}if(E&&w.label<E[2]){w.label=E[2],w.ops.push(D);break}E[2]&&w.ops.pop(),w.trys.pop();continue}D=m.call(p,w)}catch(M){D=[6,M],_=0}finally{g=E=0}if(5&D[0])throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}([C,R])}}},a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(6587),u=r(3618),s=r(9730),l=r(754),c=r(2696),f=r(9691),h=a(r(9512)),d=function(){function p(m){var g=m.connectionHolder,_=m.onClose,E=m.onBookmarks,T=m.onConnection,w=m.reactive,S=m.fetchSize,C=m.impersonatedUser,R=m.highRecordWatermark,D=m.lowRecordWatermark,M=m.notificationFilter,I=m.apiTelemetryConfig,k=this;this._connectionHolder=g,this._reactive=w,this._state=v.ACTIVE,this._onClose=_,this._onBookmarks=E,this._onConnection=T,this._onError=this._onErrorCallback.bind(this),this._fetchSize=S,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=C,this._lowRecordWatermak=D,this._highRecordWatermark=R,this._bookmarks=s.Bookmarks.empty(),this._notificationFilter=M,this._apiTelemetryConfig=I,this._acceptActive=function(){},this._activePromise=new Promise(function(U,F){k._acceptActive=U})}return p.prototype._begin=function(m,g,_){var E=this;this._connectionHolder.getConnection().then(function(T){return n(E,void 0,void 0,function(){var w,S=this;return i(this,function(C){switch(C.label){case 0:return this._onConnection(),T==null?[3,2]:(w=this,[4,m()]);case 1:return w._bookmarks=C.sent(),[2,T.beginTransaction({bookmarks:this._bookmarks,txConfig:g,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(R){_!=null&&_.onError(R),S._onError(R).catch(function(){})},afterComplete:function(R){_!=null&&_.onComplete(R),R.db!==void 0&&(_==null?void 0:_.onDB)!=null&&_.onDB(R.db),S._onComplete(R)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(T){_!=null&&_.onError(T),E._onError(T).catch(function(){})}).finally(function(){return E._acceptActive()})},p.prototype.run=function(m,g){var _=(0,o.validateQueryAndParameters)(m,g),E=_.validatedQuery,T=_.params,w=this._state.run(E,T,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(w),w},p.prototype.commit=function(){var m=this,g=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(_){return m._onCompleteCallback(_,m._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=g.state,this._onClose(),new Promise(function(_,E){g.result.subscribe({onCompleted:function(){return _()},onError:function(T){return E(T)}})})},p.prototype.rollback=function(){var m=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=m.state,this._onClose(),new Promise(function(g,_){m.result.subscribe({onCompleted:function(){return g()},onError:function(E){return _(E)}})})},p.prototype.isOpen=function(){return this._state===v.ACTIVE},p.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(m){switch(m.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})},p.prototype[Symbol.asyncDispose]=function(){return this.close()},p.prototype._onErrorCallback=function(m){return this._state===v.FAILED?Promise.resolve(null):(this._state=v.FAILED,this._onClose(),this._results.forEach(function(g){g.isOpen()&&g._streamObserverPromise.then(function(_){return _.onError(m)}).catch(function(_){})}),this._connectionHolder.releaseConnection())},p.prototype._onCompleteCallback=function(m,g){this._onBookmarks(new s.Bookmarks(m==null?void 0:m.bookmark),g??s.Bookmarks.empty(),m==null?void 0:m.db)},p}(),v={ACTIVE:{commit:function(p){return{result:y(!0,p.connectionHolder,p.onError,p.onComplete,p.onConnection,p.pendingResults,p.preparationJob),state:v.SUCCEEDED}},rollback:function(p){return{result:y(!1,p.connectionHolder,p.onError,p.onComplete,p.onConnection,p.pendingResults,p.preparationJob),state:v.ROLLED_BACK}},run:function(p,m,g){var _=g.connectionHolder,E=g.onError,T=g.onComplete,w=g.onConnection,S=g.reactive,C=g.fetchSize,R=g.highRecordWatermark,D=g.lowRecordWatermark,M=g.preparationJob,I=M??Promise.resolve();return b(_.getConnection().then(function(k){return I.then(function(){return k})}).then(function(k){if(w(),k!=null)return k.run(p,m,{bookmarks:s.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:E,afterComplete:T,reactive:S,fetchSize:C,highRecordWatermark:R,lowRecordWatermark:D});throw(0,f.newError)("No connection available")}).catch(function(k){return new c.FailedObserver({error:k,onError:E})}),p,m,_,R,D)}},FAILED:{commit:function(p){var m=p.connectionHolder,g=p.onError;return p.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:g}),"COMMIT",{},m,0,0),state:v.FAILED}},rollback:function(p){var m=p.connectionHolder;return p.onError,p.onComplete,{result:b(new c.CompletedObserver,"ROLLBACK",{},m,0,0),state:v.FAILED}},run:function(p,m,g){var _=g.connectionHolder,E=g.onError;return g.onComplete,b(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:E}),p,m,_,0,0)}},SUCCEEDED:{commit:function(p){var m=p.connectionHolder,g=p.onError;return p.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:g}),"COMMIT",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:v.SUCCEEDED,connectionHolder:m}},rollback:function(p){var m=p.connectionHolder,g=p.onError;return p.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:g}),"ROLLBACK",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:v.SUCCEEDED,connectionHolder:m}},run:function(p,m,g){var _=g.connectionHolder,E=g.onError;return g.onComplete,b(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:E}),p,m,_,0,0)}},ROLLED_BACK:{commit:function(p){var m=p.connectionHolder,g=p.onError;return p.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:g}),"COMMIT",{},m,0,0),state:v.ROLLED_BACK}},rollback:function(p){var m=p.connectionHolder;return p.onError,p.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},m,0,0),state:v.ROLLED_BACK}},run:function(p,m,g){var _=g.connectionHolder,E=g.onError;return g.onComplete,b(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:E}),p,m,_,0,0)}}};function y(p,m,g,_,E,T,w){var S=w??Promise.resolve(),C=m.getConnection().then(function(R){return S.then(function(){return R})}).then(function(R){return E(),T.forEach(function(D){return D._cancel()}),Promise.all(T.map(function(D){return D.summary()})).then(function(D){if(R!=null)return p?R.commitTransaction({beforeError:g,afterComplete:_}):R.rollbackTransaction({beforeError:g,afterComplete:_});throw(0,f.newError)("No connection available")})}).catch(function(R){return new c.FailedObserver({error:R,onError:g})});return new h.default(C,p?"COMMIT":"ROLLBACK",{},m,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function b(p,m,g,_,E,T){return _===void 0&&(_=u.EMPTY_CONNECTION_HOLDER),new h.default(Promise.resolve(p),m,g,new u.ReadOnlyConnectionHolder(_??u.EMPTY_CONNECTION_HOLDER),{low:T,high:E})}e.default=d},9507:function(t,e,r){var n=this&&this.__read||function(o,u){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var l,c,f=s.call(o),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,u){for(var s=0,l=u.length,c=o.length;s<l;s++,c++)o[c]=u[s];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var a=r(8014);e.animationFrameProvider={schedule:function(o){var u=requestAnimationFrame,s=cancelAnimationFrame,l=e.animationFrameProvider.delegate;l&&(u=l.requestAnimationFrame,s=l.cancelAnimationFrame);var c=u(function(f){s=void 0,o(f)});return new a.Subscription(function(){return s==null?void 0:s(c)})},requestAnimationFrame:function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var s=e.animationFrameProvider.delegate;return((s==null?void 0:s.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(o)))},cancelAnimationFrame:function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var s=e.animationFrameProvider.delegate;return((s==null?void 0:s.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(o)))},delegate:void 0}},9512:function(t,e,r){var n,i=this&&this.__awaiter||function(y,b,p,m){return new(p||(p=Promise))(function(g,_){function E(S){try{w(m.next(S))}catch(C){_(C)}}function T(S){try{w(m.throw(S))}catch(C){_(C)}}function w(S){var C;S.done?g(S.value):(C=S.value,C instanceof p?C:new p(function(R){R(C)})).then(E,T)}w((m=m.apply(y,b||[])).next())})},a=this&&this.__generator||function(y,b){var p,m,g,_,E={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return _={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function T(w){return function(S){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;_&&(_=0,C[0]&&(E=0)),E;)try{if(p=1,m&&(g=2&C[0]?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,m=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(!((g=(g=E.trys).length>0&&g[g.length-1])||C[0]!==6&&C[0]!==2)){E=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){E.label=C[1];break}if(C[0]===6&&E.label<g[1]){E.label=g[1],g=C;break}if(g&&E.label<g[2]){E.label=g[2],E.ops.push(C);break}g[2]&&E.ops.pop(),E.trys.pop();continue}C=b.call(y,E)}catch(R){C=[6,R],m=0}finally{p=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([w,S])}}},o=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var u=o(r(6033)),s=r(6995),l=r(9691),c=s.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(y){console.log("Uncaught error when processing result: "+y)},h=function(y){},d=function(y){},v=function(){function y(b,p,m,g,_){var E;_===void 0&&(_={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[n]="Result",this._stack=(E=new Error("")).stack!=null?E.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=b,this._p=null,this._query=p,this._parameters=m??{},this._connectionHolder=g??c,this._keys=null,this._summary=null,this._error=null,this._watermarks=_}return y.prototype.keys=function(){var b=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(p,m){b._streamObserverPromise.then(function(g){return g.subscribe(b._decorateObserver({onKeys:function(_){return p(_)},onError:function(_){return m(_)}}))}).catch(m)})},y.prototype.summary=function(){var b=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(p,m){b._streamObserverPromise.then(function(g){g.cancel(),g.subscribe(b._decorateObserver({onCompleted:function(_){return p(_)},onError:function(_){return m(_)}}))}).catch(m)})},y.prototype._getOrCreatePromise=function(){var b=this;return this._p==null&&(this._p=new Promise(function(p,m){var g=[],_={onNext:function(E){g.push(E)},onCompleted:function(E){p({records:g,summary:E})},onError:function(E){m(E)}};b.subscribe(_)})),this._p},y.prototype[Symbol.asyncIterator]=function(){var b=this;if(!this.isOpen()){var p=(0,l.newError)("Result is already consumed");return{next:function(){return Promise.reject(p)},peek:function(){return Promise.reject(p)}}}var m={paused:!0,firstRun:!0,finished:!1},g=function(){var T,w;if(m.streaming!=null){var S=(w=(T=m.queuedObserver)===null||T===void 0?void 0:T.size)!==null&&w!==void 0?w:0,C=S>=b._watermarks.high,R=S<=b._watermarks.low;C&&!m.paused?(m.paused=!0,m.streaming.pause()):(R&&m.paused||m.firstRun&&!C)&&(m.firstRun=!1,m.paused=!1,m.streaming.resume())}},_=function(){return i(b,void 0,void 0,function(){var T;return a(this,function(w){switch(w.label){case 0:return m.queuedObserver!==void 0?[3,2]:(m.queuedObserver=this._createQueuedResultObserver(g),T=m,[4,this._subscribe(m.queuedObserver,!0).catch(function(){})]);case 1:T.streaming=w.sent(),g(),w.label=2;case 2:return[2,m.queuedObserver]}})})},E=function(T){if(T===void 0)throw(0,l.newError)("InvalidState: Result stream finished without Summary",l.PROTOCOL_ERROR);return!0};return{next:function(){return i(b,void 0,void 0,function(){var T;return a(this,function(w){switch(w.label){case 0:return m.finished&&E(m.summary)?[2,{done:!0,value:m.summary}]:[4,_()];case 1:return[4,w.sent().dequeue()];case 2:return(T=w.sent()).done===!0&&(m.finished=T.done,m.summary=T.value),[2,T]}})})},return:function(T){return i(b,void 0,void 0,function(){var w,S;return a(this,function(C){switch(C.label){case 0:return m.finished&&E(m.summary)?[2,{done:!0,value:T??m.summary}]:((S=m.streaming)===null||S===void 0||S.cancel(),[4,_()]);case 1:return[4,C.sent().dequeueUntilDone()];case 2:return w=C.sent(),m.finished=!0,w.value=T??w.value,m.summary=w.value,[2,w]}})})},peek:function(){return i(b,void 0,void 0,function(){return a(this,function(T){switch(T.label){case 0:return m.finished&&E(m.summary)?[2,{done:!0,value:m.summary}]:[4,_()];case 1:return[4,T.sent().head()];case 2:return[2,T.sent()]}})})}}},y.prototype.then=function(b,p){return this._getOrCreatePromise().then(b,p)},y.prototype.catch=function(b){return this._getOrCreatePromise().catch(b)},y.prototype.finally=function(b){return this._getOrCreatePromise().finally(b)},y.prototype.subscribe=function(b){this._subscribe(b).catch(function(){})},y.prototype.isOpen=function(){return this._summary===null&&this._error===null},y.prototype._subscribe=function(b,p){p===void 0&&(p=!1);var m=this._decorateObserver(b);return this._streamObserverPromise.then(function(g){return p&&g.pause(),g.subscribe(m),g}).catch(function(g){return m.onError!=null&&m.onError(g),Promise.reject(g)})},y.prototype._decorateObserver=function(b){var p,m,g,_=this,E=(p=b.onCompleted)!==null&&p!==void 0?p:h,T=(m=b.onError)!==null&&m!==void 0?m:f,w=(g=b.onKeys)!==null&&g!==void 0?g:d;return{onNext:b.onNext!=null?b.onNext.bind(b):void 0,onKeys:function(S){return _._keys=S,w.call(b,S)},onCompleted:function(S){_._releaseConnectionAndGetSummary(S).then(function(C){return _._summary!==null?E.call(b,_._summary):(_._summary=C,E.call(b,C))}).catch(T)},onError:function(S){_._connectionHolder.releaseConnection().then(function(){(function(C,R){R!=null&&(C.stack=C.toString()+`
`+R)})(S,_._stack),_._error=S,T.call(b,S)}).catch(T)}}},y.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(b){return b.cancel()}).catch(function(){})},y.prototype._releaseConnectionAndGetSummary=function(b){var p=s.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),m=p.validatedQuery,g=p.params,_=this._connectionHolder;return _.getConnection().then(function(E){return _.releaseConnection().then(function(){return E==null?void 0:E.getProtocolVersion()})},function(E){}).then(function(E){return new u.default(m,g,b,E)})},y.prototype._createQueuedResultObserver=function(b){var p=this;function m(){var S={};return S.promise=new Promise(function(C,R){S.resolve=C,S.reject=R}),S}function g(S){return S instanceof Error}function _(){var S;return i(this,void 0,void 0,function(){var C;return a(this,function(R){switch(R.label){case 0:if(E.length>0){if(C=(S=E.shift())!==null&&S!==void 0?S:(0,l.newError)("Unexpected empty buffer",l.PROTOCOL_ERROR),b(),g(C))throw C;return[2,C]}return T.resolvable=m(),[4,T.resolvable.promise];case 1:return[2,R.sent()]}})})}var E=[],T={resolvable:null},w={onNext:function(S){w._push({done:!1,value:S})},onCompleted:function(S){w._push({done:!0,value:S})},onError:function(S){w._push(S)},_push:function(S){if(T.resolvable!==null){var C=T.resolvable;T.resolvable=null,g(S)?C.reject(S):C.resolve(S)}else E.push(S),b()},dequeue:_,dequeueUntilDone:function(){return i(p,void 0,void 0,function(){var S;return a(this,function(C){switch(C.label){case 0:return[4,_()];case 1:return(S=C.sent()).done===!0?[2,S]:[3,0];case 2:return[2]}})})},head:function(){return i(p,void 0,void 0,function(){var S,C;return a(this,function(R){switch(R.label){case 0:if(E.length>0){if(g(S=E[0]))throw S;return[2,S]}T.resolvable=m(),R.label=1;case 1:return R.trys.push([1,3,4,5]),[4,T.resolvable.promise];case 2:return S=R.sent(),E.unshift(S),[2,S];case 3:throw C=R.sent(),E.unshift(C),C;case 4:return b(),[7];case 5:return[2]}})})},get size(){return E.length}};return w},y}();n=Symbol.toStringTag,e.default=v},9567:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleObservable=void 0;var n=r(9445),i=r(5184),a=r(8960);e.scheduleObservable=function(o,u){return n.innerFrom(o).pipe(a.subscribeOn(u),i.observeOn(u))}},9568:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},9589:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.schedulePromise=void 0;var n=r(9445),i=r(5184),a=r(8960);e.schedulePromise=function(o,u){return n.innerFrom(o).pipe(a.subscribeOn(u),i.observeOn(u))}},9612:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilKeyChanged=void 0;var n=r(8937);e.distinctUntilKeyChanged=function(i,a){return n.distinctUntilChanged(function(o,u){return a?a(o[i],u[i]):o[i]===u[i]})}},9669:function(t,e,r){var n=this&&this.__read||function(o,u){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var l,c,f=s.call(o),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(d){c={error:d}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(o,u){for(var s=0,l=u.length,c=o.length;s<l;s++,c++)o[c]=u[s];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.concatWith=void 0;var a=r(7601);e.concatWith=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return a.concat.apply(void 0,i([],n(o)))}},9686:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectUnsubscribedError=void 0;var n=r(5568);e.ObjectUnsubscribedError=n.createErrorClass(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},9689:function(t,e,r){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var i=r(4132);Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var a=r(8987);Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(a).default}});var o=r(3545);Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var u=r(7428);Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(u).default}})},9691:function(t,e,r){var n=this&&this.__extends||function(){var b=function(p,m){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(g[E]=_[E])},b(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function g(){this.constructor=p}b(p,m),p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),i=this&&this.__createBinding||(Object.create?function(b,p,m,g){g===void 0&&(g=m);var _=Object.getOwnPropertyDescriptor(p,m);_&&!("get"in _?!p.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(b,g,_)}:function(b,p,m,g){g===void 0&&(g=m),b[g]=p[m]}),a=this&&this.__setModuleDefault||(Object.create?function(b,p){Object.defineProperty(b,"default",{enumerable:!0,value:p})}:function(b,p){b.default=p}),o=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var p={};if(b!=null)for(var m in b)m!=="default"&&Object.prototype.hasOwnProperty.call(b,m)&&i(p,b,m);return a(p,b),p};Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_ERROR=e.SESSION_EXPIRED=e.SERVICE_UNAVAILABLE=e.GQLError=e.Neo4jError=e.isRetriableError=e.newGQLError=e.newError=void 0;var u=o(r(4027)),s=r(1053),l={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(l);var c=Object.values(l),f="ServiceUnavailable";e.SERVICE_UNAVAILABLE=f;var h="SessionExpired";e.SESSION_EXPIRED=h,e.PROTOCOL_ERROR="ProtocolError";var d=function(b){function p(m,g,_,E,T){var w,S=this;return(S=b.call(this,m,T!=null?{cause:T}:void 0)||this).constructor=p,S.__proto__=p.prototype,S.cause=T??void 0,S.gqlStatus=g,S.gqlStatusDescription=_,S.diagnosticRecord=E,S.classification=function(C){return C===void 0||C._classification===void 0?"UNKNOWN":c.includes(C._classification)?C==null?void 0:C._classification:"UNKNOWN"}(S.diagnosticRecord),S.rawClassification=(w=E==null?void 0:E._classification)!==null&&w!==void 0?w:void 0,S.name="GQLError",S}return n(p,b),Object.defineProperty(p.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),p}(Error);e.GQLError=d;var v=function(b){function p(m,g,_,E,T,w){var S=b.call(this,m,_,E,T,w)||this;return S.constructor=p,S.__proto__=p.prototype,S.code=g,S.name="Neo4jError",S.retriable=function(C){return C===f||C===h||function(R){return R==="Neo.ClientError.Security.AuthorizationExpired"}(C)||function(R){return(R==null?void 0:R.includes("TransientError"))===!0}(C)}(g),S}return n(p,b),p.isRetriable=function(m){return m!=null&&m instanceof p&&m.retriable},p}(d);e.Neo4jError=v,e.newError=function(b,p,m,g,_,E){return new v(b,p??"N/A",g??"50N42",_??"error: general processing exception - unexpected error. "+b,E??s.rawPolyfilledDiagnosticRecord,m)},e.newGQLError=function(b,p,m,g,_){return new d(b,m??"50N42",g??"error: general processing exception - unexpected error. "+b,_??s.rawPolyfilledDiagnosticRecord,p)};var y=v.isRetriable;e.isRetriableError=y},9730:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(h,d,v,y){y===void 0&&(y=v);var b=Object.getOwnPropertyDescriptor(d,v);b&&!("get"in b?!d.__esModule:b.writable||b.configurable)||(b={enumerable:!0,get:function(){return d[v]}}),Object.defineProperty(h,y,b)}:function(h,d,v,y){y===void 0&&(y=v),h[y]=d[v]}),i=this&&this.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),a=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&n(d,h,v);return i(d,h),d},o=this&&this.__read||function(h,d){var v=typeof Symbol=="function"&&h[Symbol.iterator];if(!v)return h;var y,b,p=v.call(h),m=[];try{for(;(d===void 0||d-- >0)&&!(y=p.next()).done;)m.push(y.value)}catch(g){b={error:g}}finally{try{y&&!y.done&&(v=p.return)&&v.call(p)}finally{if(b)throw b.error}}return m},u=this&&this.__spreadArray||function(h,d,v){if(v||arguments.length===2)for(var y,b=0,p=d.length;b<p;b++)!y&&b in d||(y||(y=Array.prototype.slice.call(d,0,b)),y[b]=d[b]);return h.concat(y||Array.prototype.slice.call(d))};Object.defineProperty(e,"__esModule",{value:!0}),e.Bookmarks=void 0;var s=a(r(6587)),l=function(){function h(d){this._values=function(v){if(v==null||v==="")return[];if(s.isString(v))return[v];if(Array.isArray(v)){for(var y=new Set,b=f(v),p=0;p<b.length;p++){var m=b[p];if(m!=null){if(!s.isString(m))throw new TypeError("Bookmark value should be a string, given: '".concat(m,"'"));y.add(m)}}return u([],o(y),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(v,"'"))}(d)}return h.empty=function(){return c},h.prototype.isEmpty=function(){return this._values.length===0},h.prototype.values=function(){return this._values},h.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},h.prototype.asBeginTransactionParameters=function(){var d;return this.isEmpty()?{}:((d={}).bookmarks=this._values,d)},h}();e.Bookmarks=l;var c=new l(null);function f(h){return h.reduce(function(d,v){return Array.isArray(v)?d.concat(f(v)):d.concat(v)},[])}},9744:function(t,e,r){var n=this&&this.__extends||function(){var h=function(d,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(y[p]=b[p])},h(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function y(){this.constructor=d}h(d,v),d.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}(),i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(9125)),o=i(r(4325)),u=i(r(7021)),s=r(9014),l=i(r(3321)),c=r(9305).internal.constants.BOLT_PROTOCOL_V5_4,f=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return n(d,h),Object.defineProperty(d.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(o.default).map(function(y){return y(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),d.prototype.telemetry=function(v,y){var b=v.api,p=y===void 0?{}:y,m=p.onError,g=p.onCompleted,_=new s.TelemetryObserver({onCompleted:g,onError:m});return this.write(u.default.telemetry({api:b}),_,!1),_},d}(a.default);e.default=f},9756:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.findIndex=void 0;var n=r(7843),i=r(7714);e.findIndex=function(a,o){return n.operate(i.createFind(a,o,"index"))}},9792:(t,e,r)=>{var n=r(7045),i=r(4360),a=r(6804);t.exports=function(o,u){if(!u)return o;var s=Object.keys(u);if(s.length===0)return o;for(var l=n(o),c=s.length-1;c>=0;c--){var f=s[c],h=String(u[f]);h&&(h=" "+h),a(l,{type:"preprocessor",data:"#define "+f+h})}return i(l)}},9823:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(9305),i=r(8813),a=r(9419),o=(n.internal.logger.Logger,n.error.SERVICE_UNAVAILABLE),u=function(){function l(c){var f=c===void 0?{}:c,h=f.maxRetryTimeout,d=h===void 0?3e4:h,v=f.initialDelay,y=v===void 0?1e3:v,b=f.delayMultiplier,p=b===void 0?2:b,m=f.delayJitter,g=m===void 0?.2:m,_=f.logger,E=_===void 0?null:_;this._maxRetryTimeout=s(d,3e4),this._initialDelay=s(y,1e3),this._delayMultiplier=s(p,2),this._delayJitter=s(g,.2),this._logger=E}return l.prototype.retry=function(c){var f=this;return c.pipe((0,a.retryWhen)(function(h){var d=[],v=Date.now(),y=1,b=f._initialDelay;return h.pipe((0,a.mergeMap)(function(p){if(!(0,n.isRetriableError)(p))return(0,i.throwError)(function(){return p});if(d.push(p),y>=2&&Date.now()-v>=f._maxRetryTimeout){var m=(0,n.newError)("Failed after retried for ".concat(y," times in ").concat(f._maxRetryTimeout," ms. Make sure that your database is online and retry again."),o);return m.seenErrors=d,(0,i.throwError)(function(){return m})}var g=f._computeNextDelay(b);return b*=f._delayMultiplier,y++,f._logger&&f._logger.warn("Transaction failed and will be retried in ".concat(g)),(0,i.of)(1).pipe((0,a.delay)(g))}))}))},l.prototype._computeNextDelay=function(c){var f=c*this._delayJitter;return c-f+2*f*Math.random()},l}();function s(l,c){return l||l===0?l:c}e.default=u},9843:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retryWhen=void 0;var n=r(9445),i=r(2483),a=r(7843),o=r(3111);e.retryWhen=function(u){return a.operate(function(s,l){var c,f,h=!1,d=function(){c=s.subscribe(o.createOperatorSubscriber(l,void 0,void 0,function(v){f||(f=new i.Subject,n.innerFrom(u(f)).subscribe(o.createOperatorSubscriber(l,function(){return c?d():h=!0}))),f&&f.next(v)})),h&&(c.unsubscribe(),c=null,h=!1,d())};d()})}},9857:function(t,e,r){var n=this&&this.__extends||function(){var o=function(u,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},o(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}o(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(o){function u(s,l){var c=o.call(this,l)||this;return l&&(c._originalErrorHandler=s._errorHandler,s._errorHandler=c._errorHandler),c._delegate=s,c}return n(u,o),u.prototype.beginTransaction=function(s){return this._delegate.beginTransaction(s)},u.prototype.run=function(s,l,c){return this._delegate.run(s,l,c)},u.prototype.commitTransaction=function(s){return this._delegate.commitTransaction(s)},u.prototype.rollbackTransaction=function(s){return this._delegate.rollbackTransaction(s)},u.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(s){this._delegate.databaseId=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(s){this._delegate.authToken=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._delegate.version},set:function(s){this._delegate.version=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(s){this._delegate.idleTimestamp=s},enumerable:!1,configurable:!0}),u.prototype.isOpen=function(){return this._delegate.isOpen()},u.prototype.protocol=function(){return this._delegate.protocol()},u.prototype.connect=function(s,l,c,f){return this._delegate.connect(s,l,c,f)},u.prototype.write=function(s,l,c){return this._delegate.write(s,l,c)},u.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},u.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},u.prototype.close=function(){return this._delegate.close()},u.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},u}(i(r(6385)).default);e.default=a},9938:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMapTo=void 0;var n=r(9135),i=r(1018);e.concatMapTo=function(a,o){return i.isFunction(o)?n.concatMap(function(){return a},o):n.concatMap(function(){return a})}},9975:(t,e,r)=>{var n=r(7101),i=Array.prototype.concat,a=Array.prototype.slice,o=t.exports=function(u){for(var s=[],l=0,c=u.length;l<c;l++){var f=u[l];n(f)?s=i.call(s,a.call(f)):s.push(f)}return s};o.wrap=function(u){return function(){return u(o(arguments))}}},9994:function(t,e,r){var n=this&&this.__assign||function(){return n=Object.assign||function(o){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(o[c]=u[c]);return o},n.apply(this,arguments)},i=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(r(7449));e.default=n({},a.default)}},ez={};function Zn(t){var e=ez[t];if(e!==void 0)return e.exports;var r=ez[t]={id:t,loaded:!1,exports:{}};return yme[t].call(r.exports,r,r.exports,Zn),r.loaded=!0,r.exports}Zn.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Zn.d(e,{a:e}),e},Zn.d=(t,e)=>{for(var r in e)Zn.o(e,r)&&!Zn.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},Zn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Zn.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Zn.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var cn=Zn(5250),mme=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};function fT(t,e){function r(){this.constructor=t}mme(t,e),t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var N_=function(){function t(e){e===void 0&&(e="Atom@"+_a()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Hr.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.reportObserved=function(){wX(this)},t.prototype.reportChanged=function(){nh(),function(e){if(e.lowestObserverState!==Hr.STALE){e.lowestObserverState=Hr.STALE;for(var r=e.observers,n=r.length;n--;){var i=r[n];i.dependenciesState===Hr.UP_TO_DATE&&(i.isTracing!==ps.NONE&&EX(i,e),i.onBecomeStale()),i.dependenciesState=Hr.STALE}}}(this),ih()},t.prototype.toString=function(){return this.name},t}(),bme=function(t){function e(r,n,i){r===void 0&&(r="Atom@"+_a()),n===void 0&&(n=dz),i===void 0&&(i=dz);var a=t.call(this,r)||this;return a.name=r,a.onBecomeObservedHandler=n,a.onBecomeUnobservedHandler=i,a.isPendingUnobservation=!1,a.isBeingTracked=!1,a}return fT(e,t),e.prototype.reportObserved=function(){return nh(),t.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),ih(),!!At.trackingDerivation},e.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},e}(N_),VL=Cv("Atom",N_);function sv(t){return t.interceptors&&t.interceptors.length>0}function hT(t,e){var r=t.interceptors||(t.interceptors=[]);return r.push(e),$L(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function lv(t,e){var r=Av();try{var n=t.interceptors;if(n)for(var i=0,a=n.length;i<a&&(tr(!(e=n[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{cc(r)}}function th(t){return t.changeListeners&&t.changeListeners.length>0}function dT(t,e){var r=t.changeListeners||(t.changeListeners=[]);return r.push(e),$L(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function rh(t,e){var r=Av(),n=t.changeListeners;if(n){for(var i=0,a=(n=n.slice()).length;i<a;i++)n[i](e);cc(r)}}function Ja(){return!!At.spyListeners.length}function cv(t){if(At.spyListeners.length)for(var e=At.spyListeners,r=0,n=e.length;r<n;r++)e[r](t)}function ms(t){cv(sX({},t,{spyReportStart:!0}))}var tz={spyReportEnd:!0};function bs(t){cv(t?sX({},t,tz):tz)}function GW(t){return At.spyListeners.push(t),$L(function(){var e=At.spyListeners.indexOf(t);e!==-1&&At.spyListeners.splice(e,1)})}var rz="__$$iterating";function BE(t){tr(t[rz]!==!0,"Illegal state: cannot recycle array as iterator"),Zb(t,rz,!0);var e=-1;return Zb(t,"next",function(){return{done:++e>=this.length,value:e<this.length?this[e]:void 0}}),t}function VW(t,e){Zb(t,typeof Symbol=="function"&&Symbol.iterator||"@@iterator",e)}var $m,zw,_me=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),UI=0,FI=function(){};$m=FI,zw=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf($m.prototype,zw):$m.prototype.__proto__!==void 0?$m.prototype.__proto__=zw:$m.prototype=zw,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(t){Object.defineProperty(FI.prototype,t,{configurable:!0,writable:!0,value:Array.prototype[t]})});var HW=function(){function t(e,r,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new N_(e||"ObservableArray@"+_a()),this.enhancer=function(a,o){return r(a,o,e+"[..]")}}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.dehanceValues=function(e){return this.dehancer!==void 0?e.map(this.dehancer):e},t.prototype.intercept=function(e){return hT(this,e)},t.prototype.observe=function(e,r){return r===void 0&&(r=!1),r&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),dT(this,e)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var r=this.values.length;if(e!==r)if(e>r){for(var n=new Array(e-r),i=0;i<e-r;i++)n[i]=void 0;this.spliceWithArray(r,0,n)}else this.spliceWithArray(e,r-e)},t.prototype.updateArrayLength=function(e,r){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=r,r>0&&e+r+1>UI&&HL(e+r+1)},t.prototype.spliceWithArray=function(e,r,n){var i=this;QL(this.atom);var a=this.values.length;if(e===void 0?e=0:e>a?e=a:e<0&&(e=Math.max(0,a+e)),r=arguments.length===1?a-e:r==null?0:Math.max(0,Math.min(r,a-e)),n===void 0&&(n=[]),sv(this)){var o=lv(this,{object:this.array,type:"splice",index:e,removedCount:r,added:n});if(!o)return uX;r=o.removedCount,n=o.added}var u=(n=n.map(function(l){return i.enhancer(l,void 0)})).length-r;this.updateArrayLength(a,u);var s=this.spliceItemsIntoValues(e,r,n);return r===0&&n.length===0||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(e,r,n){if(n.length<1e4)return(i=this.values).splice.apply(i,[e,r].concat(n));var i,a=this.values.slice(e,e+r);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+r)),a},t.prototype.notifyArrayChildUpdate=function(e,r,n){var i=!this.owned&&Ja(),a=th(this),o=a||i?{object:this.array,type:"update",index:e,newValue:r,oldValue:n}:null;i&&ms(o),this.atom.reportChanged(),a&&rh(this,o),i&&bs()},t.prototype.notifyArraySplice=function(e,r,n){var i=!this.owned&&Ja(),a=th(this),o=a||i?{object:this.array,type:"splice",index:e,removed:n,added:r,removedCount:n.length,addedCount:r.length}:null;i&&ms(o),this.atom.reportChanged(),a&&rh(this,o),i&&bs()},t}(),nc=function(t){function e(r,n,i,a){i===void 0&&(i="ObservableArray@"+_a()),a===void 0&&(a=!1);var o=t.call(this)||this,u=new HW(i,n,o,a);return Zb(o,"$mobx",u),r&&r.length&&o.spliceWithArray(0,0,r),_me&&Object.defineProperty(u.array,"0",wme),o}return fT(e,t),e.prototype.intercept=function(r){return this.$mobx.intercept(r)},e.prototype.observe=function(r,n){return n===void 0&&(n=!1),this.$mobx.observe(r,n)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),r.map(function(i){return bc(i)?i.peek():i}))},e.prototype.replace=function(r){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,r)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(r,n,i){i===void 0&&(i=0);var a=this.findIndex.apply(this,arguments);return a===-1?void 0:this.get(a)},e.prototype.findIndex=function(r,n,i){i===void 0&&(i=0);for(var a=this.peek(),o=a.length,u=i;u<o;u++)if(r.call(n,a[u],u,this))return u;return-1},e.prototype.splice=function(r,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(r);case 2:return this.$mobx.spliceWithArray(r,n)}return this.$mobx.spliceWithArray(r,n,i)},e.prototype.spliceWithArray=function(r,n,i){return this.$mobx.spliceWithArray(r,n,i)},e.prototype.push=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.$mobx;return i.spliceWithArray(i.values.length,0,r),i.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.$mobx;return i.spliceWithArray(0,0,r),i.values.length},e.prototype.reverse=function(){var r=this.slice();return r.reverse.apply(r,arguments)},e.prototype.sort=function(r){var n=this.slice();return n.sort.apply(n,arguments)},e.prototype.remove=function(r){var n=this.$mobx.dehanceValues(this.$mobx.values).indexOf(r);return n>-1&&(this.splice(n,1),!0)},e.prototype.move=function(r,n){function i(u){if(u<0)throw new Error("[mobx.array] Index out of bounds: "+u+" is negative");var s=this.$mobx.values.length;if(u>=s)throw new Error("[mobx.array] Index out of bounds: "+u+" is not smaller than "+s)}if(i.call(this,r),i.call(this,n),r!==n){var a,o=this.$mobx.values;a=r<n?o.slice(0,r).concat(o.slice(r+1,n+1),[o[r]],o.slice(n+1)):o.slice(0,n).concat([o[r]],o.slice(n,r),o.slice(r+1)),this.replace(a)}},e.prototype.get=function(r){var n=this.$mobx;if(n){if(r<n.values.length)return n.atom.reportObserved(),n.dehanceValue(n.values[r]);console.warn("[mobx.array] Attempt to read an array index ("+r+") that is out of bounds ("+n.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(r,n){var i=this.$mobx,a=i.values;if(r<a.length){QL(i.atom);var o=a[r];if(sv(i)){var u=lv(i,{type:"update",object:this,index:r,newValue:n});if(!u)return;n=u.newValue}(n=i.enhancer(n,o))!==o&&(a[r]=n,i.notifyArrayChildUpdate(r,n,o))}else{if(r!==a.length)throw new Error("[mobx.array] Index out of bounds, "+r+" is larger than "+a.length);i.spliceWithArray(r,0,[n])}},e}(FI);VW(nc.prototype,function(){return BE(this.slice())}),Object.defineProperty(nc.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(t){var e=Array.prototype[t];tr(typeof e=="function","Base function not defined on Array prototype: '"+t+"'"),_h(nc.prototype,t,function(){return e.apply(this.peek(),arguments)})}),function(t,e){for(var r=0;r<e.length;r++)_h(t,e[r],t[e[r]])}(nc.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var wme=YW(0);function YW(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function Eme(t){Object.defineProperty(nc.prototype,""+t,YW(t))}function HL(t){for(var e=UI;e<t;e++)Eme(e);UI=t}HL(1e3);var Sme=Cv("ObservableArrayAdministration",HW);function bc(t){return KL(t)&&Sme(t.$mobx)}var H0={},bh=function(t){function e(r,n,i,a){i===void 0&&(i="ObservableValue@"+_a()),a===void 0&&(a=!0);var o=t.call(this,i)||this;return o.enhancer=n,o.hasUnreportedChange=!1,o.dehancer=void 0,o.value=n(r,void 0,i),a&&Ja()&&cv({type:"create",object:o,newValue:o.value}),o}return fT(e,t),e.prototype.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.prototype.set=function(r){var n=this.value;if((r=this.prepareNewValue(r))!==H0){var i=Ja();i&&ms({type:"update",object:this,newValue:r,oldValue:n}),this.setNewValue(r),i&&bs()}},e.prototype.prepareNewValue=function(r){if(QL(this),sv(this)){var n=lv(this,{object:this,type:"update",newValue:r});if(!n)return H0;r=n.newValue}return r=this.enhancer(r,this.value,this.name),this.value!==r?r:H0},e.prototype.setNewValue=function(r){var n=this.value;this.value=r,this.reportChanged(),th(this)&&rh(this,{type:"update",object:this,newValue:r,oldValue:n})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(r){return hT(this,r)},e.prototype.observe=function(r,n){return n&&r({object:this,type:"update",newValue:this.value,oldValue:void 0}),dT(this,r)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return fX(this.get())},e}(N_);bh.prototype[cX()]=bh.prototype.valueOf;var YL=Cv("ObservableValue",bh),Ome={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:`* This computation is suspended (not in use by any reaction) and won't run automatically.
	Didn't expect this computation to be suspended at this point?
	  1. Make sure this computation is used by a reaction (reaction, autorun, observer).
	  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).`,m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:`Hi there! I'm sorry you have just run into an exception.
If your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)
threw an exception and that mobx caught it, to avoid that it brings the rest of your application down.
The original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.

However, more interesting is the actual stack trace of the error itself.
Hopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.
See \`error.stack\` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.
That stack is more interesting than the stack of this console.error itself.

If the exception you see is an exception you created yourself, make sure to use \`throw new Error("Oops")\` instead of \`throw "Oops"\`,
because the javascript environment will only preserve the original stack trace in the first form.

You can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".
(Note that it might pause on many other, unrelated exception as well).

If that all doesn't help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!
`,m038:`Missing items in this list?
    1. Check whether all used values are properly marked as observable (use isObservable to verify)
    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.
`};function jr(t){return Ome[t]}function Xb(t,e){tr(typeof e=="function",jr("m026")),tr(typeof t=="string"&&t.length>0,"actions should have valid names, got: '"+t+"'");var r=function(){return WL(t,e,this,arguments)};return r.originalFn=e,r.isMobxAction=!0,r}function WL(t,e,r,n){var i=function(a,o,u,s){var l=Ja()&&!!a,c=0;if(l){c=Date.now();var f=s&&s.length||0,h=new Array(f);if(f>0)for(var d=0;d<f;d++)h[d]=s[d];ms({type:"action",name:a,fn:o,object:u,arguments:h})}var v=Av();return nh(),{prevDerivation:v,prevAllowStateChanges:XW(!0),notifySpy:l,startTime:c}}(t,e,r,n);try{return e.apply(r,n)}finally{(function(a){$W(a.prevAllowStateChanges),ih(),cc(a.prevDerivation),a.notifySpy&&bs({time:Date.now()-a.startTime})})(i)}}function WW(t){tr(At.trackingDerivation===null,jr("m028")),At.strictMode=t,At.allowStateChanges=!t}function XW(t){var e=At.allowStateChanges;return At.allowStateChanges=t,e}function $W(t){At.allowStateChanges=t}function vT(t,e,r,n,i){function a(o,u,s,l,c){if(c===void 0&&(c=0),tr(i||iz(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),s){gT(o,"__mobxLazyInitializers")||_h(o,"__mobxLazyInitializers",o.__mobxLazyInitializers&&o.__mobxLazyInitializers.slice()||[]);var f=s.value,h=s.initializer;return o.__mobxLazyInitializers.push(function(v){t(v,u,h?h.call(v):f,l,s)}),{enumerable:n,configurable:!0,get:function(){return this.__mobxDidRunLazyInitializers!==!0&&$b(this),e.call(this,u)},set:function(v){this.__mobxDidRunLazyInitializers!==!0&&$b(this),r.call(this,u,v)}}}var d={enumerable:n,configurable:!0,get:function(){return this.__mobxInitializedProps&&this.__mobxInitializedProps[u]===!0||nz(this,u,void 0,t,l,s),e.call(this,u)},set:function(v){this.__mobxInitializedProps&&this.__mobxInitializedProps[u]===!0?r.call(this,u,v):nz(this,u,v,t,l,s)}};return(arguments.length<3||arguments.length===5&&c<3)&&Object.defineProperty(o,u,d),d}return i?function(){if(iz(arguments))return a.apply(null,arguments);var o=arguments,u=arguments.length;return function(s,l,c){return a(s,l,c,o,u)}}:a}function nz(t,e,r,n,i,a){gT(t,"__mobxInitializedProps")||_h(t,"__mobxInitializedProps",{}),t.__mobxInitializedProps[e]=!0,n(t,e,r,i,a)}function $b(t){t.__mobxDidRunLazyInitializers!==!0&&t.__mobxLazyInitializers&&(_h(t,"__mobxDidRunLazyInitializers",!0),t.__mobxDidRunLazyInitializers&&t.__mobxLazyInitializers.forEach(function(e){return e(t)}))}function iz(t){return(t.length===2||t.length===3)&&typeof t[1]=="string"}var Tme=vT(function(t,e,r,n,i){var a=n&&n.length===1?n[0]:r.name||e||"<unnamed action>";_h(t,e,wn(a,r))},function(t){return this[t]},function(){tr(!1,jr("m001"))},!1,!0),xme=vT(function(t,e,r){KW(t,e,r)},function(t){return this[t]},function(){tr(!1,jr("m001"))},!1,!1),wn=function(t,e,r,n){return arguments.length===1&&typeof t=="function"?Xb(t.name||"<unnamed action>",t):arguments.length===2&&typeof e=="function"?Xb(t,e):arguments.length===1&&typeof t=="string"?az(t):az(e).apply(null,arguments)};function az(t){return function(e,r,n){if(n&&typeof n.value=="function")return n.value=Xb(t,n.value),n.enumerable=!1,n.configurable=!0,n;if(n!==void 0&&n.get!==void 0)throw new Error("[mobx] action is not expected to be used with getters");return Tme(t).apply(this,arguments)}}function VS(t){return typeof t=="function"&&t.isMobxAction===!0}function KW(t,e,r){var n=function(){return WL(e,r,t,arguments)};n.isMobxAction=!0,_h(t,e,n)}wn.bound=function(t,e,r){if(typeof t=="function"){var n=Xb("<not yet bound action>",t);return n.autoBind=!0,n}return xme.apply(null,arguments)};var oz=Object.prototype.toString;function pT(t,e){return zI(t,e)}function zI(t,e,r,n){if(t===e)return t!==0||1/t==1/e;if(t==null||e==null)return!1;if(t!=t)return e!=e;var i=typeof t;return(i==="function"||i==="object"||typeof e=="object")&&function(a,o,u,s){a=uz(a),o=uz(o);var l=oz.call(a);if(l!==oz.call(o))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+a==""+o;case"[object Number]":return+a!=+a?+o!=+o:+a==0?1/+a==1/o:+a==+o;case"[object Date]":case"[object Boolean]":return+a==+o;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(a)===Symbol.valueOf.call(o)}var c=l==="[object Array]";if(!c){if(typeof a!="object"||typeof o!="object")return!1;var f=a.constructor,h=o.constructor;if(f!==h&&!(typeof f=="function"&&f instanceof f&&typeof h=="function"&&h instanceof h)&&"constructor"in a&&"constructor"in o)return!1}s=s||[];for(var d=(u=u||[]).length;d--;)if(u[d]===a)return s[d]===o;if(u.push(a),s.push(o),c){if((d=a.length)!==o.length)return!1;for(;d--;)if(!zI(a[d],o[d],u,s))return!1}else{var v,y=Object.keys(a);if(d=y.length,Object.keys(o).length!==d)return!1;for(;d--;)if(!Cme(o,v=y[d])||!zI(a[v],o[v],u,s))return!1}return u.pop(),s.pop(),!0}(t,e,r,n)}function uz(t){return bc(t)?t.peek():Vu(t)?t.entries():oy(t)?function(e){for(var r=[];;){var n=e.next();if(n.done)break;r.push(n.value)}return r}(t.entries()):t}function Cme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sz(t,e){return t===e}var _c={identity:sz,structural:function(t,e){return pT(t,e)},default:function(t,e){return function(r,n){return typeof r=="number"&&typeof n=="number"&&isNaN(r)&&isNaN(n)}(t,e)||sz(t,e)}};function HS(t,e,r){var n,i,a;typeof t=="string"?(n=t,i=e,a=r):(n=t.name||"Autorun@"+_a(),i=t,a=e),tr(typeof i=="function",jr("m004")),tr(VS(i)===!1,jr("m005")),a&&(i=i.bind(a));var o=new Qb(n,function(){this.track(u)});function u(){i(o)}return o.schedule(),o.getDisposer()}function ZW(t,e,r){var n;arguments.length>3&&wa(jr("m007")),xv(t)&&wa(jr("m008")),(n=typeof r=="object"?r:{}).name=n.name||t.name||e.name||"Reaction@"+_a(),n.fireImmediately=r===!0||n.fireImmediately===!0,n.delay=n.delay||0,n.compareStructural=n.compareStructural||n.struct||!1,e=wn(n.name,n.context?e.bind(n.context):e),n.context&&(t=t.bind(n.context));var i,a=!0,o=!1,u=n.equals?n.equals:n.compareStructural||n.struct?_c.structural:_c.default,s=new Qb(n.name,function(){a||n.delay<1?l():o||(o=!0,setTimeout(function(){o=!1,l()},n.delay))});function l(){if(!s.isDisposed){var c=!1;s.track(function(){var f=t(s);c=a||!u(i,f),i=f}),a&&n.fireImmediately&&e(i,s),a||c!==!0||e(i,s),a&&(a=!1)}}return s.schedule(),s.getDisposer()}var fv=function(){function t(e,r,n,i,a){this.derivation=e,this.scope=r,this.equals=n,this.dependenciesState=Hr.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Hr.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+_a(),this.value=new WS(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ps.NONE,this.name=i||"ComputedValue@"+_a(),a&&(this.setter=Xb(i+"-setter",a))}return t.prototype.onBecomeStale=function(){(function(e){if(e.lowestObserverState===Hr.UP_TO_DATE){e.lowestObserverState=Hr.POSSIBLY_STALE;for(var r=e.observers,n=r.length;n--;){var i=r[n];i.dependenciesState===Hr.UP_TO_DATE&&(i.dependenciesState=Hr.POSSIBLY_STALE,i.isTracing!==ps.NONE&&EX(i,e),i.onBecomeStale())}}})(this)},t.prototype.onBecomeUnobserved=function(){YI(this),this.value=void 0},t.prototype.get=function(){tr(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),At.inBatch===0?(nh(),HI(this)&&(this.isTracing!==ps.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),ih()):(wX(this),HI(this)&&this.trackAndCompute()&&function(r){if(r.lowestObserverState!==Hr.STALE){r.lowestObserverState=Hr.STALE;for(var n=r.observers,i=n.length;i--;){var a=n[i];a.dependenciesState===Hr.POSSIBLY_STALE?a.dependenciesState=Hr.STALE:a.dependenciesState===Hr.UP_TO_DATE&&(r.lowestObserverState=Hr.UP_TO_DATE)}}}(this));var e=this.value;if(_0(e))throw e.cause;return e},t.prototype.peek=function(){var e=this.computeValue(!1);if(_0(e))throw e.cause;return e},t.prototype.set=function(e){if(this.setter){tr(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else tr(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},t.prototype.trackAndCompute=function(){Ja()&&cv({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,r=this.dependenciesState===Hr.NOT_TRACKING,n=this.value=this.computeValue(!0);return r||_0(e)||_0(n)||!this.equals(e,n)},t.prototype.computeValue=function(e){var r;if(this.isComputing=!0,At.computationDepth++,e)r=TX(this,this.derivation,this.scope);else try{r=this.derivation.call(this.scope)}catch(n){r=new WS(n)}return At.computationDepth--,this.isComputing=!1,r},t.prototype.observe=function(e,r){var n=this,i=!0,a=void 0;return HS(function(){var o=n.get();if(!i||r){var u=Av();e({type:"update",object:n,newValue:o,oldValue:a}),cc(u)}i=!1,a=o})},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return fX(this.get())},t.prototype.whyRun=function(){var e=!!At.trackingDerivation,r=YS(this.isComputing?this.newObserving:this.observing).map(function(i){return i.name}),n=YS(mX(this).map(function(i){return i.name}));return`
WhyRun? computation '`+this.name+`':
 * Running because: `+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+`
`+(this.dependenciesState===Hr.NOT_TRACKING?jr("m032"):` * This computation will re-run if any of the following observables changes:
    `+GI(r)+`
    `+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+`
    `+jr("m038")+`

  * If the outcome of this computation changes, the following observers will be re-run:
    `+GI(n)+`
`)},t}();fv.prototype[cX()]=fv.prototype.valueOf;var lc=Cv("ComputedValue",fv),QW=function(){function t(e,r){this.target=e,this.name=r,this.values={},this.changeListeners=null,this.interceptors=null}return t.prototype.observe=function(e,r){return tr(r!==!0,"`observe` doesn't support the fire immediately property for observable objects."),dT(this,e)},t.prototype.intercept=function(e){return hT(this,e)},t}();function ny(t,e){if(fl(t)&&t.hasOwnProperty("$mobx"))return t.$mobx;tr(Object.isExtensible(t),jr("m035")),ay(t)||(e=(t.constructor.name||"ObservableObject")+"@"+_a()),e||(e="ObservableObject@"+_a());var r=new QW(t,e);return Zb(t,"$mobx",r),r}function Ame(t,e,r,n){if(t.values[e]&&!lc(t.values[e]))return tr("value"in r,"The property "+e+" in "+t.name+" is already observable, cannot redefine it as computed property"),void(t.target[e]=r.value);if("value"in r)if(xv(r.value)){var i=r.value;qI(t,e,i.initialValue,i.enhancer)}else VS(r.value)&&r.value.autoBind===!0?KW(t.target,e,r.value.originalFn):lc(r.value)?function(a,o,u){var s=a.name+"."+o;u.name=s,u.scope||(u.scope=a.target),a.values[o]=u,Object.defineProperty(a.target,o,eX(o))}(t,e,r.value):qI(t,e,r.value,n);else JW(t,e,r.get,r.set,_c.default,!0)}function qI(t,e,r,n){if(ZL(t.target,e),sv(t)){var i=lv(t,{object:t.target,name:e,type:"add",newValue:r});if(!i)return;r=i.newValue}r=(t.values[e]=new bh(r,n,t.name+"."+e,!1)).value,Object.defineProperty(t.target,e,function(a){return lz[a]||(lz[a]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[a].get()},set:function(o){tX(this,a,o)}})}(e)),function(a,o,u,s){var l=th(a),c=Ja(),f=l||c?{type:"add",object:o,name:u,newValue:s}:null;c&&ms(f),l&&rh(a,f),c&&bs()}(t,t.target,e,r)}function JW(t,e,r,n,i,a){a&&ZL(t.target,e),t.values[e]=new fv(r,t.target,i,t.name+"."+e,n),a&&Object.defineProperty(t.target,e,eX(e))}var lz={},cz={};function eX(t){return cz[t]||(cz[t]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[t].get()},set:function(e){return this.$mobx.values[t].set(e)}})}function tX(t,e,r){var n=t.$mobx,i=n.values[e];if(sv(n)){if(!(u=lv(n,{type:"update",object:t,name:e,newValue:r})))return;r=u.newValue}if((r=i.prepareNewValue(r))!==H0){var a=th(n),o=Ja(),u=a||o?{type:"update",object:t,oldValue:i.value,name:e,newValue:r}:null;o&&ms(u),i.setNewValue(r),a&&rh(n,u),o&&bs()}}var Rme=Cv("ObservableObjectAdministration",QW);function fl(t){return!!KL(t)&&($b(t),Rme(t.$mobx))}function Py(t,e){if(t==null)return!1;if(e!==void 0){if(bc(t)||Vu(t))throw new Error(jr("m019"));if(fl(t)){var r=t.$mobx;return r.values&&!!r.values[e]}return!1}return fl(t)||!!t.$mobx||VL(t)||uy(t)||lc(t)}function k_(t){return tr(!!t,":("),vT(function(e,r,n,i,a){ZL(e,r),tr(!a||!a.get,jr("m022")),qI(ny(e,void 0),r,n,t)},function(e){var r=this.$mobx.values[e];if(r!==void 0)return r.get()},function(e,r){tX(this,e,r)},!0,!1)}function rX(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return XL(t,Bf,e)}function nX(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return XL(t,Uf,e)}function XL(t,e,r){tr(arguments.length>=2,jr("m014")),tr(typeof t=="object",jr("m015")),tr(!Vu(t),jr("m016")),r.forEach(function(s){tr(typeof s=="object",jr("m017")),tr(!Py(s),jr("m018"))});for(var n=ny(t),i={},a=r.length-1;a>=0;a--){var o=r[a];for(var u in o)if(i[u]!==!0&&gT(o,u)){if(i[u]=!0,t===o&&!lX(t,u))continue;Ame(n,u,Object.getOwnPropertyDescriptor(o,u),e)}}return t}var iX=k_(Bf),Pme=k_(aX),Dme=k_(Uf),Mme=k_(Y0),Ime=k_(oX),fz={box:function(t,e){return arguments.length>2&&ff("box"),new bh(t,Bf,e)},shallowBox:function(t,e){return arguments.length>2&&ff("shallowBox"),new bh(t,Uf,e)},array:function(t,e){return arguments.length>2&&ff("array"),new nc(t,Bf,e)},shallowArray:function(t,e){return arguments.length>2&&ff("shallowArray"),new nc(t,Uf,e)},map:function(t,e){return arguments.length>2&&ff("map"),new iy(t,Bf,e)},shallowMap:function(t,e){return arguments.length>2&&ff("shallowMap"),new iy(t,Uf,e)},object:function(t,e){arguments.length>2&&ff("object");var r={};return ny(r,e),rX(r,t),r},shallowObject:function(t,e){arguments.length>2&&ff("shallowObject");var r={};return ny(r,e),nX(r,t),r},ref:function(){return arguments.length<2?b0(Uf,arguments[0]):Dme.apply(null,arguments)},shallow:function(){return arguments.length<2?b0(aX,arguments[0]):Pme.apply(null,arguments)},deep:function(){return arguments.length<2?b0(Bf,arguments[0]):iX.apply(null,arguments)},struct:function(){return arguments.length<2?b0(Y0,arguments[0]):Mme.apply(null,arguments)}},Gn=function(t){if(t===void 0&&(t=void 0),typeof arguments[1]=="string")return iX.apply(null,arguments);if(tr(arguments.length<=1,jr("m021")),tr(!xv(t),jr("m020")),Py(t))return t;var e=Bf(t,0,void 0);return e!==t?e:Gn.box(t)};function ff(t){wa("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}function xv(t){return typeof t=="object"&&t!==null&&t.isMobxModifierDescriptor===!0}function b0(t,e){return tr(!xv(e),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:e,enhancer:t}}function Bf(t,e,r){return xv(t)&&wa("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),Py(t)?t:Array.isArray(t)?Gn.array(t,r):ay(t)?Gn.object(t,r):oy(t)?Gn.map(t,r):t}function aX(t,e,r){return xv(t)&&wa("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),t==null||fl(t)||bc(t)||Vu(t)?t:Array.isArray(t)?Gn.shallowArray(t,r):ay(t)?Gn.shallowObject(t,r):oy(t)?Gn.shallowMap(t,r):wa("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function Uf(t){return t}function Y0(t,e,r){if(pT(t,e))return e;if(Py(t))return t;if(Array.isArray(t))return new nc(t,Y0,r);if(oy(t))return new iy(t,Y0,r);if(ay(t)){var n={};return ny(n,r),XL(n,Y0,[t]),n}return t}function oX(t,e,r){return pT(t,e)?e:t}function rg(t,e){e===void 0&&(e=void 0),nh();try{return t.apply(e)}finally{ih()}}Object.keys(fz).forEach(function(t){return Gn[t]=fz[t]}),Gn.deep.struct=Gn.struct,Gn.ref.struct=function(){return arguments.length<2?b0(oX,arguments[0]):Ime.apply(null,arguments)};var Nme={},iy=function(){function t(e,r,n){r===void 0&&(r=Bf),n===void 0&&(n="ObservableMap@"+_a()),this.enhancer=r,this.name=n,this.$mobx=Nme,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new nc(void 0,Uf,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return t.prototype._has=function(e){return this._data[e]!==void 0},t.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},t.prototype.set=function(e,r){this.assertValidKey(e),e=""+e;var n=this._has(e);if(sv(this)){var i=lv(this,{type:n?"update":"add",object:this,newValue:r,name:e});if(!i)return this;r=i.newValue}return n?this._updateValue(e,r):this._addValue(e,r),this},t.prototype.delete=function(e){var r=this;if(this.assertValidKey(e),e=""+e,sv(this)&&!(a=lv(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Ja(),i=th(this),a=i||n?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return n&&ms(a),rg(function(){r._keys.remove(e),r._updateHasMapEntry(e,!1),r._data[e].setNewValue(void 0),r._data[e]=void 0}),i&&rh(this,a),n&&bs(),!0}return!1},t.prototype._updateHasMapEntry=function(e,r){var n=this._hasMap[e];return n?n.setNewValue(r):n=this._hasMap[e]=new bh(r,Uf,this.name+"."+e+"?",!1),n},t.prototype._updateValue=function(e,r){var n=this._data[e];if((r=n.prepareNewValue(r))!==H0){var i=Ja(),a=th(this),o=a||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:r}:null;i&&ms(o),n.setNewValue(r),a&&rh(this,o),i&&bs()}},t.prototype._addValue=function(e,r){var n=this;rg(function(){var u=n._data[e]=new bh(r,n.enhancer,n.name+"."+e,!1);r=u.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var i=Ja(),a=th(this),o=a||i?{type:"add",object:this,name:e,newValue:r}:null;i&&ms(o),a&&rh(this,o),i&&bs()},t.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.keys=function(){return BE(this._keys.slice())},t.prototype.values=function(){return BE(this._keys.map(this.get,this))},t.prototype.entries=function(){var e=this;return BE(this._keys.map(function(r){return[r,e.get(r)]}))},t.prototype.forEach=function(e,r){var n=this;this.keys().forEach(function(i){return e.call(r,n.get(i),i,n)})},t.prototype.merge=function(e){var r=this;return Vu(e)&&(e=e.toJS()),rg(function(){ay(e)?Object.keys(e).forEach(function(n){return r.set(n,e[n])}):Array.isArray(e)?e.forEach(function(n){var i=n[0],a=n[1];return r.set(i,a)}):oy(e)?e.forEach(function(n,i){return r.set(i,n)}):e!=null&&wa("Cannot initialize map from "+e)}),this},t.prototype.clear=function(){var e=this;rg(function(){xX(function(){e.keys().forEach(e.delete,e)})})},t.prototype.replace=function(e){var r=this;return rg(function(){var n,i=ay(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(a){return a[0]}):oy(n)?Array.from(n.keys()):Vu(n)?n.keys():wa("Cannot get keys from "+n);r.keys().filter(function(a){return i.indexOf(a)===-1}).forEach(function(a){return r.delete(a)}),r.merge(e)}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.toJS=function(){var e=this,r={};return this.keys().forEach(function(n){return r[n]=e.get(n)}),r},t.prototype.toJSON=function(){return this.toJS()},t.prototype.isValidKey=function(e){return e!=null&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean")},t.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},t.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map(function(r){return r+": "+e.get(r)}).join(", ")+" }]"},t.prototype.observe=function(e,r){return tr(r!==!0,jr("m033")),dT(this,e)},t.prototype.intercept=function(e){return hT(this,e)},t}();VW(iy.prototype,function(){return this.entries()});var Vu=Cv("ObservableMap",iy),uX=[];function Kb(){return typeof window<"u"?window:Zn.g}function _a(){return++At.mobxGuid}function wa(t,e){throw tr(!1,t,e),"X"}function tr(t,e,r){if(!t)throw new Error("[mobx] Invariant failed: "+e+(r?" in '"+r+"'":""))}Object.freeze(uX);var hz=[];function Dd(t){return hz.indexOf(t)===-1&&(hz.push(t),console.error("[mobx] Deprecated: "+t),!0)}function $L(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var dz=function(){};function YS(t){var e=[];return t.forEach(function(r){e.indexOf(r)===-1&&e.push(r)}),e}function GI(t,e,r){return e===void 0&&(e=100),r===void 0&&(r=" - "),t?t.slice(0,e).join(r)+(t.length>e?" (... and "+(t.length-e)+"more)":""):""}function KL(t){return t!==null&&typeof t=="object"}function ay(t){if(t===null||typeof t!="object")return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function sX(){for(var t=arguments[0],e=1,r=arguments.length;e<r;e++){var n=arguments[e];for(var i in n)gT(n,i)&&(t[i]=n[i])}return t}var kme=Object.prototype.hasOwnProperty;function gT(t,e){return kme.call(t,e)}function _h(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function Zb(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function lX(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!r||r.configurable!==!1&&r.writable!==!1}function ZL(t,e){tr(lX(t,e),"Cannot make property '"+e+"' observable, it is not configurable and writable in the target object")}function Cv(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return KL(n)&&n[r]===!0}}function oy(t){return Kb().Map!==void 0&&t instanceof Kb().Map}function cX(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function fX(t){return t===null?null:typeof t=="object"?""+t:t}var Hr,ps,Lme=["mobxGuid","resetId","spyListeners","strictMode","runId"],hX=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},At=new hX,dX=!1,vX=!1,vz=!1,TD=Kb();function hl(t,e){if(typeof t=="object"&&t!==null){if(bc(t))return tr(e===void 0,jr("m036")),t.$mobx.atom;if(Vu(t)){var r=t;return e===void 0?hl(r._keys):(tr(!!(n=r._data[e]||r._hasMap[e]),"the entry '"+e+"' does not exist in the observable map '"+VI(t)+"'"),n)}var n;if($b(t),e&&!t.$mobx&&t[e],fl(t))return e?(tr(!!(n=t.$mobx.values[e]),"no observable property '"+e+"' found on the observable object '"+VI(t)+"'"),n):wa("please specify a property");if(VL(t)||lc(t)||uy(t))return t}else if(typeof t=="function"&&uy(t.$mobx))return t.$mobx;return wa("Cannot obtain atom from "+t)}function ic(t,e){return tr(t,"Expecting some object"),e!==void 0?ic(hl(t,e)):VL(t)||lc(t)||uy(t)||Vu(t)?t:($b(t),t.$mobx?t.$mobx:void tr(!1,"Cannot obtain administration from "+t))}function VI(t,e){return(e!==void 0?hl(t,e):fl(t)||Vu(t)?ic(t):hl(t)).name}function pX(t,e){return gX(hl(t,e))}function gX(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=YS(t.observing).map(gX)),e}function yX(t){var e={name:t.name};return function(r){return r.observers&&r.observers.length>0}(t)&&(e.observers=mX(t).map(yX)),e}function mX(t){return t.observers}function jme(t,e){var r=t.observers.length;r&&(t.observersIndexes[e.__mapid]=r),t.observers[r]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function bX(t,e){if(t.observers.length===1)t.observers.length=0,_X(t);else{var r=t.observers,n=t.observersIndexes,i=r.pop();if(i!==e){var a=n[e.__mapid]||0;a?n[i.__mapid]=a:delete n[i.__mapid],r[a]=i}delete n[e.__mapid]}}function _X(t){t.isPendingUnobservation||(t.isPendingUnobservation=!0,At.pendingUnobservations.push(t))}function nh(){At.inBatch++}function ih(){if(--At.inBatch===0){RX();for(var t=At.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,r.observers.length===0&&r.onBecomeUnobserved()}At.pendingUnobservations=[]}}function wX(t){var e=At.trackingDerivation;e!==null?e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t):t.observers.length===0&&_X(t)}function EX(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===ps.BREAK){var r=[];SX(pX(t),r,1),new Function(`debugger;
/*
Tracing '`+t.name+`'

You are entering this break point because derivation '`+t.name+"' is being traced and '"+e.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(t instanceof fv?t.derivation.toString():"")+`

The dependencies for this derivation are:

`+r.join(`
`)+`
*/
    `)()}}function SX(t,e,r){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(r).join("	")+t.name),t.dependencies&&t.dependencies.forEach(function(n){return SX(n,e,r+1)}))}TD.__mobxInstanceCount?(TD.__mobxInstanceCount++,setTimeout(function(){dX||vX||vz||(vz=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):TD.__mobxInstanceCount=1,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Hr||(Hr={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(ps||(ps={}));var WS=function(t){this.cause=t};function _0(t){return t instanceof WS}function HI(t){switch(t.dependenciesState){case Hr.UP_TO_DATE:return!1;case Hr.NOT_TRACKING:case Hr.STALE:return!0;case Hr.POSSIBLY_STALE:for(var e=Av(),r=t.observing,n=r.length,i=0;i<n;i++){var a=r[i];if(lc(a)){try{a.get()}catch{return cc(e),!0}if(t.dependenciesState===Hr.STALE)return cc(e),!0}}return CX(t),cc(e),!1}}function OX(){return At.trackingDerivation!==null}function QL(t){var e=t.observers.length>0;At.computationDepth>0&&e&&wa(jr("m031")+t.name),!At.allowStateChanges&&e&&wa(jr(At.strictMode?"m030a":"m030b")+t.name)}function TX(t,e,r){CX(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++At.runId;var n,i=At.trackingDerivation;At.trackingDerivation=t;try{n=e.call(r)}catch(a){n=new WS(a)}return At.trackingDerivation=i,function(a){for(var o=a.observing,u=a.observing=a.newObserving,s=Hr.UP_TO_DATE,l=0,c=a.unboundDepsCount,f=0;f<c;f++)(h=u[f]).diffValue===0&&(h.diffValue=1,l!==f&&(u[l]=h),l++),h.dependenciesState>s&&(s=h.dependenciesState);for(u.length=l,a.newObserving=null,c=o.length;c--;)(h=o[c]).diffValue===0&&bX(h,a),h.diffValue=0;for(;l--;){var h;(h=u[l]).diffValue===1&&(h.diffValue=0,jme(h,a))}s!==Hr.UP_TO_DATE&&(a.dependenciesState=s,a.onBecomeStale())}(t),n}function YI(t){var e=t.observing;t.observing=[];for(var r=e.length;r--;)bX(e[r],t);t.dependenciesState=Hr.NOT_TRACKING}function xX(t){var e=Av(),r=t();return cc(e),r}function Av(){var t=At.trackingDerivation;return At.trackingDerivation=null,t}function cc(t){At.trackingDerivation=t}function CX(t){if(t.dependenciesState!==Hr.UP_TO_DATE){t.dependenciesState=Hr.UP_TO_DATE;for(var e=t.observing,r=e.length;r--;)e[r].lowestObserverState=Hr.UP_TO_DATE}}function pz(t){return console.log(t),t}function AX(t){switch(t.length){case 0:return At.trackingDerivation;case 1:return hl(t[0]);case 2:return hl(t[0],t[1])}}var Qb=function(){function t(e,r){e===void 0&&(e="Reaction@"+_a()),this.name=e,this.onInvalidate=r,this.observing=[],this.newObserving=[],this.dependenciesState=Hr.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+_a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ps.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,At.pendingReactions.push(this),RX())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){this.isDisposed||(nh(),this._isScheduled=!1,HI(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&Ja()&&cv({object:this,type:"scheduled-reaction"})),ih())},t.prototype.track=function(e){nh();var r,n=Ja();n&&(r=Date.now(),ms({object:this,type:"reaction",fn:e})),this._isRunning=!0;var i=TX(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&YI(this),_0(i)&&this.reportExceptionInDerivation(i.cause),n&&bs({time:Date.now()-r}),ih()},t.prototype.reportExceptionInDerivation=function(e){var r=this;if(this.errorHandler)this.errorHandler(e,this);else{var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,i=jr("m037");console.error(n||i,e),Ja()&&cv({type:"error",message:n,error:e,object:this}),At.globalReactionErrorHandlers.forEach(function(a){return a(e,r)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(nh(),YI(this),ih()))},t.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=Bme,e},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.whyRun=function(){var e=YS(this._isRunning?this.newObserving:this.observing).map(function(r){return r.name});return`
WhyRun? reaction '`+this.name+`':
 * Status: [`+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+`]
 * This reaction will re-run if any of the following observables changes:
    `+GI(e)+`
    `+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+`
	`+jr("m038")+`
`},t.prototype.trace=function(e){e===void 0&&(e=!1),function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=!1;typeof r[r.length-1]=="boolean"&&(i=r.pop());var a=AX(r);if(!a)return wa("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");a.isTracing===ps.NONE&&console.log("[mobx.trace] '"+a.name+"' tracing enabled"),a.isTracing=i?ps.BREAK:ps.LOG}(this,e)},t}();function Bme(t){tr(this&&this.$mobx&&uy(this.$mobx),"Invalid `this`"),tr(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=t}var gz=100,WI=function(t){return t()};function RX(){At.inBatch>0||At.isRunningReactions||WI(Ume)}function Ume(){At.isRunningReactions=!0;for(var t=At.pendingReactions,e=0;t.length>0;){++e===gz&&(console.error("Reaction doesn't converge to a stable state after "+gz+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction()}At.isRunningReactions=!1}var uy=Cv("Reaction",Qb);function JL(t){return vT(function(e,r,n,i,a){tr(a!==void 0,jr("m009")),tr(typeof a.get=="function",jr("m010")),JW(ny(e,""),r,a.get,a.set,t,!1)},function(e){var r=this.$mobx.values[e];if(r!==void 0)return r.get()},function(e,r){this.$mobx.values[e].set(r)},!1,!1)}var Fme=JL(_c.default),zme=JL(_c.structural),XS=function(t,e,r){if(typeof e=="string")return Fme.apply(null,arguments);tr(typeof t=="function",jr("m011")),tr(arguments.length<3,jr("m012"));var n=typeof e=="object"?e:{};n.setter=typeof e=="function"?e:n.setter;var i=n.equals?n.equals:n.compareStructural||n.struct?_c.structural:_c.default;return new fv(t,n.context,i,n.name||t.name||"",n.setter)};function Qa(t,e,r){function n(c){return e&&r.push([t,c]),c}if(e===void 0&&(e=!0),r===void 0&&(r=[]),Py(t)){if(e&&r===null&&(r=[]),e&&t!==null&&typeof t=="object"){for(var i=0,a=r.length;i<a;i++)if(r[i][0]===t)return r[i][1]}if(bc(t)){var o=n([]),u=t.map(function(c){return Qa(c,e,r)});for(o.length=u.length,i=0,a=u.length;i<a;i++)o[i]=u[i];return o}if(fl(t)){for(var s in o=n({}),t)o[s]=Qa(t[s],e,r);return o}if(Vu(t)){var l=n({});return t.forEach(function(c,f){return l[f]=Qa(c,e,r)}),l}if(YL(t))return Qa(t.get(),e,r)}return t}XS.struct=zme,XS.equals=JL;var e3={allowStateChanges:function(t,e){var r,n=XW(t);try{r=e()}finally{$W(n)}return r},deepEqual:pT,getAtom:hl,getDebugName:VI,getDependencyTree:pX,getAdministration:ic,getGlobalState:function(){return At},getObserverTree:function(t,e){return yX(hl(t,e))},interceptReads:function(t,e,r){var n;if(Vu(t)||bc(t)||YL(t))n=ic(t);else{if(!fl(t))return wa("Expected observable map, object or array as first array");if(typeof e!="string")return wa("InterceptReads can only be used with a specific property, not with an object in general");n=ic(t,e)}return n.dehancer!==void 0?wa("An intercept reader was already established"):(n.dehancer=typeof e=="function"?e:r,function(){n.dehancer=void 0})},isComputingDerivation:OX,isSpyEnabled:Ja,onReactionError:function(t){return At.globalReactionErrorHandlers.push(t),function(){var e=At.globalReactionErrorHandlers.indexOf(t);e>=0&&At.globalReactionErrorHandlers.splice(e,1)}},reserveArrayBuffer:HL,resetGlobalState:function(){At.resetId++;var t=new hX;for(var e in t)Lme.indexOf(e)===-1&&(At[e]=t[e]);At.allowStateChanges=!At.strictMode},isolateGlobalState:function(){vX=!0,Kb().__mobxInstanceCount--},shareGlobalState:function(){Dd("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),dX=!0;var t=Kb(),e=At;if(t.__mobservableTrackingStack||t.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(t.__mobxGlobal&&t.__mobxGlobal.version!==e.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");t.__mobxGlobal?At=t.__mobxGlobal:t.__mobxGlobal=e},spyReport:cv,spyReportEnd:bs,spyReportStart:ms,setReactionScheduler:function(t){var e=WI;WI=function(r){return t(function(){return e(r)})}}},XI={Reaction:Qb,untracked:xX,Atom:bme,BaseAtom:N_,useStrict:WW,isStrictModeEnabled:function(){return At.strictMode},spy:GW,comparer:_c,asReference:function(t){return Dd("asReference is deprecated, use observable.ref instead"),Gn.ref(t)},asFlat:function(t){return Dd("asFlat is deprecated, use observable.shallow instead"),Gn.shallow(t)},asStructure:function(t){return Dd("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),Gn.struct(t)},asMap:function(t){return Dd("asMap is deprecated, use observable.map or observable.shallowMap instead"),Gn.map(t||{})},isModifierDescriptor:xv,isObservableObject:fl,isBoxedObservable:YL,isObservableArray:bc,ObservableMap:iy,isObservableMap:Vu,map:function(t){return Dd("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),Gn.map(t)},transaction:rg,observable:Gn,computed:XS,isObservable:Py,isComputed:function(t,e){if(t==null)return!1;if(e!==void 0){if(fl(t)===!1||!t.$mobx.values[e])return!1;var r=hl(t,e);return lc(r)}return lc(t)},extendObservable:rX,extendShallowObservable:nX,observe:function(t,e,r,n){return typeof r=="function"?function(i,a,o,u){return ic(i,a).observe(o,u)}(t,e,r,n):function(i,a,o){return ic(i).observe(a,o)}(t,e,r)},intercept:function(t,e,r){return typeof r=="function"?function(n,i,a){return ic(n,i).intercept(a)}(t,e,r):function(n,i){return ic(n).intercept(i)}(t,e)},autorun:HS,autorunAsync:function(t,e,r,n){var i,a,o,u;typeof t=="string"?(i=t,a=e,o=r,u=n):(i=t.name||"AutorunAsync@"+_a(),a=t,o=e,u=r),tr(VS(a)===!1,jr("m006")),o===void 0&&(o=1),u&&(a=a.bind(u));var s=!1,l=new Qb(i,function(){s||(s=!0,setTimeout(function(){s=!1,l.isDisposed||l.track(c)},o))});function c(){a(l)}return l.schedule(),l.getDisposer()},when:function(t,e,r,n){var i,a,o,u;return typeof t=="string"?(i=t,a=e,o=r,u=n):(i="When@"+_a(),a=t,o=e,u=r),HS(i,function(s){if(a.call(u)){s.dispose();var l=Av();o.call(u),cc(l)}})},reaction:ZW,action:wn,isAction:VS,runInAction:function(t,e,r){var n=typeof t=="string"?t:t.name||"<unnamed action>",i=typeof t=="function"?t:e,a=typeof t=="function"?e:r;return tr(typeof i=="function",jr("m002")),tr(i.length===0,jr("m003")),tr(typeof n=="string"&&n.length>0,"actions should have valid names, got: '"+n+"'"),WL(n,i,a,void 0)},expr:function(t,e){return OX()||console.warn(jr("m013")),XS(t,{context:e}).get()},toJS:Qa,createTransformer:function(t,e){tr(typeof t=="function"&&t.length<2,"createTransformer expects a function that accepts one argument");var r={},n=At.resetId,i=function(a){function o(u,s){var l=a.call(this,function(){return t(s)},void 0,_c.default,"Transformer-"+t.name+"-"+u,void 0)||this;return l.sourceIdentifier=u,l.sourceObject=s,l}return fT(o,a),o.prototype.onBecomeUnobserved=function(){var u=this.value;a.prototype.onBecomeUnobserved.call(this),delete r[this.sourceIdentifier],e&&e(u,this.sourceObject)},o}(fv);return function(a){n!==At.resetId&&(r={},n=At.resetId);var o=function(s){if(typeof s=="string"||typeof s=="number")return s;if(s===null||typeof s!="object")throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+s);var l=s.$transformId;return l===void 0&&_h(s,"$transformId",l=_a()),l}(a),u=r[o];return u?u.get():(u=r[o]=new i(o,a)).get()}},whyRun:function(t,e){return Dd("`whyRun` is deprecated in favor of `trace`"),(t=AX(arguments))?lc(t)||uy(t)?pz(t.whyRun()):wa(jr("m025")):pz(jr("m024"))},isArrayLike:function(t){return Array.isArray(t)||bc(t)},extras:e3},yz=!1,qme=function(t){var e=XI[t];Object.defineProperty(XI,t,{get:function(){return yz||(yz=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and wont work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),e}})};for(var Gme in XI)qme(Gme);function W0(t){return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function Vme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PX(n.key),n)}}function PX(t){var e=function(r){if(W0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(W0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return W0(e)=="symbol"?e:e+""}typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:GW,extras:e3});var Hme=["onLayoutDone","onLayoutStep","onError","onInitialization","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],Yme=function(){return t=function r(){var n,i,a,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,r),n=this,a=void 0,(i=PX(i="callbacks"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.callbacks=o},e=[{key:"onInitialization",value:function(){this.isValidFunction(this.callbacks.onInitialization)&&this.callbacks.onInitialization()}},{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(r){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(r)}},{key:"onLayoutComputing",value:function(r){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(r)}},{key:"onError",value:function(r){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(r)}},{key:"onWebGLContextLost",value:function(r){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(r)}},{key:"isValidFunction",value:function(r){return r!==void 0&&typeof r=="function"}}],e&&Vme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Wme=Zn(1803),mz=Zn.n(Wme),Xme={value:()=>{}};function DX(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new UE(n)}function UE(t){this._=t}function $me(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}function bz(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=Xme,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}UE.prototype=DX.prototype={constructor:UE,on:function(t,e){var r,n,i=this._,a=(n=i,(t+"").trim().split(/^|\s+/).map(function(s){var l="",c=s.indexOf(".");if(c>=0&&(l=s.slice(c+1),s=s.slice(0,c)),s&&!n.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:l}})),o=-1,u=a.length;if(!(arguments.length<2)){if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(r=(t=a[o]).type)i[r]=bz(i[r],t.name,e);else if(e==null)for(r in i)i[r]=bz(i[r],t.name,null);return this}for(;++o<u;)if((r=(t=a[o]).type)&&(r=$me(i[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new UE(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),a=0;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,r=(n=this._[t]).length;a<r;++a)n[a].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],i=0,a=n.length;i<a;++i)n[i].value.apply(e,r)}};const Kme=DX;var FE,w0,bg=0,E0=0,Km=0,$S=0,Wd=0,yT=0,Jb=typeof performance=="object"&&performance.now?performance:Date,MX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function IX(){return Wd||(MX(Zme),Wd=Jb.now()+yT)}function Zme(){Wd=0}function $I(){this._call=this._time=this._next=null}function NX(t,e,r){var n=new $I;return n.restart(t,e,r),n}function _z(){Wd=($S=Jb.now())+yT,bg=E0=0;try{(function(){IX(),++bg;for(var t,e=FE;e;)(t=Wd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bg})()}finally{bg=0,function(){for(var t,e,r=FE,n=1/0;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:FE=e);w0=t,KI(n)}(),Wd=0}}function Qme(){var t=Jb.now(),e=t-$S;e>1e3&&(yT-=e,$S=t)}function KI(t){bg||(E0&&(E0=clearTimeout(E0)),t-Wd>24?(t<1/0&&(E0=setTimeout(_z,t-Jb.now()-yT)),Km&&(Km=clearInterval(Km))):(Km||($S=Jb.now(),Km=setInterval(Qme,1e3)),bg=1,MX(_z)))}$I.prototype=NX.prototype={constructor:$I,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?IX():+r)+(e==null?0:+e),this._next||w0===this||(w0?w0._next=this:FE=this,w0=this),this._call=t,this._time=r,KI()},stop:function(){this._call&&(this._call=null,this._time=1/0,KI())}};const wz=4294967296;function Jme(t){return t.x}function e0e(t){return t.y}var t0e=Math.PI*(3-Math.sqrt(5));function Ez(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,a,o,u,s,l,c,f,h,d=t._root,v={data:n},y=t._x0,b=t._y0,p=t._x1,m=t._y1;if(!d)return t._root=v,t;for(;d.length;)if((l=e>=(a=(y+p)/2))?y=a:p=a,(c=r>=(o=(b+m)/2))?b=o:m=o,i=d,!(d=d[f=c<<1|l]))return i[f]=v,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&r===s)return v.next=d,i?i[f]=v:t._root=v,t;do i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(a=(y+p)/2))?y=a:p=a,(c=r>=(o=(b+m)/2))?b=o:m=o;while((f=c<<1|l)==(h=(s>=o)<<1|u>=a));return i[h]=d,i[f]=v,t}function Ga(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function r0e(t){return t[0]}function n0e(t){return t[1]}function t3(t,e,r){var n=new r3(e??r0e,r??n0e,NaN,NaN,NaN,NaN);return t==null?n:n.addAll(t)}function r3(t,e,r,n,i,a){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function Sz(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var Va=t3.prototype=r3.prototype;function Xa(t){return function(){return t}}function Ff(t){return 1e-6*(t()-.5)}function xD(){var t,e,r,n,i,a=Xa(-30),o=1,u=1/0,s=.81;function l(d){var v,y=t.length,b=t3(t,Jme,e0e).visitAfter(f);for(n=d,v=0;v<y;++v)e=t[v],b.visit(h)}function c(){if(t){var d,v,y=t.length;for(i=new Array(y),d=0;d<y;++d)v=t[d],i[v.index]=+a(v,d,t)}}function f(d){var v,y,b,p,m,g=0,_=0;if(d.length){for(b=p=m=0;m<4;++m)(v=d[m])&&(y=Math.abs(v.value))&&(g+=v.value,_+=y,b+=y*v.x,p+=y*v.y);d.x=b/_,d.y=p/_}else{(v=d).x=v.data.x,v.y=v.data.y;do g+=i[v.data.index];while(v=v.next)}d.value=g}function h(d,v,y,b){if(!d.value)return!0;var p=d.x-e.x,m=d.y-e.y,g=b-v,_=p*p+m*m;if(g*g/s<_)return _<u&&(p===0&&(_+=(p=Ff(r))*p),m===0&&(_+=(m=Ff(r))*m),_<o&&(_=Math.sqrt(o*_)),e.vx+=p*d.value*n/_,e.vy+=m*d.value*n/_),!0;if(!(d.length||_>=u)){(d.data!==e||d.next)&&(p===0&&(_+=(p=Ff(r))*p),m===0&&(_+=(m=Ff(r))*m),_<o&&(_=Math.sqrt(o*_)));do d.data!==e&&(g=i[d.data.index]*n/_,e.vx+=p*g,e.vy+=m*g);while(d=d.next)}}return l.initialize=function(d,v){t=d,r=v,c()},l.strength=function(d){return arguments.length?(a=typeof d=="function"?d:Xa(+d),c(),l):a},l.distanceMin=function(d){return arguments.length?(o=d*d,l):Math.sqrt(o)},l.distanceMax=function(d){return arguments.length?(u=d*d,l):Math.sqrt(u)},l.theta=function(d){return arguments.length?(s=d*d,l):Math.sqrt(s)},l}function i0e(t){return t.x+t.vx}function a0e(t){return t.y+t.vy}function o0e(t){return t.index}function Oz(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}Va.copy=function(){var t,e,r=new r3(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=Sz(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var i=0;i<4;++i)(e=n.source[i])&&(e.length?t.push({source:e,target:n.target[i]=new Array(4)}):n.target[i]=Sz(e));return r},Va.add=function(t){const e=+this._x.call(null,t),r=+this._y.call(null,t);return Ez(this.cover(e,r),e,r,t)},Va.addAll=function(t){var e,r,n,i,a=t.length,o=new Array(a),u=new Array(a),s=1/0,l=1/0,c=-1/0,f=-1/0;for(r=0;r<a;++r)isNaN(n=+this._x.call(null,e=t[r]))||isNaN(i=+this._y.call(null,e))||(o[r]=n,u[r]=i,n<s&&(s=n),n>c&&(c=n),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),r=0;r<a;++r)Ez(this,o[r],u[r],t[r]);return this},Va.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,a=(n=Math.floor(e))+1;else{for(var o,u,s=i-r||1,l=this._root;r>t||t>=i||n>e||e>=a;)switch(u=(e<n)<<1|t<r,(o=new Array(4))[u]=l,l=o,s*=2,u){case 0:i=r+s,a=n+s;break;case 1:r=i-s,a=n+s;break;case 2:i=r+s,n=a-s;break;case 3:r=i-s,n=a-s}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=n,this._x1=i,this._y1=a,this},Va.data=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},Va.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Va.find=function(t,e,r){var n,i,a,o,u,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,v=[],y=this._root;for(y&&v.push(new Ga(y,c,f,h,d)),r==null?r=1/0:(c=t-r,f=e-r,h=t+r,d=e+r,r*=r);s=v.pop();)if(!(!(y=s.node)||(i=s.x0)>h||(a=s.y0)>d||(o=s.x1)<c||(u=s.y1)<f))if(y.length){var b=(i+o)/2,p=(a+u)/2;v.push(new Ga(y[3],b,p,o,u),new Ga(y[2],i,p,b,u),new Ga(y[1],b,a,o,p),new Ga(y[0],i,a,b,p)),(l=(e>=p)<<1|t>=b)&&(s=v[v.length-1],v[v.length-1]=v[v.length-1-l],v[v.length-1-l]=s)}else{var m=t-+this._x.call(null,y.data),g=e-+this._y.call(null,y.data),_=m*m+g*g;if(_<r){var E=Math.sqrt(r=_);c=t-E,f=e-E,h=t+E,d=e+E,n=y.data}}return n},Va.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,r,n,i,a,o,u,s,l,c,f,h,d=this._root,v=this._x0,y=this._y0,b=this._x1,p=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(u=(v+b)/2))?v=u:b=u,(c=o>=(s=(y+p)/2))?y=s:p=s,e=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(r=e,h=f)}for(;d.data!==t;)if(n=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,n?(i?n.next=i:delete n.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(r?r[h]=d:this._root=d),this):(this._root=i,this)},Va.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},Va.root=function(){return this._root},Va.size=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},Va.visit=function(t){var e,r,n,i,a,o,u=[],s=this._root;for(s&&u.push(new Ga(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,n=e.x0,i=e.y0,a=e.x1,o=e.y1)&&s.length){var l=(n+a)/2,c=(i+o)/2;(r=s[3])&&u.push(new Ga(r,l,c,a,o)),(r=s[2])&&u.push(new Ga(r,n,c,l,o)),(r=s[1])&&u.push(new Ga(r,l,i,a,c)),(r=s[0])&&u.push(new Ga(r,n,i,l,c))}return this},Va.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new Ga(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var i=e.node;if(i.length){var a,o=e.x0,u=e.y0,s=e.x1,l=e.y1,c=(o+s)/2,f=(u+l)/2;(a=i[0])&&r.push(new Ga(a,o,u,c,f)),(a=i[1])&&r.push(new Ga(a,c,u,s,f)),(a=i[2])&&r.push(new Ga(a,o,f,c,l)),(a=i[3])&&r.push(new Ga(a,c,f,s,l))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Va.x=function(t){return arguments.length?(this._x=t,this):this._x},Va.y=function(t){return arguments.length?(this._y=t,this):this._y};var zt=256,CD=4096,bi=25,kX="#FFDF81",LX="#818790",jX="#EDEDED",BX="#CFD1D4",UX="#F5F6F6",FX="#8FE3E8",n3="#1A1B1D",zX={position:"absolute",top:0,bottom:0,left:0,right:0},u0e=1/.38,On=function(){return window.devicePixelRatio||1},s0e=["NVL_basic-wrapper","NVL_interactive-wrapper"];function Zm(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return Tz(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Tz(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function Tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var qX=function(t,e){var r=[t,e].sort();return"".concat(r[0],".").concat(r[1])},qw=function(t){var e=new Set;return t.forEach(function(r){var n=r.from,i=r.to,a=qX(n,i);e.has(a)||e.add(a)}),e},ZI=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jX,r=new Map;return t.forEach(function(n){var i=n.id,a=n.from,o=n.to,u=n.color,s=n.width,l=n.disabled,c=qX(a,o),f=r.get(c);f?f.bundledRels.push({id:i,color:u??void 0,disabled:l!=null&&l,width:s??1}):r.set(c,{bundledRels:[{id:i,color:u??void 0,disabled:l!=null&&l,width:s??1}],key:c,from:a,to:o,color:u??void 0,disabled:l!=null&&l,width:0})}),r.forEach(function(n){var i=(0,cn.uniqBy)(n.bundledRels,"disabled"),a=i.length===1&&i[0].disabled===!0,o=i.length===1&&i[0].disabled!==!0;if(a)n.color=e,n.width=1;else{var u=n.bundledRels.filter(function(l){return l.disabled!==!0}),s=(0,cn.uniqBy)(u,"color");o?(n.color=s.length>1?void 0:n.bundledRels[0].color,n.bundledRels.forEach(function(l){n.width+=l.width})):(n.color=s.length===1?s[0].color:void 0,n.disabled=!1,n.bundledRels.forEach(function(l){n.width+=l.disabled!==!0?l.width:0}))}n.width=Math.min(n.width,20)}),Array.from(r.values())},e_=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).find(function(t){return"size"in t})!==void 0};function QI(t){return QI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QI(t)}var l0e=function(t){var e,r;return typeof t.source=="number"||typeof t.target=="number"||typeof t.source=="string"||typeof t.target=="string"?45*devicePixelRatio:((e=t.source.size)!==null&&e!==void 0?e:bi)+((r=t.target.size)!==null&&r!==void 0?r:bi)+90*devicePixelRatio};function xz(t){return QI(t)==="object"}var c0e=function(t){var e;return((e=t.size)!==null&&e!==void 0?e:bi)+25*devicePixelRatio},JI=function(){return-400*Math.pow(devicePixelRatio,2)},f0e=function(){return 2*JI()};function Xd(t){return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Cz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h0e(t,e,r){return(e=GX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GX(n.key),n)}}function GX(t){var e=function(r){if(Xd(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Xd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Xd(e)=="symbol"?e:e+""}var Xs="d3ForceLayout",AD=function(t){return t&&Qa(t)},v0e=function(){return t=function r(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r);var a=n.state;this.state=a,this.d3Nodes={},this.d3RelList={},this.computing=!1,this.center={x:0,y:0},this.nodeRelCount=[];var o=this.state,u=o.nodes,s=o.rels;u.addChannel(Xs),s.addChannel(Xs),this.simulation=function(l){var c,f=1,h=.001,d=1-Math.pow(h,1/300),v=0,y=.6,b=new Map,p=NX(_),m=Kme("tick","end"),g=function(){let S=1;return()=>(S=(1664525*S+1013904223)%wz)/wz}();function _(){E(),m.call("tick",c),f<h&&(p.stop(),m.call("end",c))}function E(S){var C,R,D=l.length;S===void 0&&(S=1);for(var M=0;M<S;++M)for(f+=(v-f)*d,b.forEach(function(I){I(f)}),C=0;C<D;++C)(R=l[C]).fx==null?R.x+=R.vx*=y:(R.x=R.fx,R.vx=0),R.fy==null?R.y+=R.vy*=y:(R.y=R.fy,R.vy=0);return c}function T(){for(var S,C=0,R=l.length;C<R;++C){if((S=l[C]).index=C,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var D=10*Math.sqrt(.5+C),M=C*t0e;S.x=D*Math.cos(M),S.y=D*Math.sin(M)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function w(S){return S.initialize&&S.initialize(l,g),S}return l==null&&(l=[]),T(),c={tick:E,restart:function(){return p.restart(_),c},stop:function(){return p.stop(),c},nodes:function(S){return arguments.length?(l=S,T(),b.forEach(w),c):l},alpha:function(S){return arguments.length?(f=+S,c):f},alphaMin:function(S){return arguments.length?(h=+S,c):h},alphaDecay:function(S){return arguments.length?(d=+S,c):+d},alphaTarget:function(S){return arguments.length?(v=+S,c):v},velocityDecay:function(S){return arguments.length?(y=1-S,c):1-y},randomSource:function(S){return arguments.length?(g=S,b.forEach(w),c):g},force:function(S,C){return arguments.length>1?(C==null?b.delete(S):b.set(S,w(C)),c):b.get(S)},find:function(S,C,R){var D,M,I,k,U,F=0,B=l.length;for(R==null?R=1/0:R*=R,F=0;F<B;++F)(I=(D=S-(k=l[F]).x)*D+(M=C-k.y)*M)<R&&(U=k,R=I);return U},on:function(S,C){return arguments.length>1?(m.on(S,C),c):m.on(S)}}}().velocityDecay(.4).force("charge",xD().strength(JI)).force("centerX",function(l){var c,f,h,d=Xa(.1);function v(b){for(var p,m=0,g=c.length;m<g;++m)(p=c[m]).vx+=(h[m]-p.x)*f[m]*b}function y(){if(c){var b,p=c.length;for(f=new Array(p),h=new Array(p),b=0;b<p;++b)f[b]=isNaN(h[b]=+l(c[b],b,c))?0:+d(c[b],b,c)}}return typeof l!="function"&&(l=Xa(l==null?0:+l)),v.initialize=function(b){c=b,y()},v.strength=function(b){return arguments.length?(d=typeof b=="function"?b:Xa(+b),y(),v):d},v.x=function(b){return arguments.length?(l=typeof b=="function"?b:Xa(+b),y(),v):l},v}(0).strength(.03)).force("centerY",function(l){var c,f,h,d=Xa(.1);function v(b){for(var p,m=0,g=c.length;m<g;++m)(p=c[m]).vy+=(h[m]-p.y)*f[m]*b}function y(){if(c){var b,p=c.length;for(f=new Array(p),h=new Array(p),b=0;b<p;++b)f[b]=isNaN(h[b]=+l(c[b],b,c))?0:+d(c[b],b,c)}}return typeof l!="function"&&(l=Xa(l==null?0:+l)),v.initialize=function(b){c=b,y()},v.strength=function(b){return arguments.length?(d=typeof b=="function"?b:Xa(+b),y(),v):d},v.y=function(b){return arguments.length?(l=typeof b=="function"?b:Xa(+b),y(),v):l},v}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",function(){i.simulationStopped=!0,i.shouldUpdate=!1,i.shouldReheatNodes=!1,i.shouldCountNodeRels=!1}).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return i.state.graphUpdates},function(){var l=u.channels[Xs];if(u.version!==void 0&&l){var c=Object.values(l.adds).length>0,f=Object.values(l.removes).length>0,h=Object.values(l.updates),d=e_(h);c||f||d?(i.shouldUpdate=!0,i.shouldReheatNodes=!0,i.shouldCountNodeRels=!0):i.shouldReheatNodes=!1}var v=s.channels[Xs];if(s.version!==void 0&&v){var y=Object.values(v.adds).length>0,b=Object.values(v.removes).length>0;(y||b)&&(i.shouldUpdate=!0,i.shouldReheatNodes=!0,i.shouldCountNodeRels=!0)}}))},e=[{key:"setOptions",value:function(r){}},{key:"updateNodes",value:function(r){var n=this;r.forEach(function(i){n.d3Nodes[i.id]===void 0&&(n.d3Nodes[i.id]={id:i.id}),i!=null&&i.pinned?(n.d3Nodes[i.id].fx=i.x,n.d3Nodes[i.id].fy=i.y):(n.d3Nodes[i.id].x=i.x,n.d3Nodes[i.id].y=i.y),n.d3Nodes[i.id].vy=0,n.d3Nodes[i.id].vx=0}),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var r,n=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||i){var a=this.state,o=a.nodes,u=a.rels,s=o.channels[Xs],l=u.channels[Xs],c=Object.values(s.adds).length>0,f=Object.values(l.adds).length>0,h=Object.values(s.removes).length>0,d=Object.values(l.removes).length>0,v=Object.values(s.updates).length>0;if(c||f||h||d||v){var y=c&&Object.keys(this.d3Nodes).length===0,b=AD(s.removes);Object.keys(b).forEach(function(g){delete n.d3Nodes[g]});var p=AD(s.adds);if(Object.keys(p).forEach(function(g){n.d3Nodes[g]=function(_){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{};E%2?Az(Object(T),!0).forEach(function(w){h0e(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):Az(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}({},p[g])}),v&&Object.values(s.updates).forEach(function(g){g.pinned===!0?(n.d3Nodes[g.id].fx=n.d3Nodes[g.id].x,n.d3Nodes[g.id].fy=n.d3Nodes[g.id].y):g.pinned===!1&&(n.d3Nodes[g.id].fx=null,n.d3Nodes[g.id].fy=null),g.size!==void 0&&(n.d3Nodes[g.id].size=g.size)}),(f||d)&&(this.d3RelList=ZI(AD(u.items)).filter(function(g){return g.from!==g.to}).map(function(g,_){return{source:g.from,target:g.to,index:_}})),y){var m=Object.values(this.d3Nodes);(function(g,_,E){var T=g.filter(function(w){return w.x===void 0&&w.y===void 0});T.forEach(function(w,S){w.x=_.x+E*Math.sin(2*Math.PI*S/T.length),w.y=_.y+E*Math.cos(2*Math.PI*S/T.length)})})(m,this.center,(r=m.length,45*r/(2*Math.PI)))}this.layout(o.items,u.items,y)}o.clearChannel(Xs),u.clearChannel(Xs),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(r,n,i){var a=this;if(!(0,cn.isEmpty)(this.d3Nodes)){if(this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function(l){var c,f,h,d=1,v=1;function y(){for(var m,g,_,E,T,w,S,C=c.length,R=0;R<v;++R)for(g=t3(c,i0e,a0e).visitAfter(b),m=0;m<C;++m)_=c[m],w=f[_.index],S=w*w,E=_.x+_.vx,T=_.y+_.vy,g.visit(D);function D(M,I,k,U,F){var B=M.data,z=M.r,H=w+z;if(!B)return I>E+H||U<E-H||k>T+H||F<T-H;if(B.index>_.index){var Y=E-B.x-B.vx,W=T-B.y-B.vy,Z=Y*Y+W*W;Z<H*H&&(Y===0&&(Z+=(Y=Ff(h))*Y),W===0&&(Z+=(W=Ff(h))*W),Z=(H-(Z=Math.sqrt(Z)))/Z*d,_.vx+=(Y*=Z)*(H=(z*=z)/(S+z)),_.vy+=(W*=Z)*H,B.vx-=Y*(H=1-H),B.vy-=W*H)}}}function b(m){if(m.data)return m.r=f[m.data.index];for(var g=m.r=0;g<4;++g)m[g]&&m[g].r>m.r&&(m.r=m[g].r)}function p(){if(c){var m,g,_=c.length;for(f=new Array(_),m=0;m<_;++m)g=c[m],f[g.index]=+l(g,m,c)}}return typeof l!="function"&&(l=Xa(l==null?1:+l)),y.initialize=function(m,g){c=m,h=g,p()},y.iterations=function(m){return arguments.length?(v=+m,y):v},y.strength=function(m){return arguments.length?(d=+m,y):d},y.radius=function(m){return arguments.length?(l=typeof m=="function"?m:Xa(+m),p(),y):l},y}().radius(c0e)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function(l){var c,f,h,d,v,y,b=o0e,p=function(S){return 1/Math.min(d[S.source.index],d[S.target.index])},m=Xa(30),g=1;function _(S){for(var C=0,R=l.length;C<g;++C)for(var D,M,I,k,U,F,B,z=0;z<R;++z)M=(D=l[z]).source,k=(I=D.target).x+I.vx-M.x-M.vx||Ff(y),U=I.y+I.vy-M.y-M.vy||Ff(y),k*=F=((F=Math.sqrt(k*k+U*U))-f[z])/F*S*c[z],U*=F,I.vx-=k*(B=v[z]),I.vy-=U*B,M.vx+=k*(B=1-B),M.vy+=U*B}function E(){if(h){var S,C,R=h.length,D=l.length,M=new Map(h.map((I,k)=>[b(I,k,h),I]));for(S=0,d=new Array(R);S<D;++S)(C=l[S]).index=S,typeof C.source!="object"&&(C.source=Oz(M,C.source)),typeof C.target!="object"&&(C.target=Oz(M,C.target)),d[C.source.index]=(d[C.source.index]||0)+1,d[C.target.index]=(d[C.target.index]||0)+1;for(S=0,v=new Array(D);S<D;++S)C=l[S],v[S]=d[C.source.index]/(d[C.source.index]+d[C.target.index]);c=new Array(D),T(),f=new Array(D),w()}}function T(){if(h)for(var S=0,C=l.length;S<C;++S)c[S]=+p(l[S],S,l)}function w(){if(h)for(var S=0,C=l.length;S<C;++S)f[S]=+m(l[S],S,l)}return l==null&&(l=[]),_.initialize=function(S,C){h=S,y=C,E()},_.links=function(S){return arguments.length?(l=S,E(),_):l},_.id=function(S){return arguments.length?(b=S,_):b},_.iterations=function(S){return arguments.length?(g=+S,_):g},_.strength=function(S){return arguments.length?(p=typeof S=="function"?S:Xa(+S),T(),_):p},_.distance=function(S){return arguments.length?(m=typeof S=="function"?S:Xa(+S),w(),_):m},_}(this.d3RelList).id(function(l){return l.id}).distance(l0e).strength(function(l){return function(c,f){if(!xz(c.source)||!xz(c.target))return 1;var h=1.2/(Math.min(f[c.source.index],f[c.target.index])+(Math.max(f[c.source.index],f[c.target.index])-1)/100);return Math.max(Math.min(h,1),.06)}(l,a.nodeRelCount)})),i){this.computing=!0;var o=0;this.simulation.force("charge",xD().strength(f0e));for(var u=performance.now();performance.now()-u<300&&o<200;)this.simulation.alpha(1),this.simulation.tick(1),o+=1;this.simulation.force("charge",xD().strength(JI));for(var s=performance.now();performance.now()-s<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return requestAnimationFrame(function(){a.computing=!1}),void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(r){var n,i=[],a=function(l,c){var f=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!f){if(Array.isArray(l)||(f=function(p,m){if(p){if(typeof p=="string")return Cz(p,m);var g={}.toString.call(p).slice(8,-1);return g==="Object"&&p.constructor&&(g=p.constructor.name),g==="Map"||g==="Set"?Array.from(p):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Cz(p,m):void 0}}(l))||c){f&&(l=f);var h=0,d=function(){};return{s:d,n:function(){return h>=l.length?{done:!0}:{done:!1,value:l[h++]}},e:function(p){throw p},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,y=!0,b=!1;return{s:function(){f=f.call(l)},n:function(){var p=f.next();return y=p.done,p},e:function(p){b=!0,v=p},f:function(){try{y||f.return==null||f.return()}finally{if(b)throw v}}}}(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=this.d3Nodes[o.id];if(u!==void 0){var s={id:u.id,x:u.x,y:u.y};i.push(s)}}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(r){r()}),this.state.nodes.removeChannel(Xs),this.state.rels.removeChannel(Xs),this.simulation.stop()}},{key:"setAlpha",value:function(r){this.simulation.alpha(r),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var r=new Map(Object.entries(this.d3Nodes)),n=Object.values(this.d3RelList),i=new Array(r.length),a=0;a<n.length;++a){var o=n[a];o.index=a,Xd(o.source)!=="object"&&(o.source=r.get(o.source)),Xd(o.target)!=="object"&&(o.target=r.get(o.target)),i[o.source.index]=(i[o.source.index]||0)+1,i[o.target.index]=(i[o.target.index]||0)+1}return i}}],e&&d0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),p0e=Zn(5880),VX=Zn.n(p0e),Yr=VX().getLogger("NVL");const RD=Ope;var g0e={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},HX=function(t){var e,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=g0e[t],i=n.standard,a=n.fallback;if(r)e=RD[a];else try{e=RD[i]()}catch(o){console.warn("Failed to initialise ".concat(t,' worker: "').concat(JSON.stringify(o),'". Falling back to syncronous code.')),e=RD[a]}if(e===void 0)throw new Error("".concat(t," code could not be initialized."));return e.port.start(),e};function X0(t){return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function Rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(r),!0).forEach(function(n){ss(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DD(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return Pz(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Pz(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function Pz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function y0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YX(n.key),n)}}function ss(t,e,r){return(e=YX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YX(t){var e=function(r){if(X0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(X0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return X0(e)=="symbol"?e:e+""}var Dz=function(t,e,r){return t+(e-t)*function(n){return n*n*(3-2*n)}(r)},WX=function(){return t=function r(n){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),ss(this,"positions",void 0),ss(this,"oldPositions",void 0),ss(this,"startTime",void 0),ss(this,"t",void 0),ss(this,"currentT",void 0),ss(this,"state",void 0),ss(this,"shouldUpdateAnimator",void 0),ss(this,"parents",void 0),ss(this,"animationCompleteCallback",void 0),ss(this,"shouldUpdate",void 0);var i=n.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=i,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=n.animationCompleteCallback},e=[{key:"getPositionMapFromState",value:function(){var r,n=this.state.nodes,i=n.idToPosition,a={},o=DD(n.items);try{for(o.s();!(r=o.n()).done;){var u=r.value,s=i[u.id];s!==void 0&&(a[u.id]={id:u.id,x:s.x,y:s.y})}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"updatePositionsFromState",value:function(){this.positions=PD({},this.getPositionMapFromState())}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=PD({},this.getPositionMapFromState())}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var r=this.shouldUpdateAnimator,n=(Date.now()-this.startTime)/400;this.t=Math.min(n,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,r&&!this.shouldUpdateAnimator&&this.animationCompleteCallback!==void 0&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(r){var n,i=DD(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.x!==void 0&&a.y!==void 0&&(this.positions[a.id]={id:a.id,x:a.x,y:a.y}),this.shouldUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}},{key:"getNodePositions",value:function(r){var n,i=this.parents,a=this.state.nodes.idToPosition,o=function(g,_){for(var E={x:0,y:0},T=g.length,w=0,S=0;S<T;S++){var C=_[g[S].id];C===void 0||isNaN(C.x)||isNaN(C.y)||C.x===0||C.y===0||(E.x+=C.x,E.y+=C.y,w+=1)}return w>0?[E.x/w,E.y/w]:[0,0]}(r,a),u={x:o[0],y:o[1]},s=[],l=DD(r);try{for(l.s();!(n=l.n()).done;){var c=n.value,f=this.positions[c.id],h=a[c.id],d={id:c.id};if(f!==void 0){for(var v,y,b,p=c.id,m=(v=this.oldPositions[c.id])!==null&&v!==void 0?v:PD({},u);m===void 0&&i[p]!==void 0;)p=i[p],m=this.oldPositions[p];m.x=(y=m.x)!==null&&y!==void 0?y:u.x,m.y=(b=m.y)!==null&&b!==void 0?b:u.y,d.x=Dz(m.x,f.x,this.t),d.y=Dz(m.y,f.y,this.t)}else h!==void 0&&(d.x=h.x||u.x,d.y=h.y||u.y);s.push(d)}}catch(g){l.e(g)}finally{l.f()}return this.currentT=this.t,s}}],e&&y0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Lg(t){return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function Mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(r),!0).forEach(function(n){Md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b0e(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,o,u,s,l=[],c=!0,f=!1;try{if(u=(i=i.call(r)).next,n!==0)for(;!(c=(a=u.call(i)).done)&&(l.push(a.value),l.length!==n);c=!0);}catch(h){f=!0,o=h}finally{try{if(!c&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(f)throw o}}return l}}(t,e)||XX(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iz(t){return function(e){if(Array.isArray(e))return eN(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||XX(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function XX(t,e){if(t){if(typeof t=="string")return eN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eN(t,e):void 0}}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KX(n.key),n)}}function $X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($X=function(){return!!t})()}function tN(){return tN=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(a,o){for(;!{}.hasOwnProperty.call(a,o)&&(a=jg(a))!==null;);return a}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},tN.apply(null,arguments)}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jg(t)}function rN(t,e){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rN(t,e)}function Md(t,e,r){return(e=KX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KX(t){var e=function(r){if(Lg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Lg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Lg(e)=="symbol"?e:e+""}var Nz=function(t){return t!==void 0?Qa(t):t},w0e=function(){function t(n){var i;return function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),Md(i=function(a,o,u){return o=jg(o),function(s,l){if(l&&(Lg(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(s)}(a,$X()?Reflect.construct(o,u||[],jg(a).constructor):o.apply(a,u))}(this,t,[n]),"stateDisposers",void 0),Md(i,"cytoCompleteCallback",void 0),Md(i,"computing",void 0),Md(i,"pendingLayoutData",void 0),Md(i,"worker",void 0),Md(i,"workersDisabled",void 0),i.stateDisposers=[],i.stateDisposers.push(i.state.reaction(function(){return i.state.graphUpdates},function(){i.state.nodes.version!==void 0&&(i.shouldUpdate=!0),i.state.rels.version!==void 0&&(i.shouldUpdate=!0)})),i.cytoCompleteCallback=n.cytoCompleteCallback,i.shouldUpdate=!0,i.computing=!1,i.workersDisabled=n.state.disableWebWorkers,i.setOptions(),i.worker=HX("CoseBilkentLayout",i.workersDisabled),i.pendingLayoutData=null,i}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&rN(n,i)}(t,WX),e=t,r=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(this.shouldUpdate||n){var o=Nz(i),u=Nz(a);(o.length>0||u.length>0)&&(this.updatePositionsFromState(),this.layout(o,u))}(function(s,l,c){var f=tN(jg(s.prototype),"update",c);return typeof f=="function"?function(h){return f.apply(c,h)}:f})(t,0,this)([]),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(n,i){var a=this;if(this.worker){if(n.length){var o=n.map(function(l){return{group:"nodes",data:{id:l.id}}}),u=i.map(function(l){return{group:"edges",data:{id:"rel".concat(l.id),source:l.from,target:l.to}}}),s={elements:[].concat(Iz(o),Iz(u)),spacingFactor:n.reduce(function(l,c){var f;return l+((f=c.size)!==null&&f!==void 0?f:bi)},0)/n.length*4.5/50*On()};this.computing?this.pendingLayoutData=s:(this.computing=!0,this.worker.port.onmessage=function(l){var c=l.data.positions;if(a.computing){for(var f=0,h=Object.entries(c);f<h.length;f++){var d=b0e(h[f],2),v=d[0],y=d[1];a.positions[v]=m0e({id:v},y)}a.cytoCompleteCallback(),a.startAnimation()}a.computing=!1,a.shouldUpdate=!0},setTimeout(function(){a.computing&&a.worker.port.postMessage(s)},0))}}else Yr.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var n;this.stateDisposers.forEach(function(i){i()}),(n=this.worker)===null||n===void 0||n.port.close()}}],r&&_0e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}(),kz=typeof Float32Array<"u"?Float32Array:Array;function KS(){var t=new kz(16);return kz!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var nN=function(t,e,r,n,i,a,o){var u=1/(e-r),s=1/(n-i),l=1/(a-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*u,t[13]=(i+n)*s,t[14]=(o+a)*l,t[15]=1,t},E0e=Zn(9792),Lz=Zn.n(E0e);function $0(t){return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function S0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZX(n.key),n)}}function Qm(t,e,r){return(e=ZX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZX(t){var e=function(r){if($0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if($0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return $0(e)=="symbol"?e:e+""}var zf=function(){return t=function r(n,i,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,r),Qm(this,"shaderProgram",void 0),Qm(this,"gl",void 0),Qm(this,"curTexture",void 0),Qm(this,"attributeInfo",void 0),Qm(this,"uniformInfo",void 0);var u=n.createShader(n.FRAGMENT_SHADER);if(!n.isShader(u))throw new Error("Could not create shader object");var s=Lz()(a,o);n.shaderSource(u,s),n.compileShader(u),(0,cn.isNil)(n.getShaderParameter(u,n.COMPILE_STATUS))&&Yr.info(n.getShaderInfoLog(u));var l=n.createShader(n.VERTEX_SHADER);if(!n.isShader(l))throw new Error("Could not create shader object");var c=Lz()(i,o);if(n.shaderSource(l,c),n.compileShader(l),(0,cn.isNil)(n.getShaderParameter(l,n.COMPILE_STATUS))&&Yr.info(n.getShaderInfoLog(l)),this.shaderProgram=n.createProgram(),n.attachShader(this.shaderProgram,u),n.attachShader(this.shaderProgram,l),n.linkProgram(this.shaderProgram),(0,cn.isNil)(n.getProgramParameter(this.shaderProgram,n.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=n,this.curTexture=0,this.scanUniforms(),this.scanAttributes()},e=[{key:"setUniform",value:function(r,n){var i=this.gl,a=this.uniformInfo[r];if(a===void 0)throw new Error("Shader.setUniform - Uniform ".concat(r," not found in shader"));switch(a.type){case i.INT:i.uniform1i(a.location,n);break;case i.INT_VEC2:i.uniform2iv(a.location,n);break;case i.INT_VEC3:i.uniform3iv(a.location,n);break;case i.INT_VEC4:i.uniform4iv(a.location,n);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+a.texture),i.bindTexture(i.TEXTURE_2D,n),i.uniform1i(a.location,a.texture);break;case i.SAMPLER_CUBE:case i.FLOAT:i.uniform1f(a.location,n);break;case i.FLOAT_VEC2:i.uniform2fv(a.location,n);break;case i.FLOAT_VEC3:i.uniform3fv(a.location,n);break;case i.FLOAT_VEC4:i.uniform4fv(a.location,n);break;case i.FLOAT_MAT2:i.uniformMatrix2fv(a.location,!1,n);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(a.location,!1,n);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(a.location,!1,n)}}},{key:"setAttributePointer",value:function(r,n,i,a){var o=this.gl,u=this.attributeInfo[r],s=i*Float32Array.BYTES_PER_ELEMENT,l=a*Float32Array.BYTES_PER_ELEMENT;o.enableVertexAttribArray(u.position),o.vertexAttribPointer(u.position,n,o.FLOAT,!1,l,s)}},{key:"setAttributePointerFloat",value:function(r,n,i,a){var o=this.gl,u=this.attributeInfo[r];o.enableVertexAttribArray(u.position),o.vertexAttribPointer(u.position,n,o.FLOAT,!1,a,i)}},{key:"setAttributePointerUShort",value:function(r,n,i,a){var o=this.gl,u=this.attributeInfo[r];o.enableVertexAttribArray(u.position),o.vertexAttribPointer(u.position,n,o.UNSIGNED_SHORT,!1,a,i)}},{key:"setAttributePointerByteNorm",value:function(r,n,i,a){var o=this.gl,u=this.attributeInfo[r];o.enableVertexAttribArray(u.position),o.vertexAttribPointer(u.position,n,o.UNSIGNED_BYTE,!0,a,i)}},{key:"setAttributePointerByte",value:function(r,n,i,a){var o=this.gl,u=this.attributeInfo[r];o.enableVertexAttribArray(u.position),o.vertexAttribPointer(u.position,n,o.UNSIGNED_BYTE,!1,a,i)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var r=this.gl;this.attributeInfo={};for(var n,i,a=r.getProgramParameter(this.shaderProgram,r.ACTIVE_ATTRIBUTES),o=0;o<a;o++)n=r.getActiveAttrib(this.shaderProgram,o),i=r.getAttribLocation(this.shaderProgram,n.name),this.attributeInfo[n.name]={type:n.type,position:i}}},{key:"scanUniforms",value:function(){var r=this.gl;this.uniformInfo={};for(var n,i=r.getProgramParameter(this.shaderProgram,r.ACTIVE_UNIFORMS),a=0;a<i;a++){n=r.getActiveUniform(this.shaderProgram,a);var o=r.getUniformLocation(this.shaderProgram,n.name),u={type:n.type,location:o};n.type===r.SAMPLER_2D&&(u.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[n.name]=u}}}],e&&S0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Bg(t){return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function O0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T0e(n.key),n)}}function T0e(t){var e=function(r){if(Bg(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Bg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Bg(e)=="symbol"?e:e+""}function iN(t){var e=typeof Map=="function"?new Map:void 0;return iN=function(r){if(r===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,n)}function n(){return function(i,a,o){if(i3())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,a);var s=new(i.bind.apply(i,u));return o&&t_(s,o.prototype),s}(r,arguments,r_(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t_(n,r)},iN(t)}function i3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!t})()}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},t_(t,e)}function r_(t){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r_(t)}var QX=function(){function t(){return function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),function(n,i,a){return i=r_(i),function(o,u){if(u&&(Bg(u)=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(o)}(n,i3()?Reflect.construct(i,a||[],r_(n).constructor):i.apply(n,a))}(this,t,arguments)}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&t_(n,i)}(t,iN(Error)),e=t,(r=[{key:"toString",value:function(){return this.message}}])&&O0e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();const Gw=`uniform mat4 u_projection;

attribute vec2 a_position;
//attribute float a_index;

//varying highp float index;

void main() {
//  index = a_index;
  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);
}`;function K0(t){return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function x0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C0e(n.key),n)}}function C0e(t){var e=function(r){if(K0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(K0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return K0(e)=="symbol"?e:e+""}var jz=function(){return t=function r(n,i){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),this.graph=this.constructGraphObjects(n,i),this.subGraphs=[],this.sunMap={}},e=[{key:"constructGraphObjects",value:function(r,n){var i=new Array(r.nodes.length),a=new Array(r.rels.length),o={},u=[];return r.nodes.forEach(function(s,l){i[l]=[],a[l]=[],u.push(s)}),r.rels.forEach(function(s){var l=n[s.from],c=n[s.to];l!==void 0&&c!==void 0&&(i[l].push(c),i[c].push(l),a[l].push(s.id),a[c].push(s.id),o[s.id]=s)}),this.relIdMap=a,{nodes:u,relationships:i,idToRel:o}}},{key:"coarsenTo",value:function(r){for(var n=this.graph,i=n.nodes.length,a=0;n.nodes.length>r&&n.relationships.some(function(u){return u.length>0});){var o=this.coarsen(n,a===0);if(a===0&&(this.nodeSortMap=o.nodeSortMap),this.subGraphs.push(o.sortedInput),(n=o.output).relationships.length===0||n.relationships.every(function(u){return u.length===0})||i===n.nodes.length)break;i=n.nodes.length,a+=1}return this.subGraphs.push(n),n}},{key:"coarsenBy",value:function(r){for(var n=r,i=this.graph,a=i.nodes.length,o=n;n>0;){var u=this.coarsen(i,n===o);if(this.subGraphs.push(u.sortedInput),(i=u.output).relationships.length===0||i.relationships.every(function(s){return s.length===0})||a===i.nodes.length)break;a=i.nodes.length,n-=1}return this.subGraphs.push(i),i}},{key:"coarsen",value:function(r,n){var i=this,a=r.nodes,o=r.relationships,u=a.map(function(E,T){return T}),s={},l={};a.forEach(function(E,T){s[T]=E,l[E.id]=T});for(var c=o.map(function(E){return E.slice()}),f={suns:{},planets:{},moons:{}},h=[],d=[],v=function(){var E=u[0];u.splice(u.indexOf(E),1),o[E].forEach(function(S){var C=u.indexOf(S);C>=0&&u.splice(C,1);var R=-1,D=c[S];D.forEach(function(M,I){var k=u.indexOf(M);k>=0?u.splice(k,1):M===E&&(R=I)}),D.splice(R,1)});var T={id:E};if(n)T.originalId=s[E].id;else{var w=s[E];T.finestIndex=w.finestIndex,T.originalId=w.originalId}h.push(T),f.suns[E]=T};u.length>0;)v();h.forEach(function(E,T){d[T]=[]}),h.forEach(function(E,T){var w={},S=[];o[E.id].forEach(function(C){if(C!==E.id&&!w[C]){var R={id:C,parent:E,sunId:T,moons:[]},D=s[C];R.size=function(){return R.moons.length+1},R.weight=D.weight||1,R.children=function(){return R.moons},n?R.originalId=D.id:(R.finestIndex=D.finestIndex,R.originalId=D.originalId),S.push(R),w[C]=!0}}),S.forEach(function(C){f.planets[C.id]=C}),E.planets=S,E.children=function(){return E.planets},E.weight=E.planets.reduce(function(C,R){return C+(R.weight||1)},0)+(s[E.id].weight||1),E.size=function(){return E.planets.reduce(function(C,R){return C+R.size()},0)+1}});var y=a.filter(function(E,T){return!h.find(function(w){return w.id===T})&&!f.planets[T]});y.forEach(function(E){for(var T=l[E.id],w=c[T],S=null,C=-1,R=0;R<w.length;R++){var D=w[R];if(D!==T&&(S=f.planets[D])){C=R;break}}if(w.splice(C,1),S){var M={id:T,size:function(){return 0}};M.weight=s[T].weight||1,M.parent=S,M.sunId=S.sunId,n?M.originalId=E.id:(M.finestIndex=E.finestIndex,M.originalId=E.originalId),f.moons[T]=M,S.moons.push(M),S.weight+=M.weight,S.parent.weight+=M.weight;var I=c[S.id];I.splice(I.indexOf(T),1)}}),c.forEach(function(E,T){if(!f.suns[T]){var w=f.planets[T]||f.moons[T];c[T].forEach(function(S){var C=f.planets[S];if(C||(C=f.moons[S]),w.sunId!==C.sunId){var R=d[w.sunId];R.includes(C.sunId)||R.push(C.sunId)}})}});var b=[],p=0,m={};h.forEach(function(E,T){var w=a[E.id];m[E.id]=p,E.previousIndex=T,E.id=p,p+=1,n&&(w.finestIndex=E.id,E.finestIndex=E.id),b.push(w),E.planets.forEach(function(S){var C=a[S.id];m[S.id]=p,S.id=p,p+=1,S.sunId=E.id,n&&(C.finestIndex=S.id),i.sunMap[S.originalId]=E.originalId,b.push(C),S.moons.forEach(function(R){var D=a[R.id];m[R.id]=p,R.id=p,p+=1,R.sunId=E.id,n&&(D.finestIndex=R.id),i.sunMap[R.originalId]=E.originalId,b.push(D)})})});var g=[],_=[];return o.forEach(function(E,T){var w=m[T];g[w]=E.map(function(S){return m[S]}),n&&(_[w]=E.map(function(S,C){return i.relIdMap[T][C]}))}),_&&_.length>0&&(this.relIdMap=_),{output:{nodes:h,relationships:d},sortedInput:{nodes:b,relationships:g},nodeSortMap:m}}}],e&&x0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Bz=function(t,e,r){for(var n=2*Math.PI/r,i=[],a=0;a<r;a++){var o=n*a;i.push({x:t.x+e*Math.cos(o),y:t.y+e*Math.sin(o)})}return i};function Z0(t){return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function Jm(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return Uz(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Uz(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function Uz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function A0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JX(n.key),n)}}function Ht(t,e,r){return(e=JX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JX(t){var e=function(r){if(Z0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Z0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Z0(e)=="symbol"?e:e+""}var ca="PhysLayout",e0=new Float32Array(4),Cu=256,MD=function(t){for(var e={},r={},n=0;n<t.length;n++)e[t[n].id]=n,r[n]=t[n].id;return{nodeIdToIndex:e,nodeIndexToId:r}},R0e=function(){return t=function r(n){var i=this;(function(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this,r),Ht(this,"physVbo",void 0),Ht(this,"physSmallVbo",void 0),Ht(this,"physProjection",void 0),Ht(this,"physSmallProjection",void 0),Ht(this,"gl",void 0),Ht(this,"useReadpixelWorkaround",void 0),Ht(this,"averageNodeSize",void 0),Ht(this,"shouldUpdate",void 0),Ht(this,"iterationCount",void 0),Ht(this,"lastSpeedValues",void 0),Ht(this,"rollingAvgGraphSpeed",void 0),Ht(this,"nodeVariation",void 0),Ht(this,"nodeCenterPoint",void 0),Ht(this,"peakIterationMultiplier",void 0),Ht(this,"stateDisposers",void 0),Ht(this,"state",void 0),Ht(this,"dpr",void 0),Ht(this,"intelWorkaround",void 0),Ht(this,"simulationStopVelocitySquared",void 0),Ht(this,"gravity",void 0),Ht(this,"force",void 0),Ht(this,"nodeIdToIndex",void 0),Ht(this,"nodeIndexToId",void 0),Ht(this,"flatRelationshipKeys",void 0),Ht(this,"numNodes",void 0),Ht(this,"solarMerger",void 0),Ht(this,"subGraphs",void 0),Ht(this,"nodeSortMap",void 0),Ht(this,"firstUpdate",void 0),Ht(this,"curPhysData",void 0),Ht(this,"apprxRepForceShader",void 0),Ht(this,"levelsClusterTexture",void 0),Ht(this,"levelsFinestIndexTexture",void 0),Ht(this,"initalLevelTexture",void 0),Ht(this,"levelsData",void 0),Ht(this,"collisionDetectionMultiplier",void 0),Ht(this,"physShader",void 0),Ht(this,"physData",void 0),Ht(this,"workaroundData",void 0),Ht(this,"pinData",void 0),Ht(this,"updateData",void 0),Ht(this,"updateShader",void 0),Ht(this,"workaroundShader",void 0),Ht(this,"physPositions",void 0),Ht(this,"springTexture",void 0),Ht(this,"sizeTexture",void 0),Ht(this,"offsetTexture",void 0),Ht(this,"pinTexture",void 0),Ht(this,"addedNodes",void 0),Ht(this,"updateTexture",void 0),Ht(this,"enableVerlet",void 0);var a=n.state,o=n.webGLContext;if(Yr.info("layout - webGLContext",!!o),n.webGLContext===void 0)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(n.state===void 0)throw new Error("PhysLayout missing options: state - state object");var u=o;this.checkCompatibility(u),this.printGlStats(u),this.physVbo=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.physVbo);var s=new Float32Array([0,0,zt,0,0,zt,zt,zt]);u.bufferData(u.ARRAY_BUFFER,s,u.STATIC_DRAW),this.physSmallVbo=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.physSmallVbo);var l=new Float32Array([0,0,Cu,0,0,Cu,Cu,Cu]);u.bufferData(u.ARRAY_BUFFER,l,u.STATIC_DRAW),this.physProjection=KS(),nN(this.physProjection,0,zt,zt,0,0,1e6),this.physSmallProjection=KS(),nN(this.physSmallProjection,0,Cu,Cu,0,0,1e6),u.disable(u.DEPTH_TEST),this.gl=u,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=bi,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(n,!0),this.definePhysicsArrays(),this.flatRelationshipKeys=new Set;var c=a.nodes,f=a.rels;c.addChannel(ca),f.addChannel(ca),this.stateDisposers=[],this.stateDisposers.push(a.reaction(function(){return a.graphUpdates},function(){var h=c.channels[ca];if(c.version!==void 0&&h){var d=Object.values(h.adds).length>0,v=Object.values(h.removes).length>0,y=Object.values(h.updates),b=e_(y);(d||v||b)&&(i.shouldUpdate=!0,i.checkForUpdates())}var p=f.channels[ca];if(f.version!==void 0&&p){var m=Object.values(p.adds).length>0,g=Object.values(p.removes).length>0;(m||g)&&(i.shouldUpdate=!0,i.checkForUpdates())}})),this.setData({nodes:c.items,rels:f.items}),this.state=a,this.dpr=window.devicePixelRatio||1},e=[{key:"setOptions",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(r){var i=r.intelWorkaround,a=r.enableVerlet,o=a===void 0||a;n&&(this.intelWorkaround=i,this.enableVerlet=o);var u=this.enableVerlet?.25:100;this.simulationStopVelocitySquared=u*u,this.gravity=100,this.force=0}}},{key:"setData",value:function(r){var n=MD(r.nodes),i=n.nodeIdToIndex,a=n.nodeIndexToId;return this.nodeIdToIndex=i,this.nodeIndexToId=a,this.numNodes=r.nodes.length,this.flatRelationshipKeys=qw(r.rels),this.solarMerger=new jz(r,i),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.gl;if(this.checkForUpdates(r),!this.shouldUpdate)return n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(0).frameBuffer),n.readPixels(0,0,zt,zt,n.RGBA,n.FLOAT,this.physPositions),!1;n.disable(n.BLEND);for(var i=this.nodeVariation/(this.numNodes||1)>.3,a=this.getScaleNumber(this.iterationCount),o=this.subGraphs?this.subGraphs.length:0,u=this.getPhysData(0).texture,s=o-1;s>0;s--){var l=this.subGraphs[s].nodes.length,c=s===o-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",u),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[s]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[s]),this.apprxRepForceShader.setUniform("u_prevForce",c?this.initalLevelTexture:this.levelsData[s+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",l),this.apprxRepForceShader.setUniform("u_iterationMultiplier",a),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength(l)),this.apprxRepForceShader.setUniform("u_isTopLevel",c?1:0),n.bindBuffer(n.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),n.bindFramebuffer(n.FRAMEBUFFER,this.levelsData[s].frameBuffer),n.viewport(0,0,Cu,Cu),n.drawArrays(n.TRIANGLE_STRIP,0,4)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=i?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=o<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",o<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",u),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",a),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,n.bindBuffer(n.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(1).frameBuffer),n.viewport(0,0,zt,zt),n.drawArrays(n.TRIANGLE_STRIP,0,4),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(0).frameBuffer),n.readPixels(0,0,zt,zt,n.RGBA,n.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var f=this.iterationCount<300,h=f?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(h),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce(function(y,b){return y+b},0)/this.lastSpeedValues.length;var d=f&&h>=this.rollingAvgGraphSpeed,v=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!d&&v===!0&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){Yr.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(r){var n=[];if(this.useReadpixelWorkaround){var i,a=Jm(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=this.nodeIdToIndex[o.id],s=o.id,l=void 0,c=void 0;u!==void 0&&(l=this.workaroundData[0].dataFloat[u],c=this.workaroundData[1].dataFloat[u]),n.push({id:s,x:l,y:c})}}catch(m){a.e(m)}finally{a.f()}}else{var f,h=Jm(r);try{for(h.s();!(f=h.n()).done;){var d=f.value,v=this.nodeIdToIndex[d.id],y=d.id,b=void 0,p=void 0;v!==void 0&&(b=this.physPositions[4*v+0],p=this.physPositions[4*v+1]),n.push({id:y,x:b,y:p})}}catch(m){h.e(m)}finally{h.f()}}return n}},{key:"reheat",value:function(r){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=r.nodes.length}},{key:"updateNodes",value:function(r){var n=this.gl,i=new Set;n.bindTexture(n.TEXTURE_2D,this.getPhysData().texture);var a,o=Jm(r);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=this.nodeIdToIndex[u.id];if(u.x!==void 0&&u.y!==void 0){e0[0]=u.x,e0[1]=u.y,e0[2]=0,e0[3]=0;var l=s%zt,c=(s-l)/zt;n.texSubImage2D(n.TEXTURE_2D,0,l,c,1,1,n.RGBA,n.FLOAT,e0),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[s]=u.x,this.workaroundData[1].dataFloat[s]=u.y):(this.physPositions[4*s+0]=u.x,this.physPositions[4*s+1]=u.y)}u.pinned!==void 0&&(this.pinData[s]=u.pinned?255:0),Object.keys(u).forEach(function(f){return i.add(f)})}}catch(f){o.e(f)}finally{o.f()}i.has("pinned")&&(n.bindTexture(n.TEXTURE_2D,this.pinTexture),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,zt,zt,0,n.ALPHA,n.UNSIGNED_BYTE,this.pinData)),(i.has("x")||i.has("y")||i.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(r,n,i){var a=this.gl;this.numNodes=r.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var o=MD(r.nodes).nodeIdToIndex,u=new jz(r,o);u.coarsenTo(1);var s=u.subGraphs[0],l=this.subGraphs[0],c=function(B){return l.nodes.findIndex(function(z){return z.id===B})},f=Object.values(n.adds),h=Object.values(n.removes);this.addedNodes=f.length>0?{}:null,this.nodeVariation=f.length+h.length;for(var d=function(B){return!!n.adds[B]},v=3*Math.sqrt(r.nodes.length),y={x:0,y:0},b=s.nodes.length,p=new Uint8Array(65536),m=0;m<b;m++){var g=0,_=0,E=s.nodes[m];if(d(E.id)){if(this.addedNodes[m]=E.id,g=E.position?E.position.x:void 0,_=E.position?E.position.y:void 0,g===void 0||_===void 0){var T=u.sunMap,w=void 0;for(w=T[E.id];w!==void 0;w=T[w]){var S=c(w);if(S!==-1){var C=this.getNodePosition(S);g=C.x+10*(Math.random()-.5),_=C.y+10*(Math.random()-.5);break}}w===void 0&&(g=this.nodeCenterPoint[0]+v*(Math.random()-.5),_=this.nodeCenterPoint[1]+v*(Math.random()-.5))}this.updateData[2*m]=g,this.updateData[2*m+1]=_,p[m]=E.pinned?255:0}else{var R=c(E.id),D=this.getNodePosition(R);g=D.x,_=D.y,this.updateData[2*m]=R,this.updateData[2*m+1]=999999,p[m]=this.pinData[R]}y.x+=g||0,y.y+=_||0}this.nodeCenterPoint=b?[y.x/b,y.y/b]:[0,0],this.pinData=p,this.subGraphs=u.subGraphs,this.nodeSortMap=u.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var M=MD(this.subGraphs[0].nodes),I=M.nodeIdToIndex,k=M.nodeIndexToId;this.nodeIdToIndex=I,this.nodeIndexToId=k,a.bindTexture(a.TEXTURE_2D,this.updateTexture),a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,zt,zt,0,a.ALPHA,a.FLOAT,this.updateData),Yr.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",s.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),a.disable(a.BLEND),a.bindBuffer(a.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),a.bindFramebuffer(a.FRAMEBUFFER,this.getPhysData(1).frameBuffer),a.viewport(0,0,zt,zt),a.drawArrays(a.TRIANGLE_STRIP,0,4),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(a.bindFramebuffer(a.FRAMEBUFFER,this.getPhysData().frameBuffer),a.readPixels(0,0,zt,zt,a.RGBA,a.FLOAT,this.physPositions)),(f.length>0||h.length>0)&&(a.bindTexture(a.TEXTURE_2D,this.pinTexture),a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,zt,zt,0,a.ALPHA,a.UNSIGNED_BYTE,this.pinData));var U=qw(r.rels),F=this.hasRelationshipFlatMapChanged(U,i);return this.shouldUpdate=this.nodeVariation>0||F,this.iterationCount=0,this.flatRelationshipKeys=U,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var r=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.physData.forEach(function(n){r.gl.deleteFramebuffer(n.frameBuffer),r.gl.deleteTexture(n.texture)}),this.levelsData.forEach(function(n){r.gl.deleteFramebuffer(n.frameBuffer),r.gl.deleteTexture(n.texture)}),this.levelsClusterTexture.forEach(function(n){r.gl.deleteTexture(n)}),this.levelsFinestIndexTexture.forEach(function(n){r.gl.deleteTexture(n)}),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),this.apprxRepForceShader!==void 0&&this.apprxRepForceShader.remove(),this.updateShader!==void 0&&this.updateShader.remove(),this.physShader!==void 0&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach(function(n){n()}),this.state.nodes.removeChannel(ca),this.state.rels.removeChannel(ca)}},{key:"hasRelationshipFlatMapChanged",value:function(r,n){if(r.size!==this.flatRelationshipKeys.size)return!0;var i=!1,a=Object.values(n.adds),o=Object.values(n.removes);if(a.length>0||o.length>0){var u,s=Jm(qw(a));try{for(s.s();!(u=s.n()).done;){var l=u.value;if(!this.flatRelationshipKeys.has(l)){i=!0;break}}}catch(d){s.e(d)}finally{s.f()}if(!i){var c,f=Jm(qw(o));try{for(f.s();!(c=f.n()).done;){var h=c.value;if(!r.has(h)){i=!0;break}}}catch(d){f.e(d)}finally{f.f()}}}return i}},{key:"dumpTexture",value:function(r,n,i){var a=this.gl;Yr.info("--- Dumping texture ",i),a.bindFramebuffer(a.FRAMEBUFFER,r),a.readPixels(0,0,zt,zt,a.RGBA,a.FLOAT,this.physPositions);for(var o=0;o<n;o++)Yr.info(o,": ",this.physPositions[4*o+0],this.physPositions[4*o+1],this.physPositions[4*o+2],this.physPositions[4*o+3])}},{key:"getScaleNumber",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i,a,o){return o+Math.pow(10,6)*Math.pow(i-120,-1.7)};return r===0?0:r<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(r-200+12),3):n(r,200,10)}},{key:"getBaseLength",value:function(r){if(r===void 0||r===this.numNodes)return 100*this.dpr;var n=Math.pow(this.averageNodeSize/2,2)*Math.PI,i=this.numNodes/r*n;return(100+Math.sqrt(i/Math.PI)/2/r)*this.dpr}},{key:"checkForUpdates",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.state,i=n.nodes,a=n.rels,o={nodes:i.items,rels:a.items},u=Object.values(i.channels[ca].adds).length>0,s=Object.values(a.channels[ca].adds).length>0,l=Object.values(i.channels[ca].removes).length>0,c=Object.values(a.channels[ca].removes).length>0,f=Object.values(i.channels[ca].updates);(u||s||l||c)&&this.addRemoveData(o,{adds:i.channels[ca].adds,removes:i.channels[ca].removes},{adds:a.channels[ca].adds,removes:a.channels[ca].removes}),r?(this.updateNodes(o.nodes),this.reheat(o)):f.length>0&&(this.updateNodes(f),e_(f)&&this.reheat(o)),i.clearChannel(ca),a.clearChannel(ca)}},{key:"getNodePosition",value:function(r){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[r],y:this.workaroundData[1].dataFloat[r]}:{x:this.physPositions[4*r+0],y:this.physPositions[4*r+1]}}},{key:"getMaxSpeedSquared",value:function(){var r=0;if(this.useReadpixelWorkaround)for(var n=0;n<this.numNodes;n++){var i=this.workaroundData[2].dataFloat[n],a=this.workaroundData[3].dataFloat[n],o=i*i+a*a;o>r&&(r=o)}else for(var u=0;u<this.numNodes;u++){var s=this.physPositions[4*u+2],l=this.physPositions[4*u+3],c=s*s+l*l;c>r&&(r=c)}return r}},{key:"getMedianSpeedSquared",value:function(r){var n=[];if(this.useReadpixelWorkaround)for(var i=0;i<this.numNodes;i++){var a=this.workaroundData[2].dataFloat[i],o=this.workaroundData[3].dataFloat[i],u=a*a+o*o;n[i]=u}else for(var s=0;s<this.numNodes;s++)if(!r||r[s]){var l=this.physPositions[4*s+2],c=this.physPositions[4*s+3],f=l*l+c*c;n.push(f)}return n.sort(function(h,d){return h-d}),n[Math.floor(n.length/2)]}},{key:"getPhysData",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.physData[(this.curPhysData+r)%this.physData.length]}},{key:"newTexture",value:function(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.FLOAT,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:r.RGBA,u=r.createTexture();return r.bindTexture(r.TEXTURE_2D,u),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,o,i,i,0,o,a,n),u}},{key:"newFramebuffer",value:function(r,n){var i=r.createFramebuffer();return r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n,0),i}},{key:"checkCompatibility",value:function(r){function n(l){throw new QX(l)}r||n("Could not initialize WebGL"),r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS)===0&&n("Vertex shader texture access not available"),r.getExtension("OES_texture_float")||n("OES_texture_float extension not available"),r.getExtension("WEBGL_color_buffer_float")||(Yr.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var i=r.getParameter(r.MAX_TEXTURE_SIZE),a=Math.max(zt,CD);if(i<a&&n("Need larger WebGL texture support. Avaliable: ".concat(i," needed: ").concat(a)),!this.useReadpixelWorkaround){var o=new Float32Array(4),u=this.newTexture(r,o,1),s=this.newFramebuffer(r,u);r.bindFramebuffer(r.FRAMEBUFFER,s),r.readPixels(0,0,1,1,r.RGBA,r.FLOAT,o),r.getError()!==r.NO_ERROR&&(Yr.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(s),r.deleteTexture(u)}}},{key:"printGlStats",value:function(r){var n="?",i="?";if(r.getParameter(r.RENDERER))i=r.getParameter(r.RENDERER),n=r.getParameter(r.VENDOR);else{var a=r.getExtension("WEBGL_debug_renderer_info");a&&(n=r.getParameter(a.UNMASKED_VENDOR_WEBGL),i=r.getParameter(a.UNMASKED_RENDERER_WEBGL))}Yr.trace("Vendor: ".concat(n)),Yr.trace("Renderer: ".concat(i));var o=r.getParameter(r.ALIASED_LINE_WIDTH_RANGE);Yr.trace("Line width range: ".concat(o));var u=r.getSupportedExtensions();Yr.trace("Extentions:"),u.length>0&&u.forEach(function(s){return Yr.trace(s)})}},{key:"adjustToGlSize",value:function(r){return r*this.dpr*2.5}},{key:"setupSize",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{nodes:[]},n=new Float32Array(65536),i=r.nodes,a=i.length,o=0,u=0;u<a;u++){var s,l=parseInt((s=i[u].size)!==null&&s!==void 0?s:bi,10);n[u]=this.adjustToGlSize(l),o+=l}this.averageNodeSize=a?o/a:bi;var c=this.gl;this.sizeTexture===void 0&&(this.sizeTexture=c.createTexture()),c.bindTexture(c.TEXTURE_2D,this.sizeTexture),c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,zt,zt,0,c.ALPHA,c.FLOAT,n),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(r){var n,i,a=this.gl,o=r.relationships,u=new Float32Array(16777216),s=new Float32Array(65536),l=0;for(n=0;n<r.nodes.length;n++)for(s[n]=l,u[l]=o[n].length,l+=1,i=0;i<o[n].length;i++)u[l]=o[n][i],l+=1;for(i=l;i<u.length;i++)u[i]=1;for(i=n;i<s.length;i++)s[i]=0;this.offsetTexture===void 0&&(this.offsetTexture=a.createTexture()),a.bindTexture(a.TEXTURE_2D,this.offsetTexture),a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,zt,zt,0,a.ALPHA,a.FLOAT,s),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),this.springTexture===void 0&&(this.springTexture=a.createTexture()),a.bindTexture(a.TEXTURE_2D,this.springTexture),a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,CD,CD,0,a.ALPHA,a.FLOAT,u),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var r=this.gl,n=this.subGraphs.length,i=this.subGraphs[0].nodes,a=3*Math.sqrt(i.length),o=new Float32Array(262144),u=new Float32Array(262144);this.numNodes=i.length;for(var s=0;s<262144;s++)o[s]=0,u[s]=0;for(var l=function(b,p,m,g){g[4*b+0]=p,g[4*b+1]=m,g[4*b+2]=0,g[4*b+3]=0},c=n-1;c>=0;c--){var f=c===n-1?[]:this.subGraphs[c+1].nodes;f.length===0?this.subGraphs[c].nodes.forEach(function(b,p){var m=b.placement?b.placement.x:a*(Math.random()-.5),g=b.placement?b.placement.y:a*(Math.random()-.5);l(b.finestIndex===void 0?p:b.finestIndex,m,g,o)}):f.forEach(function(b){var p=b.finestIndex,m=o[4*b.finestIndex],g=o[4*b.finestIndex+1],_=Bz({x:m,y:g},10,b.planets.length+1);p+=1,b.planets.forEach(function(E,T){var w=_[T];l(p+=1,w.x,w.y,o);var S=Bz({x:w.x,y:w.y},10,E.moons.length+1);E.moons.forEach(function(C,R){var D=S[R];l(p+=1,D.x,D.y,o)})})})}this.physData=[];for(var h=0;h<2;h++){var d=this.newTexture(r,h===0?o:u,zt),v=this.newFramebuffer(r,d);this.physData.push({texture:d,frameBuffer:v})}var y=this.enableVerlet?`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;


float DAMP = 0.6;
float COOL = 0.99998;
float TEMP = max(0.02, pow(COOL, u_curIteration));
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 50000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = (combinedNodeSize - dist) / (dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * fScale) / (dist);
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, myPosition.zw);
  } else {
    vec2 prevVelocity = myPosition.zw;
    vec2 currentPos = myPosition.xy;
    vec2 prevPos = currentPos - prevVelocity;

    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);
    vec2 newVelocity = newPos - currentPos;
    gl_FragColor = vec4(newPos, newVelocity);
  }
}`:`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 500000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = ((combinedNodeSize - dist) / dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);
  } else {
    myPosition.zw = myPosition.zw * VELOCITYDECAY;
    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);
  }
}`;this.physShader=new zf(r,Gw,y,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity)}},{key:"setupPhysicsForCoarse",value:function(){var r=this,n=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var i,a,o=this.subGraphs.length,u=function(v,y,b,p,m){i[4*v+0]=y,i[4*v+1]=b,i[4*v+2]=m.size(),i[4*v+3]=p||1};if(o===1){i=new Float32Array(262144);var s=this.subGraphs[0].nodes;s.forEach(function(v,y){u(y,0,0,v.weight,{size:function(){return s.length}})}),this.levelsClusterTexture[0]=this.newTexture(n,i,Cu)}else for(var l=function(){var v=r.subGraphs[c].nodes,y=c===r.subGraphs.length-1?[]:r.subGraphs[c+1].nodes;i=new Float32Array(262144),a=new Float32Array(65536);var b=0;if(y.length>0){var p=y.slice();p.sort(function(_,E){return _.previousIndex-E.previousIndex}),p.forEach(function(_,E){var T=b,w=y.indexOf(_);u(b,w,T,v[_.id].weight,_),a[b]=v[b].finestIndex,b+=1,_.planets.forEach(function(S){u(b,w,T,S.weight,_),a[b]=v[b].finestIndex,b+=1,S.moons.forEach(function(C){u(b,w,T,C.weight,_),a[b]=v[b].finestIndex,b+=1})})})}else v.forEach(function(_,E){u(E,0,0,_.weight,{size:function(){return v.length}}),a[E]=v[E].finestIndex});var m=r.newTexture(n,null,Cu),g=r.newFramebuffer(n,m);r.levelsData[c]={texture:m,frameBuffer:g},r.levelsClusterTexture[c]=r.newTexture(n,i,Cu),r.levelsFinestIndexTexture[c]=r.newTexture(n,a,zt,n.FLOAT,n.ALPHA)},c=this.subGraphs.length-1;c>=0;c--)l();for(var f=new Float32Array(262144),h=0;h<f.length;h++)f[h]=0;this.initalLevelTexture=this.newTexture(n,f,Cu);var d=this.enableVerlet?`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float PI = 3.1415926535897932384626433832795;
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 1.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getSquaredLogClusterWeight(float value) {
  return pow(log(value), 2.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = (clusterArea * fScale) / (dist * dist);

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.2;
    }

    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / (dist * dist);
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`:`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getLogClusterWeight(float value) {
  return value / max(log(value), 1.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.3;
    }

    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / dist;
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`;this.apprxRepForceShader=new zf(n,Gw,d),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection)}},{key:"setupPinData",value:function(){var r=this.gl;this.pinTexture=r.createTexture(),this.pinData=new Uint8Array(65536);for(var n=0;n<65536;n++)this.pinData[n]=0;r.bindTexture(r.TEXTURE_2D,this.pinTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,zt,zt,0,r.ALPHA,r.UNSIGNED_BYTE,this.pinData),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var r=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.updateTexture),r.texImage2D(r.TEXTURE_2D,0,r.ALPHA,zt,zt,0,r.ALPHA,r.FLOAT,this.updateData),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.updateShader=new zf(r,Gw,`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_updateData;
uniform float u_numNodesNew;

const float INDEX_FLAG = 999999.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;

  if (index >= u_numNodesNew) {
    discard;
  }

  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;
  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;

  if (secondValue == INDEX_FLAG) {
    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);
    gl_FragColor = myPosition;
  } else {
    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);
  }
}
`),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection)}},{key:"setupReadpixelWorkaround",value:function(){var r=this.gl;this.workaroundShader=new zf(r,Gw,`precision lowp float;

uniform sampler2D u_physData;
uniform float u_index;

float shift_right (float v, float amt) { 
    v = floor(v) + 0.5; 
    return floor(v / exp2(amt)); 
}

float shift_left (float v, float amt) { 
    return floor(v * exp2(amt) + 0.5); 
}

float mask_last (float v, float bits) { 
    return mod(v, shift_left(1.0, bits)); 
}

float extract_bits (float num, float from, float to) { 
    from = floor(from + 0.5); to = floor(to + 0.5); 
    return mask_last(shift_right(num, from), to - from); 
}

// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target
vec4 encode_float (float val) { 
    if (val == 0.0) return vec4(0, 0, 0, 0); 
    float sign = val > 0.0 ? 0.0 : 1.0; 
    val = abs(val); 
    float exponent = floor(log2(val)); 
    float biased_exponent = exponent + 127.0; 
    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; 
    float t = biased_exponent / 2.0; 
    float last_bit_of_biased_exponent = fract(t) * 2.0; 
    float remaining_bits_of_biased_exponent = floor(t); 
    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; 
    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; 
    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; 
    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; 
    return vec4(byte4, byte3, byte2, byte1); 
}

void main(void) {
  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);
  float data;
  if (u_index == 0.0) {
    data = texData.x;
  } else if (u_index == 1.0) {
    data = texData.y;
  } else if (u_index == 2.0) {
    data = texData.z;
  } else if (u_index == 3.0) {
    data = texData.w;
  }

  gl_FragColor = encode_float(data);
}
`),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundData=[];for(var n=0;n<4;n++){var i=new Uint8Array(262144),a=this.newTexture(r,null,zt,r.UNSIGNED_BYTE),o=this.newFramebuffer(r,a);this.workaroundData.push({dataByte:i,dataFloat:new Float32Array(i.buffer),texture:a,frameBuffer:o})}}},{key:"doReadpixelWorkaround",value:function(){for(var r=this.gl,n=0;n<4;n++){var i=this.workaroundData[n];r.bindFramebuffer(r.FRAMEBUFFER,i.frameBuffer),r.viewport(0,0,zt,zt),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",n),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),r.bindBuffer(r.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),r.drawArrays(r.TRIANGLE_STRIP,0,4),r.readPixels(0,0,zt,zt,r.RGBA,r.UNSIGNED_BYTE,i.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],e&&A0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Q0(t){return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function Vw(t){return function(e){if(Array.isArray(e))return ID(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return ID(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ID(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ID(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function P0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e$(n.key),n)}}function Hp(t,e,r){return(e=e$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e$(t){var e=function(r){if(Q0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Q0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Q0(e)=="symbol"?e:e+""}var Yp="ForceCytoLayout",Hw="forceDirected",Yw="coseBilkent",D0e=function(){return t=function r(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),Hp(this,"physLayout",void 0),Hp(this,"coseBilkentLayout",void 0),Hp(this,"state",void 0),Hp(this,"currentLayoutType",void 0),Hp(this,"enableCytoscape",void 0),Hp(this,"currentLayout",void 0);var a=n.state,o=n.enableCytoscape;this.enableCytoscape=o==null||o,this.physLayout=new R0e(n),this.coseBilkentLayout=new w0e({state:a,cytoCompleteCallback:function(){for(i.physLayout.update(!0),i.copyLayoutPositions(i.state.nodes.items,i.coseBilkentLayout,i.physLayout);i.physLayout.update(!1););i.copyLayoutPositions(i.state.nodes.items,i.physLayout,i.coseBilkentLayout)},animationCompleteCallback:function(){i.currentLayoutType===Yw&&setTimeout(function(){return i.setLayout(Hw)},50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=Hw;var u=a.nodes,s=a.rels;u.addChannel(Yp),s.addChannel(Yp),this.state=a},e=[{key:"setOptions",value:function(r){r!==void 0&&(this.currentLayout.setOptions(r),this.enableCytoscape=r.enableCytoscape)}},{key:"getLayout",value:function(r){return r===Yw?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(r){if(r!==this.currentLayoutType){Yr.info("Switching to layout: ".concat(r," in ForceCyto"));var n=this.getLayout(r);this.currentLayout=n,this.currentLayoutType=r}}},{key:"copyLayoutPositions",value:function(r,n,i){var a=n.getNodePositions(r);i.updateNodes(a)}},{key:"update",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.state,i=n.nodes,a=n.rels,o=i.channels[Yp],u=a.channels[Yp],s=Object.values(o.adds).length,l=Object.values(u.adds).length,c=Object.values(o.adds).map(function(C){return C.id}),f=Object.values(u.adds).map(function(C){return C.id}),h=new Set(Object.keys(o.adds)),d=new Set(Object.keys(u.adds));if(i.clearChannel(Yp),a.clearChannel(Yp),this.currentLayoutType===Hw&&this.enableCytoscape&&i.items.length<=100&&s<100&&s>0&&l>0){var v=i.items.map(function(C){return C.id}),y=new Set([].concat(Vw(v),Vw(c))),b=a.items.map(function(C){return C.id}),p=new Set([].concat(Vw(b),Vw(f)));if(y.size<=100&&p.size<=300){var m=function(C,R,D,M){var I,k=new Set(C),U=Zm(new Set(R));try{for(U.s();!(I=U.n()).done;){var F=I.value,B=M.idToItem[F];if(B){var z=B.from,H=B.to;k.add(z),k.add(H)}}}catch(fe){U.e(fe)}finally{U.f()}var Y,W=function(fe){var te,Q={},ee={},ae=Zm(fe);try{for(ae.s();!(te=ae.n()).done;){for(var pe=te.value,_e=pe.from,Te=pe.to,Ae="".concat(_e,"-").concat(Te),be="".concat(Te,"-").concat(_e),j=0,G=[Ae,be];j<G.length;j++){var X=G[j];ee[X]!==void 0?ee[X].push(pe):ee[X]=[pe]}Q[_e]||(Q[_e]=new Set),Q[Te]||(Q[Te]=new Set),Q[_e].add(Te),Q[Te].add(_e)}}catch(ie){ae.e(ie)}finally{ae.f()}return{adjNodesMap:Q,relMap:ee}}(M.items),Z=W.adjNodesMap,le=W.relMap,ce={},ue={},de=function(fe){var te=[];for(ce[fe]||te.push(fe);te.length>0;){var Q=te.shift();if(ce[Q]=D.idToItem[Q],Z[Q]!==void 0){var ee,ae=Zm(Z[Q]);try{for(ae.s();!(ee=ae.n()).done;){var pe=ee.value;if(!ce[pe]){te.push(pe);var _e=le["".concat(Q,"-").concat(pe)];if(_e){var Te,Ae=Zm(_e);try{for(Ae.s();!(Te=Ae.n()).done;){var be=Te.value;ue[be.id]||(ue[be.id]=be)}}catch(j){Ae.e(j)}finally{Ae.f()}}}}}catch(j){ae.e(j)}finally{ae.f()}}}},he=Zm(k);try{for(he.s();!(Y=he.n()).done;)de(Y.value)}catch(fe){he.e(fe)}finally{he.f()}return{connectedNodes:ce,connectedRels:ue}}(h,d,i,a),g=m.connectedNodes,_=m.connectedRels,E=Object.values(g),T=Object.values(_),w=E.length,S=T.length;w===h.size&&S===d.size&&(d.size>0||h.size>0)?(this.setLayout(Yw),this.coseBilkentLayout.update(!0,i.items,a.items)):S>0&&d.size/S>.25&&(this.setLayout(Yw),this.coseBilkentLayout.update(!0,E,T))}}this.physLayout.update(r),this.coseBilkentLayout.update(r)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(r){this.setLayout(Hw),this.physLayout.updateNodes(r)}},{key:"getNodePositions",value:function(r){return this.currentLayout.getNodePositions(r)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],e&&P0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function J0(t){return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function Fz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(r),!0).forEach(function(n){S0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zz(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return qz(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?qz(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function qz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function I0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function S0(t,e,r){return(e=t$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=function(r){if(J0(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(J0(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return J0(e)=="symbol"?e:e+""}var $s="FreeLayout",N0e=function(){return t=function r(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),S0(this,"state",void 0),S0(this,"positions",void 0),S0(this,"shouldUpdate",void 0),S0(this,"stateDisposers",void 0);var a=n.state;this.state=a,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return i.state.graphUpdates},function(){i.state.nodes.version!==void 0&&(i.shouldUpdate=!0),i.state.rels.version!==void 0&&(i.shouldUpdate=!0)}));var o=this.state,u=o.nodes,s=o.rels;u.addChannel($s),s.addChannel($s),this.shouldUpdate=!0,this.setOptions(),this.layout(u.items,u.idToItem,u.idToPosition)},e=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(r){var n,i=zz(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.x!==void 0&&a.y!==void 0&&(this.positions[a.id]={x:a.x,y:a.y}),this.shouldUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}},{key:"update",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||r){var n=this.state,i=n.nodes,a=n.rels,o=Object.values(i.channels[$s].adds).length>0,u=Object.values(a.channels[$s].adds).length>0,s=Object.values(i.channels[$s].removes).length>0,l=Object.values(a.channels[$s].removes).length>0;(o||u||s||l)&&this.layout(i.items,i.idToItem,i.idToPosition),i.clearChannel($s),a.clearChannel($s)}this.shouldUpdate=!1}},{key:"layout",value:function(r,n,i){var a,o=(a=r)!==void 0?Qa(a):a;if(!(0,cn.isEmpty)(o)){for(var u={},s=0;s<o.length;++s){var l,c=o[s].id,f=(l=i[c])!==null&&l!==void 0?l:{},h=f.x,d=h===void 0?0:h,v=f.y,y=v===void 0?0:v;u[c]={id:c,x:d,y}}this.positions=u,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(r){this.positions=r}},{key:"getNodePositions",value:function(r){var n,i=[],a=zz(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=this.positions[o.id],s=M0e({id:o.id},u);i.push(s)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel($s),this.state.rels.removeChannel($s)}}],e&&I0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function eb(t){return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function Gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(r),!0).forEach(function(n){k0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k0e(t,e,r){return(e=r$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hz(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return Yz(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Yz(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function Yz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function L0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r$(n.key),n)}}function r$(t){var e=function(r){if(eb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(eb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return eb(e)=="symbol"?e:e+""}var Ks="GridLayout",j0e=function(){return t=function r(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r);var a=n.state;this.state=a,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return i.state.graphUpdates},function(){i.state.nodes.version!==void 0&&(i.shouldUpdate=!0),i.state.rels.version!==void 0&&(i.shouldUpdate=!0)}));var o=this.state,u=o.nodes,s=o.rels;u.addChannel(Ks),s.addChannel(Ks),this.shouldUpdate=!0,this.setOptions(n),this.layout(u.items,u.idToItem,u.idToPosition,s.items)},e=[{key:"setOptions",value:function(r){}},{key:"updateNodes",value:function(r){var n,i=Hz(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.x!==void 0&&a.y!==void 0&&(this.positions[a.id]={x:a.x,y:a.y}),this.shouldUpdate=!0}}catch(o){i.e(o)}finally{i.f()}}},{key:"update",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||r){var n=this.state,i=n.nodes,a=n.rels,o=Object.values(i.channels[Ks].adds).length>0,u=Object.values(a.channels[Ks].adds).length>0,s=Object.values(i.channels[Ks].removes).length>0,l=Object.values(a.channels[Ks].removes).length>0;(o||u||s||l)&&(this.layout(i.items,i.idToItem,i.idToPosition,a.items),i.idToPosition=this.positions),i.clearChannel(Ks),a.clearChannel(Ks)}this.shouldUpdate=!1}},{key:"layout",value:function(r,n,i,a){var o,u=(o=r)?Qa(o):o;if(!(0,cn.isEmpty)(u)){for(var s=u.length,l=Math.ceil(Math.sqrt(s)),c=new Array(s),f=0,h=0;h<l;++h){for(var d=0;d<l&&(c[f]={y:0+150*h,x:0+150*d},(f+=1)!==s);++d);if(f===s)break}for(var v=u.sort(),y={},b=0;b<s;++b){var p=v[b],m=c[b];p.x===m.x&&p.y===m.y||(y[p.id]=Vz({id:p.id},m))}this.positions=y,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(r){var n,i=[],a=Hz(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=this.positions[o.id],s=Vz({id:o.id},u);i.push(s)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel(Ks),this.state.rels.removeChannel(Ks)}}],e&&L0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),B0e=new Set(["direction","packing"]),U0e="forceDirected",zE="hierarchical",F0e="grid",z0e="free",q0e="d3Force",n$="canvas";function tb(t){return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tb(t)}function Ww(t,e,r){return(e=function(n){var i=function(a){if(tb(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,"string");if(tb(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(n);return tb(i)=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var aN="down",G0e=Ww(Ww(Ww(Ww({},"up","BT"),aN,"TB"),"left","RL"),"right","LR"),oN="bin",V0e=[oN,"stack"],H0e=["html"],Y0e=["html"],W0e=["captionHtml"];function Ug(t){return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function ND(t,e){if(t==null)return{};var r,n,i=function(o,u){if(o==null)return{};var s={};for(var l in o)if({}.hasOwnProperty.call(o,l)){if(u.indexOf(l)!==-1)continue;s[l]=o[l]}return s}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function X0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a$(n.key),n)}}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function uN(){return uN=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(a,o){for(;!{}.hasOwnProperty.call(a,o)&&(a=Fg(a))!==null;);return a}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},uN.apply(null,arguments)}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fg(t)}function sN(t,e){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sN(t,e)}function Zs(t,e,r){return(e=a$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a$(t){var e=function(r){if(Ug(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Ug(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Ug(e)=="symbol"?e:e+""}var Ha="HierarchicalLayout",Xw=function(t){return t!==void 0?Qa(t):t},$0e=function(){function t(n){var i;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),Zs(i=function(s,l,c){return l=Fg(l),function(f,h){if(h&&(Ug(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(f)}(s,i$()?Reflect.construct(l,c||[],Fg(s).constructor):l.apply(s,c))}(this,t,[n]),"direction",void 0),Zs(i,"packing",void 0),Zs(i,"stateDisposers",void 0),Zs(i,"oldComputing",void 0),Zs(i,"computing",void 0),Zs(i,"pendingLayoutData",void 0),Zs(i,"worker",void 0),Zs(i,"directionChanged",void 0),Zs(i,"packingChanged",void 0),Zs(i,"workersDisabled",void 0),i.direction=aN,i.packing=oN;var a=i.state,o=a.nodes,u=a.rels;return o.addChannel(Ha),u.addChannel(Ha),i.stateDisposers=[i.state.reaction(function(){return i.state.graphUpdates},function(){if(o.version!==void 0){var s=o.channels[Ha],l=Object.values(s.adds).length>0,c=Object.values(s.removes).length>0,f=Object.values(s.updates),h=e_(f);i.shouldUpdate=i.shouldUpdate||l||c||h}if(u.version!==void 0){var d=u.channels[Ha],v=Object.values(d.adds).length>0,y=Object.values(d.removes).length>0;i.shouldUpdate=i.shouldUpdate||v||y}})],i.shouldUpdate=!0,i.oldComputing=!1,i.computing=!1,i.workersDisabled=n.state.disableWebWorkers,i.setOptions(n),i.worker=HX("HierarchicalLayout",i.workersDisabled),i.pendingLayoutData=null,i.layout(o.items,o.idToItem,o.idToPosition,u.items),i}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&sN(n,i)}(t,WX),e=t,r=[{key:"setOptions",value:function(n){if(n!==void 0&&function(s){return Object.keys(s).every(function(l){return B0e.has(l)})}(n)){var i=n.direction,a=i===void 0?aN:i,o=n.packing,u=o===void 0?oN:o;Object.keys(G0e).includes(a)&&(this.directionChanged=this.direction&&this.direction!==a,this.direction=a),V0e.includes(u)&&(this.packingChanged=this.packing&&this.packing!==u,this.packing=u),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||n){var i=this.state,a=i.nodes,o=i.rels,u=this.directionChanged,s=this.packingChanged,l=Object.values(a.channels[Ha].adds).length>0,c=Object.values(o.channels[Ha].adds).length>0,f=Object.values(a.channels[Ha].removes).length>0,h=Object.values(o.channels[Ha].removes).length>0,d=Object.values(a.channels[Ha].updates),v=e_(d);(n||l||c||f||h||u||s||v)&&this.layout(a.items,a.idToItem,a.idToPosition,o.items),a.clearChannel(Ha),o.clearChannel(Ha),this.directionChanged=!1,this.packingChanged=!1}(function(y,b,p){var m=uN(Fg(y.prototype),"update",p);return typeof m=="function"?function(g){return m.apply(p,g)}:m})(t,0,this)([]),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(n,i,a,o){var u=this;if(this.worker){var s=Xw(n).map(function(p){return p.html,ND(p,H0e)}),l=Xw(i),c={};Object.keys(l).forEach(function(p){var m=l[p],g=(m.html,ND(m,Y0e));c[p]=g});var f=Xw(o).map(function(p){return p.captionHtml,ND(p,W0e)}),h=Xw(a),d=this.direction,v=this.packing,y=window.devicePixelRatio,b={nodes:s,nodeIds:c,idToPosition:h,rels:f,direction:d,packing:v,pixelRatio:y,forcedDelay:0};this.computing?this.pendingLayoutData=b:(this.worker.port.onmessage=function(p){var m=p.data,g=m.positions,_=m.parents,E=m.waypoints;u.computing&&(u.positions=g),u.parents=_,u.state.setWaypoints(E),u.pendingLayoutData!==null?(u.worker.port.postMessage(u.pendingLayoutData),u.pendingLayoutData=null):u.computing=!1,u.shouldUpdate=!0,u.startAnimation()},this.computing=!0,this.worker.port.postMessage(b))}else Yr.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var n,i;this.computing=!1,this.shouldUpdate=!1,(n=this.state.nodes)===null||n===void 0||n.clearChannel(Ha),(i=this.state.rels)===null||i===void 0||i.clearChannel(Ha)}},{key:"destroy",value:function(){var n;this.stateDisposers.forEach(function(i){i()}),this.state.nodes.removeChannel(Ha),this.state.rels.removeChannel(Ha),(n=this.worker)===null||n===void 0||n.port.close()}}],r&&X0e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();function rb(t){return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function K0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o$(n.key),n)}}function Qs(t,e,r){return(e=o$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$(t){var e=function(r){if(rb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(rb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return rb(e)=="symbol"?e:e+""}var Z0e=function(){return t=function r(n,i){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),Qs(this,"elementId",void 0),Qs(this,"currentValue",void 0),Qs(this,"startValue",void 0),Qs(this,"currentTime",void 0),Qs(this,"duration",void 0),Qs(this,"status",void 0),Qs(this,"endValue",void 0),Qs(this,"startTime",void 0),Qs(this,"endTime",void 0),Qs(this,"hasNextAnimation",void 0),this.elementId=n,this.startValue=i,this.status=0,this.currentValue=i,this.duration=0},(e=[{key:"setDuration",value:function(r){this.duration=r,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(this.status!==1)return!1;this.currentTime=new Date().getTime();var r,n=this.endTime-this.startTime;return(r=n>0?(this.currentTime-this.startTime)/n:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+r*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(r){this.endValue!==r&&(r-this.currentValue!==0?(this.currentTime=new Date().getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=r,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=r)}},{key:"setEndTime",value:function(r){this.endTime=Math.max(r,this.startTime)}}])&&K0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function nb(t){return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nb(t)}function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){Id(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function Id(t,e,r){return(e=u$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=function(r){if(nb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(nb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return nb(e)=="symbol"?e:e+""}var J0e=function(){return t=function r(){(function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")})(this,r),Id(this,"animations",void 0),Id(this,"durations",void 0),Id(this,"defaultDuration",void 0),Id(this,"hasNextAnimation",void 0),Id(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1},e=[{key:"advance",value:function(){var r=this;return this.hasNextAnimation=!1,this.animations.forEach(function(n){Object.values(n).forEach(function(i){i.advance()&&(r.hasNextAnimation=!0)})}),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(r){this.ignoreAnimationsFlag=r}},{key:"setOptions",value:function(r){r.fadeDuration!==void 0&&(this.durations[0]=r.fadeDuration),r.sizeDuration!==void 0&&(this.durations[1]=r.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(r,n,i){var a,o,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(this.ignoreAnimationsFlag)return i;var s=(a=this.getById(r))!==null&&a!==void 0?a:{};if(s[n]===void 0){var l=u===1?this.createSizeAnimation(0,r,n):this.createFadeAnimation(0,r,n);l.setEndValue(i),o=l.currentValue}else{var c=s[n];if(c.currentValue===i)return i;c.setEndValue(i),o=c.currentValue}return this.hasNextAnimation=!0,o}},{key:"createAnimation",value:function(r,n,i){var a,o=new Z0e(n,r),u=(a=this.animations.get(n))!==null&&a!==void 0?a:{};return this.animations.set(n,Xz(Xz({},u),{},Id({},i,o))),o}},{key:"getById",value:function(r){return this.animations.get(r)}},{key:"createFadeAnimation",value:function(r,n,i){var a,o=this.createAnimation(r,n,i);return o.setDuration((a=this.durations[0])!==null&&a!==void 0?a:this.defaultDuration),o}},{key:"createSizeAnimation",value:function(r,n,i){var a,o=this.createAnimation(r,n,i);return o.setDuration((a=this.durations[1])!==null&&a!==void 0?a:this.defaultDuration),o}}],e&&Q0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function ib(t){return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(t)}function ebe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s$(n.key),n)}}function s$(t){var e=function(r){if(ib(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(ib(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return ib(e)=="symbol"?e:e+""}var Au=64,tbe=function(){return t=function r(){var n,i,a;(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,r),n=this,a=void 0,(i=s$(i="cache"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.cache={}},e=[{key:"getImage",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.getOrCreateEntry(r),a=n?"inverted":"image",o=i[a];return o===void 0&&(o=this.loadImage(r),i[a]=o),this.drawIfNeeded(o,n),o.canvas}},{key:"getOrCreateEntry",value:function(r){return this.cache[r]===void 0&&(this.cache[r]={}),this.cache[r]}},{key:"invertCanvas",value:function(r){for(var n=r.getImageData(0,0,Au,Au),i=n.data,a=0;a<4096;a++){var o=4*a;i[o]^=255,i[o+1]^=255,i[o+2]^=255}r.putImageData(n,0,0)}},{key:"loadImage",value:function(r){var n=document.createElement("canvas");n.width=Au,n.height=Au;var i=new Image;return i.src=r,i.crossOrigin="anonymous",{canvas:n,image:i,drawn:!1}}},{key:"drawIfNeeded",value:function(r,n){var i=r.image,a=r.canvas;if(!r.drawn&&i.complete){var o=a.getContext("2d");try{o.drawImage(i,0,0,Au,Au)}catch(u){Yr.error("Failed to draw image",i.src,u),o.beginPath(),o.strokeStyle="black",o.rect(0,0,Au,Au),o.moveTo(0,0),o.lineTo(Au,Au),o.moveTo(0,Au),o.lineTo(Au,0),o.stroke(),o.closePath()}n&&this.invertCanvas(o),r.drawn=!0}}}],e&&ebe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const rbe=tbe;function ab(t){return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function $z(t,e){if(t){if(typeof t=="string")return lN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lN(t,e):void 0}}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function nbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l$(n.key),n)}}function hf(t,e,r){return(e=l$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$(t){var e=function(r){if(ab(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(ab(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return ab(e)=="symbol"?e:e+""}var ibe=function(){return t=function r(n,i,a){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,r),hf(this,"key",void 0),hf(this,"rels",void 0),hf(this,"waypointPath",void 0),hf(this,"selfReferring",void 0),hf(this,"fromId",void 0),hf(this,"toId",void 0),hf(this,"angles",void 0),hf(this,"labelInfo",void 0),this.key=n,this.rels=new Map,this.selfReferring=i===a,this.fromId=i,this.toId=a,this.labelInfo={},this.angles=[]},e=[{key:"insert",value:function(r){this.rels.set(r.id,r)}},{key:"setLabelInfo",value:function(r,n){this.labelInfo[r]=n}},{key:"has",value:function(r){var n=r.id;return this.rels.has(n)}},{key:"remove",value:function(r){var n=r.id;if(this.rels.has(n)&&(this.rels.delete(n),this.size()>0)){var i=function(a,o){return function(u){if(Array.isArray(u))return u}(a)||function(u,s){var l=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(l!=null){var c,f,h,d,v=[],y=!0,b=!1;try{if(h=(l=l.call(u)).next,s!==0)for(;!(y=(c=h.call(l)).done)&&(v.push(c.value),v.length!==s);y=!0);}catch(p){b=!0,f=p}finally{try{if(!y&&l.return!=null&&(d=l.return(),Object(d)!==d))return}finally{if(b)throw f}}return v}}(a,o)||$z(a,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(this.relArray(),1)[0];this.fromId=i.from,this.toId=i.to}}},{key:"size",value:function(){return this.rels.size}},{key:"relArray",value:function(){return Array.from(this.rels.values())}},{key:"maxFontSize",value:function(){if(this.size()===0)return 1;var r=this.relArray().map(function(n){return(0,cn.isNumber)(n.captionSize)?n.captionSize:1});return Math.max.apply(Math,function(n){return function(i){if(Array.isArray(i))return lN(i)}(n)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(n)||$z(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(r))}},{key:"relIsOppositeDirection",value:function(r){var n=r.from,i=r.to,a=this.fromId,o=this.toId;return n!==a&&i!==o||n===o&&i===a}},{key:"indexOf",value:function(r){var n=r.id,i=Array.from(this.rels.keys());return this.rels.has(n)?i.indexOf(n):-1}},{key:"getRel",value:function(r){var n=this.relArray();return r<0||r>=n.length?null:n[r]}},{key:"setWaypoints",value:function(r){this.waypointPath=r}},{key:"setAngles",value:function(r){this.angles=r}}],e&&nbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Kz=LX,Zz=2*Math.PI/50,Qz=.1*Math.PI;function ob(t){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(t)}function Jz(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=c$(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function e9(t){return function(e){if(Array.isArray(e))return cN(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||c$(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c$(t,e){if(t){if(typeof t=="string")return cN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cN(t,e):void 0}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function abe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function t9(t,e,r){return(e=f$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=function(r){if(ob(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(ob(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return ob(e)=="symbol"?e:e+""}var obe=function(t){var e=[];if(t.length===0)e.push({size:2*Math.PI,start:0});else{for(var r=t.length-1;r>=0;r--){var n=void 0,i=void 0;r===0?(i=t[t.length-1],n=t[r]-t[t.length-1]+2*Math.PI):(i=t[r-1],n=t[r]-t[r-1]),e.push({size:n,start:i})}e.sort(function(a,o){return o.size-a.size})}return e},ube=function(t,e){for(;e>t.length||t[0].size>2*t[e-1].size;)t.push({size:t[0].size/2,start:t[0].start}),t.push({size:t[0].size/2,start:t[0].start+t[0].size/2}),t.shift(),t.sort(function(r,n){return n.size-r.size});return t},sbe=function(){return t=function r(n,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,r),t9(this,"bundles",void 0),t9(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var a=n.reduce(function(o,u){return o[u.id]=u,o},{});this.updateData(a,{},{},i)},e=[{key:"getBundle",value:function(r){var n=this.bundles,i=this.nodeToBundles,a=this.generatePairId(r.from,r.to),o=n[a];return o===void 0&&(o=new ibe(a,r.from,r.to),n[a]=o,i[r.from]===void 0&&(i[r.from]=[]),i[r.to]===void 0&&(i[r.to]=[]),i[r.from].push(o),i[r.to].push(o)),o}},{key:"updateData",value:function(r,n,i,a){var o,u=this.bundles,s=this.nodeToBundles,l=function(E,T){var w=s[T].findIndex(function(S){return S===E});w!==-1&&s[T].splice(w,1),s[T].length===0&&delete s[T]},c=[].concat(e9(Object.values(r)),e9(Object.values(i))),f=Object.values(n),h=Jz(c);try{for(h.s();!(o=h.n()).done;){var d=o.value;this.getBundle(d).insert(d)}}catch(E){h.e(E)}finally{h.f()}for(var v=0,y=f;v<y.length;v++){var b=y[v],p=this.getBundle(b);p.remove(b),p.size()===0&&(delete u[p.key],l(p,b.from),l(p,b.to))}for(var m=0,g=Object.keys(u);m<g.length;m++){var _=u[g[m]];_.setWaypoints(a["".concat(_.fromId,"-").concat(_.toId)])}}},{key:"updatePositions",value:function(r){for(var n=this.nodeToBundles,i=0,a=Object.keys(r);i<a.length;i++){var o,u=a[i],s=(o=n[u])!==null&&o!==void 0?o:[];if(s.length!==0){var l=s.find(function(S){return S.selfReferring}),c=s.filter(function(S){return!S.selfReferring});if(l!==void 0){var f,h=[],d=Jz(c);try{for(d.s();!(f=d.n()).done;){var v=f.value,y=r[v.fromId],b=r[v.toId];if(y!==void 0&&b!==void 0)for(var p=Zz*v.size(),m=y.id===u?Math.atan2(b.y-y.y,b.x-y.x):Math.atan2(y.y-b.y,y.x-b.x),g=0;g<v.size();g++)h.push(m+p/2-g*Zz);else{var _=y===void 0?v.fromId:v.toId;Yr.warn("Arrowbundler: Node with id ".concat(_," is not in position map"))}}}catch(S){d.e(S)}finally{d.f()}var E=h.map(function(S){return(S+2*Math.PI)%(2*Math.PI)}).sort(),T=obe(E);ube(T,l.size());var w=T.map(function(S){return S.start+S.size/2}).slice(0,l.size());l.setAngles(w)}}}}},{key:"generatePairId",value:function(r,n){return[r.toString(),n.toString()].sort(function(i,a){return i.localeCompare(a)}).join("-")}}],e&&abe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),lbe=Zn(3269),h$=Zn.n(lbe);function ZS(t){return ZS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZS(t)}var cbe=/^\s+/,fbe=/\s+$/;function Ct(t,e){if(e=e||{},(t=t||"")instanceof Ct)return t;if(!(this instanceof Ct))return new Ct(t,e);var r=function(n){var i,a,o,u={r:0,g:0,b:0},s=1,l=null,c=null,f=null,h=!1,d=!1;return typeof n=="string"&&(n=function(v){v=v.replace(cbe,"").replace(fbe,"").toLowerCase();var y,b=!1;if(fN[v])v=fN[v],b=!0;else if(v=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(y=ls.rgb.exec(v))?{r:y[1],g:y[2],b:y[3]}:(y=ls.rgba.exec(v))?{r:y[1],g:y[2],b:y[3],a:y[4]}:(y=ls.hsl.exec(v))?{h:y[1],s:y[2],l:y[3]}:(y=ls.hsla.exec(v))?{h:y[1],s:y[2],l:y[3],a:y[4]}:(y=ls.hsv.exec(v))?{h:y[1],s:y[2],v:y[3]}:(y=ls.hsva.exec(v))?{h:y[1],s:y[2],v:y[3],a:y[4]}:(y=ls.hex8.exec(v))?{r:Xo(y[1]),g:Xo(y[2]),b:Xo(y[3]),a:u9(y[4]),format:b?"name":"hex8"}:(y=ls.hex6.exec(v))?{r:Xo(y[1]),g:Xo(y[2]),b:Xo(y[3]),format:b?"name":"hex"}:(y=ls.hex4.exec(v))?{r:Xo(y[1]+""+y[1]),g:Xo(y[2]+""+y[2]),b:Xo(y[3]+""+y[3]),a:u9(y[4]+""+y[4]),format:b?"name":"hex8"}:!!(y=ls.hex3.exec(v))&&{r:Xo(y[1]+""+y[1]),g:Xo(y[2]+""+y[2]),b:Xo(y[3]+""+y[3]),format:b?"name":"hex"}}(n)),ZS(n)=="object"&&(Vl(n.r)&&Vl(n.g)&&Vl(n.b)?(i=n.r,a=n.g,o=n.b,u={r:255*qn(i,255),g:255*qn(a,255),b:255*qn(o,255)},h=!0,d=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Vl(n.h)&&Vl(n.s)&&Vl(n.v)?(l=O0(n.s),c=O0(n.v),u=function(v,y,b){v=6*qn(v,360),y=qn(y,100),b=qn(b,100);var p=Math.floor(v),m=v-p,g=b*(1-y),_=b*(1-m*y),E=b*(1-(1-m)*y),T=p%6;return{r:255*[b,_,g,g,E,b][T],g:255*[E,b,b,_,g,g][T],b:255*[g,g,E,b,b,_][T]}}(n.h,l,c),h=!0,d="hsv"):Vl(n.h)&&Vl(n.s)&&Vl(n.l)&&(l=O0(n.s),f=O0(n.l),u=function(v,y,b){var p,m,g;function _(w,S,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?w+6*(S-w)*C:C<.5?S:C<2/3?w+(S-w)*(2/3-C)*6:w}if(v=qn(v,360),y=qn(y,100),b=qn(b,100),y===0)p=m=g=b;else{var E=b<.5?b*(1+y):b+y-b*y,T=2*b-E;p=_(T,E,v+1/3),m=_(T,E,v),g=_(T,E,v-1/3)}return{r:255*p,g:255*m,b:255*g}}(n.h,l,f),h=!0,d="hsl"),n.hasOwnProperty("a")&&(s=n.a)),s=d$(s),{ok:h,format:n.format||d,r:Math.min(255,Math.max(u.r,0)),g:Math.min(255,Math.max(u.g,0)),b:Math.min(255,Math.max(u.b,0)),a:s}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function r9(t,e,r){t=qn(t,255),e=qn(e,255),r=qn(r,255);var n,i,a=Math.max(t,e,r),o=Math.min(t,e,r),u=(a+o)/2;if(a==o)n=i=0;else{var s=a-o;switch(i=u>.5?s/(2-a-o):s/(a+o),a){case t:n=(e-r)/s+(e<r?6:0);break;case e:n=(r-t)/s+2;break;case r:n=(t-e)/s+4}n/=6}return{h:n,s:i,l:u}}function n9(t,e,r){t=qn(t,255),e=qn(e,255),r=qn(r,255);var n,i,a=Math.max(t,e,r),o=Math.min(t,e,r),u=a,s=a-o;if(i=a===0?0:s/a,a==o)n=0;else{switch(a){case t:n=(e-r)/s+(e<r?6:0);break;case e:n=(r-t)/s+2;break;case r:n=(t-e)/s+4}n/=6}return{h:n,s:i,v:u}}function i9(t,e,r,n){var i=[gs(Math.round(t).toString(16)),gs(Math.round(e).toString(16)),gs(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a9(t,e,r,n){return[gs(v$(n)),gs(Math.round(t).toString(16)),gs(Math.round(e).toString(16)),gs(Math.round(r).toString(16))].join("")}function hbe(t,e){e=e===0?0:e||10;var r=Ct(t).toHsl();return r.s-=e/100,r.s=mT(r.s),Ct(r)}function dbe(t,e){e=e===0?0:e||10;var r=Ct(t).toHsl();return r.s+=e/100,r.s=mT(r.s),Ct(r)}function vbe(t){return Ct(t).desaturate(100)}function pbe(t,e){e=e===0?0:e||10;var r=Ct(t).toHsl();return r.l+=e/100,r.l=mT(r.l),Ct(r)}function gbe(t,e){e=e===0?0:e||10;var r=Ct(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-e/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-e/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-e/100*255))),Ct(r)}function ybe(t,e){e=e===0?0:e||10;var r=Ct(t).toHsl();return r.l-=e/100,r.l=mT(r.l),Ct(r)}function mbe(t,e){var r=Ct(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Ct(r)}function bbe(t){var e=Ct(t).toHsl();return e.h=(e.h+180)%360,Ct(e)}function o9(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Ct(t).toHsl(),n=[Ct(t)],i=360/e,a=1;a<e;a++)n.push(Ct({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function _be(t){var e=Ct(t).toHsl(),r=e.h;return[Ct(t),Ct({h:(r+72)%360,s:e.s,l:e.l}),Ct({h:(r+216)%360,s:e.s,l:e.l})]}function wbe(t,e,r){e=e||6,r=r||30;var n=Ct(t).toHsl(),i=360/r,a=[Ct(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(Ct(n));return a}function Ebe(t,e){e=e||6;for(var r=Ct(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],u=1/e;e--;)o.push(Ct({h:n,s:i,v:a})),a=(a+u)%1;return o}Ct.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,r,n=this.toRgb();return t=n.r/255,e=n.g/255,r=n.b/255,.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=d$(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=n9(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=n9(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),n=Math.round(100*t.v);return this._a==1?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=r9(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=r9(this._r,this._g,this._b),e=Math.round(360*t.h),r=Math.round(100*t.s),n=Math.round(100*t.l);return this._a==1?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return i9(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(e,r,n,i,a){var o=[gs(Math.round(e).toString(16)),gs(Math.round(r).toString(16)),gs(Math.round(n).toString(16)),gs(v$(i))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*qn(this._r,255))+"%",g:Math.round(100*qn(this._g,255))+"%",b:Math.round(100*qn(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*qn(this._r,255))+"%, "+Math.round(100*qn(this._g,255))+"%, "+Math.round(100*qn(this._b,255))+"%)":"rgba("+Math.round(100*qn(this._r,255))+"%, "+Math.round(100*qn(this._g,255))+"%, "+Math.round(100*qn(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(Sbe[i9(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+a9(this._r,this._g,this._b,this._a),r=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var i=Ct(t);r="#"+a9(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0;return e||!n||t!=="hex"&&t!=="hex6"&&t!=="hex3"&&t!=="hex4"&&t!=="hex8"&&t!=="name"?(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),t!=="hex"&&t!=="hex6"||(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString()):t==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return Ct(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(pbe,arguments)},brighten:function(){return this._applyModification(gbe,arguments)},darken:function(){return this._applyModification(ybe,arguments)},desaturate:function(){return this._applyModification(hbe,arguments)},saturate:function(){return this._applyModification(dbe,arguments)},greyscale:function(){return this._applyModification(vbe,arguments)},spin:function(){return this._applyModification(mbe,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(wbe,arguments)},complement:function(){return this._applyCombination(bbe,arguments)},monochromatic:function(){return this._applyCombination(Ebe,arguments)},splitcomplement:function(){return this._applyCombination(_be,arguments)},triad:function(){return this._applyCombination(o9,[3])},tetrad:function(){return this._applyCombination(o9,[4])}},Ct.fromRatio=function(t,e){if(ZS(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=n==="a"?t[n]:O0(t[n]));t=r}return Ct(t,e)},Ct.equals=function(t,e){return!(!t||!e)&&Ct(t).toRgbString()==Ct(e).toRgbString()},Ct.random=function(){return Ct.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Ct.mix=function(t,e,r){r=r===0?0:r||50;var n=Ct(t).toRgb(),i=Ct(e).toRgb(),a=r/100;return Ct({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},Ct.readability=function(t,e){var r=Ct(t),n=Ct(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},Ct.isReadable=function(t,e,r){var n,i,a,o,u,s=Ct.readability(t,e);switch(i=!1,(o=((a=(a=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&o!=="AAA"&&(o="AA"),(u=(a.size||"small").toLowerCase())!=="small"&&u!=="large"&&(u="small"),(n={level:o,size:u}).level+n.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},Ct.mostReadable=function(t,e,r){var n,i,a,o,u=null,s=0;i=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var l=0;l<e.length;l++)(n=Ct.readability(t,e[l]))>s&&(s=n,u=Ct(e[l]));return Ct.isReadable(t,u,{level:a,size:o})||!i?u:(r.includeFallbackColors=!1,Ct.mostReadable(t,["#fff","#000"],r))};var fN=Ct.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Sbe=Ct.hexNames=function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}(fN);function d$(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function qn(t,e){(function(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1})(t)&&(t="100%");var r=function(n){return typeof n=="string"&&n.indexOf("%")!=-1}(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function mT(t){return Math.min(1,Math.max(0,t))}function Xo(t){return parseInt(t,16)}function gs(t){return t.length==1?"0"+t:""+t}function O0(t){return t<=1&&(t=100*t+"%"),t}function v$(t){return Math.round(255*parseFloat(t)).toString(16)}function u9(t){return Xo(t)/255}var df,$w,Kw,ls=($w="[\\s|\\(]+("+(df="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+df+")[,|\\s]+("+df+")\\s*\\)?",Kw="[\\s|\\(]+("+df+")[,|\\s]+("+df+")[,|\\s]+("+df+")[,|\\s]+("+df+")\\s*\\)?",{CSS_UNIT:new RegExp(df),rgb:new RegExp("rgb"+$w),rgba:new RegExp("rgba"+Kw),hsl:new RegExp("hsl"+$w),hsla:new RegExp("hsla"+Kw),hsv:new RegExp("hsv"+$w),hsva:new RegExp("hsva"+Kw),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Vl(t){return!!ls.CSS_UNIT.exec(t)}var Obe=function(t){return Ct.mostReadable(t,[n3,"#FFFFFF"]).toString()},n_=function(t){return h$().get.rgb(t)},Zw=function(t){var e=new ArrayBuffer(4),r=new Uint32Array(e),n=new Uint8Array(e),i=n_(t);return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=255*i[3],r[0]},Qw=function(t){return[(e=n_(t))[0]/255,e[1]/255,e[2]/255];var e},s9={selected:{rings:[{widthFactor:.05,color:UX},{widthFactor:.1,color:FX}],shadow:{width:10,opacity:1,color:BX}},default:{rings:[]}},l9={selected:{rings:[{color:UX,width:2},{color:FX,width:4}],shadow:{width:18,opacity:1,color:BX}},default:{rings:[]}},kD=.75,LD={noPan:!1,outOnly:!1,animated:!0};function ub(t){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function jD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function c9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(r),!0).forEach(function(n){Tbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tbe(t,e,r){return(e=function(n){var i=function(a){if(ub(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,"string");if(ub(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(n);return ub(i)=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p$=function(t){return t.captions&&t.captions.length>0?t.captions:t.caption&&t.caption.length>0?[{value:t.caption}]:[]},vf=function(t,e,r){(0,cn.isNil)(t)||(function(n){return typeof n=="string"&&n_(n)!==null}(t)?e(t):VX().warn("Invalid color string for ".concat(r,":"),t))};function sb(t){return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(t)}function f9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function Nd(t,e,r){return(e=g$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=function(r){if(sb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(sb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return sb(e)=="symbol"?e:e+""}var bT=function(t,e){return(0,cn.isFinite)(t.x)&&(0,cn.isFinite)(t.y)&&(0,cn.isFinite)(e.x)&&(0,cn.isFinite)(e.y)},Jw=function(t,e){if(t===void 0||e===void 0||!bT(t,e))return!1;var r=e.x-t.x,n=e.y-t.y,i=On();return r*r+n*n<100*i*i},Ia=function(){return t=function r(n,i){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,r),Nd(this,"p1",void 0),Nd(this,"p2",void 0),Nd(this,"unit",void 0),Nd(this,"norm",void 0),Nd(this,"length",void 0),Nd(this,"vector",void 0),this.p1=n,this.p2=i,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()},e=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var r=this.vector,n=r.x,i=r.y;return Math.sqrt(n*n+i*i)}},{key:"getUnitVector",value:function(){var r=this.vector,n=this.length;return{x:r.x/n,y:r.y/n}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],e&&xbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),a3=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i=function(l,c){var f=(l.x*c.x+l.y*c.y)/(c.x*c.x+c.y*c.y);return(0,cn.clamp)(f,0,1)}({x:r.x-t.x,y:r.y-t.y},n),a=t.x+i*n.x,o=t.y+i*n.y,u=a-r.x,s=o-r.y;return Math.sqrt(u*u+s*s)},Cbe=function(t,e,r,n){if(e.x===r.x&&e.y===r.y)return e;var i=e.y-t.y,a=t.x-e.x,o=i*t.x+a*t.y,u=n.y-r.y,s=r.x-n.x,l=u*r.x+s*r.y,c=i*s-u*a;return c===0?null:{x:(s*o-a*l)/c,y:(i*l-u*o)/c}},UD=function(t,e,r,n){var i,a,o,u=1e9,s=function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f]!=null?arguments[f]:{};f%2?f9(Object(h),!0).forEach(function(d){Nd(c,d,h[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(h)):f9(Object(h)).forEach(function(d){Object.defineProperty(c,d,Object.getOwnPropertyDescriptor(h,d))})}return c}({},t),l={x:0,y:0};for(a=1;a<10;a++)o=.1*a,l.x=Math.pow(1-o,2)*t.x+2*o*(1-o)*r.x+Math.pow(o,2)*e.x,l.y=Math.pow(1-o,2)*t.y+2*o*(1-o)*r.y+Math.pow(o,2)*e.y,a>0&&(u=(i=a3(s,l,n))<u?i:u),s.x=l.x,s.y=l.y;return u};function lb(t){return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(t)}function t0(t){return function(e){if(Array.isArray(e))return hN(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||y$(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h9(Object(r),!0).forEach(function(n){Abe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Abe(t,e,r){return(e=function(n){var i=function(a){if(lb(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,"string");if(lb(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(n);return lb(i)=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t,e){if(t){if(typeof t=="string")return hN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hN(t,e):void 0}}function hN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var qE="",d9=function(t){return!(!t||!isNaN(Number(t))||t.toLowerCase()===t.toUpperCase())&&t===t.toUpperCase()},Rbe=function(t){var e=t[t.length-1],r=t[t.length-2];return!(!e||!isNaN(Number(e))||e.toLowerCase()===e.toUpperCase())&&!(!r||!isNaN(Number(r))||r.toLowerCase()===r.toUpperCase())&&d9(e)&&!d9(r)},Pbe=function(t){return` 	
\r\v`.includes(t)},dN=function(t,e,r,n){for(var i,a=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=[],u=[],s=0,l=0,c=!1,f=!1,h=0;h<n;h++)o[h]=r(h,n);for(var d,v=function(){i=t.slice(s,y);var b,p=e(i),m=o[l];if(p>m||(b=t[y-1],`
\r\v`.includes(b))){if(!(l<n-1)){if(a)return{v:[]};for(var g=y,_=function(){return t[g-1]};p>m;){for(g-=1;Pbe(_());)g-=1;if(!(g-s>1)){i="",f=!0,c=!1;break}i=t.slice(s,g),p=e(i),f=!0,c=!1}return u[l]={text:i,hasEllipsisChar:f,hasHyphenChar:c},{v:u}}c=!1,f=!1;var E=function(w){var S=w.length,C=Math.min(S-1,3);if(S===1)return{hyphen:!1,cnt:0};for(var R=0;R<C;R++){var D=w[w.length-(R+1)];if(D===" "||D.toLowerCase()===D.toUpperCase())return{hyphen:!1,cnt:R+1};var M=w.slice(0,w.length-R);if(Rbe(M))return{hyphen:!1,cnt:R+1}}return{hyphen:!0,cnt:1}}(i),T=y-E.cnt;if(E.hyphen)for(i=t.slice(s,T),p=e(i),c=!0;p>m;){if(!(T-s>1)){i=t[s],T=s+1,p=e(i),c=!1;break}T-=1,i=t.slice(s,T),p=e(i),c=!0}else i=(i=t.slice(s,T)).trim();u[l]={text:i,hasEllipsisChar:f,hasHyphenChar:c},s=T,l+=1}},y=1;y<=t.length;y++)if(d=v())return d.v;return i=t.slice(s,t.length),u[l]={text:i,hasEllipsisChar:f,hasHyphenChar:!1},u},m$=function(){var t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce(function(e,r,n){var i=r.value;if(i){var a="".concat(n>0&&e.length?", ":"").concat(i);return[].concat(t0(e),[QS(QS({},r),{},{value:a,chars:a.split("").map(function(o,u){var s,l;return n!==0&&e.length?u<2?null:t0((s=r.styles)!==null&&s!==void 0?s:[]):t0((l=r.styles)!==null&&l!==void 0?l:[])})})])}return e},[]);return{stylesPerChar:t.reduce(function(e,r){return[].concat(t0(e),t0(r.chars))},[]),fullCaption:t.map(function(e){return e.value}).join("")}};function FD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Dbe=[[.04,1],[100,2]],GE=[[.8,1.1],[3,1.6],[8,2.5]],Mbe=[[GE[0][0],1],[100,1.25]],Od=function(t,e){if(t.includes("rgba"))return t;if(t.includes("rgb")){var r=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(r[0],",").concat(r[1],",").concat(r[2],",").concat(e,")")}var n=h$().get.rgb(t);return n===null?t:"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(e,")")},pf=function(t,e,r,n){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=arguments.length>5&&arguments[5]!==void 0&&arguments[5],o=n.headPosition,u=n.headAngle,s=n.headHeight,l=n.headChinHeight,c=n.headWidth,f=Math.cos(u),h=Math.sin(u),d=function(b,p){return{x:o.x+b*f-p*h,y:o.y+b*h+p*f}},v=[d(l-s,0),d(-s,c/2),d(0,0),d(-s,-c/2)],y={lineWidth:t.lineWidth,strokeStyle:t.strokeStyle,fillStyle:t.fillStyle};t.lineWidth=e,t.strokeStyle=r,t.fillStyle=r,function(b,p,m,g){if(b.beginPath(),p.length>0){var _=p[0];b.moveTo(_.x,_.y)}for(var E=1;E<p.length;E++){var T=p[E];b.lineTo(T.x,T.y)}b.closePath(),m&&b.fill(),g&&b.stroke()}(t,v,i,a),t.lineWidth=y.lineWidth,t.strokeStyle=y.strokeStyle,t.fillStyle=y.fillStyle},Ibe=function(t,e,r,n,i){var a=n;i.forEach(function(o){var u=o.width,s=o.color,l=a+u;t.beginPath(),t.fillStyle=s,t.arc(e,r,l,0,2*Math.PI,!1),t.arc(e,r,a,2*Math.PI,0,!0),t.fill(),t.closePath(),a=l})},b$=function(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()},v9=function(t,e,r,n,i){t.beginPath(),t.fillStyle=n,b$(t,e,r,i),t.fill(),t.closePath()};function zD(t,e){var r=e.find(function(i){return t<i[0]}),n=e[e.length-1][1];return r!==void 0?r[1]:n}var ng=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},_$=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},Wp=function(t,e){return{x:t.x*e,y:t.y*e}},Nbe=function(t,e){return t.x*e.x+t.y*e.y},T0=function(t,e){return function(r){return Math.sqrt(r.x*r.x+r.y*r.y)}(_$(t,e))},p9=function(t,e){return{x:Math.cos(t)*e,y:Math.sin(t)*e}};function w$(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return g9(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?g9(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function g9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var VE=2*Math.PI,qf=Math.PI/2,y9=function(t,e,r,n,i,a){var o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:t.x,y:t.y},s={x:e.x,y:e.y},l=new Ia(s,u),c=function(h,d){var v=0;return h&&(v+=h),d&&(v-=d),v}(n,r);o.x+=c/2*l.unit.x,o.y+=c/2*l.unit.y;var f=a.size()/2-a.indexOf(i);return o.x+=f*l.unit.x,o.y+=f*l.unit.y,o},vN=function(t){var e=On(),r=t.size,n=t.selected;return((r??bi)+4+(n===!0?4:0))*e},eE=function(t,e){var r=On();t.shadowColor=e.color,t.shadowBlur=e.width*r,t.shadowOffsetX=0,t.shadowOffsetY=0},tE=function(t){t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0},o3=function(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0&&arguments[5],o=function(U){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1],B=U.norm.x,z=U.norm.y;return F?{x:-B,y:-z}:U.norm},u=On(),s=e.indexOf(t),l=(e.size()-1)/2,c=s>l,f=Math.abs(s-l),h=i?17*e.maxFontSize():8,d=(e.size()-1)*h*u,v=function(U,F,B,z,H,Y,W){var Z,le=arguments.length>7&&arguments[7]!==void 0&&arguments[7],ce=On(),ue=U.size(),de=ue>1,he=U.relIsOppositeDirection(Y),fe=he?B:F,te=he?F:B,Q=U.waypointPath,ee=Q==null?void 0:Q.points,ae=Q==null?void 0:Q.from,pe=Q==null?void 0:Q.to,_e=Jw(fe,ae)&&Jw(te,pe)||Jw(te,ae)&&Jw(fe,pe),Te=_e?ee[1]:null,Ae=_e?ee[ee.length-2]:null,be=vN(fe),j=vN(te),G=function(wt,mt){return Math.atan2(wt.y-mt.y,wt.x-mt.x)},X=Math.max(Math.PI,VE/(ue/2)),ie=de?z*X*(W?1:-1)/((Z=fe.size)!==null&&Z!==void 0?Z:bi):0,ve=G(_e?Te:te,fe),ge=_e?G(te,Ae):ve,Oe=function(wt,mt,ir,Bt){return{x:wt.x+Math.cos(mt)*ir*(Bt?-1:1),y:wt.y+Math.sin(mt)*ir*(Bt?-1:1)}},Le=function(wt,mt){return Oe(fe,ve+wt,mt,!1)},We=function(wt,mt){return Oe(te,ge-wt,mt,!0)},ut=function(wt,mt){return{x:wt.x+(mt.x-wt.x)/2,y:wt.y+(mt.y-wt.y)/2}},Ze=function(wt,mt){return Math.sqrt((wt.x-mt.x)*(wt.x-mt.x)+(wt.y-mt.y)*(wt.y-mt.y))*ce},tt=Le(ie,be),Qe=We(ie,j),$e=de?Le(0,be):null,Ie=de?We(0,j):null,re=200*ce,Ee=[];if(_e){var Pe=Ze(tt,Te)<re;if(de&&!Pe){var Me=ut($e,Te);Ee.push(new Ia(tt,Me)),Ee.push(new Ia(Me,Te))}else Ee.push(new Ia(tt,Te));for(var Ne=2;Ne<ee.length-1;Ne++)Ee.push(new Ia(ee[Ne-1],ee[Ne]));var at=Ze(Qe,Ae)<re;if(de&&!at){var je=ut(Ie,Ae);Ee.push(new Ia(Ae,je)),Ee.push(new Ia(je,Qe))}else Ee.push(new Ia(Ae,Qe))}else{var ft=de?Ze($e,Ie):0;if(de&&ft>2*(30*ce+Math.min(be,j)))if(le){var nt=y9(fe,te,be,j,Y,U);Ee.push(new Ia(tt,nt)),Ee.push(new Ia(nt,Qe))}else{var vt=z*H,Mt=30+be,Rt=Math.sqrt(Mt*Mt+vt*vt),lt=30+j,It=Math.sqrt(lt*lt+vt*vt),rt=Le(0,Rt),Lt=We(0,It);Ee.push(new Ia(tt,rt)),Ee.push(new Ia(rt,Lt)),Ee.push(new Ia(Lt,Qe))}else if(ft>(be+j)/2){var Gt=y9(fe,te,be,j,Y,U);Ee.push(new Ia(tt,Gt)),Ee.push(new Ia(Gt,Qe))}else Ee.push(new Ia(tt,Qe))}return Ee}(e,r,n,f,h,t,c,a),y=[],b=v[0],p=o(b,c);y.push({x:b.p1.x+p.x,y:b.p1.y+p.y});for(var m=1;m<v.length;m++)if(e.size()===1)y.push(v[m-1].p2);else{var g=v[m-1],_=v[m],E=o(g,c),T=o(_,c),w=ng(g.p1,Wp(E,d/2)),S=ng(g.p2,Wp(E,d/2)),C=ng(_.p1,Wp(T,d/2)),R=ng(_.p2,Wp(T,d/2)),D=null;Nbe(E,T)<.99&&(D=Cbe(w,S,C,R));var M=D!==null?_$(D,g.p2):Wp(E,d/2);y.push(ng(g.p2,Wp(M,f/l)))}var I=v[v.length-1],k=o(I,c);return y.push({x:I.p2.x+k.x,y:I.p2.y+k.y}),e.relIsOppositeDirection(t)?y.reverse():y},m9=function(t,e,r,n,i,a,o,u){var s,l=arguments.length>8&&arguments[8]!==void 0&&arguments[8],c=On(),f=i.selected,h=i.width,d=i.disabled,v=i.captionAlign,y=v===void 0?"top":v,b=i.captionSize,p=b===void 0?1:b,m=p$(i),g=m.length>0?(s=m$(m))===null||s===void 0?void 0:s.fullCaption:"";if(g!==void 0){var _=6*p*c,E=f===!0?"bold":"normal",T=g;t.fillStyle=d===!0?o.fontColor:u,t.font="".concat(E," ").concat(_,"px ").concat('"Open Sans", sans-serif');var w=function(Z){return t.measureText(Z).width},S=(h??1)*(f===!0?1.5:1),C=w(T);if(C>n){var R=dN(T,w,function(){return n},1,!1)[0];T=R.hasEllipsisChar===!0?"".concat(R.text,"..."):T,C=n}var D=Math.cos(r),M=Math.sin(r),I={x:e.x,y:e.y},k=I.x,U=I.y,F=r;l&&(F=r-qf,k+=2*_*D,U+=2*_*M,F-=qf);var B=(1+p)*c,z=y==="bottom"?_/2+S+B:-(S+B);t.translate(k,U),t.rotate(F),t.fillText(T,-C/2,z),t.rotate(-F),t.translate(-k,-U);var H=2*z*Math.sin(r),Y=2*z*Math.cos(r),W={position:{x:e.x-H,y:e.y+Y},rotation:l?r-Math.PI:r,width:n/c,height:(_+B)/c};a.setLabelInfo(i.id,W)}},rE=function(t,e,r,n,i){if(t.beginPath(),t.moveTo(e[0].x,e[0].y),i&&e.length>2){for(var a=1;a<e.length-2;){var o=(e[a].x+e[a+1].x)/2,u=(e[a].y+e[a+1].y)/2;t.quadraticCurveTo(e[a].x,e[a].y,o,u),a+=1}t.quadraticCurveTo(e[a].x,e[a].y,e[a+1].x,e[a+1].y)}else for(var s=1;s<e.length;s++)t.lineTo(e[s].x,e[s].y);t.lineWidth=r,t.strokeStyle=n,t.lineCap="round",t.stroke()},qD=function(t){return t.rings[0].width*On()*1.5},b9=function(t){return 6*t*On()},_9=function(t,e,r){var n,i;return{widthAlign:e/2*((n=t[0])!==null&&n!==void 0?n:0),heightAlign:r/2*((i=t[1])!==null&&i!==void 0?i:0)}},u3=function(t,e,r){var n,i,a=r.indexOf(t),o=(n=r.angles[a])!==null&&n!==void 0?n:0,u=o-Qz/2,s=o+Qz/2,l=(i=t.width)!==null&&i!==void 0?i:1,c=On(),f=vN(e),h={x:e.x+Math.cos(u)*(f+l/2),y:e.y+Math.sin(u)*(f+l/2)},d={x:e.x+Math.cos(s)*(f+l/2),y:e.y+Math.sin(s)*(f+l/2)},v={x:e.x+Math.cos(o)*(f+35*c),y:e.y+Math.sin(o)*(f+35*c)};return{startAngle:u,endAngle:s,startPoint:h,endPoint:d,apexPoint:v,control1Point:{x:v.x+25*Math.cos(o-qf)*c/2,y:v.y+25*Math.sin(o-qf)*c/2},control2Point:{x:v.x+25*Math.cos(o+qf)*c/2,y:v.y+25*Math.sin(o+qf)*c/2}}},nE=function(t,e,r,n,i,a){t.beginPath(),t.moveTo(e.x,e.y),t.quadraticCurveTo(i.x,i.y,n.x,n.y),t.quadraticCurveTo(a.x,a.y,r.x,r.y),t.stroke()},kbe=function(t,e,r,n,i,a,o,u,s,l){var c=!(arguments.length>10&&arguments[10]!==void 0)||arguments[10];bT(r,n)&&(r.id===n.id?function(f,h,d,v,y,b,p,m){var g=arguments.length>8&&arguments[8]!==void 0?arguments[8]:Kz,_=h.overlayIcon,E=h.selected,T=h.width,w=h.hovered,S=h.disabled,C=h.color,R=u3(h,d,v),D=R.startPoint,M=R.endPoint,I=R.apexPoint,k=R.control1Point,U=R.control2Point,F=p.rings,B=p.shadow,z=On(),H=F[0].color,Y=F[1].color,W=F[0].width*z,Z=F[1].width*z,le=40*z,ce=(T??1)*z,ue=ce>1?ce/2:1,de=9*ue,he=2*ue,fe=7*ue,te=E===!0,Q=S===!0,ee=_!==void 0,ae=Math.atan2(M.y-U.y,M.x-U.x),pe=te?W*Math.sqrt(1+2*de/fe*(2*de/fe)):0,_e={x:M.x-Math.cos(ae)*(.5*de-he+pe),y:M.y-Math.sin(ae)*(.5*de-he+pe)},Te={headPosition:{x:M.x+Math.cos(ae)*(.5*de-he-pe),y:M.y+Math.sin(ae)*(.5*de-he-pe)},headAngle:ae,headHeight:de,headChinHeight:he,headWidth:fe};if(f.save(),f.lineCap="round",te&&(eE(f,B),f.lineWidth=ce+Z,f.strokeStyle=Y,nE(f,D,_e,I,k,U),pf(f,Z,Y,Te,!1,!0),tE(f),f.lineWidth=ce+W,f.strokeStyle=H,nE(f,D,_e,I,k,U),pf(f,W,H,Te,!1,!0)),f.lineWidth=ce,w===!0&&!te&&!Q){var Ae=B.color;eE(f,B),f.strokeStyle=Ae,f.fillStyle=Ae,nE(f,D,_e,I,k,U),pf(f,ce,Ae,Te),tE(f)}var be=Q?m.color:C??g;if(f.fillStyle=be,f.strokeStyle=be,nE(f,D,_e,I,k,U),pf(f,ce,be,Te),b||ee){var j,G=v.indexOf(h),X=(j=v.angles[G])!==null&&j!==void 0?j:0,ie=I.x-Math.cos(ae)*(pe/4),ve=I.y-Math.sin(ae)*(pe/4),ge=(X+qf)%VE,Oe=(X+VE)%VE<Math.PI;if(b&&m9(f,{x:ie,y:ve},ge,le,h,v,m,g,Oe),ee){var Le=_.position,We=Le===void 0?[0,0]:Le,ut=_.url,Ze=_.size,tt=b9(Ze===void 0?1:Ze),Qe=_9(We,le,tt),$e=Qe.widthAlign,Ie=Qe.heightAlign+(te?qD(p):0)*(We[1]<0?-1:1);f.save(),f.translate(ie,ve),Oe?(f.rotate(ge-Math.PI),f.translate(2*-$e,2*-Ie)):f.rotate(ge);var re=tt/2,Ee=-re+$e,Pe=-re+Ie;f.drawImage(y.getImage(ut),Ee,Pe,tt,tt),f.restore()}}f.restore()}(t,e,r,i,a,o,u,s,l):function(f,h,d,v,y,b,p,m,g,_){var E=arguments.length>10&&arguments[10]!==void 0?arguments[10]:Kz,T=h.overlayIcon,w=h.color,S=h.disabled,C=h.selected,R=h.width,D=h.hovered,M=h.captionAlign,I=C===!0,k=S===!0,U=T!==void 0,F=g.rings,B=g.shadow,z=o3(h,y,d,v,p,m),H=On(),Y=function(Qt){var fr,Mr=Qt.selected===!0?1.5:1;return((fr=Qt.width)!==null&&fr!==void 0?fr:1)*Mr*On()}(h),W=k?_.color:w??E,Z=F[0].width*H,le=F[1].width*H,ce=H*(R>1?R/2:1),ue=9*ce,de=2*ce,he=7*ce,fe=T0(z[z.length-2],z[z.length-1]),te=2*ue,Q=I?Z*Math.sqrt(1+te/he*(te/he)):0,ee=2-Q,ae=Math.floor(z.length/2);z.length>2&&I&&fe<ue+Q-de&&(ee+=fe,Q-=fe/2+de,z.pop(),ae=Math.floor(z.length/2));var pe,_e,Te=z[z.length-2],Ae=z[z.length-1],be=(pe=Te,_e=Ae,Math.atan2(_e.y-pe.y,_e.x-pe.x)),j=ue/2+Q,G=Math.cos(be),X=Math.sin(be);z[z.length-1]={x:Ae.x-G*j,y:Ae.y-X*j};var ie,ve={headPosition:{x:Ae.x+G*ee,y:Ae.y+X*ee},headAngle:be,headHeight:ue,headChinHeight:de,headWidth:he},ge=w$(z);try{for(ge.s();!(ie=ge.n()).done;){var Oe=ie.value;Oe.x=Math.round(Oe.x),Oe.y=Math.round(Oe.y)}}catch(Qt){ge.e(Qt)}finally{ge.f()}if(f.save(),I){var Le=F[0].color,We=F[1].color,ut=Math.atan2(z[1].y-z[0].y,z[1].x-z[0].x),Ze=p9(ut,qD(g));z[0]=ng(z[0],Ze),eE(f,B),rE(f,z,Y+le,We,m),pf(f,le,We,ve,!1,!0),tE(f),rE(f,z,Y+Z,Le,m),pf(f,Z,Le,ve,!1,!0)}if(D===!0&&!I&&!k){var tt=B.color;eE(f,B),rE(f,z,Y,tt,m),pf(f,Y,tt,ve),tE(f)}if(rE(f,z,Y,W,m),pf(f,Y,W,ve),p||U){var Qe,$e,Ie,re,Ee,Pe=d.x>v.x,Me=z[ae];1&~z.length?(Qe=z[Pe?ae:ae-1],$e=z[Pe?ae-1:ae],Ie=(Qe.x+$e.x)/2,re=(Qe.y+$e.y)/2,Ee=Math.atan2($e.y-Qe.y,$e.x-Qe.x)):(Qe=z[Pe?ae+1:ae-1],$e=z[Pe?ae-1:ae+1],m?(Ie=(Me.x+(Qe.x+$e.x)/2)/2,re=(Me.y+(Qe.y+$e.y)/2)/2,Ee=Pe?Math.atan2(d.y-v.y,d.x-v.x):Math.atan2(v.y-d.y,v.x-d.x)):(T0(Me,Qe)>T0(Me,$e)?$e=Me:Qe=Me,Ie=(Qe.x+$e.x)/2,re=(Qe.y+$e.y)/2,Ee=Math.atan2($e.y-Qe.y,$e.x-Qe.x)));var Ne=I?p9(Ee+qf,qD(g)):{x:0,y:0},at=T0(Qe,$e);if(p){var je=M==="bottom"?1:-1,ft={x:Ie+Ne.x*je,y:re+Ne.y*je};m9(f,ft,Ee,at,h,y,_,E)}if(U){var nt=T.position,vt=nt===void 0?[0,0]:nt,Mt=T.url,Rt=T.size,lt=b9(Rt===void 0?1:Rt),It=_9(vt,at,lt),rt=It.widthAlign,Lt=It.heightAlign,Gt=vt[1]<0?-1:1,wt=Ne.x*Gt,mt=Ne.y*Gt,ir=lt/2;f.translate(Ie,re),f.rotate(Ee);var Bt=-ir+wt+rt,ar=-ir+mt+Lt;f.drawImage(b.getImage(Mt),Bt,ar,lt,lt),f.rotate(-Ee),f.translate(-Ie,-re)}}f.restore()}(t,e,r,n,i,a,o,c,u,s,l))},Lbe=function(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=arguments.length>5&&arguments[5]!==void 0&&arguments[5];return bT(r,n)?r.id===n.id?function(o,u,s){for(var l=u3(o,u,s),c={left:1/0,top:1/0,right:-1/0,bottom:-1/0},f=["startPoint","endPoint","apexPoint","control1Point","control2Point"],h=0;h<f.length;h++){var d=l[f[h]],v=d.x,y=d.y;v<c.left&&(c.left=v),v>c.right&&(c.right=v),y<c.top&&(c.top=y),y>c.bottom&&(c.bottom=y)}return c}(t,r,e):function(o,u,s,l,c,f){var h,d={left:1/0,top:1/0,right:-1/0,bottom:-1/0},v=w$(o3(o,u,s,l,c,f));try{for(v.s();!(h=v.n()).done;){var y=h.value,b=y.x,p=y.y;b<d.left&&(d.left=b),b>d.right&&(d.right=b),p<d.top&&(d.top=p),p>d.bottom&&(d.bottom=p)}}catch(m){v.e(m)}finally{v.f()}return d}(t,e,r,n,i,a):null};function jbe(t,e){return function(r){if(Array.isArray(r))return r}(t)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,o,u,s,l=[],c=!0,f=!1;try{if(u=(i=i.call(r)).next,n!==0)for(;!(c=(a=u.call(i)).done)&&(l.push(a.value),l.length!==n);c=!0);}catch(h){f=!0,o=h}finally{try{if(!c&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(f)throw o}}return l}}(t,e)||function(r,n){if(r){if(typeof r=="string")return w9(r,n);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?w9(r,n):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Bbe=function(t){var e=t.x,r=e===void 0?0:e,n=t.y,i=n===void 0?0:n,a=t.size,o=a===void 0?bi:a;return{top:i-o,left:r-o,right:r+o,bottom:i+o}},Ube=function(t,e,r,n,i,a){var o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:kX,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,s=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,l=e.x,c=l===void 0?0:l,f=e.y,h=f===void 0?0:f,d=e.size,v=d===void 0?bi:d,y=e.captionAlign,b=y===void 0?"center":y,p=e.captionSize,m=p===void 0?1:p,g=e.disabled,_=e.activated,E=e.selected,T=e.hovered,w=e.id,S=e.icon,C=e.overlayIcon,R=p$(e),D=On(),M=function(rt,Lt,Gt){var wt=rt.selected?Gt.selected.rings:Gt.default.rings;if(!wt.length){var mt=Lt.getById(rt.id);return mt!==void 0&&Object.entries(mt).forEach(function(ir){var Bt=jbe(ir,2),ar=Bt[0],Qt=Bt[1];ar.startsWith("ring-")&&Qt.setEndValue(0)}),[{width:0,color:""}]}return wt.map(function(ir,Bt){var ar=ir.widthFactor,Qt=ir.color,fr=(rt.size||bi)*ar*On();return{width:Lt.getValueForAnimationName(rt.id,"ring-".concat(Bt),fr),color:Qt}})}(e,n,i),I=M.reduce(function(rt,Lt){return rt+Lt.width},0),k=v*D,U=2*k,F=function(rt,Lt){if(!rt||!Lt)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var Gt=On(),wt=1600*Gt*(1200*Gt),mt=Math.pow(rt,2)*Math.PI*Math.pow(Lt,2)/(wt/100);return{nodeInfoLevel:zD(mt,Dbe),fontInfoLevel:zD(mt,GE),iconInfoLevel:zD(mt,Mbe)}}(k,s),B=F.nodeInfoLevel,z=F.fontInfoLevel,H=F.iconInfoLevel,Y=e.color||o,W=function(rt){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi)/({1:3.5,2:2.75,3:2}[arguments.length>2&&arguments[2]!==void 0?arguments[2]:1]+(arguments.length>3&&arguments[3]!==void 0&&arguments[3]?1:0))/rt}(z,k,m,!!S),Z=Obe(Y),le=k;if(I>0&&(le=k+I),g)Y=a.color,Z=a.fontColor;else{var ce;if(_){var ue=Date.now()%1e3/1e3,de=ue<.7?ue/.7:0,he=Od(Y,.4-.4*de);v9(t,c,h,he,k+.88*k*de)}var fe=(ce=i.selected.shadow)!==null&&ce!==void 0?ce:{width:0,opacity:0,color:""},te=fe.width*D,Q=fe.opacity,ee=fe.color,ae=E||T?te:0,pe=n.getValueForAnimationName(w,"shadowWidth",ae);pe>0&&function(rt,Lt,Gt,wt,mt,ir){var Bt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,ar=mt+ir,Qt=rt.createRadialGradient(Lt,Gt,mt,Lt,Gt,ar);Qt.addColorStop(0,"transparent"),Qt.addColorStop(.01,Od(wt,.5*Bt)),Qt.addColorStop(.05,Od(wt,.5*Bt)),Qt.addColorStop(.5,Od(wt,.12*Bt)),Qt.addColorStop(.75,Od(wt,.03*Bt)),Qt.addColorStop(1,Od(wt,0)),rt.fillStyle=Qt,b$(rt,Lt,Gt,ar),rt.fill()}(t,c,h,ee,le,pe,Q)}v9(t,c,h,Y,k),I>0&&Ibe(t,c,h,k,M);var _e=!!R.length,Te=!!S;if(S){var Ae=B<2||!_e,be=B>0?1:0,j=Ae?1*k:.75*k;j/=H;var G=Ae?.5*j:j*(H===1?b==="center"?1.3:b==="bottom"||Ae?1.1:0:b==="center"?1.35:b==="bottom"||Ae?1.1:0),X=j/2;j=n.getValueForAnimationName(w,"iconSize",j),X=n.getValueForAnimationName(w,"iconXPos",X),G=n.getValueForAnimationName(w,"iconYPos",G);var ie=t.globalAlpha,ve=g?.1:be;t.globalAlpha=n.getValueForAnimationName(w,"iconOpacity",ve);var ge=Z==="#ffffff",Oe=r.getImage(S,ge);t.drawImage(Oe,c-X,h-G,Math.floor(j),Math.floor(j)),t.globalAlpha=ie}if(C!==void 0){var Le,We,ut,Ze,tt,Qe=U*((Le=C.size)!==null&&Le!==void 0?Le:1),$e=Qe/2-k*((We=(ut=C.position)===null||ut===void 0?void 0:ut[1])!==null&&We!==void 0?We:0),Ie=Qe/2-k*((Ze=(tt=C.position)===null||tt===void 0?void 0:tt[0])!==null&&Ze!==void 0?Ze:0),re=t.globalAlpha,Ee=g?.1:1;t.globalAlpha=n.getValueForAnimationName(w,"iconOpacity",Ee);var Pe=r.getImage(C.url);t.drawImage(Pe,c-Ie,h-$e,Qe,Qe),t.globalAlpha=re}if(_e){var Me=B<2?0:1,Ne=n.getValueForAnimationName(w,"textOpacity",Me,0);if(Ne>0){var at,je,ft='"Open Sans", sans-serif',nt=2;z===((at=GE[1])===null||at===void 0?void 0:at[1])?nt=3:z===((je=GE[2])===null||je===void 0?void 0:je[1])&&(nt=4);var vt=b==="center"?.7*U:2*Math.sqrt(Math.pow(U/2,2)-Math.pow(U/3,2));if(t.fillStyle=Od(Z,Ne),_e){var Mt=m$(R),Rt=Mt.stylesPerChar,lt=function(rt,Lt,Gt,wt,mt,ir,Bt){var ar=function(pn){return/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(pn)}(Lt)?Lt.split("").reverse().join(""):Lt;rt.font="bold ".concat(wt,"px ").concat(Gt).replace(/"/g,"");for(var Qt=function(pn){var bt;return(bt=rt.measureText(pn))===null||bt===void 0?void 0:bt.width},fr=ir?(Bt<4?["",""]:[""]).length:0,Mr=function(pn,bt){return function(rr,Er,Ir){var $r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"top",Nr=.98*Ir,bn=.89*Ir,Cr=.95*Ir;return Er===1?Nr:Er===2?Cr:Er===3&&$r==="top"?rr===0||rr===2?bn:Nr:Er===4&&$r==="top"?rr===0||rr===3?.78*Ir:Cr:Er===5&&$r==="top"?rr===0||rr===4?.65*Ir:rr===1||rr===3?bn:Cr:Nr}(pn+fr,bt+fr,mt)},Xr=1,vn=[],Pi=function(){if((vn=function(bt,rr,Er,Ir){var $r,Nr=bt.split(/\s/g).filter(function(Vt){return Vt.length>0}),bn=[],Cr=null,zi=function(Vt){return rr(Vt)>Er(bn.length,Ir)},_i=function(Vt){var $t=typeof Symbol<"u"&&Vt[Symbol.iterator]||Vt["@@iterator"];if(!$t){if(Array.isArray(Vt)||($t=y$(Vt))){$t&&(Vt=$t);var Do=0,Mo=function(){};return{s:Mo,n:function(){return Do>=Vt.length?{done:!0}:{done:!1,value:Vt[Do++]}},e:function(Kr){throw Kr},f:Mo}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Os,si=!0,Io=!1;return{s:function(){$t=$t.call(Vt)},n:function(){var Kr=$t.next();return si=Kr.done,Kr},e:function(Kr){Io=!0,Os=Kr},f:function(){try{si||$t.return==null||$t.return()}finally{if(Io)throw Os}}}}(Nr);try{for(_i.s();!($r=_i.n()).done;){var Oa=$r.value,cu=Cr?"".concat(Cr," ").concat(Oa):Oa;if(rr(cu)<Er(bn.length,Ir))Cr=cu;else{if(Cr!==null){var Xu=zi(Cr);bn.push({text:Cr,overflowed:Xu})}if(Cr=Oa,bn.length>Ir)return[]}}}catch(Vt){_i.e(Vt)}finally{_i.f()}if(Cr){var Ta=zi(Cr);bn.push({text:Cr,overflowed:Ta})}return bn.length<=Ir?bn:[]}(ar,Qt,Mr,Xr)).length===0)vn=dN(ar,Qt,Mr,Xr,Bt>Xr);else if(vn.some(function(bt){return bt.overflowed})){var pn=Xr;vn=vn.reduce(function(bt,rr){var Er=Bt-bt.length;if(Er===0){var Ir=bt[bt.length-1];return Ir.text.endsWith(qE)||(Qt(Ir.text)+Qt(qE)>Mr(bt.length,pn)?(bt[bt.length-1].text=Ir.text.slice(0,-2),bt[bt.length-1].hasEllipsisChar=!0):(bt[bt.length-1].text=Ir.text,bt[bt.length-1].hasEllipsisChar=!0)),bt}if(rr.overflowed){var $r=dN(rr.text,Qt,Mr,Er);bt=bt.concat($r)}else bt.push({text:rr.text,hasEllipsisChar:!1,hasHyphenChar:!1});return bt},[])}else vn=vn.map(function(bt){return QS(QS({},bt),{},{hasEllipsisChar:!1,hasHyphenChar:!1})});Xr+=1};vn.length===0;)Pi();return Array.from(vn)}(t,Mt.fullCaption,ft,W,vt,Te,nt,e==null||e.captionAlign),It=-(lt.length-2)*W/2;(function(rt,Lt,Gt,wt,mt,ir,Bt,ar,Qt,fr){var Mr=wt,Xr=0,vn=0,Pi="".concat(mt,"px ").concat(ir),pn="normal ".concat(Pi);Lt.forEach(function(bt){var rr;rt.font=pn;var Er,Ir=-((rr=rt.measureText(bt.text))===null||rr===void 0?void 0:rr.width)/2,$r=bt.text?function(Nr){if(Array.isArray(Nr))return FD(Nr)}(Er=bt.text)||function(Nr){if(typeof Symbol<"u"&&Nr[Symbol.iterator]!=null||Nr["@@iterator"]!=null)return Array.from(Nr)}(Er)||function(Nr,bn){if(Nr){if(typeof Nr=="string")return FD(Nr,bn);var Cr={}.toString.call(Nr).slice(8,-1);return Cr==="Object"&&Nr.constructor&&(Cr=Nr.constructor.name),Cr==="Map"||Cr==="Set"?Array.from(Nr):Cr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Cr)?FD(Nr,bn):void 0}}(Er)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():[];bt.hasHyphenChar||bt.hasEllipsisChar||$r.push(" "),$r.forEach(function(Nr){var bn,Cr=rt.measureText(Nr).width,zi=(bn=Gt[vn])!==null&&bn!==void 0?bn:[],_i=zi.includes("bold"),Oa=zi.includes("italic");rt.font=_i&&Oa?"italic 600 ".concat(Pi):Oa?"italic 400 ".concat(Pi):_i?"bold ".concat(Pi):pn,zi.includes("underline")&&rt.fillRect(ar+Ir+Xr,Qt+Mr+.2,Cr,.2),bt.hasEllipsisChar?rt.fillText(Nr,ar+Ir+Xr-fr/2,Qt+Mr):rt.fillText(Nr,ar+Ir+Xr,Qt+Mr),Xr+=Cr,vn+=1}),rt.font=pn,bt.hasHyphenChar&&rt.fillText("",ar+Ir+Xr,Qt+Mr),bt.hasEllipsisChar&&rt.fillText(qE,ar+Ir+Xr-fr/2,Qt+Mr),Xr=0,Mr+=Bt})})(t,lt,Rt,b&&b!=="center"?b==="bottom"?It+k/Math.PI:It-k/Math.PI:It,W,ft,W,c,h,u)}}}};function cb(t){return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(t)}function E9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(r),!0).forEach(function(n){Wa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xp(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return S9(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?S9(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function S9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Fbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function Wa(t,e,r){return(e=E$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=function(r){if(cb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(cb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return cb(e)=="symbol"?e:e+""}var gf="canvasRenderer",zbe=function(){return t=function r(n,i,a){var o=this,u=(arguments.length>3&&arguments[3]!==void 0?arguments[3]:{}).relationshipThreshold,s=u===void 0?0:u;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),Wa(this,"arrowBundler",void 0),Wa(this,"activeNodes",void 0),Wa(this,"canvas",void 0),Wa(this,"context",void 0),Wa(this,"state",void 0),Wa(this,"stateDisposers",void 0),Wa(this,"relationshipThreshold",void 0),Wa(this,"animationHandler",void 0),Wa(this,"imageCache",void 0),Wa(this,"needsRun",void 0),Wa(this,"nodeVersion",void 0),Wa(this,"relVersion",void 0),Wa(this,"waypointVersion",void 0),Wa(this,"ellipsisWidth",void 0),i!==null&&(this.activeNodes=new Set,this.canvas=n,this.context=i,this.state=a,this.stateDisposers=[],this.stateDisposers.push(a.autorun(function(){a.zoom!==void 0&&(o.needsRun=!0),a.panX!==void 0&&(o.needsRun=!0),a.panY!==void 0&&(o.needsRun=!0),a.nodes.version!==void 0&&(o.needsRun=!0),a.rels.version!==void 0&&(o.needsRun=!0),a.waypoints.counter>0&&(o.needsRun=!0),a.layout!==void 0&&(o.needsRun=!0)})),a.nodes.addChannel(gf),a.rels.addChannel(gf),this.relationshipThreshold=s,this.nodeVersion=a.nodes.version,this.relVersion=a.rels.version,this.waypointVersion=a.waypoints.counter,this.animationHandler=new J0e,this.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),this.arrowBundler=new sbe(a.rels.items,a.waypoints.data),this.imageCache=new rbe,this.needsRun=!0,this.ellipsisWidth=i.measureText(qE).width)},e=[{key:"needsToRun",value:function(){return this.needsRun||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){var r=this.state,n=!1,i=r.nodes.channels[gf],a=r.rels.channels[gf],o=a.adds,u=a.removes,s=a.updates;this.nodeVersion<r.nodes.version&&(this.handleChannelUpdate(i,r.nodes,!0),this.nodeVersion=r.nodes.version,r.nodes.clearChannel(gf)),this.relVersion<r.rels.version&&(n=Object.keys(o).length>0||Object.keys(u).length>0||Object.keys(s).length>0,r.rels.clearChannel(gf),this.relVersion=r.rels.version),(n||this.waypointVersion<r.waypoints.counter)&&(this.arrowBundler.updateData(o,u,s,r.waypoints.data),this.waypointVersion=r.waypoints.counter)}},{key:"render",value:function(r){var n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.state,u=this.animationHandler,s=this.arrowBundler,l=o.zoom,c=o.layout,f=o.nodes.idToPosition,h=(n=a.canvas)!==null&&n!==void 0?n:this.canvas,d=(i=a.context)!==null&&i!==void 0?i:this.context,v=On(),y=h.clientWidth*v,b=h.clientHeight*v;d.save(),a.backgroundColor!==void 0?(d.fillStyle=a.backgroundColor,d.fillRect(0,0,y,b)):d.clearRect(0,0,y,b),this.zoomAndPan(d,h),u.ignoreAnimations(!!a.ignoreAnimations),a.ignoreAnimations||u.advance(),s.updatePositions(f);var p=this.getRelationshipsToRender(a.showCaptions,y,b);this.renderRelationships(p,d,c!==zE);var m=this.getNodesToRender(r,y,b);this.renderNodes(m,d,l),d.restore(),this.needsRun=!1}},{key:"getRelationshipsToRender",value:function(r,n,i){var a,o=[],u=[],s=[],l=this.arrowBundler,c=this.state,f=this.relationshipThreshold,h=c.layout,d=c.zoom,v=c.rels,y=c.nodes,b=y.idToItem,p=y.idToPosition,m=Xp(v.items);try{for(m.s();!(a=m.n()).done;){var g=a.value,_=l.getBundle(g),E=Ya(Ya({},b[g.from]),p[g.from]),T=Ya(Ya({},b[g.to]),p[g.to]),w=r||d>f||g.captionHtml!==void 0,S=Lbe(g,_,E,T,w,h!==zE);if(S!==null){var C,R,D,M,I,k,U=this.isBoundingBoxOffScreen(S,n,i),F=T0({x:(C=E.x)!==null&&C!==void 0?C:0,y:(R=E.y)!==null&&R!==void 0?R:0},{x:(D=T.x)!==null&&D!==void 0?D:0,y:(M=T.y)!==null&&M!==void 0?M:0}),B=(((I=E.size)!==null&&I!==void 0?I:bi)+((k=T.size)!==null&&k!==void 0?k:bi))*devicePixelRatio,z=E.id!==T.id&&B>F;U||z||(g.disabled?u.push(Ya(Ya({},g),{},{fromNode:E,toNode:T,showLabel:w})):g.selected?o.push(Ya(Ya({},g),{},{fromNode:E,toNode:T,showLabel:w})):s.push(Ya(Ya({},g),{},{fromNode:E,toNode:T,showLabel:w})))}}}catch(H){m.e(H)}finally{m.f()}return[].concat(u,s,o)}},{key:"getNodesToRender",value:function(r,n,i){var a,o=[],u=[],s=[],l=this.state.nodes.idToItem,c=Xp(r);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=Bbe(f);this.isBoundingBoxOffScreen(h,n,i)||(l[f.id].disabled?o.push(Ya({},f)):l[f.id].selected?u.push(Ya({},f)):s.push(Ya({},f)))}}catch(d){c.e(d)}finally{c.f()}return[].concat(o,s,u)}},{key:"renderNodes",value:function(r,n,i){var a,o=this.imageCache,u=this.animationHandler,s=this.state,l=this.ellipsisWidth,c=s.nodes.idToItem,f=s.nodeBorderStyles,h=s.disabledItemStyles,d=s.defaultNodeColor,v=Xp(r);try{for(v.s();!(a=v.n()).done;){var y=a.value;Ube(n,Ya(Ya({},c[y.id]),y),o,u,f,h,d,l,i)}}catch(b){v.e(b)}finally{v.f()}}},{key:"renderRelationships",value:function(r,n,i){var a,o=this.state.relationshipBorderStyles.selected,u=this.arrowBundler,s=this.imageCache,l=this.state,c=l.disabledItemStyles,f=l.defaultRelationshipColor,h=Xp(r);try{for(h.s();!(a=h.n()).done;){var d=a.value,v=u.getBundle(d),y=d.fromNode,b=d.toNode,p=d.showLabel;kbe(n,d,y,b,v,s,p,o,c,f,i)}}catch(m){h.e(m)}finally{h.f()}}},{key:"getNodesAt",value:function(r){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[],o=this.state.nodes,u=o.items,s=o.idToPosition,l=On(),c=Xp(u);try{var f=function(){var h=n.value,d=h.id,v=h.size,y=v===void 0?bi:v,b=s[d],p=b.x,m=b.y,g=Math.sqrt(Math.pow(r.x-p,2)+Math.pow(r.y-m,2));if(g<=(y+i)*l){var _=a.findIndex(function(E){return E.distance>g});a.splice(_!==-1?_:a.length,0,{data:h,targetCoordinates:{x:p,y:m},pointerCoordinates:r,distanceVector:{x:r.x-p,y:r.y-m},insideNode:g<=y*l,distance:g})}};for(c.s();!(n=c.n()).done;)f()}catch(h){c.e(h)}finally{c.f()}return a}},{key:"getRelsAt",value:function(r){var n,i=[],a=this.state,o=this.arrowBundler,u=this.relationshipThreshold,s=a.zoom,l=a.rels.items,c=a.nodes.idToPosition,f=a.layout,h=s>u,d=Xp(l);try{var v=function(){var y=n.value,b=o.getBundle(y),p=c[y.from],m=c[y.to];if(p!==void 0&&m!==void 0&&b.has(y)){var g=function(E,T,w,S,C,R){var D=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(!bT(w,S))return 1/0;var M=w===S?function(I,k,U,F){var B=u3(k,U,F),z=B.startPoint,H=B.endPoint,Y=B.apexPoint,W=B.control1Point,Z=B.control2Point,le=UD(z,Y,W,I),ce=UD(Y,H,Z,I);return Math.min(le,ce)}(E,T,w,C):function(I,k,U,F,B,z,H){var Y=o3(k,U,F,B,z,H),W=1/0;if(H&&Y.length===3)W=UD(Y[0],Y[2],Y[1],I);else for(var Z=1;Z<Y.length;Z++){var le=Y[Z-1],ce=Y[Z],ue=a3(le,ce,I);W=ue<W?ue:W}return W}(E,T,C,w,S,R,D);return M}(r,y,p,m,b,h,f!==zE);if(g<10){var _=i.findIndex(function(E){return E.distance>g});i.splice(_!==-1?_:i.length,0,{data:y,fromTargetCoordinates:p,toTargetCoordinates:m,pointerCoordinates:r,distance:g})}}};for(d.s();!(n=d.n()).done;)v()}catch(y){d.e(y)}finally{d.f()}return i}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(r){r()}),this.state.nodes.removeChannel(gf),this.state.rels.removeChannel(gf)}},{key:"isBoundingBoxOffScreen",value:function(r,n,i){var a=this.state,o=a.zoom,u=n/o,s=i/o,l=a.panX-u/2,c=a.panY-s/2,f=r.right<l,h=r.bottom<c,d=r.left>l+u,v=r.top>c+s;return f||d||h||v}},{key:"handleChannelUpdate",value:function(r,n,i){for(var a=Object.keys(r.adds),o=0;o<a.length;o++){var u=a[o];r.adds[u].activated&&this.activeNodes.add(u)}for(var s=Object.keys(r.removes),l=0;l<s.length;l++){var c=s[l];this.activeNodes.delete(c)}if(i)for(var f=Object.keys(r.updates),h=0;h<f.length;h++){var d=f[h];n.idToItem[d].activated?this.activeNodes.add(d):this.activeNodes.delete(d)}}},{key:"zoomAndPan",value:function(r,n){var i=n.width,a=n.height,o=this.state,u=o.zoom,s=o.panX,l=o.panY;r.translate(-i/2*u,-a/2*u),r.translate(-s*u,-l*u),r.scale(u,u),r.translate(i/2/u,a/2/u),r.translate(i/2,a/2)}}],e&&Fbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),S$=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=function(o,u){if((0,cn.isNil)(o)||(0,cn.isNil)(u))return{offsetX:0,offsetY:0};var s=u.getBoundingClientRect(),l=window.devicePixelRatio||1;return{offsetX:l*(o.clientX-s.left-.5*s.width),offsetY:l*(o.clientY-s.top-.5*s.height)}}(t,e);return{x:n+a.offsetX/r,y:i+a.offsetY/r}};function fb(t){return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(t)}function O$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function T$(t,e,r){return e&&qbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lu(t,e,r){return(e=x$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=function(r){if(fb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(fb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return fb(e)=="symbol"?e:e+""}var Ru="WebGLRenderer",Gbe=function(){return T$(function t(e){var r=this;if(O$(this,t),Lu(this,"mainSceneRenderer",void 0),Lu(this,"minimapRenderer",void 0),Lu(this,"needsRun",void 0),Lu(this,"minimapMouseDown",void 0),Lu(this,"stateDisposers",void 0),Lu(this,"state",void 0),e.state===void 0)throw new Error("Renderer missing options: state - state object");var n=e.state,i=e.mainSceneRenderer,a=e.minimapRenderer,o=n.nodes,u=n.rels;this.mainSceneRenderer=i,this.minimapRenderer=a,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(n.autorun(function(){r.updateMainViewport(n.zoom,n.panX,n.panY)})),this.stateDisposers.push(n.autorun(function(){r.updateMinimapViewport(n.minimapZoom,n.minimapPanX,n.minimapPanY)})),this.stateDisposers.push(n.autorun(function(){n.nodes.version!==void 0&&(r.needsRun=!0),n.rels.version!==void 0&&(r.needsRun=!0)})),o.addChannel(Ru),u.addChannel(Ru),this.state=n,this.setupMinimapInteractions()},[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(t){var e=this.state,r=e.nodes,n=e.rels;this.checkForUpdates(r,n),this.mainSceneRenderer.render(t,r,n),this.needsRun=!1}},{key:"renderMinimap",value:function(t){var e=this.state,r=e.nodes,n=e.rels;this.checkForUpdates(r,n),this.minimapRenderer.render(t,r,n),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(t,e){var r=Object.values(t.channels[Ru].adds).length>0,n=Object.values(e.channels[Ru].adds).length>0,i=Object.values(t.channels[Ru].removes).length>0,a=Object.values(e.channels[Ru].removes).length>0,o=Object.values(t.channels[Ru].updates),u=Object.values(e.channels[Ru].updates);r||n||i||a?(this.mainSceneRenderer.setData({nodes:t.items,rels:e.items}),this.minimapRenderer.setData({nodes:t.items,rels:e.items})):(o.length>0&&(this.mainSceneRenderer.updateNodes(o),this.minimapRenderer.updateNodes(o)),u.length>0&&(this.mainSceneRenderer.updateRelationships(e.items),this.minimapRenderer.updateRelationships(e.items))),t.clearChannel(Ru),e.clearChannel(Ru)}},{key:"onResize",value:function(){var t=this.state,e=t.zoom,r=t.panX,n=t.panY,i=t.minimapZoom,a=t.minimapPanX,o=t.minimapPanY;this.updateMainViewport(e,r,n),this.updateMinimapViewport(i,a,o)}},{key:"updateMainViewport",value:function(t,e,r){this.mainSceneRenderer.updateViewport(t,e,r);var n=this.mainSceneRenderer.canvas.clientWidth,i=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(t,e,r,n,i),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(t,e,r){this.minimapRenderer.updateViewport(t,e,r),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(t){var e=this.state,r=this.minimapRenderer,n=S$(t,r.canvas,e.minimapZoom,e.minimapPanX,e.minimapPanY),i=n.x,a=n.y;e.setPan(i,a)}},{key:"handleMinimapWheel",value:function(t){var e=this.state,r=this.mainSceneRenderer;e.setZoom(function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(0,cn.isNil)(n)||isNaN(n.deltaY)?i:i-n.deltaY/500*Math.min(1,i)}(t,e.zoom),r.canvas),t.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var t=this,e=this.minimapRenderer.canvas;e.addEventListener("mousedown",function(r){t.handleMinimapDrag(r),t.minimapMouseDown=!0}),e.addEventListener("mousemove",function(r){t.minimapMouseDown&&t.handleMinimapDrag(r)}),e.addEventListener("mouseup",function(){t.minimapMouseDown=!1}),e.addEventListener("mouseleave",function(){t.minimapMouseDown=!1}),e.addEventListener("wheel",function(r){t.handleMinimapWheel(r)})}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(t){t()}),this.state.nodes.removeChannel(Ru),this.state.rels.removeChannel(Ru),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}])}(),Vbe=function(){return T$(function t(){O$(this,t),Lu(this,"mainSceneRenderer",void 0),Lu(this,"minimapRenderer",void 0),Lu(this,"needsRun",void 0),Lu(this,"minimapMouseDown",void 0),Lu(this,"stateDisposers",void 0),Lu(this,"state",void 0)},[{key:"renderMainScene",value:function(t){}},{key:"renderMinimap",value:function(t){}},{key:"checkForUpdates",value:function(t,e){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(t,e,r){}},{key:"updateMinimapViewport",value:function(t,e,r){}},{key:"handleMinimapDrag",value:function(t){}},{key:"handleMinimapWheel",value:function(t){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}])}();function hb(t){return hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(t)}function GD(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return O9(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?O9(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function O9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Hbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function Fn(t,e,r){return(e=C$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=function(r){if(hb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(hb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return hb(e)=="symbol"?e:e+""}var pN,fa=24,T9=function(){return t=function r(n,i,a,o){var u;if(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}(this,r),Fn(this,"nodeShader",void 0),Fn(this,"nodeAnimShader",void 0),Fn(this,"relShader",void 0),Fn(this,"relDataBuffer",void 0),Fn(this,"viewportBoxShader",void 0),Fn(this,"defaultRelColor",void 0),Fn(this,"defaultNodeColor",void 0),Fn(this,"disableRelColor",void 0),Fn(this,"disableNodeColor",void 0),Fn(this,"gl",void 0),Fn(this,"activeNodes",void 0),Fn(this,"canvas",void 0),Fn(this,"projection",void 0),Fn(this,"idToIndex",void 0),Fn(this,"posBuffer",void 0),Fn(this,"numRels",void 0),Fn(this,"numNodes",void 0),Fn(this,"nodeDataByte",void 0),Fn(this,"relIdToIndex",void 0),Fn(this,"relData",void 0),Fn(this,"viewportBoxBuffer",void 0),Fn(this,"relBuffer",void 0),Fn(this,"nodeBuffer",void 0),Fn(this,"posTexture",void 0),((u=n.getExtension("OES_texture_float"))!==null&&u!==void 0?u:void 0)===void 0)throw new Error("Renderer needs floating point texture support");this.nodeShader=new zf(n,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;
uniform lowp vec3 u_nodeBorderColor;
uniform lowp vec3 u_selectedBorderColor;
uniform lowp vec3 u_selectedInnerBorderColor;
uniform lowp vec3 u_shadowColor;
uniform lowp float u_drawDefaultBorder;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_selected;
attribute lowp float a_hovered;

varying lowp float window;
varying lowp vec4 color;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float drawDefaultBorder;

lowp float MinNodeSize = 5.0;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);
  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  lowp float nodeSize = a_size * u_zoom * u_glAdjust;
  if (nodeSize < MinNodeSize) {
   gl_PointSize = MinNodeSize;
   varNodeSize = MinNodeSize;
  } else {
    gl_PointSize = nodeSize;
    varNodeSize = nodeSize;
  }

  color = a_color;
  selected = a_selected;
  hovered = a_hovered;
  nodeBorderColor = u_nodeBorderColor;
  selectedBorderColor = u_selectedBorderColor;
  selectedInnerBorderColor = u_selectedInnerBorderColor;
  shadowColor = u_shadowColor;
  drawDefaultBorder = u_drawDefaultBorder;
}`,`uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float drawDefaultBorder;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;

mediump float circleSize = 0.40;
mediump float defaultBoderSize = 0.42;
mediump float innerSelectedRingSize = 0.43;
mediump float outerSelectedRingSize = 0.47;
mediump float shadowSize = 0.51;

lowp float getShadowAlpha(lowp float size, lowp float dist) {
  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;
}

lowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {
  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);
}

void main() {
  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float nodeSize = 1.0 / varNodeSize;
    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);
    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);
    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);
    lowp vec3 finalColor = color.xyz;
    lowp float finalAlpha = nodeAlpha;

    if (selected > 0.0) {
      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);
      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);

      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));
      } else {
        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));
      }
    } else if (hovered > 0.0) {
      if (drawDefaultBorder > 0.0) {
        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);
  
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(shadowColor, finalColor, borderAlpha);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));
      } else {
        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);

        finalColor = mix(shadowColor, finalColor, nodeAlpha);
        finalAlpha = max(shadowAlpha, nodeAlpha);
      }
    } else {
      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalAlpha = borderAlpha;
      }
    }
    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;
  }
}
`),this.nodeAnimShader=new zf(n,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform lowp float u_animPos;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_active;

varying lowp float varNodeSize;
varying lowp vec4 color;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);

  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  float nodeSize = a_size * u_zoom * u_glAdjust;
  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring

  gl_PointSize = a_active > 0.5
    ? nodeSize + 0.88 * nodeSize * u_animPos
    : 0.0;

  color = a_color;
  varNodeSize = a_size;
}`,`uniform mediump float u_zoom;
uniform lowp float u_animPos;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float varNodeSize;
mediump float circleSize = 0.50;

void main(void) {

  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);
    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;
    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;
  }
}
`),this.relShader=new zf(n,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_glAdjust;

attribute vec2 a_from;
attribute vec2 a_to;
attribute lowp vec4 a_color;
attribute lowp float a_triside;
attribute float a_width;

varying lowp vec4 color;

void main(void) {
  vec4 from = texture2D(u_positions, a_from);
  vec4 to = texture2D(u_positions, a_to);
  vec2 direction = normalize(to.xy - from.xy);
  direction = vec2(-direction.y, direction.x);

  float width = a_width * u_glAdjust * 0.5;

  if (a_triside == 0.0) {
    from.y += (width / 2.0) * direction.y;
    from.x += (width / 2.0) * direction.x;
  } else {
    from.y -= (width / 2.0) * direction.y;
    from.x -= (width / 2.0) * direction.x;
  }

  color = a_color;
  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);
}
`,`varying lowp vec4 color;

void main(void) {
  gl_FragColor = vec4(color.xyz, 1.0) * color.w;
}
`),this.viewportBoxShader=new zf(n,`
attribute vec2 coordinates;
uniform mat4 u_projection;
uniform lowp vec4 u_minimapViewportBoxColor;

varying lowp vec4 minimapViewportBoxColor;

void main(void) {
  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);
  minimapViewportBoxColor = u_minimapViewportBoxColor;
}
`,`
varying lowp vec4 minimapViewportBoxColor;

void main(void) {
 gl_FragColor = minimapViewportBoxColor;
}
`),this.setShaderUniforms(o),n.clearColor(0,0,0,0),n.disable(n.DEPTH_TEST),this.defaultRelColor=o.defaultRelationshipColor,this.defaultNodeColor=o.defaultNodeColor,this.disableRelColor=o.disabledItemStyles.color,this.disableNodeColor=o.disabledItemStyles.color,n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),this.gl=n,this.activeNodes={},this.canvas=n.canvas,this.projection=KS(),this.setData({nodes:i.items,rels:a.items}),this.createPositionTexture(),this.setupViewportRendering(o.minimapViewportBoxColor)},e=[{key:"setShaderUniforms",value:function(r){var n,i,a,o,u,s=r.nodeBorderStyles,l=null;((n=s.default)===null||n===void 0?void 0:n.rings.length)>0&&(l=(u=s.default.rings[0])===null||u===void 0?void 0:u.color);var c,f,h=null,d=null,v=(i=(a=s.selected)===null||a===void 0?void 0:a.rings)!==null&&i!==void 0?i:[],y=v.length;y>1&&(d=(c=v[y-2])===null||c===void 0?void 0:c.color,h=(f=v[y-1])===null||f===void 0?void 0:f.color);var b=null;(o=s.selected)!==null&&o!==void 0&&o.shadow&&(b=s.selected.shadow.color),this.nodeShader.use(),(0,cn.isNil)(l)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",Qw(l)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var p=Qw(h),m=Qw(d),g=Qw(b);this.nodeShader.setUniform("u_selectedBorderColor",p),this.nodeShader.setUniform("u_selectedInnerBorderColor",m),this.nodeShader.setUniform("u_shadowColor",g)}},{key:"setData",value:function(r){var n=ZI(r.rels,this.disableRelColor);this.setupNodeRendering(r.nodes),this.setupRelationshipRendering(n)}},{key:"render",value:function(r,n,i){var a,o=this.gl,u=this.idToIndex,s=GD(r);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=u[l.id];this.posBuffer[4*c+0]=l.x,this.posBuffer[4*c+1]=l.y}}catch(f){s.e(f)}finally{s.f()}o.bindTexture(o.TEXTURE_2D,this.posTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,zt,zt,0,o.RGBA,o.FLOAT,this.posBuffer),o.enable(o.BLEND),o.bindFramebuffer(o.FRAMEBUFFER,null),o.clear(o.COLOR_BUFFER_BIT),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),this.renderAnimations(this.posTexture),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),o.drawArrays(o.TRIANGLES,0,6*this.numRels)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",this.posTexture),o.bindBuffer(o.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),o.drawArrays(o.POINTS,0,this.numNodes))}},{key:"renderViewbox",value:function(){var r=this.gl,n=this.projection,i=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",n),r.bindBuffer(r.ARRAY_BUFFER,i),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),r.drawArrays(r.LINES,0,8)}},{key:"updateNodes",value:function(r){var n,i=this.gl,a=this.idToIndex,o=this.disableNodeColor,u=this.nodeBuffer,s=this.nodeDataByte,l=!1,c=GD(r);try{for(c.s();!(n=c.n()).done;){var f=n.value,h=a[f.id];if(!(0,cn.isNil)(f.color)||f.disabled===!0){var d=n_(f.disabled===!0?o:f.color);this.nodeDataByte[3*h*4+0]=d[0],this.nodeDataByte[3*h*4+1]=d[1],this.nodeDataByte[3*h*4+2]=d[2],this.nodeDataByte[3*h*4+3]=255*d[3],l=!0}if(f.selected!==void 0){var v=f.selected;this.nodeDataByte[3*h*4+4]=v?255:0,l=!0}if(f.activated!==void 0&&(this.nodeDataByte[3*h*4+7]=f.activated?255:0,l=!0,f.activated?this.activeNodes[f.id]=!0:delete this.activeNodes[f.id]),f.hovered!==void 0){var y=f.disabled!==!0&&f.hovered;this.nodeDataByte[3*h*4+9]=y?255:0,l=!0}if(f.size!==void 0){var b=f.size;this.nodeDataByte[3*h*4+8]=b||bi,l=!0}}}catch(p){c.e(p)}finally{c.f()}l&&(i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,s,i.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(r){var n,i=ZI(r,this.disableRelColor),a=this.gl,o=!1,u=GD(i);try{for(u.s();!(n=u.n()).done;){var s=n.value,l=s.key,c=s.width,f=s.color,h=s.disabled,d=this.relIdToIndex[l],v=(0,cn.isNil)(f)?this.defaultRelColor:f,y=Zw(h?this.disableRelColor:v);this.relData.positionsAndColors[d*fa+0]=y,this.relData.positionsAndColors[d*fa+4]=y,this.relData.positionsAndColors[d*fa+8]=y,this.relData.positionsAndColors[d*fa+12]=y,this.relData.positionsAndColors[d*fa+16]=y,this.relData.positionsAndColors[d*fa+20]=y,o=!0,c!==void 0&&(this.relData.widths[d*fa+3]=c,this.relData.widths[d*fa+7]=c,this.relData.widths[d*fa+11]=c,this.relData.widths[d*fa+15]=c,this.relData.widths[d*fa+19]=c,this.relData.widths[d*fa+23]=c,o=!0)}}catch(b){u.e(b)}finally{u.f()}o&&(a.bindBuffer(a.ARRAY_BUFFER,this.relBuffer),a.bufferData(a.ARRAY_BUFFER,this.relDataBuffer,a.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var r=this.gl,n=r.createTexture(),i=new Float32Array(262144);r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,zt,zt,0,r.RGBA,r.FLOAT,i),this.posTexture=n,this.posBuffer=i}},{key:"updateViewportBox",value:function(r,n,i,a,o){var u=this.gl,s=On(),l=a*s,c=o*s,f=(.5*l+n*r)/r,h=(.5*c+i*r)/r,d=(.5*-l+n*r)/r,v=(.5*-c+i*r)/r,y=[f,h,d,h,d,h,d,v,d,v,f,v,f,v,f,h];u.bindBuffer(u.ARRAY_BUFFER,this.viewportBoxBuffer),u.bufferData(u.ARRAY_BUFFER,new Float32Array(y),u.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(r,n,i){var a=this.gl,o=1/r,u=n-a.drawingBufferWidth*o*.5,s=i-a.drawingBufferHeight*o*.5,l=a.drawingBufferWidth*o,c=a.drawingBufferHeight*o,f=KS(),h=u0e*On();nN(f,u,u+l,s+c,s,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",r),this.nodeShader.setUniform("u_glAdjust",h),this.nodeShader.setUniform("u_projection",f),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",r),this.nodeAnimShader.setUniform("u_glAdjust",h),this.nodeAnimShader.setUniform("u_projection",f),this.relShader.use(),this.relShader.setUniform("u_glAdjust",h),this.relShader.setUniform("u_projection",f),this.projection=f}},{key:"setupViewportRendering",value:function(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n3;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(r=n_(n))[0]/255,r[1]/255,r[2]/255,r[3]])}},{key:"setupNodeRendering",value:function(r){var n=this.gl,i=new ArrayBuffer(8),a=new Uint32Array(i),o=new Uint8Array(i);this.nodeBuffer===void 0&&(this.nodeBuffer=n.createBuffer()),this.numNodes=r.length;var u=new ArrayBuffer(3*r.length*8),s=new Uint32Array(u),l={};this.activeNodes={};for(var c=0;c<r.length;c++){var f=r[c],h=f.selected,d=f.hovered,v=f.color,y=f.activated,b=f.size,p=f.id,m=f.disabled,g=Zw((0,cn.isNil)(v)?this.defaultNodeColor:v);s[3*c+0]=m?Zw(this.disableNodeColor):g,o[0]=h?255:0,o[1]=c%zt,o[2]=Math.floor(c/zt),o[3]=y?255:0,o[4]=!m&&d?255:0,y&&(this.activeNodes[p]=!0),s[3*c+1]=a[0],s[3*c+2]=b??bi,s[3*c+3]=a[1],l[p]=c}n.bindBuffer(n.ARRAY_BUFFER,this.nodeBuffer),n.bufferData(n.ARRAY_BUFFER,s,n.DYNAMIC_DRAW),this.numNodes=r.length,this.nodeDataByte=new Uint8Array(u),this.idToIndex=l}},{key:"setupRelationshipRendering",value:function(r){var n=this,i=this.gl,a=new ArrayBuffer(4),o=new Uint32Array(a),u=new Uint8Array(a),s={};this.relBuffer===void 0&&(this.relBuffer=i.createBuffer());for(var l=new ArrayBuffer(r.length*fa*4),c=new Uint32Array(l),f=new Float32Array(l),h=function(v){var y=r[v],b=y.from,p=y.to,m=y.color,g=y.width,_=g===void 0?1:g,E=y.key,T=y.disabled,w=n.idToIndex[b],S=n.idToIndex[p],C=w%zt,R=Math.floor(w/zt),D=S%zt,M=Math.floor(S/zt),I=[C,R,D,M],k=[D,M,C,R],U=(0,cn.isNil)(m)?n.defaultRelColor:m,F=Zw(T?n.disableRelColor:U);s[E]=v;var B=0,z=function(H,Y,W,Z){c[v*fa+B]=H,B+=1;for(var le=0;le<Y.length;le++)u[le]=Y[le];c[v*fa+B]=o[0],B+=1,u[0]=W,c[v*fa+B]=o[0],f[v*fa+(B+=1)]=Z,B+=1};z(F,I,255,_),z(F,k,0,_),z(F,I,0,_),z(F,k,0,_),z(F,I,0,_),z(F,k,255,_)},d=0;d<r.length;d++)h(d);i.bindBuffer(i.ARRAY_BUFFER,this.relBuffer),i.bufferData(i.ARRAY_BUFFER,l,i.DYNAMIC_DRAW),this.numRels=r.length,this.relDataBuffer=l,this.relData={positionsAndColors:c,widths:f},this.relIdToIndex=s}},{key:"renderAnimations",value:function(r){var n=this.gl,i=this.nodeBuffer,a=this.numNodes,o=Date.now()%1e3/1e3,u=o<.7?o/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",r),this.nodeAnimShader.setUniform("u_animPos",u),n.bindBuffer(n.ARRAY_BUFFER,i),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),n.drawArrays(n.POINTS,0,a)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],e&&Hbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),A$=function(t,e,r){var n=On();t.width=e*n,t.height=r*n,t.style.width="".concat(e,"px"),t.style.height="".concat(r,"px")},R$=function(t){Yr.warn("Error: WebGL context lost - visualization will stop working!",t),pN!==void 0&&pN(t)},HE=function(t){var e=t.parentElement,r=e.getBoundingClientRect(),n=r.width,i=r.height;n!==0||i!==0||e.isConnected||(n=parseInt(e.style.width,10)||0,i=parseInt(e.style.height,10)||0),A$(t,n,i)},VD=function(t,e){var r=document.createElement("canvas");return Object.assign(r.style,zX),t!==void 0&&(t.appendChild(r),HE(r)),function(n,i){pN=i,n.addEventListener("webglcontextlost",R$)}(r,e),r},$p=function(t){t.width=0,t.height=0,t.remove()},x9=function(t){var e={antialias:!0},r=t.getContext("webgl",e);return r===null&&(r=t.getContext("experimental-webgl",e)),function(n){return n instanceof WebGLRenderingContext}(r)?r:null},C9=function(t){t.canvas.removeEventListener("webglcontextlost",R$);var e=t.getExtension("WEBGL_lose_context");e==null||e.loseContext()};function iE(t){return function(e){if(Array.isArray(e))return yN(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||P$(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gN(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=P$(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function P$(t,e){if(t){if(typeof t=="string")return yN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yN(t,e):void 0}}function yN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Ybe=bi*On();function db(t){return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(n){Wbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wbe(t,e,r){return(e=function(n){var i=function(a){if(db(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,"string");if(db(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(n);return db(i)=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var JS=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,r={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},n=0;n<t.length;n++)r.minX>t[n].x&&(r.minX=t[n].x),r.minY>t[n].y&&(r.minY=t[n].y),r.maxX<t[n].x&&(r.maxX=t[n].x),r.maxY<t[n].y&&(r.maxY=t[n].y);var i=(r.minX+r.maxX)/2,a=(r.minY+r.maxY)/2,o=2*e,u=On()*o;return{centerX:i,centerY:a,nodesWidth:r.maxX-r.minX+o+u,nodesHeight:r.maxY-r.minY+o+u}},mN=function(t,e,r,n){var i=1/0,a=1/0;return t>1&&(i=r/t),e>1&&(a=n/e),{zoomX:i,zoomY:a}},D$=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,i=Math.min(t,e);return Math.min(n,Math.max(r,i))},vb=function(t,e,r,n){return Math.max(Math.min(e,r),Math.min(t,n))},HD=function(t,e,r,n,i,a){var o=e;return function(u,s,l){return u<s&&u<l}(i,a,e)&&t.length>1?(o=function(u,s,l){var c=function(y){var b=new Array(4).fill(y[0]);return y.forEach(function(p){b[0]=p.x<b[0].x?b[0]:aE({},p),b[1]=p.y<b[1].y?b[1]:aE({},p),b[2]=p.x<b[2].x?aE({},p):b[2],b[3]=p.y<b[3].y?aE({},p):b[3]}),b}(u),f=function(){for(var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=0,p=0,m=0;m<y.length;m++)for(var g=m+1;g<y.length;g++)b=Math.hypot(Math.abs(y[m].x-y[g].x),Math.abs(y[m].y-y[g].y)),p=Math.max(p,b);return p}(c),h=2*l,d=On()*h,v=s.height<=s.width?s.height-h-d:s.width-h-d;return f>v?.9*v/f:.9*f/v}(t,n,25),vb(i,a,Math.min(e,o),r)):vb(i,a,e,r)};function pb(t){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(t)}function Xbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M$(n.key),n)}}function M$(t){var e=function(r){if(pb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(pb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return pb(e)=="symbol"?e:e+""}var $be=function(){return t=function r(){var n,i,a;(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,r),n=this,a=void 0,(i=M$(i="callbacks"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,this.callbacks={}},e=[{key:"register",value:function(r,n){this.isCallbackRegistered(r)||(this.callbacks[r]=[]),this.callbacks[r].push(n)}},{key:"isCallbackRegistered",value:function(r){return this.callbacks[r]!==void 0}},{key:"callIfRegistered",value:function(){var r,n=arguments,i=Array.prototype.slice.call(arguments)[0];r=i,Hme.includes(r)&&this.isCallbackRegistered(i)&&this.callbacks[i].slice(0).forEach(function(a){return a.apply(null,Array.prototype.slice.call(n,1))})}}],e&&Xbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Kbe=Zn(481),YD=Zn.n(Kbe);function gb(t){return gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gb(t)}function Zbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function yf(t,e,r){return(e=I$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=function(r){if(gb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(gb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return gb(e)=="symbol"?e:e+""}var R9=5e-5,Qbe=function(){return t=function r(n){var i,a=this,o=n.state,u=n.getNodePositions,s=n.canvas;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,r),yf(this,"xCtrl",void 0),yf(this,"yCtrl",void 0),yf(this,"zoomCtrl",void 0),yf(this,"getNodePositions",void 0),yf(this,"firstUpdate",void 0),yf(this,"state",void 0),yf(this,"canvas",void 0),yf(this,"stateDisposers",void 0),this.state=o,this.getNodePositions=u,this.canvas=s,this.xCtrl=new(YD())(.35,R9,.05,1),this.yCtrl=new(YD())(.35,R9,.05,1),this.zoomCtrl=new(YD())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(o.autorun(function(){o.fitNodeIds===null&&(a.xCtrl.reset(),a.yCtrl.reset(),a.zoomCtrl.reset())})),this.stateDisposers.push(o.autorun(function(){i!==o.fitNodeIds&&(i=o.fitNodeIds,a.firstUpdate=!0)})),this.stateDisposers.push(o.autorun(function(){o.resetZoom&&(a.firstUpdate=!0)}))},e=[{key:"needsToRun",value:function(){var r=this.state,n=r.fitNodeIds,i=r.resetZoom;return n.length>0||i}},{key:"update",value:function(r,n){var i=this.state,a=i.fitNodeIds,o=i.resetZoom;a.length>0?this.fitNodes(a,r,n):o&&this.reset(r,n)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(r){return r()})}},{key:"recalculateTarget",value:function(r,n,i,a){for(var o=this.xCtrl,u=this.yCtrl,s=this.zoomCtrl,l=this.state,c=[],f=0;f<r.length;f++)c.push({id:r[f]});var h=l.zoom,d=l.panX,v=l.panY,y=l.maxNodeRadius,b=l.nodes,p=l.defaultZoomLevel,m=this.getNodePositions(c);b.updatePositions(m);var g=JS(m,y),_=g.centerX,E=g.centerY,T=g.nodesWidth,w=g.nodesHeight;if(isNaN(_)||isNaN(E))return Yr.info("fit() function couldn't calculate center point, not updating viewport"),!1;var S=n.noPan,C=n.outOnly,R=n.minZoom,D=n.maxZoom;o.setTarget(S?d:_),u.setTarget(S?v:E);var M=mN(T,w,i,a),I=M.zoomX,k=M.zoomY;if(I===1/0&&k===1/0)s.setTarget(p);else{var U=D$(I,k,R,D);C&&h<U?s.setTarget(h):s.setTarget(U)}return!0}},{key:"allNodesAreVisible",value:function(r,n,i){var a=mN(n,i,this.canvas.width,this.canvas.height),o=a.zoomX,u=a.zoomY;return r<o&&r<u}},{key:"reset",value:function(r,n){var i=this.xCtrl,a=this.yCtrl,o=this.zoomCtrl,u=this.state,s=this.firstUpdate,l=this.canvas,c=u.zoom,f=u.panX,h=u.panY,d=u.nodes,v=u.maxNodeRadius,y=u.defaultZoomLevel;if(s||r){o.setTarget(y);var b=JS(Object.values(d.idToPosition),v),p=b.centerX,m=b.centerY,g=b.nodesWidth,_=b.nodesHeight;this.allNodesAreVisible(c,g,_)?(i.setTarget(p),a.setTarget(m)):(i.setTarget(f),a.setTarget(h)),this.firstUpdate=!1}var E=c+o.update(c),T=f+i.update(f),w=h+a.update(h);u.updateZoomToFit(E,T,w,l),Math.abs(o.target-E)<.01&&(u.updateZoomToFit(y,T,w,l),u.clearReset(),n!==void 0&&n())}},{key:"fitNodes",value:function(r,n,i){var a=this.state,o=this.firstUpdate,u=this.canvas,s=this.xCtrl,l=this.yCtrl,c=this.zoomCtrl,f=a.zoomOptions,h=f===void 0?{}:f,d=a.zoom,v=a.panX,y=a.panY,b=!0;if(o||n){var p=u.width,m=u.height;b=this.recalculateTarget(r,h,p,m),this.firstUpdate=!1}if(b){if(!h.animated)return a.setZoomPan(c.target,s.target,l.target,u),void a.clearFit();var g=v+s.update(v),_=y+l.update(y),E=d+c.update(d);a.updateZoomToFit(E,g,_,u);var T=Math.max(5,10/c.target),w=Math.min(.01,.01*c.target);!n&&Math.abs(c.target-E)<w&&Math.abs(s.target-g)<T&&Math.abs(l.target-_)<T&&(a.setZoom(c.target,u),a.clearFit(),i!==void 0&&i())}}}],e&&Zbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function yb(t){return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function bN(){var t,e,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(d,v,y,b){var p=v&&v.prototype instanceof u?v:u,m=Object.create(p.prototype);return $o(m,"_invoke",function(g,_,E){var T,w,S,C=0,R=E||[],D=!1,M={p:0,n:0,v:t,a:I,f:I.bind(t,4),d:function(k,U){return T=k,w=0,S=t,M.n=U,o}};function I(k,U){for(w=k,S=U,e=0;!D&&C&&!F&&e<R.length;e++){var F,B=R[e],z=M.p,H=B[2];k>3?(F=H===U)&&(S=B[(w=B[4])?5:(w=3,3)],B[4]=B[5]=t):B[0]<=z&&((F=k<2&&z<B[1])?(w=0,M.v=U,M.n=B[1]):z<H&&(F=k<3||B[0]>U||U>H)&&(B[4]=k,B[5]=U,M.n=H,w=0))}if(F||k>1)return o;throw D=!0,U}return function(k,U,F){if(C>1)throw TypeError("Generator is already running");for(D&&U===1&&I(U,F),w=U,S=F;(e=w<2?t:S)||!D;){T||(w?w<3?(w>1&&(M.n=-1),I(w,S)):M.n=S:M.v=S);try{if(C=2,T){if(w||(k="next"),e=T[k]){if(!(e=e.call(T,S)))throw TypeError("iterator result is not an object");if(!e.done)return e;S=e.value,w<2&&(w=0)}else w===1&&(e=T.return)&&e.call(T),w<2&&(S=TypeError("The iterator does not provide a '"+k+"' method"),w=1);T=t}else if((e=(D=M.n<0)?S:g.call(_,M))!==o)break}catch(B){T=t,w=1,S=B}finally{C=1}}return{value:e,done:D}}}(d,y,b),!0),m}var o={};function u(){}function s(){}function l(){}e=Object.getPrototypeOf;var c=[][n]?e(e([][n]())):($o(e={},n,function(){return this}),e),f=l.prototype=u.prototype=Object.create(c);function h(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,l):(d.__proto__=l,$o(d,i,"GeneratorFunction")),d.prototype=Object.create(f),d}return s.prototype=l,$o(f,"constructor",l),$o(l,"constructor",s),s.displayName="GeneratorFunction",$o(l,i,"GeneratorFunction"),$o(f),$o(f,i,"Generator"),$o(f,n,function(){return this}),$o(f,"toString",function(){return"[object Generator]"}),(bN=function(){return{w:a,m:h}})()}function $o(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}$o=function(a,o,u,s){if(o)i?i(a,o,{value:u,enumerable:!s,configurable:!s,writable:!s}):a[o]=u;else{var l=function(c,f){$o(a,c,function(h){return this._invoke(c,f,h)})};l("next",0),l("throw",1),l("return",2)}},$o(t,e,r,n)}function P9(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){return void r(l)}u.done?e(s):Promise.resolve(s).then(n,i)}function D9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function M9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M9(Object(r),!0).forEach(function(n){br(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N$(n.key),n)}}function br(t,e,r){return(e=N$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N$(t){var e=function(r){if(yb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(yb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return yb(e)=="symbol"?e:e+""}var oE="NvlController",uE={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},Kp="onError",I9="onLayoutDone",N9="onLayoutStep",eO={},r0=function(){var t;return(t=eO[arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default"])!==null&&t!==void 0?t:Object.values(eO).pop()},e_e=function(){return t=function i(a,o,u){var s,l,c,f=this;(function(B,z){if(!(B instanceof z))throw new TypeError("Cannot call a class as a function")})(this,i),br(this,"destroyed",void 0),br(this,"state",void 0),br(this,"callbacks",void 0),br(this,"instanceId",void 0),br(this,"glController",void 0),br(this,"webGLContext",void 0),br(this,"webGLMinimapContext",void 0),br(this,"htmlOverlay",void 0),br(this,"hasResized",void 0),br(this,"hierarchicalLayout",void 0),br(this,"gridLayout",void 0),br(this,"freeLayout",void 0),br(this,"d3ForceLayout",void 0),br(this,"forceLayout",void 0),br(this,"canvasRenderer",void 0),br(this,"glCanvas",void 0),br(this,"canvasRect",void 0),br(this,"glMinimapCanvas",void 0),br(this,"c2dCanvas",void 0),br(this,"isInRenderSwitchAnimation",void 0),br(this,"justSwitchedRenderer",void 0),br(this,"justSwitchedLayout",void 0),br(this,"layoutUpdating",void 0),br(this,"layoutComputing",void 0),br(this,"isRenderingDisabled",void 0),br(this,"setRenderSwitchAnimation",void 0),br(this,"stateDisposers",void 0),br(this,"zoomTransitionHandler",void 0),br(this,"currentLayout",void 0),br(this,"layoutTimeLimit",void 0),br(this,"pixelRatio",void 0),br(this,"removeResizeListener",void 0),br(this,"removeMinimapResizeListener",void 0),br(this,"pendingZoomOperation",void 0),br(this,"layoutRunner",void 0),br(this,"animationRequestId",void 0),br(this,"layoutDoneCallback",void 0),br(this,"layoutComputingCallback",void 0),br(this,"currentLayoutType",void 0),br(this,"descriptionElement",void 0),this.destroyed=!1;var h=u.minimapContainer,d=h===void 0?document.createElement("span"):h,v=u.layoutOptions,y=u.layout,b=u.instanceId,p=b===void 0?"default":b,m=u.disableAria,g=m!==void 0&&m,_=a.nodes,E=a.rels,T=a.webGLVisible,w=a.disableWebGL;this.state=a,this.callbacks=new $be,this.instanceId=p;var S=o;S.setAttribute("instanceId",p),S.setAttribute("data-testid","nvl-parent"),(s=S.style.height)!==null&&s!==void 0&&s.length||Object.assign(S.style,{height:"100%"}),(l=S.style.outline)!==null&&l!==void 0&&l.length||Object.assign(S.style,{outline:"none"}),this.descriptionElement=g?document.createElement("div"):function(B,z){var H;B.setAttribute("role","img"),B.setAttribute("aria-label","Graph visualization");var Y="nvl-".concat(z,"-description"),W=(H=document.getElementById(Y))!==null&&H!==void 0?H:document.createElement("div");return W.innerHTML="",W.id="nvl-".concat(z,"-description"),W.setAttribute("role","status"),W.setAttribute("aria-live","polite"),W.setAttribute("aria-atomic","false"),W.style.display="none",B.appendChild(W),B.setAttribute("aria-describedby",W.id),W}(S,p);var C=VD(S,this.onWebGLContextLost.bind(this)),R=VD(d,this.onWebGLContextLost.bind(this));if(C.setAttribute("data-testid","nvl-gl-canvas"),w)this.glController=new Vbe;else{var D=x9(C),M=x9(R);this.glController=new Gbe({mainSceneRenderer:new T9(D,_,E,this.state),minimapRenderer:new T9(M,_,E,this.state),state:a}),this.webGLContext=D,this.webGLMinimapContext=M}var I=VD(S,this.onWebGLContextLost.bind(this));I.setAttribute("data-testid","nvl-c2d-canvas");var k=I.getContext("2d"),U=document.createElement("div");Object.assign(U.style,Ma(Ma({},zX),{},{overflow:"hidden"})),S.appendChild(U),this.htmlOverlay=U,this.hasResized=!0,this.hierarchicalLayout=new $0e(Ma(Ma({},v),{},{state:this.state})),this.gridLayout=new j0e({state:this.state}),this.freeLayout=new N0e({state:this.state}),this.d3ForceLayout=new v0e({state:this.state}),this.forceLayout=w?this.d3ForceLayout:new D0e(Ma(Ma({},v),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(y),this.state.setLayoutOptions(v);var F=new zbe(I,k,a,u);this.canvasRenderer=F,this.glCanvas=C,this.canvasRect=C.getBoundingClientRect(),this.glMinimapCanvas=R,this.c2dCanvas=I,this.glCanvas.style.opacity=T?"1":"0",this.c2dCanvas.style.opacity=T?"0":"1",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,_.addChannel(oE),E.addChannel(oE),this.setRenderSwitchAnimation=function(){f.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(a.autorun(function(){f.callIfRegistered("zoom",a.zoom)})),this.stateDisposers.push(a.autorun(function(){f.callIfRegistered("pan",{panX:a.panX,panY:a.panY})})),this.stateDisposers.push(a.autorun(function(){f.setLayout(a.layout)})),this.stateDisposers.push(a.autorun(function(){f.setLayoutOptions(a.layoutOptions)})),g||this.stateDisposers.push(a.autorun(function(){(function(B,z){var H=B.nodes,Y=B.rels,W=B.layout,Z=H.items.length,le=Y.items.length;if(Z!==0||le!==0){var ce="".concat(Z," node").concat(Z!==1?"s":""),ue="".concat(le," relationship").concat(le!==1?"s":""),de="displayed using a ".concat(W??"forceDirected"," layout");z.innerHTML="A graph visualization with ".concat(ce," and ").concat(ue,", ").concat(de,".")}else z.innerHTML="An empty graph visualization."})(a,f.descriptionElement)})),this.stateDisposers.push(a.autorun(function(){var B=a.webGLVisible?"1":"0";B!==f.glCanvas.style.opacity&&(f.justSwitchedRenderer=!0,f.glCanvas.style.opacity=B,f.c2dCanvas.style.opacity=a.webGLVisible?"0":"1")})),this.startMainLoop(),this.zoomTransitionHandler=new Qbe({state:a,getNodePositions:function(B){return f.currentLayout.getNodePositions(B)},canvas:C}),this.layoutTimeLimit=(c=u.layoutTimeLimit)!==null&&c!==void 0?c:16,this.pixelRatio=On(),this.removeResizeListener=mz()(S,function(){HE(C),HE(I),f.canvasRect=C.getBoundingClientRect(),f.hasResized=!0}),this.removeMinimapResizeListener=mz()(d,function(){HE(R)}),eO[p]=this,window.__Nvl_dumpNodes=function(B){var z;return(z=r0(B))===null||z===void 0?void 0:z.dumpNodes()},window.__Nvl_dumpRelationships=function(B){var z;return(z=r0(B))===null||z===void 0?void 0:z.dumpRelationships()},window.__Nvl_registerDoneCallback=function(B,z){var H;return(H=r0(z))===null||H===void 0?void 0:H.on(I9,B)},window.__Nvl_getNodesOnScreen=function(B){var z;return(z=r0(B))===null||z===void 0?void 0:z.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(B){var z;return(z=r0(B))===null||z===void 0?void 0:z.getScale()},this.pendingZoomOperation=null},e=[{key:"onWebGLContextLost",value:function(i){this.callIfRegistered("onWebGLContextLost",i)}},{key:"updateMinimapZoom",value:function(){var i=this.state,a=i.nodes,o=i.maxNodeRadius,u=i.maxMinimapZoom,s=i.minMinimapZoom,l=JS(Object.values(a.idToPosition),o),c=l.centerX,f=l.centerY,h=l.nodesWidth,d=l.nodesHeight,v=mN(h,d,this.glMinimapCanvas.width,this.glMinimapCanvas.height),y=v.zoomX,b=v.zoomY,p=D$(y,b,s,u);this.state.updateMinimapZoomToFit(p,c,f)}},{key:"startMainLoop",value:function(){var i=this,a=this.state,o=a.nodes,u=a.rels;this.currentLayout.update();var s=this.currentLayout.getNodePositions(o.items);o.updatePositions(s),this.isRenderingDisabled||(this.glController.renderMainScene(s),this.glController.renderMinimap(s),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(s)),this.layoutRunner=setInterval(function(){try{(function(){var c=i.currentLayout.getShouldUpdate(),f=c||i.justSwitchedLayout,h=f&&!i.layoutUpdating&&!i.justSwitchedLayout;if(f)for(var d=window.performance.now(),v=h?0:50,y=0;y<v;y++){i.currentLayout.update(i.justSwitchedLayout),i.justSwitchedLayout=!1;var b=window.performance.now();if(!c||b-d>i.layoutTimeLimit)break}})()}catch(c){if(!i.callbacks.isCallbackRegistered(Kp))throw c;i.callIfRegistered(Kp,c)}},13);var l=function(){try{(function(c){if(i.destroyed)Yr.info("STEP IN A DESTROYED STRIP");else{var f=On();if(f!==i.pixelRatio)return i.pixelRatio=f,void i.callIfRegistered("restart");var h=i.currentLayout.getShouldUpdate(),d=h||i.justSwitchedLayout,v=i.currentLayout.getComputing(),y=i.zoomTransitionHandler.needsToRun(),b=d&&!i.layoutUpdating&&!i.justSwitchedLayout,p=i.layoutComputing&&!v,m=i.state.webGLVisible&&i.glController.needsToRun(),g=!i.state.webGLVisible&&i.canvasRenderer.needsToRun(),_=i.isInRenderSwitchAnimation||i.justSwitchedRenderer,E=i.hasResized,T=i.pendingZoomOperation!==null,w=i.glController.minimapMouseDown;if(o.clearChannel(oE),u.clearChannel(oE),y||d||p||_||m||g||w||E||T){!T||b||i.currentLayout.getComputing()||(i.pendingZoomOperation(),i.pendingZoomOperation=null);var S=h||v||p;i.zoomTransitionHandler.update(S,function(){return i.callIfRegistered("onZoomTransitionDone")}),E&&i.glController.onResize();var C=i.currentLayout.getNodePositions(o.items);if(o.updatePositions(C),i.callbacks.isCallbackRegistered(N9)&&i.callIfRegistered(N9,i.dumpNodes()),i.updateMinimapZoom(),i.glController.renderMinimap(C),!i.isRenderingDisabled){if((i.state.webGLVisible||_)&&i.glController.renderMainScene(C),!i.state.webGLVisible||_){i.canvasRenderer.processUpdates(),i.canvasRenderer.render(C);for(var R=0;R<u.items.length;R++){var D=u.items[R].id,M=i.canvasRenderer.arrowBundler.getBundle(u.items[R]),I=u.idToHtmlOverlay[D],k=M.labelInfo[D];if(I&&k){var U=k.rotation,F=k.position,B=k.width,z=k.height,H=i.mapCanvasSpaceToRelativePosition(F.x,F.y),Y=H.x,W=H.y,Z=B>5&&!i.state.webGLVisible;Object.assign(I.style,{top:"".concat(W,"px"),left:"".concat(Y,"px"),width:"".concat(B,"px"),height:"".concat(z,"px"),display:Z?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(i.state.zoom),") rotate(").concat(U,"rad")})}}}for(var le=0;le<o.items.length;le++){var ce=o.items[le],ue=ce.id,de=ce.size,he=o.idToHtmlOverlay[ue];if(he){var fe=i.state.nodes.idToPosition[ue],te=i.mapCanvasSpaceToRelativePosition(fe.x,fe.y),Q=te.x,ee=te.y,ae="".concat(2*(de??bi),"px");Object.assign(he.style,{top:"".concat(ee,"px"),left:"".concat(Q,"px"),width:ae,height:ae,transform:"translate(-50%, -50%) scale(".concat(Number(i.state.zoom),")")})}}}}var pe=!d&&i.layoutUpdating,_e=v!==i.layoutComputing;i.layoutComputing=v,i.layoutUpdating=d,pe&&i.callIfRegistered(I9),_e&&i.callIfRegistered("onLayoutComputing",v),i.justSwitchedRenderer=!1,i.hasResized=!1,c!==void 0&&c()}})(function(){i.animationRequestId=window.requestAnimationFrame(l)})}catch(c){if(!i.callbacks.isCallbackRegistered(Kp))throw c;i.callIfRegistered(Kp,c)}};this.animationRequestId=window.requestAnimationFrame(l)}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var i,a=Qa(this.state.nodes.items),o=this.state.nodes.idToPosition,u=[],s=function(h,d){var v=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!v){if(Array.isArray(h)||(v=function(_,E){if(_){if(typeof _=="string")return D9(_,E);var T={}.toString.call(_).slice(8,-1);return T==="Object"&&_.constructor&&(T=_.constructor.name),T==="Map"||T==="Set"?Array.from(_):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?D9(_,E):void 0}}(h))||d){v&&(h=v);var y=0,b=function(){};return{s:b,n:function(){return y>=h.length?{done:!0}:{done:!1,value:h[y++]}},e:function(_){throw _},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,m=!0,g=!1;return{s:function(){v=v.call(h)},n:function(){var _=v.next();return m=_.done,_},e:function(_){g=!0,p=_},f:function(){try{m||v.return==null||v.return()}finally{if(g)throw p}}}}(a);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=o[l.id],f=this.mapCanvasSpaceToRelativePosition(c.x,c.y);u.push(Ma(Ma({},l),{},{x:f.x,y:f.y}))}}catch(h){s.e(h)}finally{s.f()}return u}},{key:"dumpRelationships",value:function(){return Qa(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(i,a){var o=this.canvasRect,u=window.devicePixelRatio||1,s=(i-this.state.panX)*this.state.zoom/u,l=(a-this.state.panY)*this.state.zoom/u;return{x:s+.5*o.width,y:l+.5*o.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(i,a){var o=this.glCanvas.getBoundingClientRect(),u=window.devicePixelRatio||1,s=u*(i-.5*o.width),l=u*(a-.5*o.height);return{x:this.state.panX+s/this.state.zoom,y:this.state.panY+l/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values(Qa(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=[],s=i.filter(function(l){var c=l.id,f=a.state.nodes.idToItem[c]!==void 0;return f||u.push(c),f});u.length>0&&Yr.warn("Failed to set positions for following nodes:",u,"They do not exist in the graph."),this.state.nodes.updatePositions(s),this.currentLayout.updateNodes(s),o||this.currentLayout.terminateUpdate(),this.hasResized=!0,this.getNodesOnScreen().nodes.length===0&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var i=this.glCanvas.getBoundingClientRect(),a=this.mapRelativePositionToCanvasSpace(0,0),o=a.x,u=a.y,s=this.mapRelativePositionToCanvasSpace(i.width,i.height);return function(l,c,f,h,d){var v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:["node"],y=d.nodes,b=d.rels,p=Math.min(l,f),m=Math.max(l,f),g=Math.min(c,h),_=Math.max(c,h),E=[],T=[];if(v.includes("node"))for(var w=0,S=Object.values(y.idToPosition);w<S.length;w++){var C=S[w],R=C.x,D=C.y;R!==void 0&&D!==void 0&&R>p&&R<m&&D>g&&D<_&&E.push(C)}if(v.includes("relationship")){var M,I=gN(b.items);try{for(I.s();!(M=I.n()).done;){var k=M.value,U=k.from,F=k.to,B=y.idToPosition[U],z=y.idToPosition[F];if(B.x!==void 0&&B.y!==void 0&&z.x!==void 0&&z.y!==void 0){var H=B.x>p&&B.x<m&&B.y>g&&B.y<_,Y=z.x>p&&z.x<m&&z.y>g&&z.y<_;H&&Y&&T.push(k)}}}catch(W){I.e(W)}finally{I.f()}}return{nodes:E,rels:T}}(o,u,s.x,s.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(i){this.layoutDoneCallback=i}},{key:"registerComputingCallback",value:function(i){this.layoutComputingCallback=i}},{key:"getPosition",value:function(i){return this.currentLayout.getNodePositions([{id:i}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(i){var a=this;this.pendingZoomOperation=function(){return a.state.setZoom(i,a.glCanvas)}}},{key:"setPanCoordinates",value:function(i,a){this.state.setPan(i,a)}},{key:"setZoomAndPan",value:function(i,a,o){var u=this;this.pendingZoomOperation=function(){return u.state.setZoomPan(i,a,o,u.glCanvas)}}},{key:"fit",value:function(i,a){var o=this;this.pendingZoomOperation=function(){return o.state.fitNodes(i,a)}}},{key:"resetZoom",value:function(){var i=this;this.pendingZoomOperation=function(){return i.state.setZoomReset()}}},{key:"setRenderer",value:function(i){this.state.setRenderer(i)}},{key:"on",value:function(i,a){this.callbacks.register(i,a)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var i;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),this.layoutRunner!==void 0&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),this.webGLContext!==void 0&&C9(this.webGLContext),this.webGLMinimapContext!==void 0&&C9(this.webGLMinimapContext),$p(this.glCanvas),$p(this.glMinimapCanvas),this.canvasRenderer.destroy(),$p(this.c2dCanvas),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach(function(a){a()}),i=this.instanceId,delete eO[i],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(i){return this.canvasRenderer.getRelsAt(i)}},{key:"getCanvasNodesAt",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.canvasRenderer.getNodesAt(i,a)}},{key:"getLayout",value:function(i){return i===zE?this.hierarchicalLayout:i===U0e?this.forceLayout:i===F0e?this.gridLayout:i===z0e?this.freeLayout:i===q0e?this.d3ForceLayout:this.forceLayout}},{key:"setLayout",value:function(i){Yr.info("Switching to layout: ".concat(i));var a=this.currentLayoutType,o=this.getLayout(i);i==="free"&&o.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=o,this.currentLayoutType=i,a&&a!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(i){this.getLayout(this.state.layout).setOptions(i)}},{key:"getDataUrlForCanvas",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=i.toDataURL("image/png");return a?o.replace(/^data:image\/png/,"data:application/octet-stream"):o}},{key:"initiateFileDownload",value:function(i,a){var o=document.createElement("a");o.style.display="none",o.setAttribute("download",i);var u=this.getDataUrlForCanvas(a,!0);o.setAttribute("href",u),o.click()}},{key:"updateLayoutAndPositions",value:function(){var i=this.state.nodes,a=i.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var o=this.currentLayout.getNodePositions(a);return i.updatePositions(o),o}},{key:"saveToFile",value:function(i){var a=Ma(Ma({},uE),i),o=this.createCanvasAndRenderImage(this.c2dCanvas.width,this.c2dCanvas.height,a.backgroundColor);this.initiateFileDownload(a.filename,o),$p(o),o=null}},{key:"getImageDataURL",value:function(i){var a=Ma(Ma({},uE),i),o=this.createCanvasAndRenderImage(this.c2dCanvas.width,this.c2dCanvas.height,a.backgroundColor),u=this.getDataUrlForCanvas(o);return $p(o),o=null,u}},{key:"prepareLargeFileForDownload",value:function(i){var a=this,o=Ma(Ma({},uE),i),u=this.currentLayout.getNodePositions(this.state.nodes.items),s=JS(u,100),l=s.nodesWidth,c=s.nodesHeight,f=s.centerX,h=s.centerY,d=Math.max(Math.min(l+100,15e3),5e3),v=Math.max(Math.min(c+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise(function(y,b){try{a.setPanCoordinates(f,h);var p=Math.max(d/l-.02,a.state.minZoom),m=Math.max(v/c-.02,a.state.minZoom);a.setZoomLevel(Math.min(p,m))}catch(g){return Yr.error("An error occurred while downloading the file"),void b(new Error("An error occurred while downloading the file",{cause:g}))}setTimeout(function(){try{var g=a.createCanvasAndRenderImage(d,v,o.backgroundColor);a.initiateFileDownload(o.filename,g),$p(g),g=null,y(!0)}catch(_){b(new Error("An error occurred while downloading the file",{cause:_}))}},500)})}},{key:"createCanvasAndRenderImage",value:function(i,a,o){var u=function(c,f){var h=document.createElement("canvas");return document.body.appendChild(h),A$(h,c,f),h}(i,a),s=function(c){return c.getContext("2d")}(u),l=this.updateLayoutAndPositions();return this.canvasRenderer.processUpdates(),this.canvasRenderer.render(l,{canvas:u,context:s,backgroundColor:o,ignoreAnimations:!0,showCaptions:!0}),u}},{key:"saveFullGraphToLargeFile",value:(r=bN().m(function i(a){var o,u,s,l,c;return bN().w(function(f){for(;;)switch(f.n){case 0:return o=Ma(Ma({},uE),a),u=this.state.zoom,s=this.state.panX,l=this.state.panY,f.p=1,f.n=2,this.prepareLargeFileForDownload(o);case 2:f.n=5;break;case 3:if(f.p=3,c=f.v,Yr.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(Kp)){f.n=4;break}this.callIfRegistered(Kp,c),f.n=5;break;case 4:throw c;case 5:return f.p=5,this.isRenderingDisabled=!1,this.setZoomLevel(u),this.setPanCoordinates(s,l),f.f(5);case 6:return f.a(2)}},i,this,[[1,3,5,6]])}),n=function(){var i=this,a=arguments;return new Promise(function(o,u){var s=r.apply(i,a);function l(f){P9(s,o,u,l,c,"next",f)}function c(f){P9(s,o,u,l,c,"throw",f)}l(void 0)})},function(i){return n.apply(this,arguments)})}],e&&Jbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();function mb(t){return mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(t)}function _T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r_e(n.key),n)}}function wT(t,e,r){return e&&t_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_e(t){var e=function(r){if(mb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(mb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return mb(e)=="symbol"?e:e+""}var WD=function(){return wT(function t(e,r){if(_T(this,t),!e)throw new Error("Tried to create a node with no data");this.data=e,this.parent=r,this.children=[]},[{key:"addChild",value:function(t){this.children.push(t)}},{key:"isRoot",value:function(){return this.parent===null}},{key:"print",value:function(){var t=this.data.name;this.isRoot()||(t="".concat(t,"		").concat(function(n){for(var i=(Math.round(1e3*n)/1e3).toFixed(3);i.length<6;)i=" ".concat(i);return i}(this.data._timeSpent())," ms"),this.parent.isRoot()||(t="".concat(t,"	").concat(this._percentageOfParentSpent(),"%")));var e=this.noOfChildren()>0;for(var r in e?(t="".concat(t,"	 Children: ").concat(this.noOfChildren()),console.groupCollapsed(t)):console.log(t),this.children)this.children[r].print();e&&console.groupEnd()}},{key:"noOfChildren",value:function(){return this.children.length}},{key:"_percentageOfParentSpent",value:function(){return Math.round(this.data._timeSpent()/this.parent.data._timeSpent()*100)}}])}(),k$=function(){return wT(function t(e){_T(this,t),this.name=e,this.startTime=performance.now(),this.endTime=null},[{key:"close",value:function(){this.endTime=performance.now()}},{key:"_timeSpent",value:function(){if(this.startTime===null||this.endTime===null)throw new Error("You have an error in your performance measurements that makes the whole tree unreliable. You probably forgot to call performanceTestEnd on ".concat(this.name));return this.endTime-this.startTime}}])}(),n_e=function(){return wT(function t(){_T(this,t),this.root=new WD(new k$("Performance Tree"),null),this.current=this.root},[{key:"clear",value:function(){this.root.children=[],this.current=this.root}},{key:"add",value:function(t){if(this.current){var e=new WD(t,this.current);this.current.addChild(e),this.current=e}else{if(this.root)throw new Error("Performance tree is screwed up");this.root=new WD(t,null),this.current=this.root}}},{key:"close",value:function(){if(this.current.isRoot())throw new Error("Tried to close performance tree root. You probably have one too many Performance.endTest() in your code.");this.current.data.close(),this.current=this.current.parent}},{key:"getCurrentData",value:function(){return this.current.data}},{key:"print",value:function(){this.root.noOfChildren()>0&&this.root.print()}}])}(),i_e=function(){return wT(function t(){_T(this,t),window.performance?(this.disabled=!1,this.tree=new n_e):(this.disabled=!0,this.tree=null)},[{key:"startTest",value:function(t){if(!this.disabled){var e,r=t||(e=(e=new Error().stack.split(`
`)[3].trim()).split(" ")[0]==="at"?e.split(" ")[1]:e.split("@")[0]),n=new k$(r);this.tree.add(n)}}},{key:"endTest",value:function(){this.disabled||this.tree.close()}},{key:"reset",value:function(){this.disabled||this.tree.clear()}},{key:"print",value:function(){this.disabled||this.tree.print()}}])}();function ET(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(s,l){if(s){if(typeof s=="string")return k9(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?k9(s,l):void 0}}(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function k9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function a_e(t){return"from"in t&&"to"in t}function o_e(t){this.channels[t]={adds:{},updates:{},removes:{}}}function u_e(t){delete this.channels[t]}function s_e(t){this.channels[t].adds={},this.channels[t].updates={},this.channels[t].removes={}}var L$=function(t){return"html"in t?t.html:"captionHtml"in t?t.captionHtml:void 0};function l_e(t,e){var r,n=!1,i=ET(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.id;if(this.idToItem[o]===void 0){if(a=(0,cn.cloneDeep)(a),this.items.push(a),this.idToItem[o]=a,this.idToPosition[o]={id:o,x:0,y:0},"x"in a&&"y"in a){var u=a,s=u.x,l=u.y;isNaN(s)||isNaN(l)||(this.idToPosition[o].x=s,this.idToPosition[o].y=l)}var c=L$(a);if(c instanceof HTMLElement){var f=document.createElement("div");Object.assign(f.style,{position:"absolute"}),f.appendChild(c),this.idToHtmlOverlay[o]=f}for(var h=Object.values(this.channels),d=0,v=h;d<v.length;d++){var y=v[d];y.removes[o]===void 0?y.adds[o]=a:(delete y.removes[o],y.updates[o]=a)}n=!0}}}catch(b){i.e(b)}finally{i.f()}n&&(this.version+=1,e!==void 0&&(e.added=!0))}function c_e(t,e){var r,n=!1,i=ET(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.id,u=this.idToItem[o];if(u!==void 0){Object.assign(u,a);var s=L$(a);if(s instanceof HTMLElement){var l;(l=this.idToHtmlOverlay[o])===null||l===void 0||l.remove(),delete this.idToHtmlOverlay[o];var c=document.createElement("div");Object.assign(c.style,{position:"absolute"}),c.appendChild(s),this.idToHtmlOverlay[o]=c}for(var f=Object.values(this.channels),h=0,d=f;h<d.length;h++){var v=d[h];if(v.adds[o]===void 0){var y=v.updates[o];y===void 0&&(y={id:o},a_e(u)&&(y={id:o,from:u.from,to:u.to}),v.updates[o]=y),Object.assign(y,a)}}e!==void 0&&(e.updated=!0)}n=!0}}catch(b){i.e(b)}finally{i.f()}n&&(this.version+=1)}function f_e(t,e){var r,n=!1,i=ET(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=this.idToItem[a];if(o!==void 0){var u;n=!0,delete this.idToItem[o.id],delete this.idToPosition[o.id],(u=this.idToHtmlOverlay[o.id])===null||u===void 0||u.remove(),delete this.idToHtmlOverlay[o.id],this.items.splice(this.items.indexOf(o),1);for(var s=Object.values(this.channels),l=0,c=s;l<c.length;l++){var f=c[l];f.adds[a]!==void 0?delete f.adds[a]:(delete f.updates[a],f.removes[a]=o)}}}}catch(h){i.e(h)}finally{i.f()}n&&(e!==void 0&&(e.removed=!0),this.version+=1)}function h_e(t){var e,r=ET(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(this.idToPosition[n.id]!==void 0){var i=this.idToPosition[n.id];Object.assign(i,n)}else this.idToPosition[n.id]={id:n.id,x:n.x,y:n.y,pinned:n.pinned}}}catch(a){r.e(a)}finally{r.f()}}function d_e(t){for(var e in this.idToHtmlOverlay){var r=this.idToHtmlOverlay[e];t.appendChild(r)}}var L9=function(){return{idToItem:Gn.shallow({}),items:Gn.shallow([]),channels:Gn.shallow({}),idToPosition:Gn.shallow({}),idToHtmlOverlay:Gn.shallow({}),version:0,addChannel:wn(o_e),removeChannel:wn(u_e),clearChannel:wn(s_e),add:wn(l_e),update:wn(c_e),remove:wn(f_e),updatePositions:wn(h_e),updateHtmlOverlay:wn(d_e)}};function bb(t){return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}function j9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(r),!0).forEach(function(n){v_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v_e(t,e,r){return(e=function(n){var i=function(a){if(bb(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,"string");if(bb(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(n);return bb(i)=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var p_e=function(t){var e=t.minZoom,r=t.maxZoom,n=t.allowDynamicMinZoom,i=n===void 0||n,a=t.layout,o=t.layoutOptions,u=t.styling,s=u===void 0?{}:u,l=t.panX,c=l===void 0?0:l,f=t.panY,h=f===void 0?0:f,d=t.initialZoom,v=t.renderer,y=v===void 0?n$:v,b=t.disableWebGL,p=b!==void 0&&b,m=t.disableWebWorkers,g=m!==void 0&&m,_=t.disableTelemetry,E=_!==void 0&&_;WW(!0),e3.isolateGlobalState();var T=(0,cn.isNil)(e)?.075:e,w=(0,cn.isNil)(r)?10:r,S=function(F){var B=F.nodeDefaultBorderColor,z=F.selectedBorderColor,H=F.disabledItemColor,Y=F.disabledItemFontColor,W=F.selectedInnerBorderColor,Z=F.dropShadowColor,le=F.defaultNodeColor,ce=F.defaultRelationshipColor,ue=F.minimapViewportBoxColor,de=BD({},s9.default),he=BD({},s9.selected),fe=BD({},l9.selected),te={color:jX,fontColor:"#DDDDDD"},Q=LX,ee=kX;return vf(W,function(ae){he.rings[0].color=ae,fe.rings[0].color=ae},"selectedInnerBorderColor"),vf(z,function(ae){he.rings[1].color=ae,fe.rings[1].color=ae},"selectedBorderColor"),vf(B,function(ae){var pe;de.rings=[{color:ae,widthFactor:.025}],he.rings=[{color:ae,widthFactor:.025}].concat(function(_e){if(Array.isArray(_e))return jD(_e)}(pe=he.rings)||function(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}(pe)||function(_e,Te){if(_e){if(typeof _e=="string")return jD(_e,Te);var Ae={}.toString.call(_e).slice(8,-1);return Ae==="Object"&&_e.constructor&&(Ae=_e.constructor.name),Ae==="Map"||Ae==="Set"?Array.from(_e):Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae)?jD(_e,Te):void 0}}(pe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())},"nodeDefaultBorderColor"),vf(Z,function(ae){he.shadow.color=ae,fe.shadow.color=ae},"dropShadowColor"),vf(H,function(ae){te.color=ae},"disabledItemColor"),vf(Y,function(ae){te.fontColor=ae},"disabledItemFontColor"),vf(le,function(ae){ee=ae},"defaultNodeColor"),vf(ce,function(ae){Q=ae},"defaultRelationshipColor"),{nodeBorderStyles:{default:de,selected:he},relationshipBorderStyles:{default:l9.default,selected:fe},disabledItemStyles:te,defaultNodeColor:ee,defaultRelationshipColor:Q,minimapViewportBoxColor:ue||n3}}(s),C=S.nodeBorderStyles,R=S.relationshipBorderStyles,D=S.disabledItemStyles,M=S.defaultNodeColor,I=S.defaultRelationshipColor,k=S.minimapViewportBoxColor,U=Gn({zoom:d||kD,minimapZoom:kD,defaultZoomLevel:kD,panX:c,panY:h,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:LD,forceWebGL:!1,renderer:y,disableWebGL:p,disableWebWorkers:g,disableTelemetry:E,fitMovement:0,layout:a,layoutOptions:o,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:C,relationshipBorderStyles:R,disabledItemStyles:D,defaultNodeColor:M,defaultRelationshipColor:I,minimapViewportBoxColor:k,get minZoom(){return T},get maxZoom(){return w},get minMinimapZoom(){return 0},get maxMinimapZoom(){return .2},get webGLVisible(){var F=this.fitMovement>50;return this.renderer==="webgl"||F},nodes:L9(),rels:L9(),graphUpdates:0,waypoints:{data:Gn.shallow({}),counter:0},setGraphUpdated:wn(function(){this.graphUpdates+=1}),setRenderer:wn(function(F){wn(function(){this.graphUpdates+=1}),this.renderer=F}),setWaypoints:wn(function(F){this.waypoints.data=F,this.waypoints.counter+=1}),setZoomPan:wn(function(F,B,z,H){if(i){var Y=Object.values(this.nodes.idToPosition),W=HD(Y,T,w,H,F,this.zoom);W!==this.zoom&&(this.zoom=W,F===W&&(this.panX=B,this.panY=z))}else{var Z=vb(F,this.zoom,T,w);Z!==this.zoom&&(this.zoom=Z,this.panX=B,this.panY=z)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setZoom:wn(function(F,B){if(i){var z=Object.values(this.nodes.idToPosition);this.zoom=HD(z,T,w,B,F,this.zoom)}else this.zoom=vb(F,this.zoom,T,w);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1}),setPan:wn(function(F,B){this.panX=F,this.panY=B,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setLayout:wn(function(F){this.layout=F}),setLayoutOptions:wn(function(F){this.layoutOptions=F}),fitNodes:wn(function(F){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.fitNodeIds=(0,cn.intersection)(F,(0,cn.map)(this.nodes.items,"id")),this.zoomOptions=B9(B9({},LD),B)}),setZoomReset:wn(function(){this.resetZoom=!0}),clearFit:wn(function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=LD}),clearReset:wn(function(){this.resetZoom=!1,this.fitMovement=0}),updateZoomToFit:wn(function(F,B,z,H){var Y;if(this.fitMovement=Math.abs(F-this.zoom)+Math.abs(B-this.panX)+Math.abs(z-this.panY),i){var W=Object.values(this.nodes.idToPosition);Y=HD(W,T,w,H,F,this.zoom)}else Y=vb(F,this.zoom,T,w);this.zoom=Y,this.panX=B,this.panY=z}),updateMinimapZoomToFit:wn(function(F,B,z){this.minimapZoom=F,this.minimapPanX=B,this.minimapPanY=z}),autorun:HS,reaction:ZW});return U},g_e=function(t){return!!t&&typeof t.id=="string"&&t.id.length>0},sE=Zn(1187);function _b(t){return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function U9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(r),!0).forEach(function(n){y_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y_e(t,e,r){return(e=function(n){var i=function(a){if(_b(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var u=o.call(a,"string");if(_b(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(n);return _b(i)=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z9(t){return function(e){if(Array.isArray(e))return XD(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return XD(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XD(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function XD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var $D=function(t){return{id:t.elementId}},q9=function(t){return{id:t.elementId,from:t.startNodeElementId,to:t.endNodeElementId}};sE.resultTransformers.mappedResultTransformer({map:function(t){return Object.values(t.toObject())},collect:function(t){var e={nodes:[],relationships:[]},r=new Map;return function(n){for(var i=z9(n),a=[];i.length;){var o=i.pop();Array.isArray(o)?i.push.apply(i,z9(o)):a.push(o)}return a}(t).forEach(function(n){(0,sE.isNode)(n)?(e.nodes.push($D(n)),r.set(n.elementId,n)):(0,sE.isPath)(n)?n.segments.forEach(function(i){e.nodes.push($D(i.start)),e.nodes.push($D(i.end)),e.relationships.push(q9(i.relationship)),r.set(i.start.elementId,i.start),r.set(i.end.elementId,i.end),r.set(i.relationship.elementId,i.relationship)}):(0,sE.isRelationship)(n)&&(e.relationships.push(q9(n)),r.set(n.elementId,n))}),F9(F9({},e),{},{recordObjectMap:r})}});const m_e=(t=>{var e={};return Zn.d(e,t),e})({AnalyticsBrowser:()=>gme});var KD,b_e=new Uint8Array(16);function __e(){if(!KD&&!(KD=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return KD(b_e)}const w_e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ha=[],ZD=0;ZD<256;++ZD)ha.push((ZD+256).toString(16).substr(1));const E_e=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ha[t[e+0]]+ha[t[e+1]]+ha[t[e+2]]+ha[t[e+3]]+"-"+ha[t[e+4]]+ha[t[e+5]]+"-"+ha[t[e+6]]+ha[t[e+7]]+"-"+ha[t[e+8]]+ha[t[e+9]]+"-"+ha[t[e+10]]+ha[t[e+11]]+ha[t[e+12]]+ha[t[e+13]]+ha[t[e+14]]+ha[t[e+15]]).toLowerCase();if(!function(n){return typeof n=="string"&&w_e.test(n)}(r))throw TypeError("Stringified UUID is invalid");return r};var G9,QD,JD=0,eM=0;const S_e=function(t,e,r){var n=0,i=new Array(16),a=(t=t||{}).node||G9,o=t.clockseq!==void 0?t.clockseq:QD;if(a==null||o==null){var u=t.random||(t.rng||__e)();a==null&&(a=G9=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),o==null&&(o=QD=16383&(u[6]<<8|u[7]))}var s=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:eM+1,c=s-JD+(l-eM)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||s>JD)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");JD=s,eM=l,QD=o;var f=(1e4*(268435455&(s+=122192928e5))+l)%4294967296;i[n++]=f>>>24&255,i[n++]=f>>>16&255,i[n++]=f>>>8&255,i[n++]=255&f;var h=s/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=255&h,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var d=0;d<6;++d)i[n+d]=a[d];return e||E_e(i)};function wb(t){return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(t)}function _N(){var t,e,r=typeof Symbol=="function"?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(d,v,y,b){var p=v&&v.prototype instanceof u?v:u,m=Object.create(p.prototype);return Ko(m,"_invoke",function(g,_,E){var T,w,S,C=0,R=E||[],D=!1,M={p:0,n:0,v:t,a:I,f:I.bind(t,4),d:function(k,U){return T=k,w=0,S=t,M.n=U,o}};function I(k,U){for(w=k,S=U,e=0;!D&&C&&!F&&e<R.length;e++){var F,B=R[e],z=M.p,H=B[2];k>3?(F=H===U)&&(S=B[(w=B[4])?5:(w=3,3)],B[4]=B[5]=t):B[0]<=z&&((F=k<2&&z<B[1])?(w=0,M.v=U,M.n=B[1]):z<H&&(F=k<3||B[0]>U||U>H)&&(B[4]=k,B[5]=U,M.n=H,w=0))}if(F||k>1)return o;throw D=!0,U}return function(k,U,F){if(C>1)throw TypeError("Generator is already running");for(D&&U===1&&I(U,F),w=U,S=F;(e=w<2?t:S)||!D;){T||(w?w<3?(w>1&&(M.n=-1),I(w,S)):M.n=S:M.v=S);try{if(C=2,T){if(w||(k="next"),e=T[k]){if(!(e=e.call(T,S)))throw TypeError("iterator result is not an object");if(!e.done)return e;S=e.value,w<2&&(w=0)}else w===1&&(e=T.return)&&e.call(T),w<2&&(S=TypeError("The iterator does not provide a '"+k+"' method"),w=1);T=t}else if((e=(D=M.n<0)?S:g.call(_,M))!==o)break}catch(B){T=t,w=1,S=B}finally{C=1}}return{value:e,done:D}}}(d,y,b),!0),m}var o={};function u(){}function s(){}function l(){}e=Object.getPrototypeOf;var c=[][n]?e(e([][n]())):(Ko(e={},n,function(){return this}),e),f=l.prototype=u.prototype=Object.create(c);function h(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,l):(d.__proto__=l,Ko(d,i,"GeneratorFunction")),d.prototype=Object.create(f),d}return s.prototype=l,Ko(f,"constructor",l),Ko(l,"constructor",s),s.displayName="GeneratorFunction",Ko(l,i,"GeneratorFunction"),Ko(f),Ko(f,i,"Generator"),Ko(f,n,function(){return this}),Ko(f,"toString",function(){return"[object Generator]"}),(_N=function(){return{w:a,m:h}})()}function Ko(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}Ko=function(a,o,u,s){if(o)i?i(a,o,{value:u,enumerable:!s,configurable:!s,writable:!s}):a[o]=u;else{var l=function(c,f){Ko(a,c,function(h){return this._invoke(c,f,h)})};l("next",0),l("throw",1),l("return",2)}},Ko(t,e,r,n)}function V9(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){return void r(l)}u.done?e(s):Promise.resolve(s).then(n,i)}function H9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j$(n.key),n)}}function j$(t){var e=function(r){if(wb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(wb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return wb(e)=="symbol"?e:e+""}var Y9=window.localStorage,W9="neo4j.nvl.sTid",X9=!1,O_e=function(){return t=function a(){var o,u,s;(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),o=this,s=void 0,(u=j$(u="analytics"))in o?Object.defineProperty(o,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[u]=s;var l=new m_e.AnalyticsBrowser;this.analytics=l},e=[{key:"init",value:function(a){this.analytics.load({writeKey:a}),this.analytics.addSourceMiddleware(function(o){var u=o.payload,s=o.next,l=u.obj.context.page;l!==void 0&&(l.url="",l.title="",l.search="",l.referrer="",l.path=""),s(u)})}},{key:"trackEvent",value:(n=_N().m(function a(o){var u;return _N().w(function(s){for(;;)switch(s.n){case 0:return s.n=1,this.ready();case 1:u="".concat(o.eventPrefix?o.eventPrefix:"NVL_core","-").concat(o.event),this.analytics.track(u,o.properties).catch(function(l){Yr.warn("TRACKING: Event tracking is failed. err: ".concat(l))});case 2:return s.a(2)}},a,this)}),i=function(){var a=this,o=arguments;return new Promise(function(u,s){var l=n.apply(a,o);function c(h){V9(l,u,s,c,f,"next",h)}function f(h){V9(l,u,s,c,f,"throw",h)}c(void 0)})},function(a){return i.apply(this,arguments)})},{key:"identify",value:function(){if(!X9){var a=this.getSegmentTrackingId();this.analytics.identify(a).catch(function(o){Yr.debug("TRACKING: Identifying user for Segment tracking failed. err: ".concat(o))}),X9=!0}}},{key:"loadSavedSegmentId",value:function(){try{var a=Y9.getItem(W9);return typeof a=="string"?a:null}catch(o){return Yr.debug("TRACKING: Retrieving tracking Id failed. err: ".concat(o)),null}}},{key:"getSegmentTrackingId",value:function(){var a=this.loadSavedSegmentId(),o=a??S_e();return this.saveTrackingId(o),o}},{key:"saveTrackingId",value:function(a){Y9.setItem(W9,a)}},{key:"ready",value:function(){return this.analytics.ready().catch(function(a){Yr.debug("TRACKING: segment track instance not ready. err: ".concat(a))})}}],e&&H9(t.prototype,e),r&&H9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i}();function Eb(t){return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function wN(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=B$(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return o=s.done,s},e:function(s){u=!0,a=s},f:function(){try{o||r.return==null||r.return()}finally{if(u)throw a}}}}function B$(t,e){if(t){if(typeof t=="string")return $9(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$9(t,e):void 0}}function $9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){F$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z$(n.key),n)}}function Zp(t,e,r){U$(t,e),e.set(t,r)}function U$(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F$(t,e,r){return(e=z$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z$(t){var e=function(r){if(Eb(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,"string");if(Eb(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t);return Eb(e)=="symbol"?e:e+""}function ot(t,e){return t.get(mo(t,e))}function _g(t,e,r){return t.set(mo(t,e),r),r}function mo(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}var tO=new WeakMap,Lr=new WeakMap,en=new WeakMap,cs=new WeakMap,wg=new WeakMap,x0=new WeakMap,Wo=new WeakSet,x_e=function(){return t=function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,r),function(s,l){U$(s,l),l.add(s)}(this,Wo),F$(this,"performance",void 0),Zp(this,tO,void 0),Zp(this,Lr,void 0),Zp(this,en,void 0),Zp(this,cs,void 0),Zp(this,wg,void 0),Zp(this,x0,void 0),o.disableTelemetry||(_g(x0,this,new O_e),ot(x0,this).init("4SGwdwzuDm5WkFvQtz7D6ATQlo14yjmW"),ot(x0,this).identify()),mo(Wo,this,C_e).call(this,o),_g(tO,this,new Yme(u)),this.performance=new i_e,_g(cs,this,o),_g(wg,this,n),this.checkWebGLCompatibility(),mo(Wo,this,Z9).call(this,i,a,o)},e=[{key:"restart",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.getNodePositions(),a=ot(Lr,this),o=a.zoom,u=a.layout,s=a.layoutOptions,l=a.nodes,c=a.rels;ot(en,this).destroy(),Object.assign(ot(cs,this),r),mo(Wo,this,Z9).call(this,l.items,c.items,ot(cs,this)),this.setZoom(o),this.setLayout(u),this.setLayoutOptions(s),this.addAndUpdateElementsInGraph(l.items,c.items),n&&this.setNodePositions(i)}},{key:"addAndUpdateElementsInGraph",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];mo(Wo,this,tM).call(this,r),mo(Wo,this,rM).call(this,n,r);var i={added:!1,updated:!1};ot(Lr,this).nodes.update(r,$i({},i)),ot(Lr,this).rels.update(n,$i({},i)),ot(Lr,this).nodes.add(r,$i({},i)),ot(Lr,this).rels.add(n,$i({},i)),ot(Lr,this).setGraphUpdated(),ot(en,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var r=this;return Qa(ot(Lr,this).nodes.items).filter(function(n){return n.selected}).map(function(n){return $i($i({},n),ot(Lr,r).nodes.idToPosition[n.id])})}},{key:"getSelectedRelationships",value:function(){return Qa(ot(Lr,this).rels.items).filter(function(r){return r.selected})}},{key:"updateElementsInGraph",value:function(r,n){var i=this,a={added:!1,updated:!1},o=r.filter(function(s){return ot(Lr,i).nodes.idToItem[s.id]!==void 0}),u=n.filter(function(s){return ot(Lr,i).rels.idToItem[s.id]!==void 0});mo(Wo,this,tM).call(this,o),mo(Wo,this,rM).call(this,u,r),ot(Lr,this).nodes.update(o,$i({},a)),ot(Lr,this).rels.update(u,$i({},a)),ot(en,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(r,n){mo(Wo,this,tM).call(this,r),mo(Wo,this,rM).call(this,n,r);var i={added:!1,updated:!1};ot(Lr,this).nodes.add(r,$i({},i)),ot(Lr,this).rels.add(n,$i({},i)),ot(en,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(r){if(Array.isArray(r)&&!(0,cn.isEmpty)(r)){var n,i={},a=wN(r);try{for(a.s();!(n=a.n()).done;)i[n.value]=!0}catch(c){a.e(c)}finally{a.f()}var o,u=[],s=wN(ot(Lr,this).rels.items);try{for(s.s();!(o=s.n()).done;){var l=o.value;i[l.from]!==!0&&i[l.to]!==!0||u.push(l.id)}}catch(c){s.e(c)}finally{s.f()}u.length>0&&mo(Wo,this,Q9).call(this,u),mo(Wo,this,A_e).call(this,r),ot(Lr,this).setGraphUpdated(),ot(en,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(r){Array.isArray(r)&&!(0,cn.isEmpty)(r)&&(mo(Wo,this,Q9).call(this,r),ot(Lr,this).setGraphUpdated(),ot(en,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return ot(en,this).dumpNodes()}},{key:"getRelationships",value:function(){return ot(en,this).dumpRelationships()}},{key:"getNodeById",value:function(r){return ot(Lr,this).nodes.idToItem[r]}},{key:"getRelationshipById",value:function(r){return ot(Lr,this).rels.idToItem[r]}},{key:"getPositionById",value:function(r){return ot(Lr,this).nodes.idToPosition[r]}},{key:"getCurrentOptions",value:function(){return ot(cs,this)}},{key:"destroy",value:function(){ot(en,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(ot(Lr,this).nodes.items.map(function(r){return $i($i({},r),{},{selected:!1})}),ot(Lr,this).rels.items.map(function(r){return $i($i({},r),{},{selected:!1})}))}},{key:"fit",value:function(r,n){ot(en,this).fit(r,n)}},{key:"resetZoom",value:function(){ot(en,this).resetZoom()}},{key:"setRenderer",value:function(r){ot(en,this).setRenderer(r)}},{key:"setDisableWebGL",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];ot(cs,this).disableWebGL!==r&&(ot(cs,this).disableWebGL=r,this.restart())}},{key:"pinNode",value:function(r){ot(Lr,this).nodes.update([{id:r,pinned:!0}],{})}},{key:"unPinNode",value:function(r){ot(Lr,this).nodes.update(r.map(function(n){return{id:n,pinned:!1}}),{})}},{key:"setLayout",value:function(r){ot(Lr,this).setLayout(r)}},{key:"setLayoutOptions",value:function(r){ot(Lr,this).setLayoutOptions(r)}},{key:"getNodesOnScreen",value:function(){return ot(en,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return ot(en,this).getNodePositions()}},{key:"setNodePositions",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];ot(en,this).setNodePositions(r,n)}},{key:"isLayoutMoving",value:function(){return ot(en,this).isLayoutMoving()}},{key:"saveToFile",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ot(en,this).saveToFile(r)}},{key:"getImageDataUrl",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ot(en,this).getImageDataURL(r)}},{key:"saveFullGraphToLargeFile",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ot(en,this).saveFullGraphToLargeFile(r)}},{key:"setZoom",value:function(r){ot(en,this).setZoomLevel(r)}},{key:"setPan",value:function(r,n){ot(en,this).setPanCoordinates(r,n)}},{key:"setZoomAndPan",value:function(r,n,i){ot(en,this).setZoomAndPan(r,n,i)}},{key:"getScale",value:function(){return ot(en,this).getScale()}},{key:"getPan",value:function(){return ot(en,this).getPan()}},{key:"getHits",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["node","relationship"],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{hitNodeMarginWidth:0},a=ot(Lr,this),o=a.zoom,u=a.panX,s=a.panY,l=a.webGLVisible,c=S$(r,ot(wg,this),o,u,s),f=c.x,h=c.y,d=l?function(v,y,b){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=[],_=[],E=b.nodes,T=b.rels;return p.includes("node")&&g.push.apply(g,iE(function(w,S){var C,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,M=[],I=gN(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var k=function(){var U,F=C.value,B=R[F.id];if((B==null?void 0:B.x)===void 0||B.y===void 0)return 1;var z=((U=F.size)!==null&&U!==void 0?U:bi)*On(),H={x:B.x-w,y:B.y-S},Y=Math.pow(z,2),W=Math.pow(z+D,2),Z=Math.pow(H.x,2)+Math.pow(H.y,2),le=Math.sqrt(Z);if(Z<W){var ce=M.findIndex(function(ue){return ue.distance>le});M.splice(ce!==-1?ce:M.length,0,{data:F,targetCoordinates:{x:B.x,y:B.y},pointerCoordinates:{x:w,y:S},distanceVector:H,distance:le,insideNode:Z<Y})}};for(I.s();!(C=I.n()).done;)k()}catch(U){I.e(U)}finally{I.f()}return M}(v,y,E.items,E.idToPosition,m.hitNodeMarginWidth))),p.includes("relationship")&&_.push.apply(_,iE(function(w,S){var C,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},D=[],M={},I=gN(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var k=function(){var U=C.value,F=U.from,B=U.to;if(M["".concat(F,".").concat(B)]===void 0){var z=R[F],H=R[B];if((z==null?void 0:z.x)===void 0||z.y===void 0||(H==null?void 0:H.x)===void 0||H.y===void 0)return 0;var Y=a3({x:z.x,y:z.y},{x:H.x,y:H.y},{x:w,y:S});if(Y<=Ybe){var W=D.findIndex(function(Z){return Z.distance>Y});D.splice(W!==-1?W:D.length,0,{data:U,fromTargetCoordinates:{x:z.x,y:z.y},toTargetCoordinates:{x:H.x,y:H.y},pointerCoordinates:{x:w,y:S},distance:Y})}M["".concat(F,".").concat(B)]=1,M["".concat(B,".").concat(F)]=1}};for(I.s();!(C=I.n()).done;)k()}catch(U){I.e(U)}finally{I.f()}return D}(v,y,T.items,E.idToPosition))),{nodes:g,relationships:_}}(f,h,ot(Lr,this),n,i):function(v,y,b){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=[],_=[];return p.includes("node")&&g.push.apply(g,iE(b.getCanvasNodesAt({x:v,y},m.hitNodeMarginWidth))),p.includes("relationship")&&_.push.apply(_,iE(b.getCanvasRelsAt({x:v,y}))),{nodes:g,relationships:_}}(f,h,ot(en,this),n,i);return $i($i({},r),{},{nvlTargets:d})}},{key:"getContainer",value:function(){return ot(wg,this)}},{key:"checkWebGLCompatibility",value:function(){var r=ot(cs,this).disableWebGL;if(r===void 0||!r){var n=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("canvas");try{return window.WebGLRenderingContext!==void 0&&(i.getContext("webgl")!==null||i.getContext("experimental-webgl")!==null)}catch{return!1}}();if(!n){if(r!==void 0)throw new QX("Could not initialize WebGL");ot(cs,this).renderer=n$,Yr.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}r===void 0&&(ot(cs,this).disableWebGL=!n)}}}],e&&T_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Z9(){var t,e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_g(Lr,this,p_e(i)),i.minimapContainer instanceof HTMLElement||delete i.minimapContainer,_g(en,this,new e_e(ot(Lr,this),ot(wg,this),i)),this.addAndUpdateElementsInGraph(r,n),ot(en,this).on("restart",this.restart.bind(this));var a,o,u=wN((a=ot(tO,this).callbacks,Object.entries(a)));try{var s=function(){var c,f,h=(c=o.value,f=2,function(y){if(Array.isArray(y))return y}(c)||function(y,b){var p=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(p!=null){var m,g,_,E,T=[],w=!0,S=!1;try{if(_=(p=p.call(y)).next,b===0){if(Object(p)!==p)return;w=!1}else for(;!(w=(m=_.call(p)).done)&&(T.push(m.value),T.length!==b);w=!0);}catch(C){S=!0,g=C}finally{try{if(!w&&p.return!=null&&(E=p.return(),Object(E)!==E))return}finally{if(S)throw g}}return T}}(c,f)||B$(c,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),d=h[0],v=h[1];v!==void 0&&ot(en,e).on(d,function(){for(var y=arguments.length,b=new Array(y),p=0;p<y;p++)b[p]=arguments[p];return v.apply(ot(tO,e),b)})};for(u.s();!(o=u.n()).done;)s()}catch(c){u.e(c)}finally{u.f()}setTimeout(function(){ot(en,e).callIfRegistered("onInitialization")});var l=(t=ot(wg,this))===null||t===void 0?void 0:t.getAttribute("id");ot(cs,this).disableTelemetry||setTimeout(function(){ot(en,e).isDestroyed()||ot(x0,e).trackEvent({eventPrefix:s0e.includes(l)?l:null,event:"instantiated",properties:{}})},200)}function C_e(t){var e,r=t.logging;(r==null?void 0:r.level)!==void 0&&(e=r.level,Yr.setLevel(e),function(n,i){var a=n.methodFactory;n.methodFactory=function(o,u,s){var l=a(o,u,s);return function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];typeof i.logger=="function"?i.logger.apply(i,[o].concat(f)):l.apply(void 0,f)}},n.setLevel(n.getLevel())}(Yr,r))}function A_e(t){var e=Array.isArray(t)?t:[t],r=ot(Lr,this),n=r.nodes,i=r.fitNodeIds;n.remove(e,{removed:!1}),i.length&&e.find(function(a){return i.includes(a)})!==void 0&&ot(Lr,this).fitNodes(i.filter(function(a){return!e.includes(a)}))}function Q9(t){var e=Array.isArray(t)?t:[t];ot(Lr,this).rels.remove(e,{removed:!1})}function tM(t){var e=t.find(function(n){return!function(i){return!!i&&typeof i.id=="string"&&i.id.length>0}(n)});if(e){var r="";throw/^\d+$/.test(e.id)||(r=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(e),".").concat(r))}}function rM(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r="",n=null,i=ot(Lr,this),a=i.nodes,o=i.rels,u={},s=0;s<e.length;s++){var l=e[s];u[l.id]=l}for(var c=$i($i({},a.idToItem),u),f=o.idToItem,h=0;h<t.length;h++){var d=t[h];if(!g_e(d)){n=d,/^\d+$/.test(d.id)&&(r=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(f[d.id]===void 0){var v=c[d.from],y=c[d.to];if(v===void 0){r=' Node with id "'.concat(d.from,'" does not exist.'),n=d;break}if(y===void 0){r=' Node with id "'.concat(d.to,'" does not exist.'),n=d;break}}}if(n!==null)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(n),".").concat(r))}const J9=x_e,R_e="NVL_basic-wrapper",P_e="NVL_interactive-wrapper",eq=(t,e)=>{const r=lr.keyBy(t,"id"),n=lr.keyBy(e,"id"),i=lr.sortBy(lr.keys(r)),a=lr.sortBy(lr.keys(n)),o=[],u=[],s=[];let l=0,c=0;for(;l<i.length&&c<a.length;){const f=i[l],h=a[c];f===void 0||h===void 0||(f===h?(lr.isEqual(r[f],n[h])||s.push(h),l+=1,c+=1):f<h?(u.push(f),l+=1):(o.push(h),c+=1))}for(;l<i.length;){const f=i[l];f!==void 0&&(u.push(f),l+=1)}for(;c<a.length;){const f=a[c];f!==void 0&&(o.push(f),c+=1)}return{added:o.map(f=>n[f]).filter(f=>!lr.isNil(f)),removed:u.map(f=>r[f]).filter(f=>!lr.isNil(f)),updated:s.map(f=>n[f]).filter(f=>!lr.isNil(f))}},D_e=(t,e)=>{const r=lr.keyBy(t,"id");return e.map(n=>{const i=r[n.id];return i===void 0?null:lr.transform(n,(a,o,u)=>{(u==="id"||o!==i[u])&&Object.assign(a,{[u]:o})})}).filter(n=>n!==null&&Object.keys(n).length>1)},M_e=(t,e)=>lr.isEqual(t,e),I_e=t=>{const e=vr.useRef();return M_e(t,e.current)||(e.current=t),e.current},N_e=(t,e)=>{vr.useEffect(t,e.map(I_e))},k_e=vr.memo(vr.forwardRef(({nodes:t,rels:e,layout:r,layoutOptions:n,nvlCallbacks:i={},nvlOptions:a={},positions:o=[],zoom:u,pan:s,onInitializationError:l,...c},f)=>{const h=vr.useRef(null);vr.useImperativeHandle(f,()=>Object.getOwnPropertyNames(J9.prototype).reduce((g,_)=>({...g,[_]:(...E)=>h.current===null?null:h.current[_](...E)}),{}));const d=vr.useRef(null),[v,y]=vr.useState(t),[b,p]=vr.useState(e);return vr.useEffect(()=>{let m=null;if(d.current!==null&&h.current===null){const g={...a,layoutOptions:n};r!==void 0&&(g.layout=r);try{m=new J9(d.current,v,b,g,i),h.current=m,p(e),y(t)}catch(_){if(typeof l=="function")l(_);else throw _}}return()=>{m==null||m.destroy(),h.current=null}},[]),vr.useEffect(()=>{if(h.current===null)return;const m=eq(v,t),g=D_e(v,t),_=eq(b,e);if(m.added.length===0&&m.removed.length===0&&g.length===0&&_.added.length===0&&_.removed.length===0&&_.updated.length===0)return;p(e),y(t);const T=[...m.added,...g],w=[..._.added,..._.updated];h.current.addAndUpdateElementsInGraph(T,w);const S=_.removed.map(R=>R.id),C=m.removed.map(R=>R.id);h.current.removeRelationshipsWithIds(S),h.current.removeNodesWithIds(C)},[v,b,t,e]),vr.useEffect(()=>{const m=r??a.layout;h.current===null||m===void 0||h.current.setLayout(m)},[r,a.layout]),N_e(()=>{const m=n??(a==null?void 0:a.layoutOptions);h.current===null||m===void 0||h.current.setLayoutOptions(m)},[n,a.layoutOptions]),vr.useEffect(()=>{h.current===null||a.renderer===void 0||h.current.setRenderer(a.renderer)},[a.renderer]),vr.useEffect(()=>{h.current===null||a.disableWebGL===void 0||h.current.setDisableWebGL(a.disableWebGL)},[a.disableWebGL]),vr.useEffect(()=>{h.current===null||o.length===0||h.current.setNodePositions(o)},[o]),vr.useEffect(()=>{h.current!==null&&(u!==void 0&&s!==void 0?h.current.setZoomAndPan(u,s.x,s.y):u!==void 0?h.current.setZoom(u):s!==void 0&&h.current.setPan(s.x,s.y))},[u,s]),l0.jsx("div",{id:R_e,ref:d,style:{height:"100%",outline:"0"},...c})})),sy=10,nM=10,Js={frameWidth:3,frameColor:"#a9a9a9",color:"#e0e0e0",lineDash:[10,15],opacity:.5};class q${constructor(e){it(this,"ctx");it(this,"canvas");it(this,"removeResizeListener");const r=document.createElement("canvas");r.style.position="absolute",r.style.top="0",r.style.bottom="0",r.style.left="0",r.style.right="0",r.style.touchAction="none",e==null||e.appendChild(r);const n=r.getContext("2d");this.ctx=n,this.canvas=r;const i=()=>{this.fixCanvasSize(r)};e==null||e.addEventListener("resize",i),this.removeResizeListener=()=>e==null?void 0:e.removeEventListener("resize",i),this.fixCanvasSize(r)}fixCanvasSize(e){const r=e.parentElement;if(!r)return;const n=r.getBoundingClientRect(),{width:i}=n,{height:a}=n,o=window.devicePixelRatio||1;e.width=i*o,e.height=a*o,e.style.width=`${i}px`,e.style.height=`${a}px`}drawBox(e,r,n,i){const{ctx:a}=this;if(a===null)return;this.clear(),a.save(),a.beginPath(),a.rect(e,r,n-e,i-r),a.closePath(),a.strokeStyle=Js.frameColor;const o=window.devicePixelRatio||1;a.lineWidth=Js.frameWidth*o,a.fillStyle=Js.color,a.globalAlpha=Js.opacity,a.setLineDash(Js.lineDash),a.stroke(),a.fill(),a.restore()}drawLasso(e,r,n){const{ctx:i}=this;if(i===null)return;i.save(),this.clear(),i.beginPath();let a=0;for(const u of e){const{x:s,y:l}=u;a===0?i.moveTo(s,l):i.lineTo(s,l),a+=1}const o=window.devicePixelRatio||1;i.strokeStyle=Js.frameColor,i.setLineDash(Js.lineDash),i.lineWidth=Js.frameWidth*o,i.fillStyle=Js.color,i.globalAlpha=Js.opacity,r&&i.stroke(),n&&i.fill(),i.restore()}clear(){const{ctx:e,canvas:r}=this;if(e===null)return;const n=r.getBoundingClientRect(),i=window.devicePixelRatio||1;e.clearRect(0,0,n.width*i,n.height*i)}destroy(){const{canvas:e}=this;this.removeResizeListener(),e.remove()}}class Ah{constructor(e,r){it(this,"nvl");it(this,"options");it(this,"container");it(this,"callbackMap");it(this,"addEventListener",(e,r,n)=>{var i;(i=this.container)==null||i.addEventListener(e,r,n)});it(this,"removeEventListener",(e,r,n)=>{var i;(i=this.container)==null||i.removeEventListener(e,r,n)});it(this,"callCallbackIfRegistered",(e,...r)=>{const n=this.callbackMap.get(e);typeof n=="function"&&n(...r)});it(this,"updateCallback",(e,r)=>{this.callbackMap.set(e,r)});it(this,"removeCallback",e=>{this.callbackMap.delete(e)});it(this,"toggleGlobalTextSelection",(e,r)=>{e?(document.body.style.removeProperty("user-select"),r&&document.body.removeEventListener("mouseup",r)):(document.body.style.setProperty("user-select","none","important"),r&&document.body.addEventListener("mouseup",r))});this.nvl=e,this.options=r,this.container=this.nvl.getContainer(),this.callbackMap=new Map}get nvlInstance(){return this.nvl}get currentOptions(){return this.options}get containerInstance(){return this.container}}const n0=t=>Math.floor(Math.random()*Math.pow(10,t)).toString(),G$=(t,e)=>{const r=Math.abs(t.clientX-e.x),n=Math.abs(t.clientY-e.y);return r>nM||n>nM?!0:Math.pow(r,2)+Math.pow(n,2)>nM},ah=(t,e)=>{const r=t.getBoundingClientRect(),n=window.devicePixelRatio||1;return{x:(e.clientX-r.left)*n,y:(e.clientY-r.top)*n}},L_e=(t,e)=>{const r=t.getBoundingClientRect(),n=window.devicePixelRatio||1;return{x:(e.clientX-r.left-r.width*.5)*n,y:(e.clientY-r.top-r.height*.5)*n}},i_=(t,e)=>{const r=t.getScale(),n=t.getPan(),i=t.getContainer(),{width:a,height:o}=i.getBoundingClientRect(),u=window.devicePixelRatio||1,s=e.x-a*.5*u,l=e.y-o*.5*u;return{x:n.x+s/r,y:n.y+l/r}};class tq extends Ah{constructor(r,n={selectOnRelease:!1}){super(r,n);it(this,"mousePosition",{x:0,y:0});it(this,"startWorldPosition",{x:0,y:0});it(this,"overlayRenderer");it(this,"isBoxSelecting",!1);it(this,"handleMouseDown",r=>{if(r.button!==0){this.isBoxSelecting=!1;return}this.turnOnBoxSelect(r)});it(this,"handleDrag",r=>{if(this.isBoxSelecting){const n=ah(this.containerInstance,r);this.overlayRenderer.drawBox(this.mousePosition.x,this.mousePosition.y,n.x,n.y)}else r.buttons===1&&this.turnOnBoxSelect(r)});it(this,"getHitsInBox",(r,n)=>{const i=(c,f,h)=>{const d=Math.min(f.x,h.x),v=Math.max(f.x,h.x),y=Math.min(f.y,h.y),b=Math.max(f.y,h.y);return c.x>=d&&c.x<=v&&c.y>=y&&c.y<=b},a=this.nvlInstance.getNodePositions(),o=new Set;for(const c of a)i(c,r,n)&&o.add(c.id);const u=this.nvlInstance.getRelationships(),s=[];for(const c of u)o.has(c.from)&&o.has(c.to)&&s.push(c);return{nodes:Array.from(o).map(c=>this.nvlInstance.getNodeById(c)),rels:s}});it(this,"endBoxSelect",r=>{if(!this.isBoxSelecting)return;this.isBoxSelecting=!1,this.overlayRenderer.clear();const n=ah(this.containerInstance,r),i=i_(this.nvlInstance,n),{nodes:a,rels:o}=this.getHitsInBox(this.startWorldPosition,i);this.currentOptions.selectOnRelease===!0&&this.nvlInstance.updateElementsInGraph(a.map(u=>({id:u.id,selected:!0})),o.map(u=>({id:u.id,selected:!0}))),this.callCallbackIfRegistered("onBoxSelect",{nodes:a,rels:o},r),this.toggleGlobalTextSelection(!0,this.endBoxSelect)});this.overlayRenderer=new q$(this.containerInstance),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.endBoxSelect,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.endBoxSelect),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.endBoxSelect,!0),this.overlayRenderer.destroy()}turnOnBoxSelect(r){this.mousePosition=ah(this.containerInstance,r),this.startWorldPosition=i_(this.nvlInstance,this.mousePosition),this.nvlInstance.getHits(r,["node"],{hitNodeMarginWidth:sy}).nvlTargets.nodes.length>0?this.isBoxSelecting=!1:(this.isBoxSelecting=!0,this.toggleGlobalTextSelection(!1,this.endBoxSelect),this.callCallbackIfRegistered("onBoxStarted",r),this.currentOptions.selectOnRelease===!0&&this.nvlInstance.deselectAll())}}class mf extends Ah{constructor(r,n={selectOnClick:!1}){super(r,n);it(this,"moved",!1);it(this,"mousePosition",{x:0,y:0});it(this,"handleMouseDown",r=>{this.mousePosition={x:r.clientX,y:r.clientY}});it(this,"handleRightClick",r=>{var o,u;r.preventDefault();const{nvlTargets:n}=this.nvlInstance.getHits(r),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.callCallbackIfRegistered("onCanvasRightClick",r);return}i.length>0?this.callCallbackIfRegistered("onNodeRightClick",(o=i[0])==null?void 0:o.data,n,r):a.length>0&&this.callCallbackIfRegistered("onRelationshipRightClick",(u=a[0])==null?void 0:u.data,n,r)});it(this,"handleDoubleClick",r=>{var o,u;const{nvlTargets:n}=this.nvlInstance.getHits(r),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.callCallbackIfRegistered("onCanvasDoubleClick",r);return}i.length>0?this.callCallbackIfRegistered("onNodeDoubleClick",(o=i[0])==null?void 0:o.data,n,r):a.length>0&&this.callCallbackIfRegistered("onRelationshipDoubleClick",(u=a[0])==null?void 0:u.data,n,r)});it(this,"handleClick",r=>{var o,u;if(G$(r,this.mousePosition)||r.button!==0)return;const{nvlTargets:n}=this.nvlInstance.getHits(r),{nodes:i=[],relationships:a=[]}=n;if(i.length===0&&a.length===0){this.currentOptions.selectOnClick===!0&&this.nvlInstance.deselectAll(),this.callCallbackIfRegistered("onCanvasClick",r);return}if(i.length>0){const s=i.map(l=>l.data);if(this.currentOptions.selectOnClick===!0){const l=this.nvlInstance.getSelectedNodes(),c=this.nvlInstance.getSelectedRelationships(),h=[...s[0]?[{id:s[0].id,selected:!0}]:[],...l.map(v=>({id:v.id,selected:!1}))],d=c.map(v=>({...v,selected:!1}));this.nvlInstance.updateElementsInGraph(h,d)}this.callCallbackIfRegistered("onNodeClick",(o=i[0])==null?void 0:o.data,n,r)}else if(a.length>0){const s=a.map(l=>l.data);if(this.currentOptions.selectOnClick===!0){const l=this.nvlInstance.getSelectedNodes(),c=this.nvlInstance.getSelectedRelationships(),f=l.map(v=>({id:v.id,selected:!1})),d=[...s[0]?[{id:s[0].id,selected:!0}]:[],...c.map(v=>({...v,selected:!1}))];this.nvlInstance.updateElementsInGraph(f,d)}this.callCallbackIfRegistered("onRelationshipClick",(u=a[0])==null?void 0:u.data,n,r)}});it(this,"destroy",()=>{this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("click",this.handleClick,!0),this.removeEventListener("dblclick",this.handleDoubleClick,!0),this.removeEventListener("contextmenu",this.handleRightClick,!0)});this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("click",this.handleClick,!0),this.addEventListener("dblclick",this.handleDoubleClick,!0),this.addEventListener("contextmenu",this.handleRightClick,!0)}}class iM extends Ah{constructor(r,n={}){super(r,n);it(this,"mousePosition",{x:0,y:0});it(this,"mouseDownNode",null);it(this,"isDragging",!1);it(this,"isDrawing",!1);it(this,"selectedNodes",[]);it(this,"moveSelectedNodes",!1);it(this,"handleMouseDown",r=>{this.mousePosition={x:r.clientX,y:r.clientY};const n=this.nvlInstance.getHits(r,["node"],{hitNodeMarginWidth:sy}),i=n.nvlTargets.nodes.filter(o=>o.insideNode);n.nvlTargets.nodes.filter(o=>!o.insideNode).length>0?(this.isDrawing=!0,this.mouseDownNode=null,this.addEventListener("mouseup",this.resetState,{once:!0})):i.length>0?this.mouseDownNode=n.nvlTargets.nodes[0]??null:this.mouseDownNode=null,this.selectedNodes=this.nvlInstance.getSelectedNodes(),this.mouseDownNode!==null&&this.selectedNodes.map(o=>o.id).includes(this.mouseDownNode.data.id)?this.moveSelectedNodes=!0:this.moveSelectedNodes=!1});it(this,"handleMouseMove",r=>{if(this.mouseDownNode===null||r.buttons!==1||this.isDrawing||!G$(r,this.mousePosition))return;this.isDragging||(this.toggleGlobalTextSelection(!1,this.handleBodyMouseUp),this.moveSelectedNodes?this.callCallbackIfRegistered("onDragStart",this.selectedNodes,r):this.callCallbackIfRegistered("onDragStart",[this.mouseDownNode.data],r),this.isDragging=!0);const n=this.nvlInstance.getScale(),i=(r.clientX-this.mousePosition.x)/n*window.devicePixelRatio,a=(r.clientY-this.mousePosition.y)/n*window.devicePixelRatio;this.moveSelectedNodes?(this.nvlInstance.setNodePositions(this.selectedNodes.map(o=>({id:o.id,x:o.x+i,y:o.y+a,pinned:!0})),!0),this.callCallbackIfRegistered("onDrag",this.selectedNodes,r)):(this.nvlInstance.setNodePositions([{id:this.mouseDownNode.data.id,x:this.mouseDownNode.targetCoordinates.x+i,y:this.mouseDownNode.targetCoordinates.y+a,pinned:!0}],!0),this.callCallbackIfRegistered("onDrag",[this.mouseDownNode.data],r))});it(this,"handleBodyMouseUp",r=>{this.toggleGlobalTextSelection(!0,this.handleBodyMouseUp),this.isDragging&&this.mouseDownNode!==null&&(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragEnd",this.selectedNodes,r):this.callCallbackIfRegistered("onDragEnd",[this.mouseDownNode.data],r)),this.isDragging&&this.resetState()});it(this,"resetState",()=>{this.isDragging=!1,this.mouseDownNode=null,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1});it(this,"destroy",()=>{this.toggleGlobalTextSelection(!0,this.handleBodyMouseUp),this.removeEventListener("mousedown",this.handleMouseDown),this.removeEventListener("mousemove",this.handleMouseMove)});this.addEventListener("mousedown",this.handleMouseDown),this.addEventListener("mousemove",this.handleMouseMove)}}const bf={node:{color:"black",size:25},relationship:{color:"red",width:1}};class aM extends Ah{constructor(r,n={}){var i,a;super(r,n);it(this,"isMoved",!1);it(this,"isDrawing",!1);it(this,"isDraggingNode",!1);it(this,"mouseDownNode");it(this,"newTempTargetNode",null);it(this,"newTempRegularRelationshipToNewTempTargetNode",null);it(this,"newTempRegularRelationshipToExistingNode",null);it(this,"newTempSelfReferredRelationship",null);it(this,"newTargetNodeToAdd",null);it(this,"newRelationshipToAdd",null);it(this,"mouseOutsideOfNvlArea",!1);it(this,"cancelDrawing",()=>{var r,n,i,a,o;this.nvlInstance.removeRelationshipsWithIds([(r=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:r.id,(n=this.newTempRegularRelationshipToExistingNode)==null?void 0:n.id,(i=this.newTempSelfReferredRelationship)==null?void 0:i.id].filter(u=>!!u)),this.nvlInstance.removeNodesWithIds((a=this.newTempTargetNode)!=null&&a.id?[(o=this.newTempTargetNode)==null?void 0:o.id]:[]),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1});it(this,"handleMouseUpGlobal",r=>{this.isDrawing&&this.mouseOutsideOfNvlArea&&this.cancelDrawing()});it(this,"handleMouseLeaveNvl",()=>{this.mouseOutsideOfNvlArea=!0});it(this,"handleMouseEnterNvl",()=>{this.mouseOutsideOfNvlArea=!1});it(this,"handleMouseMove",r=>{var n,i,a,o,u,s,l,c,f,h,d,v,y;if(this.isMoved=!0,this.isDrawing){const b=ah(this.containerInstance,r),p=i_(this.nvlInstance,b),m=this.nvlInstance.getHits(r,["node"]),[g]=m.nvlTargets.nodes.filter(M=>{var I;return M.data.id!==((I=this.newTempTargetNode)==null?void 0:I.id)}),_=g?{id:g.data.id,x:g.targetCoordinates.x,y:g.targetCoordinates.y,size:g.data.size}:void 0,E=n0(13),T=_?null:{id:E,size:((i=(n=this.currentOptions.ghostGraphStyling)==null?void 0:n.node)==null?void 0:i.size)??bf.node.size,selected:!1,x:p.x,y:p.y},w=n0(13),S=(a=this.mouseDownNode)!=null&&a.data?{id:w,from:this.mouseDownNode.data.id,to:_?_.id:E}:null;let{x:C,y:R}=p,D=((u=(o=this.currentOptions.ghostGraphStyling)==null?void 0:o.node)==null?void 0:u.size)??bf.node.size;g?(C=g.targetCoordinates.x,R=g.targetCoordinates.y,D=g.data.size??D,g.data.id===((s=this.mouseDownNode)==null?void 0:s.data.id)&&!this.newTempSelfReferredRelationship?(this.nvlInstance.removeRelationshipsWithIds([(l=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:l.id,(c=this.newTempRegularRelationshipToExistingNode)==null?void 0:c.id].filter(M=>!!M)),this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewSelfReferredRelationship(),this.newTempSelfReferredRelationship&&this.nvlInstance.addElementsToGraph([],[this.newTempSelfReferredRelationship])):g.data.id!==((f=this.mouseDownNode)==null?void 0:f.data.id)&&!this.newTempRegularRelationshipToExistingNode&&(this.nvlInstance.removeRelationshipsWithIds([(h=this.newTempSelfReferredRelationship)==null?void 0:h.id,(d=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:d.id].filter(M=>!!M)),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.setNewRegularRelationshipToExistingNode(g.data.id),this.newTempRegularRelationshipToExistingNode&&this.nvlInstance.addElementsToGraph([],[this.newTempRegularRelationshipToExistingNode]))):this.newTempRegularRelationshipToNewTempTargetNode||(this.nvlInstance.removeRelationshipsWithIds([(v=this.newTempSelfReferredRelationship)==null?void 0:v.id,(y=this.newTempRegularRelationshipToExistingNode)==null?void 0:y.id].filter(M=>!!M)),this.newTempSelfReferredRelationship=null,this.newTempRegularRelationshipToExistingNode=null,this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addElementsToGraph([],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[])),this.newTempTargetNode&&(this.nvlInstance.setNodePositions([{id:this.newTempTargetNode.id,x:C,y:R}]),this.nvlInstance.updateElementsInGraph([{id:this.newTempTargetNode.id,x:C,y:R,size:D}],[])),this.newRelationshipToAdd=S,this.newTargetNodeToAdd=T}else if(!this.isDraggingNode){this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const p=this.nvlInstance.getHits(r,["node"],{hitNodeMarginWidth:sy}).nvlTargets.nodes.filter(m=>!m.insideNode);if(p.length>0){const[m]=p;this.callCallbackIfRegistered("onHoverNodeMargin",m==null?void 0:m.data)}else this.callCallbackIfRegistered("onHoverNodeMargin",null)}});it(this,"handleMouseDown",r=>{var s,l,c,f,h;this.callCallbackIfRegistered("onHoverNodeMargin",null),this.isMoved=!1,this.newRelationshipToAdd=null,this.newTargetNodeToAdd=null;const n=this.nvlInstance.getHits(r,["node"],{hitNodeMarginWidth:sy}),i=n.nvlTargets.nodes.filter(d=>d.insideNode),a=n.nvlTargets.nodes.filter(d=>!d.insideNode),o=i.length>0,u=a.length>0;if((o||u)&&(r.preventDefault(),(s=this.containerInstance)==null||s.focus()),o)this.isDraggingNode=!0,this.isDrawing=!1;else if(u){this.isDrawing=!0,this.isDraggingNode=!1,this.mouseDownNode=a[0];const d=ah(this.containerInstance,r),v=i_(this.nvlInstance,d),y=((c=(l=this.currentOptions.ghostGraphStyling)==null?void 0:l.node)==null?void 0:c.color)??bf.node.color,b=document.createElement("div");b.style.width="110%",b.style.height="110%",b.style.position="absolute",b.style.left="-5%",b.style.top="-5%",b.style.borderRadius="50%",b.style.backgroundColor=y,this.newTempTargetNode={id:n0(13),size:((h=(f=this.currentOptions.ghostGraphStyling)==null?void 0:f.node)==null?void 0:h.size)??bf.node.size,selected:!1,x:v.x,y:v.y,html:b},this.setNewRegularRelationshipToNewTempTargetNode(),this.nvlInstance.addAndUpdateElementsInGraph([this.newTempTargetNode],this.newTempRegularRelationshipToNewTempTargetNode?[this.newTempRegularRelationshipToNewTempTargetNode]:[]),this.callCallbackIfRegistered("onDrawStarted",r)}else this.mouseDownNode=void 0,this.isDrawing=!1,this.isDraggingNode=!1});it(this,"handleMouseUp",r=>{var n,i,a,o,u;this.nvlInstance.removeRelationshipsWithIds([(n=this.newTempRegularRelationshipToNewTempTargetNode)==null?void 0:n.id,(i=this.newTempRegularRelationshipToExistingNode)==null?void 0:i.id,(a=this.newTempSelfReferredRelationship)==null?void 0:a.id].filter(s=>!!s)),this.nvlInstance.removeNodesWithIds((o=this.newTempTargetNode)!=null&&o.id?[(u=this.newTempTargetNode)==null?void 0:u.id]:[]),this.isDrawing&&this.isMoved&&(this.newTargetNodeToAdd&&this.nvlInstance.setNodePositions([this.newTargetNodeToAdd]),this.nvlInstance.addAndUpdateElementsInGraph(this.newTargetNodeToAdd?[{id:this.newTargetNodeToAdd.id}]:[],this.newRelationshipToAdd?[this.newRelationshipToAdd]:[]),this.callCallbackIfRegistered("onDrawEnded",this.newRelationshipToAdd,this.newTargetNodeToAdd,r)),this.newTempTargetNode=null,this.newTempRegularRelationshipToNewTempTargetNode=null,this.newTempRegularRelationshipToExistingNode=null,this.newTempSelfReferredRelationship=null,this.isMoved=!1,this.isDrawing=!1,this.isDraggingNode=!1});it(this,"destroy",()=>{var r,n;this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0),(r=this.containerInstance)==null||r.removeEventListener("mouseleave",this.handleMouseLeaveNvl),(n=this.containerInstance)==null||n.removeEventListener("mouseenter",this.handleMouseEnterNvl),document.removeEventListener("mouseup",this.handleMouseUpGlobal,!0)});this.nvlInstance.setLayout("free"),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mouseup",this.handleMouseUp,!0),(i=this.containerInstance)==null||i.addEventListener("mouseleave",this.handleMouseLeaveNvl),(a=this.containerInstance)==null||a.addEventListener("mouseenter",this.handleMouseEnterNvl),document.addEventListener("mouseup",this.handleMouseUpGlobal,!0)}setNewRegularRelationship(r){var n,i,a,o;return this.mouseDownNode?{id:n0(13),from:this.mouseDownNode.data.id,to:r,color:((i=(n=this.currentOptions.ghostGraphStyling)==null?void 0:n.relationship)==null?void 0:i.color)??bf.relationship.color,width:((o=(a=this.currentOptions.ghostGraphStyling)==null?void 0:a.relationship)==null?void 0:o.width)??bf.relationship.width}:null}setNewRegularRelationshipToNewTempTargetNode(){!this.mouseDownNode||!this.newTempTargetNode||(this.newTempRegularRelationshipToNewTempTargetNode=this.setNewRegularRelationship(this.newTempTargetNode.id))}setNewRegularRelationshipToExistingNode(r){this.mouseDownNode&&(this.newTempRegularRelationshipToExistingNode=this.setNewRegularRelationship(r))}setNewSelfReferredRelationship(){var r,n,i,a;this.mouseDownNode&&(this.newTempSelfReferredRelationship={id:n0(13),from:this.mouseDownNode.data.id,to:this.mouseDownNode.data.id,color:((n=(r=this.currentOptions.ghostGraphStyling)==null?void 0:r.relationship)==null?void 0:n.color)??bf.relationship.color,width:((a=(i=this.currentOptions.ghostGraphStyling)==null?void 0:i.relationship)==null?void 0:a.width)??bf.relationship.width})}}class j_e extends Ah{constructor(r,n={drawShadowOnHover:!1}){super(r,n);it(this,"currentHoveredElementId");it(this,"currentHoveredElementIsNode");it(this,"updates",{nodes:[],relationships:[]});it(this,"handleHover",r=>{const{nvlTargets:n}=this.nvlInstance.getHits(r),{nodes:i=[],relationships:a=[]}=n,o=i[0]??a[0],u=o==null?void 0:o.data,s=u!==void 0&&i[0]!==void 0,l=this.currentHoveredElementId===void 0&&u===void 0,c=(u==null?void 0:u.id)!==void 0&&this.currentHoveredElementId===u.id&&s===this.currentHoveredElementIsNode;if(l||c){this.callCallbackIfRegistered("onHover",u,n,r);return}if(this.currentHoveredElementId!==void 0&&this.currentHoveredElementId!==(u==null?void 0:u.id)&&this.unHoverCurrentElement(),s)this.updates.nodes.push({id:u.id,hovered:!0}),this.currentHoveredElementId=u.id,this.currentHoveredElementIsNode=!0;else if(u!==void 0){const{id:h}=u;this.updates.relationships.push({id:h,hovered:!0}),this.currentHoveredElementId=u.id,this.currentHoveredElementIsNode=!1}else this.currentHoveredElementId=void 0,this.currentHoveredElementIsNode=void 0;this.callCallbackIfRegistered("onHover",u,n,r),this.updateElementsInNVL(),this.clearUpdates()});this.addEventListener("mousemove",this.handleHover,!0)}updateElementsInNVL(){this.currentOptions.drawShadowOnHover===!0&&this.nvlInstance.getNodes().length>0&&this.nvlInstance.updateElementsInGraph(this.updates.nodes,this.updates.relationships)}clearUpdates(){this.updates.nodes=[],this.updates.relationships=[]}unHoverCurrentElement(){if(this.currentHoveredElementId===void 0)return;const r={id:this.currentHoveredElementId,hovered:!1};this.currentHoveredElementIsNode===!0?this.updates.nodes.push(r):this.updates.relationships.push({...r})}destroy(){this.removeEventListener("mousemove",this.handleHover,!0)}}var s3={exports:{}},V$={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(qr,function(){function r(m,g,_,E,T){(function w(S,C,R,D,M){for(;D>R;){if(D-R>600){var I=D-R+1,k=C-R+1,U=Math.log(I),F=.5*Math.exp(2*U/3),B=.5*Math.sqrt(U*F*(I-F)/I)*(k-I/2<0?-1:1),z=Math.max(R,Math.floor(C-k*F/I+B)),H=Math.min(D,Math.floor(C+(I-k)*F/I+B));w(S,C,z,H,M)}var Y=S[C],W=R,Z=D;for(n(S,R,C),M(S[D],Y)>0&&n(S,R,D);W<Z;){for(n(S,W,Z),W++,Z--;M(S[W],Y)<0;)W++;for(;M(S[Z],Y)>0;)Z--}M(S[R],Y)===0?n(S,R,Z):n(S,++Z,D),Z<=C&&(R=Z+1),C<=Z&&(D=Z-1)}})(m,g,_||0,E||m.length-1,T||i)}function n(m,g,_){var E=m[g];m[g]=m[_],m[_]=E}function i(m,g){return m<g?-1:m>g?1:0}var a=function(m){m===void 0&&(m=9),this._maxEntries=Math.max(4,m),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(m,g,_){if(!_)return g.indexOf(m);for(var E=0;E<g.length;E++)if(_(m,g[E]))return E;return-1}function u(m,g){s(m,0,m.children.length,g,m)}function s(m,g,_,E,T){T||(T=b(null)),T.minX=1/0,T.minY=1/0,T.maxX=-1/0,T.maxY=-1/0;for(var w=g;w<_;w++){var S=m.children[w];l(T,m.leaf?E(S):S)}return T}function l(m,g){return m.minX=Math.min(m.minX,g.minX),m.minY=Math.min(m.minY,g.minY),m.maxX=Math.max(m.maxX,g.maxX),m.maxY=Math.max(m.maxY,g.maxY),m}function c(m,g){return m.minX-g.minX}function f(m,g){return m.minY-g.minY}function h(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function d(m){return m.maxX-m.minX+(m.maxY-m.minY)}function v(m,g){return m.minX<=g.minX&&m.minY<=g.minY&&g.maxX<=m.maxX&&g.maxY<=m.maxY}function y(m,g){return g.minX<=m.maxX&&g.minY<=m.maxY&&g.maxX>=m.minX&&g.maxY>=m.minY}function b(m){return{children:m,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function p(m,g,_,E,T){for(var w=[g,_];w.length;)if(!((_=w.pop())-(g=w.pop())<=E)){var S=g+Math.ceil((_-g)/E/2)*E;r(m,S,g,_,T),w.push(g,S,S,_)}}return a.prototype.all=function(){return this._all(this.data,[])},a.prototype.search=function(m){var g=this.data,_=[];if(!y(m,g))return _;for(var E=this.toBBox,T=[];g;){for(var w=0;w<g.children.length;w++){var S=g.children[w],C=g.leaf?E(S):S;y(m,C)&&(g.leaf?_.push(S):v(m,C)?this._all(S,_):T.push(S))}g=T.pop()}return _},a.prototype.collides=function(m){var g=this.data;if(!y(m,g))return!1;for(var _=[];g;){for(var E=0;E<g.children.length;E++){var T=g.children[E],w=g.leaf?this.toBBox(T):T;if(y(m,w)){if(g.leaf||v(m,w))return!0;_.push(T)}}g=_.pop()}return!1},a.prototype.load=function(m){if(!m||!m.length)return this;if(m.length<this._minEntries){for(var g=0;g<m.length;g++)this.insert(m[g]);return this}var _=this._build(m.slice(),0,m.length-1,0);if(this.data.children.length)if(this.data.height===_.height)this._splitRoot(this.data,_);else{if(this.data.height<_.height){var E=this.data;this.data=_,_=E}this._insert(_,this.data.height-_.height-1,!0)}else this.data=_;return this},a.prototype.insert=function(m){return m&&this._insert(m,this.data.height-1),this},a.prototype.clear=function(){return this.data=b([]),this},a.prototype.remove=function(m,g){if(!m)return this;for(var _,E,T,w=this.data,S=this.toBBox(m),C=[],R=[];w||C.length;){if(w||(w=C.pop(),E=C[C.length-1],_=R.pop(),T=!0),w.leaf){var D=o(m,w.children,g);if(D!==-1)return w.children.splice(D,1),C.push(w),this._condense(C),this}T||w.leaf||!v(w,S)?E?(_++,w=E.children[_],T=!1):w=null:(C.push(w),R.push(_),_=0,E=w,w=w.children[0])}return this},a.prototype.toBBox=function(m){return m},a.prototype.compareMinX=function(m,g){return m.minX-g.minX},a.prototype.compareMinY=function(m,g){return m.minY-g.minY},a.prototype.toJSON=function(){return this.data},a.prototype.fromJSON=function(m){return this.data=m,this},a.prototype._all=function(m,g){for(var _=[];m;)m.leaf?g.push.apply(g,m.children):_.push.apply(_,m.children),m=_.pop();return g},a.prototype._build=function(m,g,_,E){var T,w=_-g+1,S=this._maxEntries;if(w<=S)return u(T=b(m.slice(g,_+1)),this.toBBox),T;E||(E=Math.ceil(Math.log(w)/Math.log(S)),S=Math.ceil(w/Math.pow(S,E-1))),(T=b([])).leaf=!1,T.height=E;var C=Math.ceil(w/S),R=C*Math.ceil(Math.sqrt(S));p(m,g,_,R,this.compareMinX);for(var D=g;D<=_;D+=R){var M=Math.min(D+R-1,_);p(m,D,M,C,this.compareMinY);for(var I=D;I<=M;I+=C){var k=Math.min(I+C-1,M);T.children.push(this._build(m,I,k,E-1))}}return u(T,this.toBBox),T},a.prototype._chooseSubtree=function(m,g,_,E){for(;E.push(g),!g.leaf&&E.length-1!==_;){for(var T=1/0,w=1/0,S=void 0,C=0;C<g.children.length;C++){var R=g.children[C],D=h(R),M=(I=m,k=R,(Math.max(k.maxX,I.maxX)-Math.min(k.minX,I.minX))*(Math.max(k.maxY,I.maxY)-Math.min(k.minY,I.minY))-D);M<w?(w=M,T=D<T?D:T,S=R):M===w&&D<T&&(T=D,S=R)}g=S||g.children[0]}var I,k;return g},a.prototype._insert=function(m,g,_){var E=_?m:this.toBBox(m),T=[],w=this._chooseSubtree(E,this.data,g,T);for(w.children.push(m),l(w,E);g>=0&&T[g].children.length>this._maxEntries;)this._split(T,g),g--;this._adjustParentBBoxes(E,T,g)},a.prototype._split=function(m,g){var _=m[g],E=_.children.length,T=this._minEntries;this._chooseSplitAxis(_,T,E);var w=this._chooseSplitIndex(_,T,E),S=b(_.children.splice(w,_.children.length-w));S.height=_.height,S.leaf=_.leaf,u(_,this.toBBox),u(S,this.toBBox),g?m[g-1].children.push(S):this._splitRoot(_,S)},a.prototype._splitRoot=function(m,g){this.data=b([m,g]),this.data.height=m.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},a.prototype._chooseSplitIndex=function(m,g,_){for(var E,T,w,S,C,R,D,M=1/0,I=1/0,k=g;k<=_-g;k++){var U=s(m,0,k,this.toBBox),F=s(m,k,_,this.toBBox),B=(T=U,w=F,S=void 0,C=void 0,R=void 0,D=void 0,S=Math.max(T.minX,w.minX),C=Math.max(T.minY,w.minY),R=Math.min(T.maxX,w.maxX),D=Math.min(T.maxY,w.maxY),Math.max(0,R-S)*Math.max(0,D-C)),z=h(U)+h(F);B<M?(M=B,E=k,I=z<I?z:I):B===M&&z<I&&(I=z,E=k)}return E||_-g},a.prototype._chooseSplitAxis=function(m,g,_){var E=m.leaf?this.compareMinX:c,T=m.leaf?this.compareMinY:f;this._allDistMargin(m,g,_,E)<this._allDistMargin(m,g,_,T)&&m.children.sort(E)},a.prototype._allDistMargin=function(m,g,_,E){m.children.sort(E);for(var T=this.toBBox,w=s(m,0,g,T),S=s(m,_-g,_,T),C=d(w)+d(S),R=g;R<_-g;R++){var D=m.children[R];l(w,m.leaf?T(D):D),C+=d(w)}for(var M=_-g-1;M>=g;M--){var I=m.children[M];l(S,m.leaf?T(I):I),C+=d(S)}return C},a.prototype._adjustParentBBoxes=function(m,g,_){for(var E=_;E>=0;E--)l(g[E],m)},a.prototype._condense=function(m){for(var g=m.length-1,_=void 0;g>=0;g--)m[g].children.length===0?g>0?(_=m[g-1].children).splice(_.indexOf(m[g]),1):this.clear():u(m[g],this.toBBox)},a})})(V$);var B_e=V$.exports;class U_e{constructor(e=[],r=F_e){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:n}=this,i=r[e];for(;e>0;){const a=e-1>>1,o=r[a];if(n(i,o)>=0)break;r[e]=o,e=a}r[e]=i}_down(e){const{data:r,compare:n}=this,i=this.length>>1,a=r[e];for(;e<i;){let o=(e<<1)+1,u=r[o];const s=o+1;if(s<this.length&&n(r[s],u)<0&&(o=s,u=r[s]),n(u,a)>=0)break;r[e]=u,e=o}r[e]=a}}function F_e(t,e){return t<e?-1:t>e?1:0}const z_e=Object.freeze(Object.defineProperty({__proto__:null,default:U_e},Symbol.toStringTag,{value:"Module"})),q_e=uJ(z_e);var ST={exports:{}},G_e=function(e,r,n,i){var a=e[0],o=e[1],u=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var s=(i-n)/2,l=0,c=s-1;l<s;c=l++){var f=r[n+l*2+0],h=r[n+l*2+1],d=r[n+c*2+0],v=r[n+c*2+1],y=h>o!=v>o&&a<(d-f)*(o-h)/(v-h)+f;y&&(u=!u)}return u},V_e=function(e,r,n,i){var a=e[0],o=e[1],u=!1;n===void 0&&(n=0),i===void 0&&(i=r.length);for(var s=i-n,l=0,c=s-1;l<s;c=l++){var f=r[l+n][0],h=r[l+n][1],d=r[c+n][0],v=r[c+n][1],y=h>o!=v>o&&a<(d-f)*(o-h)/(v-h)+f;y&&(u=!u)}return u},H$=G_e,Y$=V_e;ST.exports=function(e,r,n,i){return r.length>0&&Array.isArray(r[0])?Y$(e,r,n,i):H$(e,r,n,i)};ST.exports.nested=Y$;ST.exports.flat=H$;var H_e=ST.exports,EN={exports:{}};(function(t,e){(function(r,n){n(e)})(qr,function(r){const i=33306690738754706e-32;function a(y,b,p,m,g){let _,E,T,w,S=b[0],C=m[0],R=0,D=0;C>S==C>-S?(_=S,S=b[++R]):(_=C,C=m[++D]);let M=0;if(R<y&&D<p)for(C>S==C>-S?(T=_-((E=S+_)-S),S=b[++R]):(T=_-((E=C+_)-C),C=m[++D]),_=E,T!==0&&(g[M++]=T);R<y&&D<p;)C>S==C>-S?(T=_-((E=_+S)-(w=E-_))+(S-w),S=b[++R]):(T=_-((E=_+C)-(w=E-_))+(C-w),C=m[++D]),_=E,T!==0&&(g[M++]=T);for(;R<y;)T=_-((E=_+S)-(w=E-_))+(S-w),S=b[++R],_=E,T!==0&&(g[M++]=T);for(;D<p;)T=_-((E=_+C)-(w=E-_))+(C-w),C=m[++D],_=E,T!==0&&(g[M++]=T);return _===0&&M!==0||(g[M++]=_),M}function o(y){return new Float64Array(y)}const u=33306690738754716e-32,s=22204460492503146e-32,l=11093356479670487e-47,c=o(4),f=o(8),h=o(12),d=o(16),v=o(4);r.orient2d=function(y,b,p,m,g,_){const E=(b-_)*(p-g),T=(y-g)*(m-_),w=E-T;if(E===0||T===0||E>0!=T>0)return w;const S=Math.abs(E+T);return Math.abs(w)>=u*S?w:-function(C,R,D,M,I,k,U){let F,B,z,H,Y,W,Z,le,ce,ue,de,he,fe,te,Q,ee,ae,pe;const _e=C-I,Te=D-I,Ae=R-k,be=M-k;Y=(Q=(le=_e-(Z=(W=134217729*_e)-(W-_e)))*(ue=be-(ce=(W=134217729*be)-(W-be)))-((te=_e*be)-Z*ce-le*ce-Z*ue))-(de=Q-(ae=(le=Ae-(Z=(W=134217729*Ae)-(W-Ae)))*(ue=Te-(ce=(W=134217729*Te)-(W-Te)))-((ee=Ae*Te)-Z*ce-le*ce-Z*ue))),c[0]=Q-(de+Y)+(Y-ae),Y=(fe=te-((he=te+de)-(Y=he-te))+(de-Y))-(de=fe-ee),c[1]=fe-(de+Y)+(Y-ee),Y=(pe=he+de)-he,c[2]=he-(pe-Y)+(de-Y),c[3]=pe;let j=function(ge,Oe){let Le=Oe[0];for(let We=1;We<ge;We++)Le+=Oe[We];return Le}(4,c),G=s*U;if(j>=G||-j>=G||(F=C-(_e+(Y=C-_e))+(Y-I),z=D-(Te+(Y=D-Te))+(Y-I),B=R-(Ae+(Y=R-Ae))+(Y-k),H=M-(be+(Y=M-be))+(Y-k),F===0&&B===0&&z===0&&H===0)||(G=l*U+i*Math.abs(j),(j+=_e*H+be*F-(Ae*z+Te*B))>=G||-j>=G))return j;Y=(Q=(le=F-(Z=(W=134217729*F)-(W-F)))*(ue=be-(ce=(W=134217729*be)-(W-be)))-((te=F*be)-Z*ce-le*ce-Z*ue))-(de=Q-(ae=(le=B-(Z=(W=134217729*B)-(W-B)))*(ue=Te-(ce=(W=134217729*Te)-(W-Te)))-((ee=B*Te)-Z*ce-le*ce-Z*ue))),v[0]=Q-(de+Y)+(Y-ae),Y=(fe=te-((he=te+de)-(Y=he-te))+(de-Y))-(de=fe-ee),v[1]=fe-(de+Y)+(Y-ee),Y=(pe=he+de)-he,v[2]=he-(pe-Y)+(de-Y),v[3]=pe;const X=a(4,c,4,v,f);Y=(Q=(le=_e-(Z=(W=134217729*_e)-(W-_e)))*(ue=H-(ce=(W=134217729*H)-(W-H)))-((te=_e*H)-Z*ce-le*ce-Z*ue))-(de=Q-(ae=(le=Ae-(Z=(W=134217729*Ae)-(W-Ae)))*(ue=z-(ce=(W=134217729*z)-(W-z)))-((ee=Ae*z)-Z*ce-le*ce-Z*ue))),v[0]=Q-(de+Y)+(Y-ae),Y=(fe=te-((he=te+de)-(Y=he-te))+(de-Y))-(de=fe-ee),v[1]=fe-(de+Y)+(Y-ee),Y=(pe=he+de)-he,v[2]=he-(pe-Y)+(de-Y),v[3]=pe;const ie=a(X,f,4,v,h);Y=(Q=(le=F-(Z=(W=134217729*F)-(W-F)))*(ue=H-(ce=(W=134217729*H)-(W-H)))-((te=F*H)-Z*ce-le*ce-Z*ue))-(de=Q-(ae=(le=B-(Z=(W=134217729*B)-(W-B)))*(ue=z-(ce=(W=134217729*z)-(W-z)))-((ee=B*z)-Z*ce-le*ce-Z*ue))),v[0]=Q-(de+Y)+(Y-ae),Y=(fe=te-((he=te+de)-(Y=he-te))+(de-Y))-(de=fe-ee),v[1]=fe-(de+Y)+(Y-ee),Y=(pe=he+de)-he,v[2]=he-(pe-Y)+(de-Y),v[3]=pe;const ve=a(ie,h,4,v,d);return d[ve-1]}(y,b,p,m,g,_,S)},r.orient2dfast=function(y,b,p,m,g,_){return(b-_)*(p-g)-(y-g)*(m-_)},Object.defineProperty(r,"__esModule",{value:!0})})})(EN,EN.exports);var Y_e=EN.exports,rq=B_e,YE=q_e,W_e=H_e,X_e=Y_e.orient2d;YE.default&&(YE=YE.default);s3.exports=W$;s3.exports.default=W$;function W$(t,e,r){e=Math.max(0,e===void 0?2:e),r=r||0;var n=J_e(t),i=new rq(16);i.toBBox=function(m){return{minX:m[0],minY:m[1],maxX:m[0],maxY:m[1]}},i.compareMinX=function(m,g){return m[0]-g[0]},i.compareMinY=function(m,g){return m[1]-g[1]},i.load(t);for(var a=[],o=0,u;o<n.length;o++){var s=n[o];i.remove(s),u=aq(s,u),a.push(u)}var l=new rq(16);for(o=0;o<a.length;o++)l.insert(oM(a[o]));for(var c=e*e,f=r*r;a.length;){var h=a.shift(),d=h.p,v=h.next.p,y=uM(d,v);if(!(y<f)){var b=y/c;s=$_e(i,h.prev.p,d,v,h.next.next.p,b,l),s&&Math.min(uM(s,d),uM(s,v))<=b&&(a.push(h),a.push(aq(s,h)),i.remove(s),l.remove(h),l.insert(oM(h)),l.insert(oM(h.next)))}}h=u;var p=[];do p.push(h.p),h=h.next;while(h!==u);return p.push(h.p),p}function $_e(t,e,r,n,i,a,o){for(var u=new YE([],K_e),s=t.data;s;){for(var l=0;l<s.children.length;l++){var c=s.children[l],f=s.leaf?sM(c,r,n):Z_e(r,n,c);f>a||u.push({node:c,dist:f})}for(;u.length&&!u.peek().node.children;){var h=u.pop(),d=h.node,v=sM(d,e,r),y=sM(d,n,i);if(h.dist<v&&h.dist<y&&iq(r,d,o)&&iq(n,d,o))return d}s=u.pop(),s&&(s=s.node)}return null}function K_e(t,e){return t.dist-e.dist}function Z_e(t,e,r){if(nq(t,r)||nq(e,r))return 0;var n=lE(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(n===0)return 0;var i=lE(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(i===0)return 0;var a=lE(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(a===0)return 0;var o=lE(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return o===0?0:Math.min(n,i,a,o)}function nq(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function iq(t,e,r){for(var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),a=Math.max(t[0],e[0]),o=Math.max(t[1],e[1]),u=r.search({minX:n,minY:i,maxX:a,maxY:o}),s=0;s<u.length;s++)if(Q_e(u[s].p,u[s].next.p,t,e))return!1;return!0}function Eg(t,e,r){return X_e(t[0],t[1],e[0],e[1],r[0],r[1])}function Q_e(t,e,r,n){return t!==n&&e!==r&&Eg(t,e,r)>0!=Eg(t,e,n)>0&&Eg(r,n,t)>0!=Eg(r,n,e)>0}function oM(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function J_e(t){for(var e=t[0],r=t[0],n=t[0],i=t[0],a=0;a<t.length;a++){var o=t[a];o[0]<e[0]&&(e=o),o[0]>n[0]&&(n=o),o[1]<r[1]&&(r=o),o[1]>i[1]&&(i=o)}var u=[e,r,n,i],s=u.slice();for(a=0;a<t.length;a++)W_e(t[a],u)||s.push(t[a]);return t1e(s)}function aq(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function uM(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function sM(t,e,r){var n=e[0],i=e[1],a=r[0]-n,o=r[1]-i;if(a!==0||o!==0){var u=((t[0]-n)*a+(t[1]-i)*o)/(a*a+o*o);u>1?(n=r[0],i=r[1]):u>0&&(n+=a*u,i+=o*u)}return a=t[0]-n,o=t[1]-i,a*a+o*o}function lE(t,e,r,n,i,a,o,u){var s=r-t,l=n-e,c=o-i,f=u-a,h=t-i,d=e-a,v=s*s+l*l,y=s*c+l*f,b=c*c+f*f,p=s*h+l*d,m=c*h+f*d,g=v*b-y*y,_,E,T,w,S=g,C=g;g===0?(E=0,S=1,w=m,C=b):(E=y*m-b*p,w=v*m-y*p,E<0?(E=0,w=m,C=b):E>S&&(E=S,w=m+y,C=b)),w<0?(w=0,-p<0?E=0:-p>v?E=S:(E=-p,S=v)):w>C&&(w=C,-p+y<0?E=0:-p+y>v?E=S:(E=-p+y,S=v)),_=E===0?0:E/S,T=w===0?0:w/C;var R=(1-_)*t+_*r,D=(1-_)*e+_*n,M=(1-T)*i+T*o,I=(1-T)*a+T*u,k=M-R,U=I-D;return k*k+U*U}function e1e(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function t1e(t){t.sort(e1e);for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&Eg(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var n=[],i=t.length-1;i>=0;i--){for(;n.length>=2&&Eg(n[n.length-2],n[n.length-1],t[i])<=0;)n.pop();n.push(t[i])}return n.pop(),e.pop(),e.concat(n)}var r1e=s3.exports;const n1e=ly(r1e),oq=10,i1e=500,a1e=(t,e,r,n)=>{const i=(n[1]-r[1])*(e[0]-t[0])-(n[0]-r[0])*(e[1]-t[1]);if(i===0)return!1;const a=((t[1]-r[1])*(n[0]-r[0])-(t[0]-r[0])*(n[1]-r[1]))/i,o=((r[0]-t[0])*(e[1]-t[1])-(r[1]-t[1])*(e[0]-t[0]))/i;return a>0&&a<1&&o>0&&o<1},o1e=t=>{for(let e=0;e<t.length-1;e++)for(let r=e+2;r<t.length;r++){const n=t[e]??[0,0],i=t[e+1]??[0,0],a=t[r]??[0,0],o=r<t.length-1?r+1:0,u=t[o]??[0,0];if(a1e(n,i,a,u))return!0}return!1},u1e=(t,e,r)=>{let n=!1;for(let i=0,a=r.length-1;i<r.length;a=i,i+=1){const o=r[i],u=r[a];if(o===void 0||u===void 0)continue;const{x:s,y:l}=o,{x:c,y:f}=u;l>e!=f>e&&t<(c-s)*(e-l)/(f-l)+s&&(n=!n)}return n};class uq extends Ah{constructor(r,n={selectOnRelease:!1}){super(r,n);it(this,"active",!1);it(this,"points",[]);it(this,"overlayRenderer");it(this,"startLasso",r=>{this.nvlInstance.getHits(r,["node"],{hitNodeMarginWidth:sy}).nvlTargets.nodes.length>0?this.active=!1:(this.active=!0,this.points=[ah(this.containerInstance,r)],this.toggleGlobalTextSelection(!1,this.endLasso),this.callCallbackIfRegistered("onLassoStarted",r),this.currentOptions.selectOnRelease===!0&&this.nvlInstance.deselectAll())});it(this,"handleMouseDown",r=>{r.button===0&&!this.active&&this.startLasso(r)});it(this,"handleDrag",r=>{if(this.active){const n=this.points[this.points.length-1];if(n===void 0)return;const i=ah(this.containerInstance,r),a=Math.abs(n.x-i.x),o=Math.abs(n.y-i.y);(a>oq||o>oq)&&(this.points.push(i),this.overlayRenderer.drawLasso(this.points,!0,!1))}});it(this,"handleMouseUp",r=>{this.points.push(ah(this.containerInstance,r)),this.endLasso(r)});it(this,"getLassoItems",r=>{const n=r.map(l=>i_(this.nvlInstance,l)),i=this.nvlInstance.getNodePositions(),a=new Set;for(const l of i)l.x===void 0||l.y===void 0||l.id===void 0||u1e(l.x,l.y,n)&&a.add(l.id);const o=this.nvlInstance.getRelationships(),u=[];for(const l of o)a.has(l.from)&&a.has(l.to)&&u.push(l);return{nodes:Array.from(a).map(l=>this.nvlInstance.getNodeById(l)),rels:u}});it(this,"endLasso",r=>{if(!this.active)return;this.active=!1,this.toggleGlobalTextSelection(!0,this.endLasso);const n=this.points.map(u=>[u.x,u.y]),a=(o1e(n)?n1e(n,2):n).map(u=>({x:u[0],y:u[1]})).filter(u=>u.x!==void 0&&u.y!==void 0);this.overlayRenderer.drawLasso(a,!1,!0),setTimeout(()=>this.overlayRenderer.clear(),i1e);const o=this.getLassoItems(a);this.currentOptions.selectOnRelease===!0&&this.nvlInstance.updateElementsInGraph(o.nodes.map(u=>({id:u.id,selected:!0})),o.rels.map(u=>({id:u.id,selected:!0}))),this.callCallbackIfRegistered("onLassoSelect",o,r)});this.overlayRenderer=new q$(this.containerInstance),this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleDrag,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.endLasso),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleDrag,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0),this.overlayRenderer.destroy()}}class s1e extends Ah{constructor(r,n={excludeNodeMargin:!1}){super(r,n);it(this,"mousePosition",{x:0,y:0});it(this,"targets",[]);it(this,"shouldPan",!1);it(this,"isPanning",!1);it(this,"updateTargets",(r,n)=>{this.targets=r,this.currentOptions.excludeNodeMargin=n});it(this,"handleMouseDown",r=>{const n=this.nvlInstance.getHits(r,lr.difference(["node","relationship"],this.targets),{hitNodeMarginWidth:this.currentOptions.excludeNodeMargin===!0?sy:0});n.nvlTargets.nodes.length>0||n.nvlTargets.relationships.length>0?this.shouldPan=!1:(this.mousePosition={x:r.clientX,y:r.clientY},this.shouldPan=!0)});it(this,"handleMouseMove",r=>{if(!this.shouldPan||r.buttons!==1)return;this.isPanning||(this.toggleGlobalTextSelection(!1,this.handleMouseUp),this.isPanning=!0);const n=this.nvlInstance.getScale(),{x:i,y:a}=this.nvlInstance.getPan(),o=(r.clientX-this.mousePosition.x)/n*window.devicePixelRatio,u=(r.clientY-this.mousePosition.y)/n*window.devicePixelRatio;this.nvlInstance.setPan(i-o,a-u),this.callCallbackIfRegistered("onPan",{x:i-o,y:a-u},r),this.mousePosition={x:r.clientX,y:r.clientY}});it(this,"handleMouseUp",()=>{this.isPanning&&(this.toggleGlobalTextSelection(!0,this.handleMouseUp),this.isPanning=!1),this.shouldPan=!1});this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.handleMouseUp),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0)}}class l1e extends Ah{constructor(r,n={}){super(r,n);it(this,"throttledZoom",lr.throttle(r=>{const n=this.nvlInstance.getScale(),{x:i,y:a}=this.nvlInstance.getPan(),o=r.deltaY/500,u=n>=1?o*Math.pow(n,1):o,s=n-u*Math.min(1,n),l=L_e(this.containerInstance,r),c=i+(l.x/n-l.x/s),f=a+(l.y/n-l.y/s);this.nvlInstance.setZoomAndPan(s,c,f),this.callCallbackIfRegistered("onZoom",s,r)},25,{leading:!0}));it(this,"handleWheel",r=>{r.ctrlKey||r.metaKey||(r.preventDefault(),this.throttledZoom(r))});it(this,"destroy",()=>{this.removeEventListener("wheel",this.handleWheel)});this.addEventListener("wheel",this.handleWheel)}}const Yl=t=>{var e;(e=t.current)==null||e.destroy(),t.current=null},gi=(t,e,r,n,i,a)=>{vr.useEffect(()=>{const o=i.current;lr.isNil(o)||lr.isNil(o.getContainer())||(r===!0||typeof r=="function"?(lr.isNil(e.current)&&(e.current=new t(o,a)),typeof r=="function"?e.current.updateCallback(n,r):lr.isNil(e.current.callbackMap[n])||e.current.removeCallback(n)):r===!1&&Yl(e))},[t,r,n,a,e,i])},c1e=({nvlRef:t,mouseEventCallbacks:e,interactionOptions:r})=>{const n=vr.useRef(null),i=vr.useRef(null),a=vr.useRef(null),o=vr.useRef(null),u=vr.useRef(null),s=vr.useRef(null),l=vr.useRef(null),c=vr.useRef(null);return gi(j_e,n,e.onHover,"onHover",t,r),gi(mf,i,e.onNodeClick,"onNodeClick",t,r),gi(mf,i,e.onNodeDoubleClick,"onNodeDoubleClick",t,r),gi(mf,i,e.onNodeRightClick,"onNodeRightClick",t,r),gi(mf,i,e.onRelationshipClick,"onRelationshipClick",t,r),gi(mf,i,e.onRelationshipDoubleClick,"onRelationshipDoubleClick",t,r),gi(mf,i,e.onRelationshipRightClick,"onRelationshipRightClick",t,r),gi(mf,i,e.onCanvasClick,"onCanvasClick",t,r),gi(mf,i,e.onCanvasRightClick,"onCanvasRightClick",t,r),gi(s1e,a,e.onPan,"onPan",t,r),gi(l1e,o,e.onZoom,"onZoom",t,r),gi(iM,u,e.onDrag,"onDrag",t,r),gi(iM,u,e.onDragStart,"onDragStart",t,r),gi(iM,u,e.onDragEnd,"onDragEnd",t,r),gi(aM,s,e.onHoverNodeMargin,"onHoverNodeMargin",t,r),gi(aM,s,e.onDrawStarted,"onDrawStarted",t,r),gi(aM,s,e.onDrawEnded,"onDrawEnded",t,r),gi(tq,l,e.onBoxStarted,"onBoxStarted",t,r),gi(tq,l,e.onBoxSelect,"onBoxSelect",t,r),gi(uq,c,e.onLassoStarted,"onLassoStarted",t,r),gi(uq,c,e.onLassoSelect,"onLassoSelect",t,r),vr.useEffect(()=>()=>{Yl(n),Yl(i),Yl(a),Yl(o),Yl(u),Yl(s),Yl(l),Yl(c)},[]),null},f1e={selectOnClick:!1,drawShadowOnHover:!0,selectOnRelease:!1,excludeNodeMargin:!0},h1e=vr.memo(vr.forwardRef(({nodes:t,rels:e,layout:r,layoutOptions:n,onInitializationError:i,mouseEventCallbacks:a={},nvlCallbacks:o={},nvlOptions:u={},interactionOptions:s=f1e,...l},c)=>{const f=vr.useRef(null),h=c??f,[d,v]=vr.useState(!1),y=vr.useCallback(()=>{v(!0)},[]),b=vr.useCallback(m=>{v(!1),i&&i(m)},[i]),p=d&&h.current!==null;return l0.jsxs(l0.Fragment,{children:[l0.jsx(k_e,{ref:h,nodes:t,id:P_e,rels:e,nvlOptions:u,nvlCallbacks:{...o,onInitialization:()=>{o.onInitialization!==void 0&&o.onInitialization(),y()}},layout:r,layoutOptions:n,onInitializationError:b,...l}),p&&l0.jsx(c1e,{nvlRef:h,mouseEventCallbacks:a,interactionOptions:s})]})})),d1e=({presets:t,onPresetApply:e})=>{const[r,n]=vr.useState(!1);return tl.createElement("div",{className:"filter-menu"},tl.createElement("button",{className:"filter-toggle-btn",onClick:()=>n(!r),style:{position:"absolute",top:"10px",left:"10px",zIndex:1e3,padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"}},"menu de filtros"),r&&tl.createElement("div",{className:"filter-panel",style:{position:"absolute",top:"60px",left:"10px",width:"350px",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,padding:"20px"}},tl.createElement("div",{className:"presets-list"},t.map(i=>tl.createElement("div",{key:i.id,style:{border:"1px solid #ddd",borderRadius:"6px",padding:"15px",marginBottom:"15px",backgroundColor:"#f8f9fa"}},tl.createElement("button",{onClick:()=>e(i),style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="#0056b3"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="#007bff"}},i.name))))))},v1e=(t,e,r)=>{const n=r.filter(f=>f.enabled&&f.value.trim()!=="");if(n.length===0)return{filteredNodes:t,filteredRelationships:e};const i=new Set(t.map(f=>f.id)),a=e.filter(f=>i.has(f.from)&&i.has(f.to)),o=n.filter(f=>f.type==="node"),u=n.filter(f=>f.type==="relationship");let s=t;o.length>0&&(s=t.filter(f=>o.some(h=>{const d=String(f[h.field]||"");return sq(d,h.operator,h.value)})));let l=a;u.length>0&&(l=a.filter(f=>u.some(h=>{let d="";if(h.field==="from"){const v=t.find(y=>y.id===f.from);d=(v==null?void 0:v.caption)||f.from}else if(h.field==="to"){const v=t.find(y=>y.id===f.to);d=(v==null?void 0:v.caption)||f.to}else d=String(f[h.field]||"");return sq(d,h.operator,h.value)})));const c=new Set(s.map(f=>f.id));return l=l.filter(f=>c.has(f.from)&&c.has(f.to)),{filteredNodes:s,filteredRelationships:l}},sq=(t,e,r)=>{const n=t.toLowerCase(),i=r.toLowerCase();switch(e){case"contains":return n.includes(i);case"equals":return n===i;case"startsWith":return n.startsWith(i);case"endsWith":return n.endsWith(i);default:return!0}},p1e=()=>[{id:"actors-only",name:"Apenas Atores",nodeFilters:[{id:"actor-filter-1",type:"node",field:"caption",operator:"contains",value:"Leonardo",enabled:!0},{id:"actor-filter-2",type:"node",field:"caption",operator:"contains",value:"Kate",enabled:!0},{id:"actor-filter-3",type:"node",field:"caption",operator:"contains",value:"Billy",enabled:!0},{id:"actor-filter-4",type:"node",field:"caption",operator:"contains",value:"Kathy",enabled:!0},{id:"actor-filter-5",type:"node",field:"caption",operator:"contains",value:"Frances",enabled:!0}],relationshipFilters:[]},{id:"titanic-related",name:"Relacionado ao Titanic",nodeFilters:[{id:"titanic-filter",type:"node",field:"caption",operator:"contains",value:"Titanic",enabled:!0}],relationshipFilters:[{id:"titanic-rel-filter",type:"relationship",field:"caption",operator:"equals",value:"ATUOU EM",enabled:!0}]},{id:"directors-only",name:"Apenas Diretores",nodeFilters:[{id:"director-filter",type:"node",field:"caption",operator:"contains",value:"Christopher",enabled:!0}],relationshipFilters:[{id:"director-rel-filter",type:"relationship",field:"caption",operator:"equals",value:"DIRIGIU",enabled:!0}]},{id:"movies-only",name:"Apenas Filmes",nodeFilters:[{id:"movie-filter-1",type:"node",field:"caption",operator:"equals",value:"Titanic",enabled:!0},{id:"movie-filter-2",type:"node",field:"caption",operator:"equals",value:"Inception",enabled:!0}],relationshipFilters:[]}],g1e=()=>{const[t,e]=vr.useState([{id:"0",caption:"Leonardo DiCaprio"},{id:"1",caption:"Kate Winslet"},{id:"2",caption:"Titanic"},{id:"3",caption:"Christopher Nolan"},{id:"4",caption:"Inception"}]),[r,n]=vr.useState([{id:"02",from:"0",to:"2",caption:"ATUOU EM"},{id:"12",from:"1",to:"2",caption:"ATUOU EM"},{id:"04",from:"0",to:"4",caption:"ATUOU EM"},{id:"11",from:"3",to:"4",caption:"DIRIGIU"}]),[i,a]=vr.useState([]),[o]=vr.useState(p1e()),[u,s]=vr.useState(new Set),l=[{id:"5",caption:"Billy Zane"},{id:"6",caption:"Kathy Bates"},{id:"7",caption:"Frances Fisher"}],c=[{id:"25",from:"5",to:"2",caption:"ATUOU EM"},{id:"26",from:"6",to:"2",caption:"ATUOU EM"},{id:"27",from:"7",to:"2",caption:"ATUOU EM"}],f=()=>{e(p=>{const m=new Set(p.map(_=>_.id)),g=l.filter(_=>!m.has(_.id));return[...p,...g]}),n(p=>{const m=new Set(p.map(_=>_.id)),g=c.filter(_=>!m.has(_.id));return[...p,...g]})},h=()=>{n(p=>p.filter(m=>!c.some(g=>g.id===m.id))),e(p=>p.filter(m=>!l.some(g=>g.id===m.id)))},{filteredNodes:d,filteredRelationships:v}=vr.useMemo(()=>v1e(t,r,i),[t,r,i]),y=p=>{a(p)},b=p=>{const m=[...p.nodeFilters,...p.relationshipFilters];a(m)};return tl.createElement("div",{style:{width:"100%",height:"95vh",border:"1px solid lightgray",position:"relative"}},tl.createElement(d1e,{filters:i,presets:o,onFiltersChange:y,onPresetApply:b}),tl.createElement(h1e,{nvlOptions:{initialZoom:2},nodes:d,rels:v,mouseEventCallbacks:{onZoom:!0,onPan:!0,onDrag:!0,onDragStart:p=>{p.map(m=>m.selected=!0)},onDragEnd:p=>{p.map(m=>m.selected=!1)},onNodeDoubleClick:p=>{p.caption==="Titanic"&&s(m=>{const g=new Set(m);return g.has(p.id)?(g.delete(p.id),h()):(g.add(p.id),f()),g})}}}))},lq=document.getElementById("app");lq?rre.createRoot(lq).render(tl.createElement(g1e,null)):console.error("No container found");export{ty as C,wL as P,St as _,Ot as a,ji as b,Je as c,qW as d,_f as e,m1e as f,b1e as g,vs as h,Wb as i,lW as j,TL as k,SD as l,zye as m,V0 as n,sc as o,Pye as p,rge as q,Fw as r,ds as s,Upe as t,_1e as u,qye as v,ly as w};
